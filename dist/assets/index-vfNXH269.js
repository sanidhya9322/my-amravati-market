(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ey(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fm={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function bP(){if(NE)return Me;NE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function C(H,re,pe){this.props=H,this.context=re,this.refs=A,this.updater=pe||_}C.prototype.isReactComponent={},C.prototype.setState=function(H,re){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,re,"setState")},C.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function P(){}P.prototype=C.prototype;function R(H,re,pe){this.props=H,this.context=re,this.refs=A,this.updater=pe||_}var N=R.prototype=new P;N.constructor=R,x(N,C.prototype),N.isPureReactComponent=!0;var j=Array.isArray,q=Object.prototype.hasOwnProperty,se={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function b(H,re,pe){var Te,De={},Oe=null,Ve=null;if(re!=null)for(Te in re.ref!==void 0&&(Ve=re.ref),re.key!==void 0&&(Oe=""+re.key),re)q.call(re,Te)&&!F.hasOwnProperty(Te)&&(De[Te]=re[Te]);var je=arguments.length-2;if(je===1)De.children=pe;else if(1<je){for(var et=Array(je),Ut=0;Ut<je;Ut++)et[Ut]=arguments[Ut+2];De.children=et}if(H&&H.defaultProps)for(Te in je=H.defaultProps,je)De[Te]===void 0&&(De[Te]=je[Te]);return{$$typeof:t,type:H,key:Oe,ref:Ve,props:De,_owner:se.current}}function M(H,re){return{$$typeof:t,type:H.type,key:re,ref:H.ref,props:H.props,_owner:H._owner}}function O(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function V(H){var re={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(pe){return re[pe]})}var B=/\/+/g;function L(H,re){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):re.toString(36)}function K(H,re,pe,Te,De){var Oe=typeof H;(Oe==="undefined"||Oe==="boolean")&&(H=null);var Ve=!1;if(H===null)Ve=!0;else switch(Oe){case"string":case"number":Ve=!0;break;case"object":switch(H.$$typeof){case t:case e:Ve=!0}}if(Ve)return Ve=H,De=De(Ve),H=Te===""?"."+L(Ve,0):Te,j(De)?(pe="",H!=null&&(pe=H.replace(B,"$&/")+"/"),K(De,re,pe,"",function(Ut){return Ut})):De!=null&&(O(De)&&(De=M(De,pe+(!De.key||Ve&&Ve.key===De.key?"":(""+De.key).replace(B,"$&/")+"/")+H)),re.push(De)),1;if(Ve=0,Te=Te===""?".":Te+":",j(H))for(var je=0;je<H.length;je++){Oe=H[je];var et=Te+L(Oe,je);Ve+=K(Oe,re,pe,et,De)}else if(et=w(H),typeof et=="function")for(H=et.call(H),je=0;!(Oe=H.next()).done;)Oe=Oe.value,et=Te+L(Oe,je++),Ve+=K(Oe,re,pe,et,De);else if(Oe==="object")throw re=String(H),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ve}function G(H,re,pe){if(H==null)return H;var Te=[],De=0;return K(H,Te,"","",function(Oe){return re.call(pe,Oe,De++)}),Te}function ne(H){if(H._status===-1){var re=H._result;re=re(),re.then(function(pe){(H._status===0||H._status===-1)&&(H._status=1,H._result=pe)},function(pe){(H._status===0||H._status===-1)&&(H._status=2,H._result=pe)}),H._status===-1&&(H._status=0,H._result=re)}if(H._status===1)return H._result.default;throw H._result}var X={current:null},z={transition:null},Z={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:z,ReactCurrentOwner:se};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:G,forEach:function(H,re,pe){G(H,function(){re.apply(this,arguments)},pe)},count:function(H){var re=0;return G(H,function(){re++}),re},toArray:function(H){return G(H,function(re){return re})||[]},only:function(H){if(!O(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Me.Component=C,Me.Fragment=n,Me.Profiler=s,Me.PureComponent=R,Me.StrictMode=r,Me.Suspense=u,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Me.act=oe,Me.cloneElement=function(H,re,pe){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Te=x({},H.props),De=H.key,Oe=H.ref,Ve=H._owner;if(re!=null){if(re.ref!==void 0&&(Oe=re.ref,Ve=se.current),re.key!==void 0&&(De=""+re.key),H.type&&H.type.defaultProps)var je=H.type.defaultProps;for(et in re)q.call(re,et)&&!F.hasOwnProperty(et)&&(Te[et]=re[et]===void 0&&je!==void 0?je[et]:re[et])}var et=arguments.length-2;if(et===1)Te.children=pe;else if(1<et){je=Array(et);for(var Ut=0;Ut<et;Ut++)je[Ut]=arguments[Ut+2];Te.children=je}return{$$typeof:t,type:H.type,key:De,ref:Oe,props:Te,_owner:Ve}},Me.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},Me.createElement=b,Me.createFactory=function(H){var re=b.bind(null,H);return re.type=H,re},Me.createRef=function(){return{current:null}},Me.forwardRef=function(H){return{$$typeof:c,render:H}},Me.isValidElement=O,Me.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:ne}},Me.memo=function(H,re){return{$$typeof:h,type:H,compare:re===void 0?null:re}},Me.startTransition=function(H){var re=z.transition;z.transition={};try{H()}finally{z.transition=re}},Me.unstable_act=oe,Me.useCallback=function(H,re){return X.current.useCallback(H,re)},Me.useContext=function(H){return X.current.useContext(H)},Me.useDebugValue=function(){},Me.useDeferredValue=function(H){return X.current.useDeferredValue(H)},Me.useEffect=function(H,re){return X.current.useEffect(H,re)},Me.useId=function(){return X.current.useId()},Me.useImperativeHandle=function(H,re,pe){return X.current.useImperativeHandle(H,re,pe)},Me.useInsertionEffect=function(H,re){return X.current.useInsertionEffect(H,re)},Me.useLayoutEffect=function(H,re){return X.current.useLayoutEffect(H,re)},Me.useMemo=function(H,re){return X.current.useMemo(H,re)},Me.useReducer=function(H,re,pe){return X.current.useReducer(H,re,pe)},Me.useRef=function(H){return X.current.useRef(H)},Me.useState=function(H){return X.current.useState(H)},Me.useSyncExternalStore=function(H,re,pe){return X.current.useSyncExternalStore(H,re,pe)},Me.useTransition=function(){return X.current.useTransition()},Me.version="18.3.1",Me}var DE;function _y(){return DE||(DE=1,fm.exports=bP()),fm.exports}var k=_y();const y=Ey(k);var jd={},pm={exports:{}},bn={},mm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function IP(){return ME||(ME=1,(function(t){function e(z,Z){var oe=z.length;z.push(Z);e:for(;0<oe;){var H=oe-1>>>1,re=z[H];if(0<s(re,Z))z[H]=Z,z[oe]=re,oe=H;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Z=z[0],oe=z.pop();if(oe!==Z){z[0]=oe;e:for(var H=0,re=z.length,pe=re>>>1;H<pe;){var Te=2*(H+1)-1,De=z[Te],Oe=Te+1,Ve=z[Oe];if(0>s(De,oe))Oe<re&&0>s(Ve,De)?(z[H]=Ve,z[Oe]=oe,H=Oe):(z[H]=De,z[Te]=oe,H=Te);else if(Oe<re&&0>s(Ve,oe))z[H]=Ve,z[Oe]=oe,H=Oe;else break e}}return Z}function s(z,Z){var oe=z.sortIndex-Z.sortIndex;return oe!==0?oe:z.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],h=[],m=1,g=null,w=3,_=!1,x=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(z){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=z)r(h),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(h)}}function j(z){if(A=!1,N(z),!x)if(n(u)!==null)x=!0,ne(q);else{var Z=n(h);Z!==null&&X(j,Z.startTime-z)}}function q(z,Z){x=!1,A&&(A=!1,P(b),b=-1),_=!0;var oe=w;try{for(N(Z),g=n(u);g!==null&&(!(g.expirationTime>Z)||z&&!V());){var H=g.callback;if(typeof H=="function"){g.callback=null,w=g.priorityLevel;var re=H(g.expirationTime<=Z);Z=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(u)&&r(u),N(Z)}else r(u);g=n(u)}if(g!==null)var pe=!0;else{var Te=n(h);Te!==null&&X(j,Te.startTime-Z),pe=!1}return pe}finally{g=null,w=oe,_=!1}}var se=!1,F=null,b=-1,M=5,O=-1;function V(){return!(t.unstable_now()-O<M)}function B(){if(F!==null){var z=t.unstable_now();O=z;var Z=!0;try{Z=F(!0,z)}finally{Z?L():(se=!1,F=null)}}else se=!1}var L;if(typeof R=="function")L=function(){R(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=B,L=function(){G.postMessage(null)}}else L=function(){C(B,0)};function ne(z){F=z,se||(se=!0,L())}function X(z,Z){b=C(function(){z(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,ne(q))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var oe=w;w=Z;try{return z()}finally{w=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var oe=w;w=z;try{return Z()}finally{w=oe}},t.unstable_scheduleCallback=function(z,Z,oe){var H=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?H+oe:H):oe=H,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=oe+re,z={id:m++,callback:Z,priorityLevel:z,startTime:oe,expirationTime:re,sortIndex:-1},oe>H?(z.sortIndex=oe,e(h,z),n(u)===null&&z===n(h)&&(A?(P(b),b=-1):A=!0,X(j,oe-H))):(z.sortIndex=re,e(u,z),x||_||(x=!0,ne(q))),z},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(z){var Z=w;return function(){var oe=w;w=Z;try{return z.apply(this,arguments)}finally{w=oe}}}})(gm)),gm}var LE;function CP(){return LE||(LE=1,mm.exports=IP()),mm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function AP(){if(OE)return bn;OE=1;var t=_y(),e=CP();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function w(i){return u.call(g,i)?!0:u.call(m,i)?!1:h.test(i)?g[i]=!0:(m[i]=!0,!1)}function _(i,a,d,p){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,a,d,p){if(a===null||typeof a>"u"||_(i,a,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(i,a,d,p,v,T,I){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=i,this.type=a,this.sanitizeURL=T,this.removeEmptyString=I}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];C[a]=new A(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(P,R);C[a]=new A(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(P,R);C[a]=new A(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(P,R);C[a]=new A(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function N(i,a,d,p){var v=C.hasOwnProperty(a)?C[a]:null;(v!==null?v.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(x(a,d,v,p)&&(d=null),p||v===null?w(a)&&(d===null?i.removeAttribute(a):i.setAttribute(a,""+d)):v.mustUseProperty?i[v.propertyName]=d===null?v.type===3?!1:"":d:(a=v.attributeName,p=v.attributeNamespace,d===null?i.removeAttribute(a):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,p?i.setAttributeNS(p,a,d):i.setAttribute(a,d))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),se=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),z=Symbol.iterator;function Z(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,H;function re(i){if(H===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+i}var pe=!1;function Te(i,a){if(!i||pe)return"";pe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var p=ee}Reflect.construct(i,[],a)}else{try{a.call()}catch(ee){p=ee}i.call(a.prototype)}else{try{throw Error()}catch(ee){p=ee}i()}}catch(ee){if(ee&&p&&typeof ee.stack=="string"){for(var v=ee.stack.split(`
`),T=p.stack.split(`
`),I=v.length-1,U=T.length-1;1<=I&&0<=U&&v[I]!==T[U];)U--;for(;1<=I&&0<=U;I--,U--)if(v[I]!==T[U]){if(I!==1||U!==1)do if(I--,U--,0>U||v[I]!==T[U]){var $=`
`+v[I].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=I&&0<=U);break}}}finally{pe=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?re(i):""}function De(i){switch(i.tag){case 5:return re(i.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return i=Te(i.type,!1),i;case 11:return i=Te(i.type.render,!1),i;case 1:return i=Te(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case se:return"Portal";case M:return"Profiler";case b:return"StrictMode";case L:return"Suspense";case K:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case B:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return a=i.displayName||null,a!==null?a:Oe(i.type)||"Memo";case ne:a=i._payload,i=i._init;try{return Oe(i(a))}catch{}}return null}function Ve(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(a);case 8:return a===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function et(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ut(i){var a=et(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),p=""+i[a];if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,T=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(I){p=""+I,T.call(this,I)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function rs(i){i._valueTracker||(i._valueTracker=Ut(i))}function $o(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),p="";return i&&(p=et(i)?i.checked?"true":"false":i.value),i=p,i!==d?(a.setValue(i),!0):!1}function Bs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function $i(i,a){var d=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function Ho(i,a){var d=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;d=je(a.value!=null?a.value:d),i._wrapperState={initialChecked:p,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function El(i,a){a=a.checked,a!=null&&N(i,"checked",a,!1)}function _l(i,a){El(i,a);var d=je(a.value),p=a.type;if(d!=null)p==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Wo(i,a.type,d):a.hasOwnProperty("defaultValue")&&Wo(i,a.type,je(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Cc(i,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,d||a===i.value||(i.value=a),i.defaultValue=a}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function Wo(i,a,d){(a!=="number"||Bs(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var ss=Array.isArray;function is(i,a,d,p){if(i=i.options,a){a={};for(var v=0;v<d.length;v++)a["$"+d[v]]=!0;for(d=0;d<i.length;d++)v=a.hasOwnProperty("$"+i[d].value),i[d].selected!==v&&(i[d].selected=v),v&&p&&(i[d].defaultSelected=!0)}else{for(d=""+je(d),a=null,v=0;v<i.length;v++){if(i[v].value===d){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function Tl(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function qo(i,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(ss(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}i._wrapperState={initialValue:je(d)}}function Go(i,a){var d=je(a.value),p=je(a.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),a.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),p!=null&&(i.defaultValue=""+p)}function Sl(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function Dt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mt(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?Dt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var os,xl=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,p,v){MSApp.execUnsafeLocalFunction(function(){return i(a,d,p,v)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=os.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function zs(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wi=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(i){Wi.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Hi[a]=Hi[i]})});function bl(i,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Hi.hasOwnProperty(i)&&Hi[i]?(""+a).trim():a+"px"}function Il(i,a){i=i.style;for(var d in a)if(a.hasOwnProperty(d)){var p=d.indexOf("--")===0,v=bl(d,a[d],p);d==="float"&&(d="cssFloat"),p?i.setProperty(d,v):i[d]=v}}var Cl=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Al(i,a){if(a){if(Cl[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Pl(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function Ko(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qo=null,zn=null,Pr=null;function Yo(i){if(i=Zl(i)){if(typeof Qo!="function")throw Error(n(280));var a=i.stateNode;a&&(a=rd(a),Qo(i.stateNode,i.type,a))}}function Rr(i){zn?Pr?Pr.push(i):Pr=[i]:zn=i}function Rl(){if(zn){var i=zn,a=Pr;if(Pr=zn=null,Yo(i),a)for(i=0;i<a.length;i++)Yo(a[i])}}function Gi(i,a){return i(a)}function kl(){}var as=!1;function Nl(i,a,d){if(as)return i(a,d);as=!0;try{return Gi(i,a,d)}finally{as=!1,(zn!==null||Pr!==null)&&(kl(),Rl())}}function Et(i,a){var d=i.stateNode;if(d===null)return null;var p=rd(d);if(p===null)return null;d=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Xo=!1;if(c)try{var or={};Object.defineProperty(or,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Xo=!1}function Ki(i,a,d,p,v,T,I,U,$){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(d,ee)}catch(ue){this.onError(ue)}}var Qi=!1,Jo=null,ar=!1,Dl=null,zf={onError:function(i){Qi=!0,Jo=i}};function Zo(i,a,d,p,v,T,I,U,$){Qi=!1,Jo=null,Ki.apply(zf,arguments)}function Ac(i,a,d,p,v,T,I,U,$){if(Zo.apply(this,arguments),Qi){if(Qi){var ee=Jo;Qi=!1,Jo=null}else throw Error(n(198));ar||(ar=!0,Dl=ee)}}function lr(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function Yi(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function ur(i){if(lr(i)!==i)throw Error(n(188))}function Pc(i){var a=i.alternate;if(!a){if(a=lr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var d=i,p=a;;){var v=d.return;if(v===null)break;var T=v.alternate;if(T===null){if(p=v.return,p!==null){d=p;continue}break}if(v.child===T.child){for(T=v.child;T;){if(T===d)return ur(v),i;if(T===p)return ur(v),a;T=T.sibling}throw Error(n(188))}if(d.return!==p.return)d=v,p=T;else{for(var I=!1,U=v.child;U;){if(U===d){I=!0,d=v,p=T;break}if(U===p){I=!0,p=v,d=T;break}U=U.sibling}if(!I){for(U=T.child;U;){if(U===d){I=!0,d=T,p=v;break}if(U===p){I=!0,p=T,d=v;break}U=U.sibling}if(!I)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:a}function Ml(i){return i=Pc(i),i!==null?ea(i):null}function ea(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=ea(i);if(a!==null)return a;i=i.sibling}return null}var ta=e.unstable_scheduleCallback,Ll=e.unstable_cancelCallback,Rc=e.unstable_shouldYield,jf=e.unstable_requestPaint,tt=e.unstable_now,kc=e.unstable_getCurrentPriorityLevel,Xi=e.unstable_ImmediatePriority,js=e.unstable_UserBlockingPriority,jn=e.unstable_NormalPriority,Ol=e.unstable_LowPriority,Nc=e.unstable_IdlePriority,Ji=null,kn=null;function Dc(i){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Ji,i,void 0,(i.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Lc,Vl=Math.log,Mc=Math.LN2;function Lc(i){return i>>>=0,i===0?32:31-(Vl(i)/Mc|0)|0}var na=64,ra=4194304;function $s(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Zi(i,a){var d=i.pendingLanes;if(d===0)return 0;var p=0,v=i.suspendedLanes,T=i.pingedLanes,I=d&268435455;if(I!==0){var U=I&~v;U!==0?p=$s(U):(T&=I,T!==0&&(p=$s(T)))}else I=d&~v,I!==0?p=$s(I):T!==0&&(p=$s(T));if(p===0)return 0;if(a!==0&&a!==p&&(a&v)===0&&(v=p&-p,T=a&-a,v>=T||v===16&&(T&4194240)!==0))return a;if((p&4)!==0&&(p|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=p;0<a;)d=31-dn(a),v=1<<d,p|=i[d],a&=~v;return p}function $f(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ls(i,a){for(var d=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,T=i.pendingLanes;0<T;){var I=31-dn(T),U=1<<I,$=v[I];$===-1?((U&d)===0||(U&p)!==0)&&(v[I]=$f(U,a)):$<=a&&(i.expiredLanes|=U),T&=~U}}function Nn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function eo(){var i=na;return na<<=1,(na&4194240)===0&&(na=64),i}function Hs(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function Ws(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-dn(a),i[a]=d}function Xe(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<d;){var v=31-dn(d),T=1<<v;a[v]=0,p[v]=-1,i[v]=-1,d&=~T}}function qs(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var p=31-dn(d),v=1<<p;v&a|i[p]&a&&(i[p]|=a),d&=~v}}var ze=0;function Gs(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Oc,sa,Vc,Fc,Uc,Fl=!1,kr=[],qt=null,cr=null,dr=null,Ks=new Map,$n=new Map,Nr=[],Hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bc(i,a){switch(i){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Ks.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(a.pointerId)}}function vn(i,a,d,p,v,T){return i===null||i.nativeEvent!==T?(i={blockedOn:a,domEventName:d,eventSystemFlags:p,nativeEvent:T,targetContainers:[v]},a!==null&&(a=Zl(a),a!==null&&sa(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function Wf(i,a,d,p,v){switch(a){case"focusin":return qt=vn(qt,i,a,d,p,v),!0;case"dragenter":return cr=vn(cr,i,a,d,p,v),!0;case"mouseover":return dr=vn(dr,i,a,d,p,v),!0;case"pointerover":var T=v.pointerId;return Ks.set(T,vn(Ks.get(T)||null,i,a,d,p,v)),!0;case"gotpointercapture":return T=v.pointerId,$n.set(T,vn($n.get(T)||null,i,a,d,p,v)),!0}return!1}function zc(i){var a=io(i.target);if(a!==null){var d=lr(a);if(d!==null){if(a=d.tag,a===13){if(a=Yi(d),a!==null){i.blockedOn=a,Uc(i.priority,function(){Vc(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function us(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=ia(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);qi=p,d.target.dispatchEvent(p),qi=null}else return a=Zl(d),a!==null&&sa(a),i.blockedOn=d,!1;a.shift()}return!0}function to(i,a,d){us(i)&&d.delete(a)}function jc(){Fl=!1,qt!==null&&us(qt)&&(qt=null),cr!==null&&us(cr)&&(cr=null),dr!==null&&us(dr)&&(dr=null),Ks.forEach(to),$n.forEach(to)}function hr(i,a){i.blockedOn===a&&(i.blockedOn=null,Fl||(Fl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jc)))}function fr(i){function a(v){return hr(v,i)}if(0<kr.length){hr(kr[0],i);for(var d=1;d<kr.length;d++){var p=kr[d];p.blockedOn===i&&(p.blockedOn=null)}}for(qt!==null&&hr(qt,i),cr!==null&&hr(cr,i),dr!==null&&hr(dr,i),Ks.forEach(a),$n.forEach(a),d=0;d<Nr.length;d++)p=Nr[d],p.blockedOn===i&&(p.blockedOn=null);for(;0<Nr.length&&(d=Nr[0],d.blockedOn===null);)zc(d),d.blockedOn===null&&Nr.shift()}var cs=j.ReactCurrentBatchConfig,Qs=!0;function ot(i,a,d,p){var v=ze,T=cs.transition;cs.transition=null;try{ze=1,Ul(i,a,d,p)}finally{ze=v,cs.transition=T}}function qf(i,a,d,p){var v=ze,T=cs.transition;cs.transition=null;try{ze=4,Ul(i,a,d,p)}finally{ze=v,cs.transition=T}}function Ul(i,a,d,p){if(Qs){var v=ia(i,a,d,p);if(v===null)rp(i,a,p,no,d),Bc(i,p);else if(Wf(v,i,a,d,p))p.stopPropagation();else if(Bc(i,p),a&4&&-1<Hf.indexOf(i)){for(;v!==null;){var T=Zl(v);if(T!==null&&Oc(T),T=ia(i,a,d,p),T===null&&rp(i,a,p,no,d),T===v)break;v=T}v!==null&&p.stopPropagation()}else rp(i,a,p,null,d)}}var no=null;function ia(i,a,d,p){if(no=null,i=Ko(p),i=io(i),i!==null)if(a=lr(i),a===null)i=null;else if(d=a.tag,d===13){if(i=Yi(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return no=i,null}function Bl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kc()){case Xi:return 1;case js:return 4;case jn:case Ol:return 16;case Nc:return 536870912;default:return 16}default:return 16}}var Dn=null,oa=null,wn=null;function zl(){if(wn)return wn;var i,a=oa,d=a.length,p,v="value"in Dn?Dn.value:Dn.textContent,T=v.length;for(i=0;i<d&&a[i]===v[i];i++);var I=d-i;for(p=1;p<=I&&a[d-p]===v[T-p];p++);return wn=v.slice(i,1<p?1-p:void 0)}function aa(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Dr(){return!0}function jl(){return!1}function Gt(i){function a(d,p,v,T,I){this._reactName=d,this._targetInst=v,this.type=p,this.nativeEvent=T,this.target=I,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(d=i[U],this[U]=d?d(T):T[U]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Dr:jl,this.isPropagationStopped=jl,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),a}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Gt(pr),Mr=oe({},pr,{view:0,detail:0}),Gf=Gt(Mr),ua,ds,Ys,ro=oe({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ys&&(Ys&&i.type==="mousemove"?(ua=i.screenX-Ys.screenX,ds=i.screenY-Ys.screenY):ds=ua=0,Ys=i),ua)},movementY:function(i){return"movementY"in i?i.movementY:ds}}),ca=Gt(ro),$l=oe({},ro,{dataTransfer:0}),$c=Gt($l),da=oe({},Mr,{relatedTarget:0}),ha=Gt(da),Hc=oe({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),hs=Gt(Hc),Wc=oe({},pr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qc=Gt(Wc),Gc=oe({},pr,{data:0}),Hl=Gt(Gc),fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Kc[i])?!!a[i]:!1}function Lr(){return Qc}var f=oe({},Mr,{key:function(i){if(i.key){var a=fa[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=aa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(i){return i.type==="keypress"?aa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?aa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),E=Gt(f),S=oe({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D=Gt(S),Q=oe({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),te=Gt(Q),he=oe({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Gt(he),Lt=oe({},ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Gt(Lt),Bt=[9,13,27,32],Ct=c&&"CompositionEvent"in window,Hn=null;c&&"documentMode"in document&&(Hn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Hn,so=c&&(!Ct||Hn&&8<Hn&&11>=Hn),pa=" ",I0=!1;function C0(i,a){switch(i){case"keyup":return Bt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ma=!1;function TA(i,a){switch(i){case"compositionend":return A0(a);case"keypress":return a.which!==32?null:(I0=!0,pa);case"textInput":return i=a.data,i===pa&&I0?null:i;default:return null}}function SA(i,a){if(ma)return i==="compositionend"||!Ct&&C0(i,a)?(i=zl(),wn=oa=Dn=null,ma=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return so&&a.locale!=="ko"?null:a.data;default:return null}}var xA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!xA[i.type]:a==="textarea"}function R0(i,a,d,p){Rr(p),a=ed(a,"onChange"),0<a.length&&(d=new la("onChange","change",null,d,p),i.push({event:d,listeners:a}))}var Wl=null,ql=null;function bA(i){K0(i,0)}function Yc(i){var a=Ea(i);if($o(a))return i}function IA(i,a){if(i==="change")return a}var k0=!1;if(c){var Kf;if(c){var Qf="oninput"in document;if(!Qf){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),Qf=typeof N0.oninput=="function"}Kf=Qf}else Kf=!1;k0=Kf&&(!document.documentMode||9<document.documentMode)}function D0(){Wl&&(Wl.detachEvent("onpropertychange",M0),ql=Wl=null)}function M0(i){if(i.propertyName==="value"&&Yc(ql)){var a=[];R0(a,ql,i,Ko(i)),Nl(bA,a)}}function CA(i,a,d){i==="focusin"?(D0(),Wl=a,ql=d,Wl.attachEvent("onpropertychange",M0)):i==="focusout"&&D0()}function AA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yc(ql)}function PA(i,a){if(i==="click")return Yc(a)}function RA(i,a){if(i==="input"||i==="change")return Yc(a)}function kA(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var mr=typeof Object.is=="function"?Object.is:kA;function Gl(i,a){if(mr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),p=Object.keys(a);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var v=d[p];if(!u.call(a,v)||!mr(i[v],a[v]))return!1}return!0}function L0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function O0(i,a){var d=L0(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=a&&p>=a)return{node:d,offset:a-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=L0(d)}}function V0(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?V0(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function F0(){for(var i=window,a=Bs();a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=Bs(i.document)}return a}function Yf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function NA(i){var a=F0(),d=i.focusedElem,p=i.selectionRange;if(a!==d&&d&&d.ownerDocument&&V0(d.ownerDocument.documentElement,d)){if(p!==null&&Yf(d)){if(a=p.start,i=p.end,i===void 0&&(i=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(i,d.value.length);else if(i=(a=d.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var v=d.textContent.length,T=Math.min(p.start,v);p=p.end===void 0?T:Math.min(p.end,v),!i.extend&&T>p&&(v=p,p=T,T=v),v=O0(d,T);var I=O0(d,p);v&&I&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),i.removeAllRanges(),T>p?(i.addRange(a),i.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),i.addRange(a)))}}for(a=[],i=d;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)i=a[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var DA=c&&"documentMode"in document&&11>=document.documentMode,ga=null,Xf=null,Kl=null,Jf=!1;function U0(i,a,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Jf||ga==null||ga!==Bs(p)||(p=ga,"selectionStart"in p&&Yf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Kl&&Gl(Kl,p)||(Kl=p,p=ed(Xf,"onSelect"),0<p.length&&(a=new la("onSelect","select",null,a,d),i.push({event:a,listeners:p}),a.target=ga)))}function Xc(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var ya={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},Zf={},B0={};c&&(B0=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Jc(i){if(Zf[i])return Zf[i];if(!ya[i])return i;var a=ya[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in B0)return Zf[i]=a[d];return i}var z0=Jc("animationend"),j0=Jc("animationiteration"),$0=Jc("animationstart"),H0=Jc("transitionend"),W0=new Map,q0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(i,a){W0.set(i,a),o(a,[i])}for(var ep=0;ep<q0.length;ep++){var tp=q0[ep],MA=tp.toLowerCase(),LA=tp[0].toUpperCase()+tp.slice(1);Xs(MA,"on"+LA)}Xs(z0,"onAnimationEnd"),Xs(j0,"onAnimationIteration"),Xs($0,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(H0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function G0(i,a,d){var p=i.type||"unknown-event";i.currentTarget=d,Ac(p,a,void 0,i),i.currentTarget=null}function K0(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],v=p.event;p=p.listeners;e:{var T=void 0;if(a)for(var I=p.length-1;0<=I;I--){var U=p[I],$=U.instance,ee=U.currentTarget;if(U=U.listener,$!==T&&v.isPropagationStopped())break e;G0(v,U,ee),T=$}else for(I=0;I<p.length;I++){if(U=p[I],$=U.instance,ee=U.currentTarget,U=U.listener,$!==T&&v.isPropagationStopped())break e;G0(v,U,ee),T=$}}}if(ar)throw i=Dl,ar=!1,Dl=null,i}function rt(i,a){var d=a[up];d===void 0&&(d=a[up]=new Set);var p=i+"__bubble";d.has(p)||(Q0(a,i,2,!1),d.add(p))}function np(i,a,d){var p=0;a&&(p|=4),Q0(d,i,p,a)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Yl(i){if(!i[Zc]){i[Zc]=!0,r.forEach(function(d){d!=="selectionchange"&&(OA.has(d)||np(d,!1,i),np(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Zc]||(a[Zc]=!0,np("selectionchange",!1,a))}}function Q0(i,a,d,p){switch(Bl(a)){case 1:var v=ot;break;case 4:v=qf;break;default:v=Ul}d=v.bind(null,a,d,i),v=void 0,!Xo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(a,d,{capture:!0,passive:v}):i.addEventListener(a,d,!0):v!==void 0?i.addEventListener(a,d,{passive:v}):i.addEventListener(a,d,!1)}function rp(i,a,d,p,v){var T=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var U=p.stateNode.containerInfo;if(U===v||U.nodeType===8&&U.parentNode===v)break;if(I===4)for(I=p.return;I!==null;){var $=I.tag;if(($===3||$===4)&&($=I.stateNode.containerInfo,$===v||$.nodeType===8&&$.parentNode===v))return;I=I.return}for(;U!==null;){if(I=io(U),I===null)return;if($=I.tag,$===5||$===6){p=T=I;continue e}U=U.parentNode}}p=p.return}Nl(function(){var ee=T,ue=Ko(d),ce=[];e:{var le=W0.get(i);if(le!==void 0){var me=la,ve=i;switch(i){case"keypress":if(aa(d)===0)break e;case"keydown":case"keyup":me=E;break;case"focusin":ve="focus",me=ha;break;case"focusout":ve="blur",me=ha;break;case"beforeblur":case"afterblur":me=ha;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=te;break;case z0:case j0:case $0:me=hs;break;case H0:me=Qe;break;case"scroll":me=Gf;break;case"wheel":me=$e;break;case"copy":case"cut":case"paste":me=qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=D}var we=(a&4)!==0,_t=!we&&i==="scroll",Y=we?le!==null?le+"Capture":null:le;we=[];for(var W=ee,J;W!==null;){J=W;var de=J.stateNode;if(J.tag===5&&de!==null&&(J=de,Y!==null&&(de=Et(W,Y),de!=null&&we.push(Xl(W,de,J)))),_t)break;W=W.return}0<we.length&&(le=new me(le,ve,null,d,ue),ce.push({event:le,listeners:we}))}}if((a&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",le&&d!==qi&&(ve=d.relatedTarget||d.fromElement)&&(io(ve)||ve[fs]))break e;if((me||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,me?(ve=d.relatedTarget||d.toElement,me=ee,ve=ve?io(ve):null,ve!==null&&(_t=lr(ve),ve!==_t||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=ee),me!==ve)){if(we=ca,de="onMouseLeave",Y="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(we=D,de="onPointerLeave",Y="onPointerEnter",W="pointer"),_t=me==null?le:Ea(me),J=ve==null?le:Ea(ve),le=new we(de,W+"leave",me,d,ue),le.target=_t,le.relatedTarget=J,de=null,io(ue)===ee&&(we=new we(Y,W+"enter",ve,d,ue),we.target=J,we.relatedTarget=_t,de=we),_t=de,me&&ve)t:{for(we=me,Y=ve,W=0,J=we;J;J=va(J))W++;for(J=0,de=Y;de;de=va(de))J++;for(;0<W-J;)we=va(we),W--;for(;0<J-W;)Y=va(Y),J--;for(;W--;){if(we===Y||Y!==null&&we===Y.alternate)break t;we=va(we),Y=va(Y)}we=null}else we=null;me!==null&&Y0(ce,le,me,we,!1),ve!==null&&_t!==null&&Y0(ce,_t,ve,we,!0)}}e:{if(le=ee?Ea(ee):window,me=le.nodeName&&le.nodeName.toLowerCase(),me==="select"||me==="input"&&le.type==="file")var Ee=IA;else if(P0(le))if(k0)Ee=RA;else{Ee=AA;var Se=CA}else(me=le.nodeName)&&me.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ee=PA);if(Ee&&(Ee=Ee(i,ee))){R0(ce,Ee,d,ue);break e}Se&&Se(i,le,ee),i==="focusout"&&(Se=le._wrapperState)&&Se.controlled&&le.type==="number"&&Wo(le,"number",le.value)}switch(Se=ee?Ea(ee):window,i){case"focusin":(P0(Se)||Se.contentEditable==="true")&&(ga=Se,Xf=ee,Kl=null);break;case"focusout":Kl=Xf=ga=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,U0(ce,d,ue);break;case"selectionchange":if(DA)break;case"keydown":case"keyup":U0(ce,d,ue)}var xe;if(Ct)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ma?C0(i,d)&&(Pe="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Pe="onCompositionStart");Pe&&(so&&d.locale!=="ko"&&(ma||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ma&&(xe=zl()):(Dn=ue,oa="value"in Dn?Dn.value:Dn.textContent,ma=!0)),Se=ed(ee,Pe),0<Se.length&&(Pe=new Hl(Pe,i,null,d,ue),ce.push({event:Pe,listeners:Se}),xe?Pe.data=xe:(xe=A0(d),xe!==null&&(Pe.data=xe)))),(xe=Mn?TA(i,d):SA(i,d))&&(ee=ed(ee,"onBeforeInput"),0<ee.length&&(ue=new Hl("onBeforeInput","beforeinput",null,d,ue),ce.push({event:ue,listeners:ee}),ue.data=xe))}K0(ce,a)})}function Xl(i,a,d){return{instance:i,listener:a,currentTarget:d}}function ed(i,a){for(var d=a+"Capture",p=[];i!==null;){var v=i,T=v.stateNode;v.tag===5&&T!==null&&(v=T,T=Et(i,d),T!=null&&p.unshift(Xl(i,T,v)),T=Et(i,a),T!=null&&p.push(Xl(i,T,v))),i=i.return}return p}function va(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Y0(i,a,d,p,v){for(var T=a._reactName,I=[];d!==null&&d!==p;){var U=d,$=U.alternate,ee=U.stateNode;if($!==null&&$===p)break;U.tag===5&&ee!==null&&(U=ee,v?($=Et(d,T),$!=null&&I.unshift(Xl(d,$,U))):v||($=Et(d,T),$!=null&&I.push(Xl(d,$,U)))),d=d.return}I.length!==0&&i.push({event:a,listeners:I})}var VA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function X0(i){return(typeof i=="string"?i:""+i).replace(VA,`
`).replace(FA,"")}function td(i,a,d){if(a=X0(a),X0(i)!==a&&d)throw Error(n(425))}function nd(){}var sp=null,ip=null;function op(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ap=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,J0=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof J0<"u"?function(i){return J0.resolve(null).then(i).catch(zA)}:ap;function zA(i){setTimeout(function(){throw i})}function lp(i,a){var d=a,p=0;do{var v=d.nextSibling;if(i.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(p===0){i.removeChild(v),fr(a);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=v}while(d);fr(a)}function Js(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Z0(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return i;a--}else d==="/$"&&a++}i=i.previousSibling}return null}var wa=Math.random().toString(36).slice(2),Or="__reactFiber$"+wa,Jl="__reactProps$"+wa,fs="__reactContainer$"+wa,up="__reactEvents$"+wa,jA="__reactListeners$"+wa,$A="__reactHandles$"+wa;function io(i){var a=i[Or];if(a)return a;for(var d=i.parentNode;d;){if(a=d[fs]||d[Or]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=Z0(i);i!==null;){if(d=i[Or])return d;i=Z0(i)}return a}i=d,d=i.parentNode}return null}function Zl(i){return i=i[Or]||i[fs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ea(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function rd(i){return i[Jl]||null}var cp=[],_a=-1;function Zs(i){return{current:i}}function st(i){0>_a||(i.current=cp[_a],cp[_a]=null,_a--)}function nt(i,a){_a++,cp[_a]=i.current,i.current=a}var ei={},tn=Zs(ei),En=Zs(!1),oo=ei;function Ta(i,a){var d=i.type.contextTypes;if(!d)return ei;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var v={},T;for(T in d)v[T]=a[T];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=v),v}function _n(i){return i=i.childContextTypes,i!=null}function sd(){st(En),st(tn)}function ew(i,a,d){if(tn.current!==ei)throw Error(n(168));nt(tn,a),nt(En,d)}function tw(i,a,d){var p=i.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var v in p)if(!(v in a))throw Error(n(108,Ve(i)||"Unknown",v));return oe({},d,p)}function id(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ei,oo=tn.current,nt(tn,i),nt(En,En.current),!0}function nw(i,a,d){var p=i.stateNode;if(!p)throw Error(n(169));d?(i=tw(i,a,oo),p.__reactInternalMemoizedMergedChildContext=i,st(En),st(tn),nt(tn,i)):st(En),nt(En,d)}var ps=null,od=!1,dp=!1;function rw(i){ps===null?ps=[i]:ps.push(i)}function HA(i){od=!0,rw(i)}function ti(){if(!dp&&ps!==null){dp=!0;var i=0,a=ze;try{var d=ps;for(ze=1;i<d.length;i++){var p=d[i];do p=p(!0);while(p!==null)}ps=null,od=!1}catch(v){throw ps!==null&&(ps=ps.slice(i+1)),ta(Xi,ti),v}finally{ze=a,dp=!1}}return null}var Sa=[],xa=0,ad=null,ld=0,Wn=[],qn=0,ao=null,ms=1,gs="";function lo(i,a){Sa[xa++]=ld,Sa[xa++]=ad,ad=i,ld=a}function sw(i,a,d){Wn[qn++]=ms,Wn[qn++]=gs,Wn[qn++]=ao,ao=i;var p=ms;i=gs;var v=32-dn(p)-1;p&=~(1<<v),d+=1;var T=32-dn(a)+v;if(30<T){var I=v-v%5;T=(p&(1<<I)-1).toString(32),p>>=I,v-=I,ms=1<<32-dn(a)+v|d<<v|p,gs=T+i}else ms=1<<T|d<<v|p,gs=i}function hp(i){i.return!==null&&(lo(i,1),sw(i,1,0))}function fp(i){for(;i===ad;)ad=Sa[--xa],Sa[xa]=null,ld=Sa[--xa],Sa[xa]=null;for(;i===ao;)ao=Wn[--qn],Wn[qn]=null,gs=Wn[--qn],Wn[qn]=null,ms=Wn[--qn],Wn[qn]=null}var Ln=null,On=null,at=!1,gr=null;function iw(i,a){var d=Yn(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function ow(i,a){switch(i.tag){case 5:var d=i.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Ln=i,On=Js(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Ln=i,On=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=ao!==null?{id:ms,overflow:gs}:null,i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Yn(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,Ln=i,On=null,!0):!1;default:return!1}}function pp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function mp(i){if(at){var a=On;if(a){var d=a;if(!ow(i,a)){if(pp(i))throw Error(n(418));a=Js(d.nextSibling);var p=Ln;a&&ow(i,a)?iw(p,d):(i.flags=i.flags&-4097|2,at=!1,Ln=i)}}else{if(pp(i))throw Error(n(418));i.flags=i.flags&-4097|2,at=!1,Ln=i}}}function aw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ln=i}function ud(i){if(i!==Ln)return!1;if(!at)return aw(i),at=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!op(i.type,i.memoizedProps)),a&&(a=On)){if(pp(i))throw lw(),Error(n(418));for(;a;)iw(i,a),a=Js(a.nextSibling)}if(aw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(a===0){On=Js(i.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}i=i.nextSibling}On=null}}else On=Ln?Js(i.stateNode.nextSibling):null;return!0}function lw(){for(var i=On;i;)i=Js(i.nextSibling)}function ba(){On=Ln=null,at=!1}function gp(i){gr===null?gr=[i]:gr.push(i)}var WA=j.ReactCurrentBatchConfig;function eu(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var p=d.stateNode}if(!p)throw Error(n(147,i));var v=p,T=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T?a.ref:(a=function(I){var U=v.refs;I===null?delete U[T]:U[T]=I},a._stringRef=T,a)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function cd(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function uw(i){var a=i._init;return a(i._payload)}function cw(i){function a(Y,W){if(i){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function d(Y,W){if(!i)return null;for(;W!==null;)a(Y,W),W=W.sibling;return null}function p(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function v(Y,W){return Y=ui(Y,W),Y.index=0,Y.sibling=null,Y}function T(Y,W,J){return Y.index=J,i?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=2,W):J):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function I(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,W,J,de){return W===null||W.tag!==6?(W=am(J,Y.mode,de),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function $(Y,W,J,de){var Ee=J.type;return Ee===F?ue(Y,W,J.props.children,de,J.key):W!==null&&(W.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ne&&uw(Ee)===W.type)?(de=v(W,J.props),de.ref=eu(Y,W,J),de.return=Y,de):(de=Md(J.type,J.key,J.props,null,Y.mode,de),de.ref=eu(Y,W,J),de.return=Y,de)}function ee(Y,W,J,de){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=lm(J,Y.mode,de),W.return=Y,W):(W=v(W,J.children||[]),W.return=Y,W)}function ue(Y,W,J,de,Ee){return W===null||W.tag!==7?(W=yo(J,Y.mode,de,Ee),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function ce(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=am(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case q:return J=Md(W.type,W.key,W.props,null,Y.mode,J),J.ref=eu(Y,null,W),J.return=Y,J;case se:return W=lm(W,Y.mode,J),W.return=Y,W;case ne:var de=W._init;return ce(Y,de(W._payload),J)}if(ss(W)||Z(W))return W=yo(W,Y.mode,J,null),W.return=Y,W;cd(Y,W)}return null}function le(Y,W,J,de){var Ee=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ee!==null?null:U(Y,W,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case q:return J.key===Ee?$(Y,W,J,de):null;case se:return J.key===Ee?ee(Y,W,J,de):null;case ne:return Ee=J._init,le(Y,W,Ee(J._payload),de)}if(ss(J)||Z(J))return Ee!==null?null:ue(Y,W,J,de,null);cd(Y,J)}return null}function me(Y,W,J,de,Ee){if(typeof de=="string"&&de!==""||typeof de=="number")return Y=Y.get(J)||null,U(W,Y,""+de,Ee);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case q:return Y=Y.get(de.key===null?J:de.key)||null,$(W,Y,de,Ee);case se:return Y=Y.get(de.key===null?J:de.key)||null,ee(W,Y,de,Ee);case ne:var Se=de._init;return me(Y,W,J,Se(de._payload),Ee)}if(ss(de)||Z(de))return Y=Y.get(J)||null,ue(W,Y,de,Ee,null);cd(W,de)}return null}function ve(Y,W,J,de){for(var Ee=null,Se=null,xe=W,Pe=W=0,$t=null;xe!==null&&Pe<J.length;Pe++){xe.index>Pe?($t=xe,xe=null):$t=xe.sibling;var qe=le(Y,xe,J[Pe],de);if(qe===null){xe===null&&(xe=$t);break}i&&xe&&qe.alternate===null&&a(Y,xe),W=T(qe,W,Pe),Se===null?Ee=qe:Se.sibling=qe,Se=qe,xe=$t}if(Pe===J.length)return d(Y,xe),at&&lo(Y,Pe),Ee;if(xe===null){for(;Pe<J.length;Pe++)xe=ce(Y,J[Pe],de),xe!==null&&(W=T(xe,W,Pe),Se===null?Ee=xe:Se.sibling=xe,Se=xe);return at&&lo(Y,Pe),Ee}for(xe=p(Y,xe);Pe<J.length;Pe++)$t=me(xe,Y,Pe,J[Pe],de),$t!==null&&(i&&$t.alternate!==null&&xe.delete($t.key===null?Pe:$t.key),W=T($t,W,Pe),Se===null?Ee=$t:Se.sibling=$t,Se=$t);return i&&xe.forEach(function(ci){return a(Y,ci)}),at&&lo(Y,Pe),Ee}function we(Y,W,J,de){var Ee=Z(J);if(typeof Ee!="function")throw Error(n(150));if(J=Ee.call(J),J==null)throw Error(n(151));for(var Se=Ee=null,xe=W,Pe=W=0,$t=null,qe=J.next();xe!==null&&!qe.done;Pe++,qe=J.next()){xe.index>Pe?($t=xe,xe=null):$t=xe.sibling;var ci=le(Y,xe,qe.value,de);if(ci===null){xe===null&&(xe=$t);break}i&&xe&&ci.alternate===null&&a(Y,xe),W=T(ci,W,Pe),Se===null?Ee=ci:Se.sibling=ci,Se=ci,xe=$t}if(qe.done)return d(Y,xe),at&&lo(Y,Pe),Ee;if(xe===null){for(;!qe.done;Pe++,qe=J.next())qe=ce(Y,qe.value,de),qe!==null&&(W=T(qe,W,Pe),Se===null?Ee=qe:Se.sibling=qe,Se=qe);return at&&lo(Y,Pe),Ee}for(xe=p(Y,xe);!qe.done;Pe++,qe=J.next())qe=me(xe,Y,Pe,qe.value,de),qe!==null&&(i&&qe.alternate!==null&&xe.delete(qe.key===null?Pe:qe.key),W=T(qe,W,Pe),Se===null?Ee=qe:Se.sibling=qe,Se=qe);return i&&xe.forEach(function(xP){return a(Y,xP)}),at&&lo(Y,Pe),Ee}function _t(Y,W,J,de){if(typeof J=="object"&&J!==null&&J.type===F&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case q:e:{for(var Ee=J.key,Se=W;Se!==null;){if(Se.key===Ee){if(Ee=J.type,Ee===F){if(Se.tag===7){d(Y,Se.sibling),W=v(Se,J.props.children),W.return=Y,Y=W;break e}}else if(Se.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ne&&uw(Ee)===Se.type){d(Y,Se.sibling),W=v(Se,J.props),W.ref=eu(Y,Se,J),W.return=Y,Y=W;break e}d(Y,Se);break}else a(Y,Se);Se=Se.sibling}J.type===F?(W=yo(J.props.children,Y.mode,de,J.key),W.return=Y,Y=W):(de=Md(J.type,J.key,J.props,null,Y.mode,de),de.ref=eu(Y,W,J),de.return=Y,Y=de)}return I(Y);case se:e:{for(Se=J.key;W!==null;){if(W.key===Se)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){d(Y,W.sibling),W=v(W,J.children||[]),W.return=Y,Y=W;break e}else{d(Y,W);break}else a(Y,W);W=W.sibling}W=lm(J,Y.mode,de),W.return=Y,Y=W}return I(Y);case ne:return Se=J._init,_t(Y,W,Se(J._payload),de)}if(ss(J))return ve(Y,W,J,de);if(Z(J))return we(Y,W,J,de);cd(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(d(Y,W.sibling),W=v(W,J),W.return=Y,Y=W):(d(Y,W),W=am(J,Y.mode,de),W.return=Y,Y=W),I(Y)):d(Y,W)}return _t}var Ia=cw(!0),dw=cw(!1),dd=Zs(null),hd=null,Ca=null,yp=null;function vp(){yp=Ca=hd=null}function wp(i){var a=dd.current;st(dd),i._currentValue=a}function Ep(i,a,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===d)break;i=i.return}}function Aa(i,a){hd=i,yp=Ca=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(Tn=!0),i.firstContext=null)}function Gn(i){var a=i._currentValue;if(yp!==i)if(i={context:i,memoizedValue:a,next:null},Ca===null){if(hd===null)throw Error(n(308));Ca=i,hd.dependencies={lanes:0,firstContext:i}}else Ca=Ca.next=i;return a}var uo=null;function _p(i){uo===null?uo=[i]:uo.push(i)}function hw(i,a,d,p){var v=a.interleaved;return v===null?(d.next=d,_p(a)):(d.next=v.next,v.next=d),a.interleaved=d,ys(i,p)}function ys(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var ni=!1;function Tp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fw(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function vs(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function ri(i,a,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(We&2)!==0){var v=p.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),p.pending=a,ys(i,d)}return v=p.interleaved,v===null?(a.next=a,_p(p)):(a.next=v.next,v.next=a),p.interleaved=a,ys(i,d)}function fd(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var p=a.lanes;p&=i.pendingLanes,d|=p,a.lanes=d,qs(i,d)}}function pw(i,a){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var v=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var I={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?v=T=I:T=T.next=I,d=d.next}while(d!==null);T===null?v=T=a:T=T.next=a}else v=T=a;d={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:T,shared:p.shared,effects:p.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function pd(i,a,d,p){var v=i.updateQueue;ni=!1;var T=v.firstBaseUpdate,I=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var $=U,ee=$.next;$.next=null,I===null?T=ee:I.next=ee,I=$;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,U=ue.lastBaseUpdate,U!==I&&(U===null?ue.firstBaseUpdate=ee:U.next=ee,ue.lastBaseUpdate=$))}if(T!==null){var ce=v.baseState;I=0,ue=ee=$=null,U=T;do{var le=U.lane,me=U.eventTime;if((p&le)===le){ue!==null&&(ue=ue.next={eventTime:me,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var ve=i,we=U;switch(le=a,me=d,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){ce=ve.call(me,ce,le);break e}ce=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,le=typeof ve=="function"?ve.call(me,ce,le):ve,le==null)break e;ce=oe({},ce,le);break e;case 2:ni=!0}}U.callback!==null&&U.lane!==0&&(i.flags|=64,le=v.effects,le===null?v.effects=[U]:le.push(U))}else me={eventTime:me,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ue===null?(ee=ue=me,$=ce):ue=ue.next=me,I|=le;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;le=U,U=le.next,le.next=null,v.lastBaseUpdate=le,v.shared.pending=null}}while(!0);if(ue===null&&($=ce),v.baseState=$,v.firstBaseUpdate=ee,v.lastBaseUpdate=ue,a=v.shared.interleaved,a!==null){v=a;do I|=v.lane,v=v.next;while(v!==a)}else T===null&&(v.shared.lanes=0);fo|=I,i.lanes=I,i.memoizedState=ce}}function mw(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var p=i[a],v=p.callback;if(v!==null){if(p.callback=null,p=d,typeof v!="function")throw Error(n(191,v));v.call(p)}}}var tu={},Vr=Zs(tu),nu=Zs(tu),ru=Zs(tu);function co(i){if(i===tu)throw Error(n(174));return i}function Sp(i,a){switch(nt(ru,a),nt(nu,i),nt(Vr,tu),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Mt(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Mt(a,i)}st(Vr),nt(Vr,a)}function Pa(){st(Vr),st(nu),st(ru)}function gw(i){co(ru.current);var a=co(Vr.current),d=Mt(a,i.type);a!==d&&(nt(nu,i),nt(Vr,d))}function xp(i){nu.current===i&&(st(Vr),st(nu))}var dt=Zs(0);function md(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var bp=[];function Ip(){for(var i=0;i<bp.length;i++)bp[i]._workInProgressVersionPrimary=null;bp.length=0}var gd=j.ReactCurrentDispatcher,Cp=j.ReactCurrentBatchConfig,ho=0,ht=null,Ot=null,zt=null,yd=!1,su=!1,iu=0,qA=0;function nn(){throw Error(n(321))}function Ap(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!mr(i[d],a[d]))return!1;return!0}function Pp(i,a,d,p,v,T){if(ho=T,ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,gd.current=i===null||i.memoizedState===null?YA:XA,i=d(p,v),su){T=0;do{if(su=!1,iu=0,25<=T)throw Error(n(301));T+=1,zt=Ot=null,a.updateQueue=null,gd.current=JA,i=d(p,v)}while(su)}if(gd.current=Ed,a=Ot!==null&&Ot.next!==null,ho=0,zt=Ot=ht=null,yd=!1,a)throw Error(n(300));return i}function Rp(){var i=iu!==0;return iu=0,i}function Fr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ht.memoizedState=zt=i:zt=zt.next=i,zt}function Kn(){if(Ot===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var a=zt===null?ht.memoizedState:zt.next;if(a!==null)zt=a,Ot=i;else{if(i===null)throw Error(n(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},zt===null?ht.memoizedState=zt=i:zt=zt.next=i}return zt}function ou(i,a){return typeof a=="function"?a(i):a}function kp(i){var a=Kn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=Ot,v=p.baseQueue,T=d.pending;if(T!==null){if(v!==null){var I=v.next;v.next=T.next,T.next=I}p.baseQueue=v=T,d.pending=null}if(v!==null){T=v.next,p=p.baseState;var U=I=null,$=null,ee=T;do{var ue=ee.lane;if((ho&ue)===ue)$!==null&&($=$.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),p=ee.hasEagerState?ee.eagerState:i(p,ee.action);else{var ce={lane:ue,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};$===null?(U=$=ce,I=p):$=$.next=ce,ht.lanes|=ue,fo|=ue}ee=ee.next}while(ee!==null&&ee!==T);$===null?I=p:$.next=U,mr(p,a.memoizedState)||(Tn=!0),a.memoizedState=p,a.baseState=I,a.baseQueue=$,d.lastRenderedState=p}if(i=d.interleaved,i!==null){v=i;do T=v.lane,ht.lanes|=T,fo|=T,v=v.next;while(v!==i)}else v===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Np(i){var a=Kn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,v=d.pending,T=a.memoizedState;if(v!==null){d.pending=null;var I=v=v.next;do T=i(T,I.action),I=I.next;while(I!==v);mr(T,a.memoizedState)||(Tn=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),d.lastRenderedState=T}return[T,p]}function yw(){}function vw(i,a){var d=ht,p=Kn(),v=a(),T=!mr(p.memoizedState,v);if(T&&(p.memoizedState=v,Tn=!0),p=p.queue,Dp(_w.bind(null,d,p,i),[i]),p.getSnapshot!==a||T||zt!==null&&zt.memoizedState.tag&1){if(d.flags|=2048,au(9,Ew.bind(null,d,p,v,a),void 0,null),jt===null)throw Error(n(349));(ho&30)!==0||ww(d,a,v)}return v}function ww(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=ht.updateQueue,a===null?(a={lastEffect:null,stores:null},ht.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function Ew(i,a,d,p){a.value=d,a.getSnapshot=p,Tw(a)&&Sw(i)}function _w(i,a,d){return d(function(){Tw(a)&&Sw(i)})}function Tw(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!mr(i,d)}catch{return!0}}function Sw(i){var a=ys(i,1);a!==null&&Er(a,i,1,-1)}function xw(i){var a=Fr();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:i},a.queue=i,i=i.dispatch=QA.bind(null,ht,i),[a.memoizedState,i]}function au(i,a,d,p){return i={tag:i,create:a,destroy:d,deps:p,next:null},a=ht.updateQueue,a===null?(a={lastEffect:null,stores:null},ht.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,a.lastEffect=i)),i}function bw(){return Kn().memoizedState}function vd(i,a,d,p){var v=Fr();ht.flags|=i,v.memoizedState=au(1|a,d,void 0,p===void 0?null:p)}function wd(i,a,d,p){var v=Kn();p=p===void 0?null:p;var T=void 0;if(Ot!==null){var I=Ot.memoizedState;if(T=I.destroy,p!==null&&Ap(p,I.deps)){v.memoizedState=au(a,d,T,p);return}}ht.flags|=i,v.memoizedState=au(1|a,d,T,p)}function Iw(i,a){return vd(8390656,8,i,a)}function Dp(i,a){return wd(2048,8,i,a)}function Cw(i,a){return wd(4,2,i,a)}function Aw(i,a){return wd(4,4,i,a)}function Pw(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Rw(i,a,d){return d=d!=null?d.concat([i]):null,wd(4,4,Pw.bind(null,a,i),d)}function Mp(){}function kw(i,a){var d=Kn();a=a===void 0?null:a;var p=d.memoizedState;return p!==null&&a!==null&&Ap(a,p[1])?p[0]:(d.memoizedState=[i,a],i)}function Nw(i,a){var d=Kn();a=a===void 0?null:a;var p=d.memoizedState;return p!==null&&a!==null&&Ap(a,p[1])?p[0]:(i=i(),d.memoizedState=[i,a],i)}function Dw(i,a,d){return(ho&21)===0?(i.baseState&&(i.baseState=!1,Tn=!0),i.memoizedState=d):(mr(d,a)||(d=eo(),ht.lanes|=d,fo|=d,i.baseState=!0),a)}function GA(i,a){var d=ze;ze=d!==0&&4>d?d:4,i(!0);var p=Cp.transition;Cp.transition={};try{i(!1),a()}finally{ze=d,Cp.transition=p}}function Mw(){return Kn().memoizedState}function KA(i,a,d){var p=ai(i);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},Lw(i))Ow(a,d);else if(d=hw(i,a,d,p),d!==null){var v=pn();Er(d,i,p,v),Vw(d,a,p)}}function QA(i,a,d){var p=ai(i),v={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(Lw(i))Ow(a,v);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var I=a.lastRenderedState,U=T(I,d);if(v.hasEagerState=!0,v.eagerState=U,mr(U,I)){var $=a.interleaved;$===null?(v.next=v,_p(a)):(v.next=$.next,$.next=v),a.interleaved=v;return}}catch{}finally{}d=hw(i,a,v,p),d!==null&&(v=pn(),Er(d,i,p,v),Vw(d,a,p))}}function Lw(i){var a=i.alternate;return i===ht||a!==null&&a===ht}function Ow(i,a){su=yd=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function Vw(i,a,d){if((d&4194240)!==0){var p=a.lanes;p&=i.pendingLanes,d|=p,a.lanes=d,qs(i,d)}}var Ed={readContext:Gn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},YA={readContext:Gn,useCallback:function(i,a){return Fr().memoizedState=[i,a===void 0?null:a],i},useContext:Gn,useEffect:Iw,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,vd(4194308,4,Pw.bind(null,a,i),d)},useLayoutEffect:function(i,a){return vd(4194308,4,i,a)},useInsertionEffect:function(i,a){return vd(4,2,i,a)},useMemo:function(i,a){var d=Fr();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var p=Fr();return a=d!==void 0?d(a):a,p.memoizedState=p.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},p.queue=i,i=i.dispatch=KA.bind(null,ht,i),[p.memoizedState,i]},useRef:function(i){var a=Fr();return i={current:i},a.memoizedState=i},useState:xw,useDebugValue:Mp,useDeferredValue:function(i){return Fr().memoizedState=i},useTransition:function(){var i=xw(!1),a=i[0];return i=GA.bind(null,i[1]),Fr().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var p=ht,v=Fr();if(at){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),jt===null)throw Error(n(349));(ho&30)!==0||ww(p,a,d)}v.memoizedState=d;var T={value:d,getSnapshot:a};return v.queue=T,Iw(_w.bind(null,p,T,i),[i]),p.flags|=2048,au(9,Ew.bind(null,p,T,d,a),void 0,null),d},useId:function(){var i=Fr(),a=jt.identifierPrefix;if(at){var d=gs,p=ms;d=(p&~(1<<32-dn(p)-1)).toString(32)+d,a=":"+a+"R"+d,d=iu++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=qA++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},XA={readContext:Gn,useCallback:kw,useContext:Gn,useEffect:Dp,useImperativeHandle:Rw,useInsertionEffect:Cw,useLayoutEffect:Aw,useMemo:Nw,useReducer:kp,useRef:bw,useState:function(){return kp(ou)},useDebugValue:Mp,useDeferredValue:function(i){var a=Kn();return Dw(a,Ot.memoizedState,i)},useTransition:function(){var i=kp(ou)[0],a=Kn().memoizedState;return[i,a]},useMutableSource:yw,useSyncExternalStore:vw,useId:Mw,unstable_isNewReconciler:!1},JA={readContext:Gn,useCallback:kw,useContext:Gn,useEffect:Dp,useImperativeHandle:Rw,useInsertionEffect:Cw,useLayoutEffect:Aw,useMemo:Nw,useReducer:Np,useRef:bw,useState:function(){return Np(ou)},useDebugValue:Mp,useDeferredValue:function(i){var a=Kn();return Ot===null?a.memoizedState=i:Dw(a,Ot.memoizedState,i)},useTransition:function(){var i=Np(ou)[0],a=Kn().memoizedState;return[i,a]},useMutableSource:yw,useSyncExternalStore:vw,useId:Mw,unstable_isNewReconciler:!1};function yr(i,a){if(i&&i.defaultProps){a=oe({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}function Lp(i,a,d,p){a=i.memoizedState,d=d(p,a),d=d==null?a:oe({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var _d={isMounted:function(i){return(i=i._reactInternals)?lr(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var p=pn(),v=ai(i),T=vs(p,v);T.payload=a,d!=null&&(T.callback=d),a=ri(i,T,v),a!==null&&(Er(a,i,v,p),fd(a,i,v))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var p=pn(),v=ai(i),T=vs(p,v);T.tag=1,T.payload=a,d!=null&&(T.callback=d),a=ri(i,T,v),a!==null&&(Er(a,i,v,p),fd(a,i,v))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=pn(),p=ai(i),v=vs(d,p);v.tag=2,a!=null&&(v.callback=a),a=ri(i,v,p),a!==null&&(Er(a,i,p,d),fd(a,i,p))}};function Fw(i,a,d,p,v,T,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,T,I):a.prototype&&a.prototype.isPureReactComponent?!Gl(d,p)||!Gl(v,T):!0}function Uw(i,a,d){var p=!1,v=ei,T=a.contextType;return typeof T=="object"&&T!==null?T=Gn(T):(v=_n(a)?oo:tn.current,p=a.contextTypes,T=(p=p!=null)?Ta(i,v):ei),a=new a(d,T),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=_d,i.stateNode=a,a._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=T),a}function Bw(i,a,d,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,p),a.state!==i&&_d.enqueueReplaceState(a,a.state,null)}function Op(i,a,d,p){var v=i.stateNode;v.props=d,v.state=i.memoizedState,v.refs={},Tp(i);var T=a.contextType;typeof T=="object"&&T!==null?v.context=Gn(T):(T=_n(a)?oo:tn.current,v.context=Ta(i,T)),v.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Lp(i,a,T,d),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&_d.enqueueReplaceState(v,v.state,null),pd(i,d,v,p),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Ra(i,a){try{var d="",p=a;do d+=De(p),p=p.return;while(p);var v=d}catch(T){v=`
Error generating stack: `+T.message+`
`+T.stack}return{value:i,source:a,stack:v,digest:null}}function Vp(i,a,d){return{value:i,source:null,stack:d??null,digest:a??null}}function Fp(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var ZA=typeof WeakMap=="function"?WeakMap:Map;function zw(i,a,d){d=vs(-1,d),d.tag=3,d.payload={element:null};var p=a.value;return d.callback=function(){Ad||(Ad=!0,Zp=p),Fp(i,a)},d}function jw(i,a,d){d=vs(-1,d),d.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var v=a.value;d.payload=function(){return p(v)},d.callback=function(){Fp(i,a)}}var T=i.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){Fp(i,a),typeof p!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),d}function $w(i,a,d){var p=i.pingCache;if(p===null){p=i.pingCache=new ZA;var v=new Set;p.set(a,v)}else v=p.get(a),v===void 0&&(v=new Set,p.set(a,v));v.has(d)||(v.add(d),i=fP.bind(null,i,a,d),a.then(i,i))}function Hw(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Ww(i,a,d,p,v){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=vs(-1,1),a.tag=2,ri(d,a,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var eP=j.ReactCurrentOwner,Tn=!1;function fn(i,a,d,p){a.child=i===null?dw(a,null,d,p):Ia(a,i.child,d,p)}function qw(i,a,d,p,v){d=d.render;var T=a.ref;return Aa(a,v),p=Pp(i,a,d,p,T,v),d=Rp(),i!==null&&!Tn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,ws(i,a,v)):(at&&d&&hp(a),a.flags|=1,fn(i,a,p,v),a.child)}function Gw(i,a,d,p,v){if(i===null){var T=d.type;return typeof T=="function"&&!om(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=T,Kw(i,a,T,p,v)):(i=Md(d.type,null,p,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(T=i.child,(i.lanes&v)===0){var I=T.memoizedProps;if(d=d.compare,d=d!==null?d:Gl,d(I,p)&&i.ref===a.ref)return ws(i,a,v)}return a.flags|=1,i=ui(T,p),i.ref=a.ref,i.return=a,a.child=i}function Kw(i,a,d,p,v){if(i!==null){var T=i.memoizedProps;if(Gl(T,p)&&i.ref===a.ref)if(Tn=!1,a.pendingProps=p=T,(i.lanes&v)!==0)(i.flags&131072)!==0&&(Tn=!0);else return a.lanes=i.lanes,ws(i,a,v)}return Up(i,a,d,p,v)}function Qw(i,a,d){var p=a.pendingProps,v=p.children,T=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Na,Vn),Vn|=d;else{if((d&1073741824)===0)return i=T!==null?T.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,nt(Na,Vn),Vn|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=T!==null?T.baseLanes:d,nt(Na,Vn),Vn|=p}else T!==null?(p=T.baseLanes|d,a.memoizedState=null):p=d,nt(Na,Vn),Vn|=p;return fn(i,a,v,d),a.child}function Yw(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Up(i,a,d,p,v){var T=_n(d)?oo:tn.current;return T=Ta(a,T),Aa(a,v),d=Pp(i,a,d,p,T,v),p=Rp(),i!==null&&!Tn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,ws(i,a,v)):(at&&p&&hp(a),a.flags|=1,fn(i,a,d,v),a.child)}function Xw(i,a,d,p,v){if(_n(d)){var T=!0;id(a)}else T=!1;if(Aa(a,v),a.stateNode===null)Sd(i,a),Uw(a,d,p),Op(a,d,p,v),p=!0;else if(i===null){var I=a.stateNode,U=a.memoizedProps;I.props=U;var $=I.context,ee=d.contextType;typeof ee=="object"&&ee!==null?ee=Gn(ee):(ee=_n(d)?oo:tn.current,ee=Ta(a,ee));var ue=d.getDerivedStateFromProps,ce=typeof ue=="function"||typeof I.getSnapshotBeforeUpdate=="function";ce||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(U!==p||$!==ee)&&Bw(a,I,p,ee),ni=!1;var le=a.memoizedState;I.state=le,pd(a,p,I,v),$=a.memoizedState,U!==p||le!==$||En.current||ni?(typeof ue=="function"&&(Lp(a,d,ue,p),$=a.memoizedState),(U=ni||Fw(a,d,U,p,le,$,ee))?(ce||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=$),I.props=p,I.state=$,I.context=ee,p=U):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{I=a.stateNode,fw(i,a),U=a.memoizedProps,ee=a.type===a.elementType?U:yr(a.type,U),I.props=ee,ce=a.pendingProps,le=I.context,$=d.contextType,typeof $=="object"&&$!==null?$=Gn($):($=_n(d)?oo:tn.current,$=Ta(a,$));var me=d.getDerivedStateFromProps;(ue=typeof me=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(U!==ce||le!==$)&&Bw(a,I,p,$),ni=!1,le=a.memoizedState,I.state=le,pd(a,p,I,v);var ve=a.memoizedState;U!==ce||le!==ve||En.current||ni?(typeof me=="function"&&(Lp(a,d,me,p),ve=a.memoizedState),(ee=ni||Fw(a,d,ee,p,le,ve,$)||!1)?(ue||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,ve,$),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,ve,$)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||U===i.memoizedProps&&le===i.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&le===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ve),I.props=p,I.state=ve,I.context=$,p=ee):(typeof I.componentDidUpdate!="function"||U===i.memoizedProps&&le===i.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&le===i.memoizedState||(a.flags|=1024),p=!1)}return Bp(i,a,d,p,T,v)}function Bp(i,a,d,p,v,T){Yw(i,a);var I=(a.flags&128)!==0;if(!p&&!I)return v&&nw(a,d,!1),ws(i,a,T);p=a.stateNode,eP.current=a;var U=I&&typeof d.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,i!==null&&I?(a.child=Ia(a,i.child,null,T),a.child=Ia(a,null,U,T)):fn(i,a,U,T),a.memoizedState=p.state,v&&nw(a,d,!0),a.child}function Jw(i){var a=i.stateNode;a.pendingContext?ew(i,a.pendingContext,a.pendingContext!==a.context):a.context&&ew(i,a.context,!1),Sp(i,a.containerInfo)}function Zw(i,a,d,p,v){return ba(),gp(v),a.flags|=256,fn(i,a,d,p),a.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function jp(i){return{baseLanes:i,cachePool:null,transitions:null}}function eE(i,a,d){var p=a.pendingProps,v=dt.current,T=!1,I=(a.flags&128)!==0,U;if((U=I)||(U=i!==null&&i.memoizedState===null?!1:(v&2)!==0),U?(T=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),nt(dt,v&1),i===null)return mp(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(I=p.children,i=p.fallback,T?(p=a.mode,T=a.child,I={mode:"hidden",children:I},(p&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=I):T=Ld(I,p,0,null),i=yo(i,p,d,null),T.return=a,i.return=a,T.sibling=i,a.child=T,a.child.memoizedState=jp(d),a.memoizedState=zp,i):$p(a,I));if(v=i.memoizedState,v!==null&&(U=v.dehydrated,U!==null))return tP(i,a,I,p,U,v,d);if(T){T=p.fallback,I=a.mode,v=i.child,U=v.sibling;var $={mode:"hidden",children:p.children};return(I&1)===0&&a.child!==v?(p=a.child,p.childLanes=0,p.pendingProps=$,a.deletions=null):(p=ui(v,$),p.subtreeFlags=v.subtreeFlags&14680064),U!==null?T=ui(U,T):(T=yo(T,I,d,null),T.flags|=2),T.return=a,p.return=a,p.sibling=T,a.child=p,p=T,T=a.child,I=i.child.memoizedState,I=I===null?jp(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},T.memoizedState=I,T.childLanes=i.childLanes&~d,a.memoizedState=zp,p}return T=i.child,i=T.sibling,p=ui(T,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=d),p.return=a,p.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=p,a.memoizedState=null,p}function $p(i,a){return a=Ld({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Td(i,a,d,p){return p!==null&&gp(p),Ia(a,i.child,null,d),i=$p(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function tP(i,a,d,p,v,T,I){if(d)return a.flags&256?(a.flags&=-257,p=Vp(Error(n(422))),Td(i,a,I,p)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(T=p.fallback,v=a.mode,p=Ld({mode:"visible",children:p.children},v,0,null),T=yo(T,v,I,null),T.flags|=2,p.return=a,T.return=a,p.sibling=T,a.child=p,(a.mode&1)!==0&&Ia(a,i.child,null,I),a.child.memoizedState=jp(I),a.memoizedState=zp,T);if((a.mode&1)===0)return Td(i,a,I,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var U=p.dgst;return p=U,T=Error(n(419)),p=Vp(T,p,void 0),Td(i,a,I,p)}if(U=(I&i.childLanes)!==0,Tn||U){if(p=jt,p!==null){switch(I&-I){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|I))!==0?0:v,v!==0&&v!==T.retryLane&&(T.retryLane=v,ys(i,v),Er(p,i,v,-1))}return im(),p=Vp(Error(n(421))),Td(i,a,I,p)}return v.data==="$?"?(a.flags|=128,a.child=i.child,a=pP.bind(null,i),v._reactRetry=a,null):(i=T.treeContext,On=Js(v.nextSibling),Ln=a,at=!0,gr=null,i!==null&&(Wn[qn++]=ms,Wn[qn++]=gs,Wn[qn++]=ao,ms=i.id,gs=i.overflow,ao=a),a=$p(a,p.children),a.flags|=4096,a)}function tE(i,a,d){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),Ep(i.return,a,d)}function Hp(i,a,d,p,v){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:v}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=d,T.tailMode=v)}function nE(i,a,d){var p=a.pendingProps,v=p.revealOrder,T=p.tail;if(fn(i,a,p.children,d),p=dt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tE(i,d,a);else if(i.tag===19)tE(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(nt(dt,p),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(d=a.child,v=null;d!==null;)i=d.alternate,i!==null&&md(i)===null&&(v=d),d=d.sibling;d=v,d===null?(v=a.child,a.child=null):(v=d.sibling,d.sibling=null),Hp(a,!1,v,d,T);break;case"backwards":for(d=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&md(i)===null){a.child=v;break}i=v.sibling,v.sibling=d,d=v,v=i}Hp(a,!0,d,null,T);break;case"together":Hp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Sd(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function ws(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),fo|=a.lanes,(d&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,d=ui(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=ui(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function nP(i,a,d){switch(a.tag){case 3:Jw(a),ba();break;case 5:gw(a);break;case 1:_n(a.type)&&id(a);break;case 4:Sp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,v=a.memoizedProps.value;nt(dd,p._currentValue),p._currentValue=v;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(nt(dt,dt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?eE(i,a,d):(nt(dt,dt.current&1),i=ws(i,a,d),i!==null?i.sibling:null);nt(dt,dt.current&1);break;case 19:if(p=(d&a.childLanes)!==0,(i.flags&128)!==0){if(p)return nE(i,a,d);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),nt(dt,dt.current),p)break;return null;case 22:case 23:return a.lanes=0,Qw(i,a,d)}return ws(i,a,d)}var rE,Wp,sE,iE;rE=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Wp=function(){},sE=function(i,a,d,p){var v=i.memoizedProps;if(v!==p){i=a.stateNode,co(Vr.current);var T=null;switch(d){case"input":v=$i(i,v),p=$i(i,p),T=[];break;case"select":v=oe({},v,{value:void 0}),p=oe({},p,{value:void 0}),T=[];break;case"textarea":v=Tl(i,v),p=Tl(i,p),T=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=nd)}Al(d,p);var I;d=null;for(ee in v)if(!p.hasOwnProperty(ee)&&v.hasOwnProperty(ee)&&v[ee]!=null)if(ee==="style"){var U=v[ee];for(I in U)U.hasOwnProperty(I)&&(d||(d={}),d[I]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?T||(T=[]):(T=T||[]).push(ee,null));for(ee in p){var $=p[ee];if(U=v?.[ee],p.hasOwnProperty(ee)&&$!==U&&($!=null||U!=null))if(ee==="style")if(U){for(I in U)!U.hasOwnProperty(I)||$&&$.hasOwnProperty(I)||(d||(d={}),d[I]="");for(I in $)$.hasOwnProperty(I)&&U[I]!==$[I]&&(d||(d={}),d[I]=$[I])}else d||(T||(T=[]),T.push(ee,d)),d=$;else ee==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,U=U?U.__html:void 0,$!=null&&U!==$&&(T=T||[]).push(ee,$)):ee==="children"?typeof $!="string"&&typeof $!="number"||(T=T||[]).push(ee,""+$):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?($!=null&&ee==="onScroll"&&rt("scroll",i),T||U===$||(T=[])):(T=T||[]).push(ee,$))}d&&(T=T||[]).push("style",d);var ee=T;(a.updateQueue=ee)&&(a.flags|=4)}},iE=function(i,a,d,p){d!==p&&(a.flags|=4)};function lu(i,a){if(!at)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function rn(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(a)for(var v=i.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=d,a}function rP(i,a,d){var p=a.pendingProps;switch(fp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(a),null;case 1:return _n(a.type)&&sd(),rn(a),null;case 3:return p=a.stateNode,Pa(),st(En),st(tn),Ip(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(ud(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gr!==null&&(nm(gr),gr=null))),Wp(i,a),rn(a),null;case 5:xp(a);var v=co(ru.current);if(d=a.type,i!==null&&a.stateNode!=null)sE(i,a,d,p,v),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return rn(a),null}if(i=co(Vr.current),ud(a)){p=a.stateNode,d=a.type;var T=a.memoizedProps;switch(p[Or]=a,p[Jl]=T,i=(a.mode&1)!==0,d){case"dialog":rt("cancel",p),rt("close",p);break;case"iframe":case"object":case"embed":rt("load",p);break;case"video":case"audio":for(v=0;v<Ql.length;v++)rt(Ql[v],p);break;case"source":rt("error",p);break;case"img":case"image":case"link":rt("error",p),rt("load",p);break;case"details":rt("toggle",p);break;case"input":Ho(p,T),rt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!T.multiple},rt("invalid",p);break;case"textarea":qo(p,T),rt("invalid",p)}Al(d,T),v=null;for(var I in T)if(T.hasOwnProperty(I)){var U=T[I];I==="children"?typeof U=="string"?p.textContent!==U&&(T.suppressHydrationWarning!==!0&&td(p.textContent,U,i),v=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(T.suppressHydrationWarning!==!0&&td(p.textContent,U,i),v=["children",""+U]):s.hasOwnProperty(I)&&U!=null&&I==="onScroll"&&rt("scroll",p)}switch(d){case"input":rs(p),Cc(p,T,!0);break;case"textarea":rs(p),Sl(p);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(p.onclick=nd)}p=v,a.updateQueue=p,p!==null&&(a.flags|=4)}else{I=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Dt(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=I.createElement(d,{is:p.is}):(i=I.createElement(d),d==="select"&&(I=i,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):i=I.createElementNS(i,d),i[Or]=a,i[Jl]=p,rE(i,a,!1,!1),a.stateNode=i;e:{switch(I=Pl(d,p),d){case"dialog":rt("cancel",i),rt("close",i),v=p;break;case"iframe":case"object":case"embed":rt("load",i),v=p;break;case"video":case"audio":for(v=0;v<Ql.length;v++)rt(Ql[v],i);v=p;break;case"source":rt("error",i),v=p;break;case"img":case"image":case"link":rt("error",i),rt("load",i),v=p;break;case"details":rt("toggle",i),v=p;break;case"input":Ho(i,p),v=$i(i,p),rt("invalid",i);break;case"option":v=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},v=oe({},p,{value:void 0}),rt("invalid",i);break;case"textarea":qo(i,p),v=Tl(i,p),rt("invalid",i);break;default:v=p}Al(d,v),U=v;for(T in U)if(U.hasOwnProperty(T)){var $=U[T];T==="style"?Il(i,$):T==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&xl(i,$)):T==="children"?typeof $=="string"?(d!=="textarea"||$!=="")&&zs(i,$):typeof $=="number"&&zs(i,""+$):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(s.hasOwnProperty(T)?$!=null&&T==="onScroll"&&rt("scroll",i):$!=null&&N(i,T,$,I))}switch(d){case"input":rs(i),Cc(i,p,!1);break;case"textarea":rs(i),Sl(i);break;case"option":p.value!=null&&i.setAttribute("value",""+je(p.value));break;case"select":i.multiple=!!p.multiple,T=p.value,T!=null?is(i,!!p.multiple,T,!1):p.defaultValue!=null&&is(i,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=nd)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return rn(a),null;case 6:if(i&&a.stateNode!=null)iE(i,a,i.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(d=co(ru.current),co(Vr.current),ud(a)){if(p=a.stateNode,d=a.memoizedProps,p[Or]=a,(T=p.nodeValue!==d)&&(i=Ln,i!==null))switch(i.tag){case 3:td(p.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&td(p.nodeValue,d,(i.mode&1)!==0)}T&&(a.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[Or]=a,a.stateNode=p}return rn(a),null;case 13:if(st(dt),p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(at&&On!==null&&(a.mode&1)!==0&&(a.flags&128)===0)lw(),ba(),a.flags|=98560,T=!1;else if(T=ud(a),p!==null&&p.dehydrated!==null){if(i===null){if(!T)throw Error(n(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Or]=a}else ba(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rn(a),T=!1}else gr!==null&&(nm(gr),gr=null),T=!0;if(!T)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(dt.current&1)!==0?Vt===0&&(Vt=3):im())),a.updateQueue!==null&&(a.flags|=4),rn(a),null);case 4:return Pa(),Wp(i,a),i===null&&Yl(a.stateNode.containerInfo),rn(a),null;case 10:return wp(a.type._context),rn(a),null;case 17:return _n(a.type)&&sd(),rn(a),null;case 19:if(st(dt),T=a.memoizedState,T===null)return rn(a),null;if(p=(a.flags&128)!==0,I=T.rendering,I===null)if(p)lu(T,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(I=md(i),I!==null){for(a.flags|=128,lu(T,!1),p=I.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=d,d=a.child;d!==null;)T=d,i=p,T.flags&=14680066,I=T.alternate,I===null?(T.childLanes=0,T.lanes=i,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=I.childLanes,T.lanes=I.lanes,T.child=I.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=I.memoizedProps,T.memoizedState=I.memoizedState,T.updateQueue=I.updateQueue,T.type=I.type,i=I.dependencies,T.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return nt(dt,dt.current&1|2),a.child}i=i.sibling}T.tail!==null&&tt()>Da&&(a.flags|=128,p=!0,lu(T,!1),a.lanes=4194304)}else{if(!p)if(i=md(I),i!==null){if(a.flags|=128,p=!0,d=i.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),lu(T,!0),T.tail===null&&T.tailMode==="hidden"&&!I.alternate&&!at)return rn(a),null}else 2*tt()-T.renderingStartTime>Da&&d!==1073741824&&(a.flags|=128,p=!0,lu(T,!1),a.lanes=4194304);T.isBackwards?(I.sibling=a.child,a.child=I):(d=T.last,d!==null?d.sibling=I:a.child=I,T.last=I)}return T.tail!==null?(a=T.tail,T.rendering=a,T.tail=a.sibling,T.renderingStartTime=tt(),a.sibling=null,d=dt.current,nt(dt,p?d&1|2:d&1),a):(rn(a),null);case 22:case 23:return sm(),p=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Vn&1073741824)!==0&&(rn(a),a.subtreeFlags&6&&(a.flags|=8192)):rn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function sP(i,a){switch(fp(a),a.tag){case 1:return _n(a.type)&&sd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Pa(),st(En),st(tn),Ip(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return xp(a),null;case 13:if(st(dt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ba()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return st(dt),null;case 4:return Pa(),null;case 10:return wp(a.type._context),null;case 22:case 23:return sm(),null;case 24:return null;default:return null}}var xd=!1,sn=!1,iP=typeof WeakSet=="function"?WeakSet:Set,ye=null;function ka(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){mt(i,a,p)}else d.current=null}function qp(i,a,d){try{d()}catch(p){mt(i,a,p)}}var oE=!1;function oP(i,a){if(sp=Qs,i=F0(),Yf(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var v=p.anchorOffset,T=p.focusNode;p=p.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var I=0,U=-1,$=-1,ee=0,ue=0,ce=i,le=null;t:for(;;){for(var me;ce!==d||v!==0&&ce.nodeType!==3||(U=I+v),ce!==T||p!==0&&ce.nodeType!==3||($=I+p),ce.nodeType===3&&(I+=ce.nodeValue.length),(me=ce.firstChild)!==null;)le=ce,ce=me;for(;;){if(ce===i)break t;if(le===d&&++ee===v&&(U=I),le===T&&++ue===p&&($=I),(me=ce.nextSibling)!==null)break;ce=le,le=ce.parentNode}ce=me}d=U===-1||$===-1?null:{start:U,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(ip={focusedElem:i,selectionRange:d},Qs=!1,ye=a;ye!==null;)if(a=ye,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,ye=i;else for(;ye!==null;){a=ye;try{var ve=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,_t=ve.memoizedState,Y=a.stateNode,W=Y.getSnapshotBeforeUpdate(a.elementType===a.type?we:yr(a.type,we),_t);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){mt(a,a.return,de)}if(i=a.sibling,i!==null){i.return=a.return,ye=i;break}ye=a.return}return ve=oE,oE=!1,ve}function uu(i,a,d){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&i)===i){var T=v.destroy;v.destroy=void 0,T!==void 0&&qp(a,d,T)}v=v.next}while(v!==p)}}function bd(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var p=d.create;d.destroy=p()}d=d.next}while(d!==a)}}function Gp(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof a=="function"?a(i):a.current=i}}function aE(i){var a=i.alternate;a!==null&&(i.alternate=null,aE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Or],delete a[Jl],delete a[up],delete a[jA],delete a[$A])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function lE(i){return i.tag===5||i.tag===3||i.tag===4}function uE(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Kp(i,a,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(i,a):d.insertBefore(i,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(i,d)):(a=d,a.appendChild(i)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=nd));else if(p!==4&&(i=i.child,i!==null))for(Kp(i,a,d),i=i.sibling;i!==null;)Kp(i,a,d),i=i.sibling}function Qp(i,a,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Qp(i,a,d),i=i.sibling;i!==null;)Qp(i,a,d),i=i.sibling}var Kt=null,vr=!1;function si(i,a,d){for(d=d.child;d!==null;)cE(i,a,d),d=d.sibling}function cE(i,a,d){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Ji,d)}catch{}switch(d.tag){case 5:sn||ka(d,a);case 6:var p=Kt,v=vr;Kt=null,si(i,a,d),Kt=p,vr=v,Kt!==null&&(vr?(i=Kt,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):Kt.removeChild(d.stateNode));break;case 18:Kt!==null&&(vr?(i=Kt,d=d.stateNode,i.nodeType===8?lp(i.parentNode,d):i.nodeType===1&&lp(i,d),fr(i)):lp(Kt,d.stateNode));break;case 4:p=Kt,v=vr,Kt=d.stateNode.containerInfo,vr=!0,si(i,a,d),Kt=p,vr=v;break;case 0:case 11:case 14:case 15:if(!sn&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var T=v,I=T.destroy;T=T.tag,I!==void 0&&((T&2)!==0||(T&4)!==0)&&qp(d,a,I),v=v.next}while(v!==p)}si(i,a,d);break;case 1:if(!sn&&(ka(d,a),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(U){mt(d,a,U)}si(i,a,d);break;case 21:si(i,a,d);break;case 22:d.mode&1?(sn=(p=sn)||d.memoizedState!==null,si(i,a,d),sn=p):si(i,a,d);break;default:si(i,a,d)}}function dE(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new iP),a.forEach(function(p){var v=mP.bind(null,i,p);d.has(p)||(d.add(p),p.then(v,v))})}}function wr(i,a){var d=a.deletions;if(d!==null)for(var p=0;p<d.length;p++){var v=d[p];try{var T=i,I=a,U=I;e:for(;U!==null;){switch(U.tag){case 5:Kt=U.stateNode,vr=!1;break e;case 3:Kt=U.stateNode.containerInfo,vr=!0;break e;case 4:Kt=U.stateNode.containerInfo,vr=!0;break e}U=U.return}if(Kt===null)throw Error(n(160));cE(T,I,v),Kt=null,vr=!1;var $=v.alternate;$!==null&&($.return=null),v.return=null}catch(ee){mt(v,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)hE(a,i),a=a.sibling}function hE(i,a){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(wr(a,i),Ur(i),p&4){try{uu(3,i,i.return),bd(3,i)}catch(we){mt(i,i.return,we)}try{uu(5,i,i.return)}catch(we){mt(i,i.return,we)}}break;case 1:wr(a,i),Ur(i),p&512&&d!==null&&ka(d,d.return);break;case 5:if(wr(a,i),Ur(i),p&512&&d!==null&&ka(d,d.return),i.flags&32){var v=i.stateNode;try{zs(v,"")}catch(we){mt(i,i.return,we)}}if(p&4&&(v=i.stateNode,v!=null)){var T=i.memoizedProps,I=d!==null?d.memoizedProps:T,U=i.type,$=i.updateQueue;if(i.updateQueue=null,$!==null)try{U==="input"&&T.type==="radio"&&T.name!=null&&El(v,T),Pl(U,I);var ee=Pl(U,T);for(I=0;I<$.length;I+=2){var ue=$[I],ce=$[I+1];ue==="style"?Il(v,ce):ue==="dangerouslySetInnerHTML"?xl(v,ce):ue==="children"?zs(v,ce):N(v,ue,ce,ee)}switch(U){case"input":_l(v,T);break;case"textarea":Go(v,T);break;case"select":var le=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!T.multiple;var me=T.value;me!=null?is(v,!!T.multiple,me,!1):le!==!!T.multiple&&(T.defaultValue!=null?is(v,!!T.multiple,T.defaultValue,!0):is(v,!!T.multiple,T.multiple?[]:"",!1))}v[Jl]=T}catch(we){mt(i,i.return,we)}}break;case 6:if(wr(a,i),Ur(i),p&4){if(i.stateNode===null)throw Error(n(162));v=i.stateNode,T=i.memoizedProps;try{v.nodeValue=T}catch(we){mt(i,i.return,we)}}break;case 3:if(wr(a,i),Ur(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{fr(a.containerInfo)}catch(we){mt(i,i.return,we)}break;case 4:wr(a,i),Ur(i);break;case 13:wr(a,i),Ur(i),v=i.child,v.flags&8192&&(T=v.memoizedState!==null,v.stateNode.isHidden=T,!T||v.alternate!==null&&v.alternate.memoizedState!==null||(Jp=tt())),p&4&&dE(i);break;case 22:if(ue=d!==null&&d.memoizedState!==null,i.mode&1?(sn=(ee=sn)||ue,wr(a,i),sn=ee):wr(a,i),Ur(i),p&8192){if(ee=i.memoizedState!==null,(i.stateNode.isHidden=ee)&&!ue&&(i.mode&1)!==0)for(ye=i,ue=i.child;ue!==null;){for(ce=ye=ue;ye!==null;){switch(le=ye,me=le.child,le.tag){case 0:case 11:case 14:case 15:uu(4,le,le.return);break;case 1:ka(le,le.return);var ve=le.stateNode;if(typeof ve.componentWillUnmount=="function"){p=le,d=le.return;try{a=p,ve.props=a.memoizedProps,ve.state=a.memoizedState,ve.componentWillUnmount()}catch(we){mt(p,d,we)}}break;case 5:ka(le,le.return);break;case 22:if(le.memoizedState!==null){mE(ce);continue}}me!==null?(me.return=le,ye=me):mE(ce)}ue=ue.sibling}e:for(ue=null,ce=i;;){if(ce.tag===5){if(ue===null){ue=ce;try{v=ce.stateNode,ee?(T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(U=ce.stateNode,$=ce.memoizedProps.style,I=$!=null&&$.hasOwnProperty("display")?$.display:null,U.style.display=bl("display",I))}catch(we){mt(i,i.return,we)}}}else if(ce.tag===6){if(ue===null)try{ce.stateNode.nodeValue=ee?"":ce.memoizedProps}catch(we){mt(i,i.return,we)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===i)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===i)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===i)break e;ue===ce&&(ue=null),ce=ce.return}ue===ce&&(ue=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:wr(a,i),Ur(i),p&4&&dE(i);break;case 21:break;default:wr(a,i),Ur(i)}}function Ur(i){var a=i.flags;if(a&2){try{e:{for(var d=i.return;d!==null;){if(lE(d)){var p=d;break e}d=d.return}throw Error(n(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(zs(v,""),p.flags&=-33);var T=uE(i);Qp(i,T,v);break;case 3:case 4:var I=p.stateNode.containerInfo,U=uE(i);Kp(i,U,I);break;default:throw Error(n(161))}}catch($){mt(i,i.return,$)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function aP(i,a,d){ye=i,fE(i)}function fE(i,a,d){for(var p=(i.mode&1)!==0;ye!==null;){var v=ye,T=v.child;if(v.tag===22&&p){var I=v.memoizedState!==null||xd;if(!I){var U=v.alternate,$=U!==null&&U.memoizedState!==null||sn;U=xd;var ee=sn;if(xd=I,(sn=$)&&!ee)for(ye=v;ye!==null;)I=ye,$=I.child,I.tag===22&&I.memoizedState!==null?gE(v):$!==null?($.return=I,ye=$):gE(v);for(;T!==null;)ye=T,fE(T),T=T.sibling;ye=v,xd=U,sn=ee}pE(i)}else(v.subtreeFlags&8772)!==0&&T!==null?(T.return=v,ye=T):pE(i)}}function pE(i){for(;ye!==null;){var a=ye;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:sn||bd(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!sn)if(d===null)p.componentDidMount();else{var v=a.elementType===a.type?d.memoizedProps:yr(a.type,d.memoizedProps);p.componentDidUpdate(v,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var T=a.updateQueue;T!==null&&mw(a,T,p);break;case 3:var I=a.updateQueue;if(I!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}mw(a,I,d)}break;case 5:var U=a.stateNode;if(d===null&&a.flags&4){d=U;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&d.focus();break;case"img":$.src&&(d.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var ue=ee.memoizedState;if(ue!==null){var ce=ue.dehydrated;ce!==null&&fr(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}sn||a.flags&512&&Gp(a)}catch(le){mt(a,a.return,le)}}if(a===i){ye=null;break}if(d=a.sibling,d!==null){d.return=a.return,ye=d;break}ye=a.return}}function mE(i){for(;ye!==null;){var a=ye;if(a===i){ye=null;break}var d=a.sibling;if(d!==null){d.return=a.return,ye=d;break}ye=a.return}}function gE(i){for(;ye!==null;){var a=ye;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{bd(4,a)}catch($){mt(a,d,$)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var v=a.return;try{p.componentDidMount()}catch($){mt(a,v,$)}}var T=a.return;try{Gp(a)}catch($){mt(a,T,$)}break;case 5:var I=a.return;try{Gp(a)}catch($){mt(a,I,$)}}}catch($){mt(a,a.return,$)}if(a===i){ye=null;break}var U=a.sibling;if(U!==null){U.return=a.return,ye=U;break}ye=a.return}}var lP=Math.ceil,Id=j.ReactCurrentDispatcher,Yp=j.ReactCurrentOwner,Qn=j.ReactCurrentBatchConfig,We=0,jt=null,At=null,Qt=0,Vn=0,Na=Zs(0),Vt=0,cu=null,fo=0,Cd=0,Xp=0,du=null,Sn=null,Jp=0,Da=1/0,Es=null,Ad=!1,Zp=null,ii=null,Pd=!1,oi=null,Rd=0,hu=0,em=null,kd=-1,Nd=0;function pn(){return(We&6)!==0?tt():kd!==-1?kd:kd=tt()}function ai(i){return(i.mode&1)===0?1:(We&2)!==0&&Qt!==0?Qt&-Qt:WA.transition!==null?(Nd===0&&(Nd=eo()),Nd):(i=ze,i!==0||(i=window.event,i=i===void 0?16:Bl(i.type)),i)}function Er(i,a,d,p){if(50<hu)throw hu=0,em=null,Error(n(185));Ws(i,d,p),((We&2)===0||i!==jt)&&(i===jt&&((We&2)===0&&(Cd|=d),Vt===4&&li(i,Qt)),xn(i,p),d===1&&We===0&&(a.mode&1)===0&&(Da=tt()+500,od&&ti()))}function xn(i,a){var d=i.callbackNode;ls(i,a);var p=Zi(i,i===jt?Qt:0);if(p===0)d!==null&&Ll(d),i.callbackNode=null,i.callbackPriority=0;else if(a=p&-p,i.callbackPriority!==a){if(d!=null&&Ll(d),a===1)i.tag===0?HA(vE.bind(null,i)):rw(vE.bind(null,i)),BA(function(){(We&6)===0&&ti()}),d=null;else{switch(Gs(p)){case 1:d=Xi;break;case 4:d=js;break;case 16:d=jn;break;case 536870912:d=Nc;break;default:d=jn}d=IE(d,yE.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function yE(i,a){if(kd=-1,Nd=0,(We&6)!==0)throw Error(n(327));var d=i.callbackNode;if(Ma()&&i.callbackNode!==d)return null;var p=Zi(i,i===jt?Qt:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||a)a=Dd(i,p);else{a=p;var v=We;We|=2;var T=EE();(jt!==i||Qt!==a)&&(Es=null,Da=tt()+500,mo(i,a));do try{dP();break}catch(U){wE(i,U)}while(!0);vp(),Id.current=T,We=v,At!==null?a=0:(jt=null,Qt=0,a=Vt)}if(a!==0){if(a===2&&(v=Nn(i),v!==0&&(p=v,a=tm(i,v))),a===1)throw d=cu,mo(i,0),li(i,p),xn(i,tt()),d;if(a===6)li(i,p);else{if(v=i.current.alternate,(p&30)===0&&!uP(v)&&(a=Dd(i,p),a===2&&(T=Nn(i),T!==0&&(p=T,a=tm(i,T))),a===1))throw d=cu,mo(i,0),li(i,p),xn(i,tt()),d;switch(i.finishedWork=v,i.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:go(i,Sn,Es);break;case 3:if(li(i,p),(p&130023424)===p&&(a=Jp+500-tt(),10<a)){if(Zi(i,0)!==0)break;if(v=i.suspendedLanes,(v&p)!==p){pn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=ap(go.bind(null,i,Sn,Es),a);break}go(i,Sn,Es);break;case 4:if(li(i,p),(p&4194240)===p)break;for(a=i.eventTimes,v=-1;0<p;){var I=31-dn(p);T=1<<I,I=a[I],I>v&&(v=I),p&=~T}if(p=v,p=tt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*lP(p/1960))-p,10<p){i.timeoutHandle=ap(go.bind(null,i,Sn,Es),p);break}go(i,Sn,Es);break;case 5:go(i,Sn,Es);break;default:throw Error(n(329))}}}return xn(i,tt()),i.callbackNode===d?yE.bind(null,i):null}function tm(i,a){var d=du;return i.current.memoizedState.isDehydrated&&(mo(i,a).flags|=256),i=Dd(i,a),i!==2&&(a=Sn,Sn=d,a!==null&&nm(a)),i}function nm(i){Sn===null?Sn=i:Sn.push.apply(Sn,i)}function uP(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var v=d[p],T=v.getSnapshot;v=v.value;try{if(!mr(T(),v))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function li(i,a){for(a&=~Xp,a&=~Cd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-dn(a),p=1<<d;i[d]=-1,a&=~p}}function vE(i){if((We&6)!==0)throw Error(n(327));Ma();var a=Zi(i,0);if((a&1)===0)return xn(i,tt()),null;var d=Dd(i,a);if(i.tag!==0&&d===2){var p=Nn(i);p!==0&&(a=p,d=tm(i,p))}if(d===1)throw d=cu,mo(i,0),li(i,a),xn(i,tt()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,go(i,Sn,Es),xn(i,tt()),null}function rm(i,a){var d=We;We|=1;try{return i(a)}finally{We=d,We===0&&(Da=tt()+500,od&&ti())}}function po(i){oi!==null&&oi.tag===0&&(We&6)===0&&Ma();var a=We;We|=1;var d=Qn.transition,p=ze;try{if(Qn.transition=null,ze=1,i)return i()}finally{ze=p,Qn.transition=d,We=a,(We&6)===0&&ti()}}function sm(){Vn=Na.current,st(Na)}function mo(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,UA(d)),At!==null)for(d=At.return;d!==null;){var p=d;switch(fp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&sd();break;case 3:Pa(),st(En),st(tn),Ip();break;case 5:xp(p);break;case 4:Pa();break;case 13:st(dt);break;case 19:st(dt);break;case 10:wp(p.type._context);break;case 22:case 23:sm()}d=d.return}if(jt=i,At=i=ui(i.current,null),Qt=Vn=a,Vt=0,cu=null,Xp=Cd=fo=0,Sn=du=null,uo!==null){for(a=0;a<uo.length;a++)if(d=uo[a],p=d.interleaved,p!==null){d.interleaved=null;var v=p.next,T=d.pending;if(T!==null){var I=T.next;T.next=v,p.next=I}d.pending=p}uo=null}return i}function wE(i,a){do{var d=At;try{if(vp(),gd.current=Ed,yd){for(var p=ht.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}yd=!1}if(ho=0,zt=Ot=ht=null,su=!1,iu=0,Yp.current=null,d===null||d.return===null){Vt=1,cu=a,At=null;break}e:{var T=i,I=d.return,U=d,$=a;if(a=Qt,U.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ee=$,ue=U,ce=ue.tag;if((ue.mode&1)===0&&(ce===0||ce===11||ce===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var me=Hw(I);if(me!==null){me.flags&=-257,Ww(me,I,U,T,a),me.mode&1&&$w(T,ee,a),a=me,$=ee;var ve=a.updateQueue;if(ve===null){var we=new Set;we.add($),a.updateQueue=we}else ve.add($);break e}else{if((a&1)===0){$w(T,ee,a),im();break e}$=Error(n(426))}}else if(at&&U.mode&1){var _t=Hw(I);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),Ww(_t,I,U,T,a),gp(Ra($,U));break e}}T=$=Ra($,U),Vt!==4&&(Vt=2),du===null?du=[T]:du.push(T),T=I;do{switch(T.tag){case 3:T.flags|=65536,a&=-a,T.lanes|=a;var Y=zw(T,$,a);pw(T,Y);break e;case 1:U=$;var W=T.type,J=T.stateNode;if((T.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(ii===null||!ii.has(J)))){T.flags|=65536,a&=-a,T.lanes|=a;var de=jw(T,U,a);pw(T,de);break e}}T=T.return}while(T!==null)}TE(d)}catch(Ee){a=Ee,At===d&&d!==null&&(At=d=d.return);continue}break}while(!0)}function EE(){var i=Id.current;return Id.current=Ed,i===null?Ed:i}function im(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),jt===null||(fo&268435455)===0&&(Cd&268435455)===0||li(jt,Qt)}function Dd(i,a){var d=We;We|=2;var p=EE();(jt!==i||Qt!==a)&&(Es=null,mo(i,a));do try{cP();break}catch(v){wE(i,v)}while(!0);if(vp(),We=d,Id.current=p,At!==null)throw Error(n(261));return jt=null,Qt=0,Vt}function cP(){for(;At!==null;)_E(At)}function dP(){for(;At!==null&&!Rc();)_E(At)}function _E(i){var a=bE(i.alternate,i,Vn);i.memoizedProps=i.pendingProps,a===null?TE(i):At=a,Yp.current=null}function TE(i){var a=i;do{var d=a.alternate;if(i=a.return,(a.flags&32768)===0){if(d=rP(d,a,Vn),d!==null){At=d;return}}else{if(d=sP(d,a),d!==null){d.flags&=32767,At=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Vt=6,At=null;return}}if(a=a.sibling,a!==null){At=a;return}At=a=i}while(a!==null);Vt===0&&(Vt=5)}function go(i,a,d){var p=ze,v=Qn.transition;try{Qn.transition=null,ze=1,hP(i,a,d,p)}finally{Qn.transition=v,ze=p}return null}function hP(i,a,d,p){do Ma();while(oi!==null);if((We&6)!==0)throw Error(n(327));d=i.finishedWork;var v=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var T=d.lanes|d.childLanes;if(Xe(i,T),i===jt&&(At=jt=null,Qt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Pd||(Pd=!0,IE(jn,function(){return Ma(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=Qn.transition,Qn.transition=null;var I=ze;ze=1;var U=We;We|=4,Yp.current=null,oP(i,d),hE(d,i),NA(ip),Qs=!!sp,ip=sp=null,i.current=d,aP(d),jf(),We=U,ze=I,Qn.transition=T}else i.current=d;if(Pd&&(Pd=!1,oi=i,Rd=v),T=i.pendingLanes,T===0&&(ii=null),Dc(d.stateNode),xn(i,tt()),a!==null)for(p=i.onRecoverableError,d=0;d<a.length;d++)v=a[d],p(v.value,{componentStack:v.stack,digest:v.digest});if(Ad)throw Ad=!1,i=Zp,Zp=null,i;return(Rd&1)!==0&&i.tag!==0&&Ma(),T=i.pendingLanes,(T&1)!==0?i===em?hu++:(hu=0,em=i):hu=0,ti(),null}function Ma(){if(oi!==null){var i=Gs(Rd),a=Qn.transition,d=ze;try{if(Qn.transition=null,ze=16>i?16:i,oi===null)var p=!1;else{if(i=oi,oi=null,Rd=0,(We&6)!==0)throw Error(n(331));var v=We;for(We|=4,ye=i.current;ye!==null;){var T=ye,I=T.child;if((ye.flags&16)!==0){var U=T.deletions;if(U!==null){for(var $=0;$<U.length;$++){var ee=U[$];for(ye=ee;ye!==null;){var ue=ye;switch(ue.tag){case 0:case 11:case 15:uu(8,ue,T)}var ce=ue.child;if(ce!==null)ce.return=ue,ye=ce;else for(;ye!==null;){ue=ye;var le=ue.sibling,me=ue.return;if(aE(ue),ue===ee){ye=null;break}if(le!==null){le.return=me,ye=le;break}ye=me}}}var ve=T.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var _t=we.sibling;we.sibling=null,we=_t}while(we!==null)}}ye=T}}if((T.subtreeFlags&2064)!==0&&I!==null)I.return=T,ye=I;else e:for(;ye!==null;){if(T=ye,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:uu(9,T,T.return)}var Y=T.sibling;if(Y!==null){Y.return=T.return,ye=Y;break e}ye=T.return}}var W=i.current;for(ye=W;ye!==null;){I=ye;var J=I.child;if((I.subtreeFlags&2064)!==0&&J!==null)J.return=I,ye=J;else e:for(I=W;ye!==null;){if(U=ye,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:bd(9,U)}}catch(Ee){mt(U,U.return,Ee)}if(U===I){ye=null;break e}var de=U.sibling;if(de!==null){de.return=U.return,ye=de;break e}ye=U.return}}if(We=v,ti(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Ji,i)}catch{}p=!0}return p}finally{ze=d,Qn.transition=a}}return!1}function SE(i,a,d){a=Ra(d,a),a=zw(i,a,1),i=ri(i,a,1),a=pn(),i!==null&&(Ws(i,1,a),xn(i,a))}function mt(i,a,d){if(i.tag===3)SE(i,i,d);else for(;a!==null;){if(a.tag===3){SE(a,i,d);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ii===null||!ii.has(p))){i=Ra(d,i),i=jw(a,i,1),a=ri(a,i,1),i=pn(),a!==null&&(Ws(a,1,i),xn(a,i));break}}a=a.return}}function fP(i,a,d){var p=i.pingCache;p!==null&&p.delete(a),a=pn(),i.pingedLanes|=i.suspendedLanes&d,jt===i&&(Qt&d)===d&&(Vt===4||Vt===3&&(Qt&130023424)===Qt&&500>tt()-Jp?mo(i,0):Xp|=d),xn(i,a)}function xE(i,a){a===0&&((i.mode&1)===0?a=1:(a=ra,ra<<=1,(ra&130023424)===0&&(ra=4194304)));var d=pn();i=ys(i,a),i!==null&&(Ws(i,a,d),xn(i,d))}function pP(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),xE(i,d)}function mP(i,a){var d=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(d=v.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),xE(i,d)}var bE;bE=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||En.current)Tn=!0;else{if((i.lanes&d)===0&&(a.flags&128)===0)return Tn=!1,nP(i,a,d);Tn=(i.flags&131072)!==0}else Tn=!1,at&&(a.flags&1048576)!==0&&sw(a,ld,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Sd(i,a),i=a.pendingProps;var v=Ta(a,tn.current);Aa(a,d),v=Pp(null,a,p,i,v,d);var T=Rp();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,_n(p)?(T=!0,id(a)):T=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Tp(a),v.updater=_d,a.stateNode=v,v._reactInternals=a,Op(a,p,i,d),a=Bp(null,a,p,!0,T,d)):(a.tag=0,at&&T&&hp(a),fn(null,a,v,d),a=a.child),a;case 16:p=a.elementType;e:{switch(Sd(i,a),i=a.pendingProps,v=p._init,p=v(p._payload),a.type=p,v=a.tag=yP(p),i=yr(p,i),v){case 0:a=Up(null,a,p,i,d);break e;case 1:a=Xw(null,a,p,i,d);break e;case 11:a=qw(null,a,p,i,d);break e;case 14:a=Gw(null,a,p,yr(p.type,i),d);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:yr(p,v),Up(i,a,p,v,d);case 1:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:yr(p,v),Xw(i,a,p,v,d);case 3:e:{if(Jw(a),i===null)throw Error(n(387));p=a.pendingProps,T=a.memoizedState,v=T.element,fw(i,a),pd(a,p,null,d);var I=a.memoizedState;if(p=I.element,T.isDehydrated)if(T={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){v=Ra(Error(n(423)),a),a=Zw(i,a,p,d,v);break e}else if(p!==v){v=Ra(Error(n(424)),a),a=Zw(i,a,p,d,v);break e}else for(On=Js(a.stateNode.containerInfo.firstChild),Ln=a,at=!0,gr=null,d=dw(a,null,p,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(ba(),p===v){a=ws(i,a,d);break e}fn(i,a,p,d)}a=a.child}return a;case 5:return gw(a),i===null&&mp(a),p=a.type,v=a.pendingProps,T=i!==null?i.memoizedProps:null,I=v.children,op(p,v)?I=null:T!==null&&op(p,T)&&(a.flags|=32),Yw(i,a),fn(i,a,I,d),a.child;case 6:return i===null&&mp(a),null;case 13:return eE(i,a,d);case 4:return Sp(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=Ia(a,null,p,d):fn(i,a,p,d),a.child;case 11:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:yr(p,v),qw(i,a,p,v,d);case 7:return fn(i,a,a.pendingProps,d),a.child;case 8:return fn(i,a,a.pendingProps.children,d),a.child;case 12:return fn(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(p=a.type._context,v=a.pendingProps,T=a.memoizedProps,I=v.value,nt(dd,p._currentValue),p._currentValue=I,T!==null)if(mr(T.value,I)){if(T.children===v.children&&!En.current){a=ws(i,a,d);break e}}else for(T=a.child,T!==null&&(T.return=a);T!==null;){var U=T.dependencies;if(U!==null){I=T.child;for(var $=U.firstContext;$!==null;){if($.context===p){if(T.tag===1){$=vs(-1,d&-d),$.tag=2;var ee=T.updateQueue;if(ee!==null){ee=ee.shared;var ue=ee.pending;ue===null?$.next=$:($.next=ue.next,ue.next=$),ee.pending=$}}T.lanes|=d,$=T.alternate,$!==null&&($.lanes|=d),Ep(T.return,d,a),U.lanes|=d;break}$=$.next}}else if(T.tag===10)I=T.type===a.type?null:T.child;else if(T.tag===18){if(I=T.return,I===null)throw Error(n(341));I.lanes|=d,U=I.alternate,U!==null&&(U.lanes|=d),Ep(I,d,a),I=T.sibling}else I=T.child;if(I!==null)I.return=T;else for(I=T;I!==null;){if(I===a){I=null;break}if(T=I.sibling,T!==null){T.return=I.return,I=T;break}I=I.return}T=I}fn(i,a,v.children,d),a=a.child}return a;case 9:return v=a.type,p=a.pendingProps.children,Aa(a,d),v=Gn(v),p=p(v),a.flags|=1,fn(i,a,p,d),a.child;case 14:return p=a.type,v=yr(p,a.pendingProps),v=yr(p.type,v),Gw(i,a,p,v,d);case 15:return Kw(i,a,a.type,a.pendingProps,d);case 17:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:yr(p,v),Sd(i,a),a.tag=1,_n(p)?(i=!0,id(a)):i=!1,Aa(a,d),Uw(a,p,v),Op(a,p,v,d),Bp(null,a,p,!0,i,d);case 19:return nE(i,a,d);case 22:return Qw(i,a,d)}throw Error(n(156,a.tag))};function IE(i,a){return ta(i,a)}function gP(i,a,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(i,a,d,p){return new gP(i,a,d,p)}function om(i){return i=i.prototype,!(!i||!i.isReactComponent)}function yP(i){if(typeof i=="function")return om(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===G)return 14}return 2}function ui(i,a){var d=i.alternate;return d===null?(d=Yn(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function Md(i,a,d,p,v,T){var I=2;if(p=i,typeof i=="function")om(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case F:return yo(d.children,v,T,a);case b:I=8,v|=8;break;case M:return i=Yn(12,d,a,v|2),i.elementType=M,i.lanes=T,i;case L:return i=Yn(13,d,a,v),i.elementType=L,i.lanes=T,i;case K:return i=Yn(19,d,a,v),i.elementType=K,i.lanes=T,i;case X:return Ld(d,v,T,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:I=10;break e;case V:I=9;break e;case B:I=11;break e;case G:I=14;break e;case ne:I=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Yn(I,d,a,v),a.elementType=i,a.type=p,a.lanes=T,a}function yo(i,a,d,p){return i=Yn(7,i,p,a),i.lanes=d,i}function Ld(i,a,d,p){return i=Yn(22,i,p,a),i.elementType=X,i.lanes=d,i.stateNode={isHidden:!1},i}function am(i,a,d){return i=Yn(6,i,null,a),i.lanes=d,i}function lm(i,a,d){return a=Yn(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function vP(i,a,d,p,v){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hs(0),this.expirationTimes=Hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function um(i,a,d,p,v,T,I,U,$){return i=new vP(i,a,d,U,$),a===1?(a=1,T===!0&&(a|=8)):a=0,T=Yn(3,null,null,a),i.current=T,T.stateNode=i,T.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tp(T),i}function wP(i,a,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:p==null?null:""+p,children:i,containerInfo:a,implementation:d}}function CE(i){if(!i)return ei;i=i._reactInternals;e:{if(lr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(_n(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(_n(d))return tw(i,d,a)}return a}function AE(i,a,d,p,v,T,I,U,$){return i=um(d,p,!0,i,v,T,I,U,$),i.context=CE(null),d=i.current,p=pn(),v=ai(d),T=vs(p,v),T.callback=a??null,ri(d,T,v),i.current.lanes=v,Ws(i,v,p),xn(i,p),i}function Od(i,a,d,p){var v=a.current,T=pn(),I=ai(v);return d=CE(d),a.context===null?a.context=d:a.pendingContext=d,a=vs(T,I),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=ri(v,a,I),i!==null&&(Er(i,v,I,T),fd(i,v,I)),I}function Vd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function PE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function cm(i,a){PE(i,a),(i=i.alternate)&&PE(i,a)}function EP(){return null}var RE=typeof reportError=="function"?reportError:function(i){console.error(i)};function dm(i){this._internalRoot=i}Fd.prototype.render=dm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Od(i,a,null,null)},Fd.prototype.unmount=dm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;po(function(){Od(null,i,null,null)}),a[fs]=null}};function Fd(i){this._internalRoot=i}Fd.prototype.unstable_scheduleHydration=function(i){if(i){var a=Fc();i={blockedOn:null,target:i,priority:a};for(var d=0;d<Nr.length&&a!==0&&a<Nr[d].priority;d++);Nr.splice(d,0,i),d===0&&zc(i)}};function hm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ud(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function kE(){}function _P(i,a,d,p,v){if(v){if(typeof p=="function"){var T=p;p=function(){var ee=Vd(I);T.call(ee)}}var I=AE(a,p,i,0,null,!1,!1,"",kE);return i._reactRootContainer=I,i[fs]=I.current,Yl(i.nodeType===8?i.parentNode:i),po(),I}for(;v=i.lastChild;)i.removeChild(v);if(typeof p=="function"){var U=p;p=function(){var ee=Vd($);U.call(ee)}}var $=um(i,0,!1,null,null,!1,!1,"",kE);return i._reactRootContainer=$,i[fs]=$.current,Yl(i.nodeType===8?i.parentNode:i),po(function(){Od(a,$,d,p)}),$}function Bd(i,a,d,p,v){var T=d._reactRootContainer;if(T){var I=T;if(typeof v=="function"){var U=v;v=function(){var $=Vd(I);U.call($)}}Od(a,I,i,v)}else I=_P(d,a,i,v,p);return Vd(I)}Oc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=$s(a.pendingLanes);d!==0&&(qs(a,d|1),xn(a,tt()),(We&6)===0&&(Da=tt()+500,ti()))}break;case 13:po(function(){var p=ys(i,1);if(p!==null){var v=pn();Er(p,i,1,v)}}),cm(i,1)}},sa=function(i){if(i.tag===13){var a=ys(i,134217728);if(a!==null){var d=pn();Er(a,i,134217728,d)}cm(i,134217728)}},Vc=function(i){if(i.tag===13){var a=ai(i),d=ys(i,a);if(d!==null){var p=pn();Er(d,i,a,p)}cm(i,a)}},Fc=function(){return ze},Uc=function(i,a){var d=ze;try{return ze=i,a()}finally{ze=d}},Qo=function(i,a,d){switch(a){case"input":if(_l(i,d),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var p=d[a];if(p!==i&&p.form===i.form){var v=rd(p);if(!v)throw Error(n(90));$o(p),_l(p,v)}}}break;case"textarea":Go(i,d);break;case"select":a=d.value,a!=null&&is(i,!!d.multiple,a,!1)}},Gi=rm,kl=po;var TP={usingClientEntryPoint:!1,Events:[Zl,Ea,rd,Rr,Rl,rm]},fu={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SP={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ml(i),i===null?null:i.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||EP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{Ji=zd.inject(SP),kn=zd}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TP,bn.createPortal=function(i,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hm(a))throw Error(n(200));return wP(i,a,null,d)},bn.createRoot=function(i,a){if(!hm(i))throw Error(n(299));var d=!1,p="",v=RE;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=um(i,1,!1,null,null,d,!1,p,v),i[fs]=a.current,Yl(i.nodeType===8?i.parentNode:i),new dm(a)},bn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Ml(a),i=i===null?null:i.stateNode,i},bn.flushSync=function(i){return po(i)},bn.hydrate=function(i,a,d){if(!Ud(a))throw Error(n(200));return Bd(null,i,a,!0,d)},bn.hydrateRoot=function(i,a,d){if(!hm(i))throw Error(n(405));var p=d!=null&&d.hydratedSources||null,v=!1,T="",I=RE;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(I=d.onRecoverableError)),a=AE(a,null,i,1,d??null,v,!1,T,I),i[fs]=a.current,Yl(i),p)for(i=0;i<p.length;i++)d=p[i],v=d._getVersion,v=v(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,v]:a.mutableSourceEagerHydrationData.push(d,v);return new Fd(a)},bn.render=function(i,a,d){if(!Ud(a))throw Error(n(200));return Bd(null,i,a,!1,d)},bn.unmountComponentAtNode=function(i){if(!Ud(i))throw Error(n(40));return i._reactRootContainer?(po(function(){Bd(null,null,i,!1,function(){i._reactRootContainer=null,i[fs]=null})}),!0):!1},bn.unstable_batchedUpdates=rm,bn.unstable_renderSubtreeIntoContainer=function(i,a,d,p){if(!Ud(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Bd(i,a,d,!1,p)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var VE;function PP(){if(VE)return pm.exports;VE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pm.exports=AP(),pm.exports}var FE;function RP(){if(FE)return jd;FE=1;var t=PP();return jd.createRoot=t.createRoot,jd.hydrateRoot=t.hydrateRoot,jd}var kP=RP();const NP=Ey(kP);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var UE="popstate";function DP(t={}){function e(r,s){let{pathname:o,search:l,hash:c}=r.location;return hg("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Uu(s)}return LP(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MP(){return Math.random().toString(36).substring(2,10)}function BE(t,e){return{usr:t.state,key:t.key,idx:e}}function hg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ul(e):e,state:n,key:e&&e.key||r||MP()}}function Uu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ul(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function LP(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,c="POP",u=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let C=m(),P=C==null?null:C-h;h=C,u&&u({action:c,location:A.location,delta:P})}function w(C,P){c="PUSH";let R=hg(A.location,C,P);h=m()+1;let N=BE(R,h),j=A.createHref(R);try{l.pushState(N,"",j)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(j)}o&&u&&u({action:c,location:A.location,delta:1})}function _(C,P){c="REPLACE";let R=hg(A.location,C,P);h=m();let N=BE(R,h),j=A.createHref(R);l.replaceState(N,"",j),o&&u&&u({action:c,location:A.location,delta:0})}function x(C){return OP(C)}let A={get action(){return c},get location(){return t(s,l)},listen(C){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(UE,g),u=C,()=>{s.removeEventListener(UE,g),u=null}},createHref(C){return e(s,C)},createURL:x,encodeLocation(C){let P=x(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:_,go(C){return l.go(C)}};return A}function OP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Uu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function r1(t,e,n="/"){return VP(t,e,n,!1)}function VP(t,e,n,r){let s=typeof e=="string"?ul(e):e,o=Rs(s.pathname||"/",n);if(o==null)return null;let l=s1(t);FP(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=QP(o);c=GP(l[u],h,r)}return c}function s1(t,e=[],n=[],r="",s=!1){let o=(l,c,u=s,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;ct(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=Is([r,m.relativePath]),w=n.concat(m);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),s1(l.children,e,w,g,u)),!(l.path==null&&!l.index)&&e.push({path:g,score:WP(g,l.index),routesMeta:w})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let u of i1(l.path))o(l,c,!0,u)}),e}function i1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=i1(r.join("/")),c=[];return c.push(...l.map(u=>u===""?o:[o,u].join("/"))),s&&c.push(...l),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function FP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UP=/^:[\w-]+$/,BP=3,zP=2,jP=1,$P=10,HP=-2,zE=t=>t==="*";function WP(t,e){let n=t.split("/"),r=n.length;return n.some(zE)&&(r+=HP),e&&(r+=zP),n.filter(s=>!zE(s)).reduce((s,o)=>s+(UP.test(o)?BP:o===""?jP:$P),r)}function qP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function GP(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=_h({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),w=u.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=_h({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Is([o,g.pathname]),pathnameBase:ZP(Is([o,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(o=Is([o,g.pathnameBase]))}return l}function _h(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},w)=>{if(m==="*"){let x=c[w]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const _=c[w];return g&&!_?h[m]=void 0:h[m]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function KP(t,e=!1,n=!0){nr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function QP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YP(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ul(t):t;return{pathname:n?n.startsWith("/")?n:XP(n,e):e,search:eR(r),hash:tR(s)}}function XP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ym(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ty(t){let e=JP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Sy(t,e,n,r=!1){let s;typeof t=="string"?s=ul(t):(s={...t},ct(!s.pathname||!s.pathname.includes("?"),ym("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),ym("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),ym("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),g-=1;s.pathname=w.join("/")}c=g>=0?e[g]:"/"}let u=YP(s,c),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}var Is=t=>t.join("/").replace(/\/\/+/g,"/"),ZP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var o1=["POST","PUT","PATCH","DELETE"];new Set(o1);var rR=["GET",...o1];new Set(rR);var cl=k.createContext(null);cl.displayName="DataRouter";var nf=k.createContext(null);nf.displayName="DataRouterState";k.createContext(!1);var a1=k.createContext({isTransitioning:!1});a1.displayName="ViewTransition";var sR=k.createContext(new Map);sR.displayName="Fetchers";var iR=k.createContext(null);iR.displayName="Await";var Ir=k.createContext(null);Ir.displayName="Navigation";var oc=k.createContext(null);oc.displayName="Location";var Cr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var xy=k.createContext(null);xy.displayName="RouteError";function oR(t,{relative:e}={}){ct(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Ir),{hash:s,pathname:o,search:l}=ac(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:Is([n,o])),r.createHref({pathname:c,search:l,hash:s})}function dl(){return k.useContext(oc)!=null}function Ar(){return ct(dl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(oc).location}var l1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u1(t){k.useContext(Ir).static||k.useLayoutEffect(t)}function ir(){let{isDataRoute:t}=k.useContext(Cr);return t?wR():aR()}function aR(){ct(dl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(cl),{basename:e,navigator:n}=k.useContext(Ir),{matches:r}=k.useContext(Cr),{pathname:s}=Ar(),o=JSON.stringify(Ty(r)),l=k.useRef(!1);return u1(()=>{l.current=!0}),k.useCallback((u,h={})=>{if(nr(l.current,l1),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=Sy(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Is([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,o,s,t])}k.createContext(null);function by(){let{matches:t}=k.useContext(Cr),e=t[t.length-1];return e?e.params:{}}function ac(t,{relative:e}={}){let{matches:n}=k.useContext(Cr),{pathname:r}=Ar(),s=JSON.stringify(Ty(n));return k.useMemo(()=>Sy(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function lR(t,e){return c1(t,e)}function c1(t,e,n,r,s){ct(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Ir),{matches:l}=k.useContext(Cr),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let R=g&&g.path||"";d1(h,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=Ar(),_;if(e){let R=typeof e=="string"?ul(e):e;ct(m==="/"||R.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${R.pathname}" was given in the \`location\` prop.`),_=R}else _=w;let x=_.pathname||"/",A=x;if(m!=="/"){let R=m.replace(/^\//,"").split("/");A="/"+x.replace(/^\//,"").split("/").slice(R.length).join("/")}let C=r1(t,{pathname:A});nr(g||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),nr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=fR(C&&C.map(R=>Object.assign({},R,{params:Object.assign({},u,R.params),pathname:Is([m,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:Is([m,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),l,n,r,s);return e&&P?k.createElement(oc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},P):P}function uR(){let t=vR(),e=nR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,l)}var cR=k.createElement(uR,null),dR=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(Cr.Provider,{value:this.props.routeContext},k.createElement(xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hR({routeContext:t,match:e,children:n}){let r=k.useContext(cl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Cr.Provider,{value:t},n)}function fR(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:g,errors:w}=n,_=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||_){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,m,g)=>{let w,_=!1,x=null,A=null;n&&(w=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||cR,c&&(u<0&&g===0?(d1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):u===g&&(_=!0,A=m.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,g+1)),P=()=>{let R;return w?R=x:_?R=A:m.route.Component?R=k.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=h,k.createElement(hR,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?k.createElement(dR,{location:n.location,revalidation:n.revalidation,component:x,error:w,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):P()},null)}function Iy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pR(t){let e=k.useContext(cl);return ct(e,Iy(t)),e}function mR(t){let e=k.useContext(nf);return ct(e,Iy(t)),e}function gR(t){let e=k.useContext(Cr);return ct(e,Iy(t)),e}function Cy(t){let e=gR(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yR(){return Cy("useRouteId")}function vR(){let t=k.useContext(xy),e=mR("useRouteError"),n=Cy("useRouteError");return t!==void 0?t:e.errors?.[n]}function wR(){let{router:t}=pR("useNavigate"),e=Cy("useNavigate"),n=k.useRef(!1);return u1(()=>{n.current=!0}),k.useCallback(async(s,o={})=>{nr(n.current,l1),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var jE={};function d1(t,e,n){!e&&!jE[t]&&(jE[t]=!0,nr(!1,n))}k.memo(ER);function ER({routes:t,future:e,state:n,unstable_onError:r}){return c1(t,void 0,n,r,e)}function h1({to:t,replace:e,state:n,relative:r}){ct(dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(Ir);nr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=k.useContext(Cr),{pathname:l}=Ar(),c=ir(),u=Sy(t,Ty(o),l,r==="path"),h=JSON.stringify(u);return k.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:r})},[c,h,r,e,n]),null}function Tt(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _R({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){ct(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=ul(n));let{pathname:u="/",search:h="",hash:m="",state:g=null,key:w="default"}=n,_=k.useMemo(()=>{let x=Rs(u,l);return x==null?null:{location:{pathname:x,search:h,hash:m,state:g,key:w},navigationType:r}},[l,u,h,m,g,w,r]);return nr(_!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:k.createElement(Ir.Provider,{value:c},k.createElement(oc.Provider,{children:e,value:_}))}function TR({children:t,location:e}){return lR(fg(t),e)}function fg(t,e=[]){let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let o=[...e,s];if(r.type===k.Fragment){n.push.apply(n,fg(r.props.children,o));return}ct(r.type===Tt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=fg(r.props.children,o)),n.push(l)}),n}var rh="get",sh="application/x-www-form-urlencoded";function rf(t){return t!=null&&typeof t.tagName=="string"}function SR(t){return rf(t)&&t.tagName.toLowerCase()==="button"}function xR(t){return rf(t)&&t.tagName.toLowerCase()==="form"}function bR(t){return rf(t)&&t.tagName.toLowerCase()==="input"}function IR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CR(t,e){return t.button===0&&(!e||e==="_self")&&!IR(t)}function pg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function AR(t,e){let n=pg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var $d=null;function PR(){if($d===null)try{new FormData(document.createElement("form"),0),$d=!1}catch{$d=!0}return $d}var RR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(t){return t!=null&&!RR.has(t)?(nr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):t}function kR(t,e){let n,r,s,o,l;if(xR(t)){let c=t.getAttribute("action");r=c?Rs(c,e):null,n=t.getAttribute("method")||rh,s=vm(t.getAttribute("enctype"))||sh,o=new FormData(t)}else if(SR(t)||bR(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?Rs(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||rh,s=vm(t.getAttribute("formenctype"))||vm(c.getAttribute("enctype"))||sh,o=new FormData(c,t),!PR()){let{name:h,type:m,value:g}=t;if(m==="image"){let w=h?`${h}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else h&&o.append(h,g)}}else{if(rf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,r=null,s=sh,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ay(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Rs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function DR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function LR(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await DR(o,n);return l.links?l.links():[]}return[]}));return UR(r.flat(1).filter(MR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function $E(t,e,n,r,s,o){let l=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>n[h].pathname!==u.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==u.params["*"];return o==="assets"?e.filter((u,h)=>l(u,h)||c(u,h)):o==="data"?e.filter((u,h)=>{let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(l(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function OR(t,e,{includeHydrateFallback:n}={}){return VR(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function VR(t){return[...new Set(t)]}function FR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function UR(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(FR(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function f1(){let t=k.useContext(cl);return Ay(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BR(){let t=k.useContext(nf);return Ay(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Py=k.createContext(void 0);Py.displayName="FrameworkContext";function p1(){let t=k.useContext(Py);return Ay(t,"You must render this element inside a <HydratedRouter> element"),t}function zR(t,e){let n=k.useContext(Py),[r,s]=k.useState(!1),[o,l]=k.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,w=k.useRef(null);k.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=P=>{P.forEach(R=>{l(R.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[t]),k.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let _=()=>{s(!0)},x=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:pu(c,_),onBlur:pu(u,x),onMouseEnter:pu(h,_),onMouseLeave:pu(m,x),onTouchStart:pu(g,_)}]:[!1,w,{}]}function pu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jR({page:t,...e}){let{router:n}=f1(),r=k.useMemo(()=>r1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(HR,{page:t,matches:r,...e}):null}function $R(t){let{manifest:e,routeModules:n}=p1(),[r,s]=k.useState([]);return k.useEffect(()=>{let o=!1;return LR(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),r}function HR({page:t,matches:e,...n}){let r=Ar(),{manifest:s,routeModules:o}=p1(),{basename:l}=f1(),{loaderData:c,matches:u}=BR(),h=k.useMemo(()=>$E(t,e,u,s,r,"data"),[t,e,u,s,r]),m=k.useMemo(()=>$E(t,e,u,s,r,"assets"),[t,e,u,s,r]),g=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,A=!1;if(e.forEach(P=>{let R=s.routes[P.route.id];!R||!R.hasLoader||(!h.some(N=>N.route.id===P.route.id)&&P.route.id in c&&o[P.route.id]?.shouldRevalidate||R.hasClientLoader?A=!0:x.add(P.route.id))}),x.size===0)return[];let C=NR(t,l,"data");return A&&x.size>0&&C.searchParams.set("_routes",e.filter(P=>x.has(P.route.id)).map(P=>P.route.id).join(",")),[C.pathname+C.search]},[l,c,r,s,h,e,t,o]),w=k.useMemo(()=>OR(m,s),[m,s]),_=$R(m);return k.createElement(k.Fragment,null,g.map(x=>k.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),w.map(x=>k.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),_.map(({key:x,link:A})=>k.createElement("link",{key:x,nonce:n.nonce,...A})))}function WR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var m1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m1&&(window.__reactRouterVersion="7.9.1")}catch{}function qR({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=DP({window:n,v5Compat:!0}));let s=r.current,[o,l]=k.useState({action:s.action,location:s.location}),c=k.useCallback(u=>{k.startTransition(()=>l(u))},[l]);return k.useLayoutEffect(()=>s.listen(c),[s,c]),k.createElement(_R,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var g1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:c,target:u,to:h,preventScrollReset:m,viewTransition:g,...w},_){let{basename:x}=k.useContext(Ir),A=typeof h=="string"&&g1.test(h),C,P=!1;if(typeof h=="string"&&A&&(C=h,m1))try{let M=new URL(window.location.href),O=h.startsWith("//")?new URL(M.protocol+h):new URL(h),V=Rs(O.pathname,x);O.origin===M.origin&&V!=null?h=V+O.search+O.hash:P=!0}catch{nr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=oR(h,{relative:s}),[N,j,q]=zR(r,w),se=YR(h,{replace:l,state:c,target:u,preventScrollReset:m,relative:s,viewTransition:g});function F(M){e&&e(M),M.defaultPrevented||se(M)}let b=k.createElement("a",{...w,...q,href:C||R,onClick:P||o?e:F,ref:WR(_,j),target:u,"data-discover":!A&&n==="render"?"true":void 0});return N&&!A?k.createElement(k.Fragment,null,b,k.createElement(jR,{page:R})):b});Le.displayName="Link";var GR=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:c,children:u,...h},m){let g=ac(l,{relative:h.relative}),w=Ar(),_=k.useContext(nf),{navigator:x,basename:A}=k.useContext(Ir),C=_!=null&&nk(g)&&c===!0,P=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,R=w.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(R=R.toLowerCase(),N=N?N.toLowerCase():null,P=P.toLowerCase()),N&&A&&(N=Rs(N,A)||N);const j=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let q=R===P||!s&&R.startsWith(P)&&R.charAt(j)==="/",se=N!=null&&(N===P||!s&&N.startsWith(P)&&N.charAt(P.length)==="/"),F={isActive:q,isPending:se,isTransitioning:C},b=q?e:void 0,M;typeof r=="function"?M=r(F):M=[r,q?"active":null,se?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(F):o;return k.createElement(Le,{...h,"aria-current":b,className:M,ref:m,style:O,to:l,viewTransition:c},typeof u=="function"?u(F):u)});GR.displayName="NavLink";var KR=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:l=rh,action:c,onSubmit:u,relative:h,preventScrollReset:m,viewTransition:g,...w},_)=>{let x=ek(),A=tk(c,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&g1.test(c),R=N=>{if(u&&u(N),N.defaultPrevented)return;N.preventDefault();let j=N.nativeEvent.submitter,q=j?.getAttribute("formmethod")||l;x(j||N.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:s,state:o,relative:h,preventScrollReset:m,viewTransition:g})};return k.createElement("form",{ref:_,method:C,action:A,onSubmit:r?u:R,...w,"data-discover":!P&&t==="render"?"true":void 0})});KR.displayName="Form";function QR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y1(t){let e=k.useContext(cl);return ct(e,QR(t)),e}function YR(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=ir(),u=Ar(),h=ac(t,{relative:o});return k.useCallback(m=>{if(CR(m,e)){m.preventDefault();let g=n!==void 0?n:Uu(u)===Uu(h);c(t,{replace:g,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,h,n,r,e,t,s,o,l])}function XR(t){nr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(pg(t)),n=k.useRef(!1),r=Ar(),s=k.useMemo(()=>AR(r.search,n.current?null:e.current),[r.search]),o=ir(),l=k.useCallback((c,u)=>{const h=pg(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,o("?"+h,u)},[o,s]);return[s,l]}var JR=0,ZR=()=>`__${String(++JR)}__`;function ek(){let{router:t}=y1("useSubmit"),{basename:e}=k.useContext(Ir),n=yR();return k.useCallback(async(r,s={})=>{let{action:o,method:l,encType:c,formData:u,body:h}=kR(r,e);if(s.navigate===!1){let m=s.fetcherKey||ZR();await t.fetch(m,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function tk(t,{relative:e}={}){let{basename:n}=k.useContext(Ir),r=k.useContext(Cr);ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...ac(t||".",{relative:e})},l=Ar();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Is([n,o.pathname])),Uu(o)}function nk(t,{relative:e}={}){let n=k.useContext(a1);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=y1("useViewTransitionState"),s=ac(t,{relative:e});if(!n.isTransitioning)return!1;let o=Rs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Rs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _h(s.pathname,l)!=null||_h(s.pathname,o)!=null}var wm={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function rk(){if(HE)return mu;HE=1;var t=_y(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,h){var m,g={},w=null,_=null;h!==void 0&&(w=""+h),u.key!==void 0&&(w=""+u.key),u.ref!==void 0&&(_=u.ref);for(m in u)r.call(u,m)&&!o.hasOwnProperty(m)&&(g[m]=u[m]);if(c&&c.defaultProps)for(m in u=c.defaultProps,u)g[m]===void 0&&(g[m]=u[m]);return{$$typeof:e,type:c,key:w,ref:_,props:g,_owner:s.current}}return mu.Fragment=n,mu.jsx=l,mu.jsxs=l,mu}var WE;function sk(){return WE||(WE=1,wm.exports=rk()),wm.exports}var mg=sk();const v1=k.createContext({});function ik(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ry=typeof window<"u",ok=Ry?k.useLayoutEffect:k.useEffect,ky=k.createContext(null);function Ny(t,e){t.indexOf(e)===-1&&t.push(e)}function Dy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ks=(t,e,n)=>n>e?e:n<t?t:n;let My=()=>{};const Ns={},w1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function E1(t){return typeof t=="object"&&t!==null}const _1=t=>/^0[^.\s]+$/u.test(t);function Ly(t){let e;return()=>(e===void 0&&(e=t()),e)}const er=t=>t,ak=(t,e)=>n=>e(t(n)),lc=(...t)=>t.reduce(ak),Bu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Oy{constructor(){this.subscriptions=[]}add(e){return Ny(this.subscriptions,e),()=>Dy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hr=t=>t*1e3,Wr=t=>t/1e3;function T1(t,e){return e?t*(1e3/e):0}const S1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,lk=1e-7,uk=12;function ck(t,e,n,r,s){let o,l,c=0;do l=e+(n-e)/2,o=S1(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>lk&&++c<uk);return l}function uc(t,e,n,r){if(t===e&&n===r)return er;const s=o=>ck(o,0,1,t,n);return o=>o===0||o===1?o:S1(s(o),e,r)}const x1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,b1=t=>e=>1-t(1-e),I1=uc(.33,1.53,.69,.99),Vy=b1(I1),C1=x1(Vy),A1=t=>(t*=2)<1?.5*Vy(t):.5*(2-Math.pow(2,-10*(t-1))),Fy=t=>1-Math.sin(Math.acos(t)),P1=b1(Fy),R1=x1(Fy),dk=uc(.42,0,1,1),hk=uc(0,0,.58,1),k1=uc(.42,0,.58,1),fk=t=>Array.isArray(t)&&typeof t[0]!="number",N1=t=>Array.isArray(t)&&typeof t[0]=="number",pk={linear:er,easeIn:dk,easeInOut:k1,easeOut:hk,circIn:Fy,circInOut:R1,circOut:P1,backIn:Vy,backInOut:C1,backOut:I1,anticipate:A1},mk=t=>typeof t=="string",qE=t=>{if(N1(t)){My(t.length===4);const[e,n,r,s]=t;return uc(e,n,r,s)}else if(mk(t))return pk[t];return t},Hd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function gk(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,g=!1,w=!1)=>{const x=w&&s?n:r;return g&&l.add(m),x.has(m)||x.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),n.clear(),s=!1,o&&(o=!1,h.process(m))}};return h}const yk=40;function D1(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Hd.reduce((N,j)=>(N[j]=gk(o),N),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:m,update:g,preRender:w,render:_,postRender:x}=l,A=()=>{const N=Ns.useManualTiming?s.timestamp:performance.now();n=!1,Ns.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,yk),1)),s.timestamp=N,s.isProcessing=!0,c.process(s),u.process(s),h.process(s),m.process(s),g.process(s),w.process(s),_.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(A))},C=()=>{n=!0,r=!0,s.isProcessing||t(A)};return{schedule:Hd.reduce((N,j)=>{const q=l[j];return N[j]=(se,F=!1,b=!1)=>(n||C(),q.schedule(se,F,b)),N},{}),cancel:N=>{for(let j=0;j<Hd.length;j++)l[Hd[j]].cancel(N)},state:s,steps:l}}const{schedule:ut,cancel:xi,state:Yt,steps:Em}=D1(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0);let ih;function vk(){ih=void 0}const Pn={now:()=>(ih===void 0&&Pn.set(Yt.isProcessing||Ns.useManualTiming?Yt.timestamp:performance.now()),ih),set:t=>{ih=t,queueMicrotask(vk)}},M1=t=>e=>typeof e=="string"&&e.startsWith(t),Uy=M1("--"),wk=M1("var(--"),By=t=>wk(t)?Ek.test(t.split("/*")[0].trim()):!1,Ek=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zu={...hl,transform:t=>ks(0,1,t)},Wd={...hl,default:1},Cu=t=>Math.round(t*1e5)/1e5,zy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _k(t){return t==null}const Tk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jy=(t,e)=>n=>!!(typeof n=="string"&&Tk.test(n)&&n.startsWith(t)||e&&!_k(n)&&Object.prototype.hasOwnProperty.call(n,e)),L1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,c]=r.match(zy);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Sk=t=>ks(0,255,t),_m={...hl,transform:t=>Math.round(Sk(t))},_o={test:jy("rgb","red"),parse:L1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+_m.transform(t)+", "+_m.transform(e)+", "+_m.transform(n)+", "+Cu(zu.transform(r))+")"};function xk(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const gg={test:jy("#"),parse:xk,transform:_o.transform},cc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),hi=cc("deg"),qr=cc("%"),Ae=cc("px"),bk=cc("vh"),Ik=cc("vw"),GE={...qr,parse:t=>qr.parse(t)/100,transform:t=>qr.transform(t*100)},za={test:jy("hsl","hue"),parse:L1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+qr.transform(Cu(e))+", "+qr.transform(Cu(n))+", "+Cu(zu.transform(r))+")"},Rt={test:t=>_o.test(t)||gg.test(t)||za.test(t),parse:t=>_o.test(t)?_o.parse(t):za.test(t)?za.parse(t):gg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_o.transform(t):za.transform(t),getAnimatableNone:t=>{const e=Rt.parse(t);return e.alpha=0,Rt.transform(e)}},Ck=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ak(t){return isNaN(t)&&typeof t=="string"&&(t.match(zy)?.length||0)+(t.match(Ck)?.length||0)>0}const O1="number",V1="color",Pk="var",Rk="var(",KE="${}",kk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ju(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(kk,u=>(Rt.test(u)?(r.color.push(o),s.push(V1),n.push(Rt.parse(u))):u.startsWith(Rk)?(r.var.push(o),s.push(Pk),n.push(u)):(r.number.push(o),s.push(O1),n.push(parseFloat(u))),++o,KE)).split(KE);return{values:n,split:c,indexes:r,types:s}}function F1(t){return ju(t).values}function U1(t){const{split:e,types:n}=ju(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const c=n[l];c===O1?o+=Cu(s[l]):c===V1?o+=Rt.transform(s[l]):o+=s[l]}return o}}const Nk=t=>typeof t=="number"?0:Rt.test(t)?Rt.getAnimatableNone(t):t;function Dk(t){const e=F1(t);return U1(t)(e.map(Nk))}const bi={test:Ak,parse:F1,createTransformer:U1,getAnimatableNone:Dk};function Tm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Mk({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;s=Tm(u,c,t+1/3),o=Tm(u,c,t),l=Tm(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Th(t,e){return n=>n>0?e:t}const ft=(t,e,n)=>t+(e-t)*n,Sm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Lk=[gg,_o,za],Ok=t=>Lk.find(e=>e.test(t));function QE(t){const e=Ok(t);if(!e)return!1;let n=e.parse(t);return e===za&&(n=Mk(n)),n}const YE=(t,e)=>{const n=QE(t),r=QE(e);if(!n||!r)return Th(t,e);const s={...n};return o=>(s.red=Sm(n.red,r.red,o),s.green=Sm(n.green,r.green,o),s.blue=Sm(n.blue,r.blue,o),s.alpha=ft(n.alpha,r.alpha,o),_o.transform(s))},yg=new Set(["none","hidden"]);function Vk(t,e){return yg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Fk(t,e){return n=>ft(t,e,n)}function $y(t){return typeof t=="number"?Fk:typeof t=="string"?By(t)?Th:Rt.test(t)?YE:zk:Array.isArray(t)?B1:typeof t=="object"?Rt.test(t)?YE:Uk:Th}function B1(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>$y(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function Uk(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=$y(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function Bk(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],c=t.values[l]??0;n[s]=c,r[o]++}return n}const zk=(t,e)=>{const n=bi.createTransformer(e),r=ju(t),s=ju(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?yg.has(t)&&!s.values.length||yg.has(e)&&!r.values.length?Vk(t,e):lc(B1(Bk(r,s),s.values),n):Th(t,e)};function z1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):$y(t)(t,e)}const jk=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ut.update(e,n),stop:()=>xi(e),now:()=>Yt.isProcessing?Yt.timestamp:Pn.now()}},j1=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Sh=2e4;function Hy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Sh;)e+=n,r=t.next(e);return e>=Sh?1/0:e}function $k(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Hy(r),Sh);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:Wr(s)}}const Hk=5;function $1(t,e,n){const r=Math.max(e-Hk,0);return T1(n-t(r),e-r)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xm=.001;function Wk({duration:t=gt.duration,bounce:e=gt.bounce,velocity:n=gt.velocity,mass:r=gt.mass}){let s,o,l=1-e;l=ks(gt.minDamping,gt.maxDamping,l),t=ks(gt.minDuration,gt.maxDuration,Wr(t)),l<1?(s=h=>{const m=h*l,g=m*t,w=m-n,_=vg(h,l),x=Math.exp(-g);return xm-w/_*x},o=h=>{const g=h*l*t,w=g*n+n,_=Math.pow(l,2)*Math.pow(h,2)*t,x=Math.exp(-g),A=vg(Math.pow(h,2),l);return(-s(h)+xm>0?-1:1)*((w-_)*x)/A}):(s=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-xm+m*g},o=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const c=5/t,u=Gk(s,o,c);if(t=Hr(t),isNaN(u))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const qk=12;function Gk(t,e,n){let r=n;for(let s=1;s<qk;s++)r=r-t(r)/e(r);return r}function vg(t,e){return t*Math.sqrt(1-e*e)}const Kk=["duration","bounce"],Qk=["stiffness","damping","mass"];function XE(t,e){return e.some(n=>t[n]!==void 0)}function Yk(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!XE(t,Qk)&&XE(t,Kk))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*ks(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:gt.mass,stiffness:s,damping:o}}else{const n=Wk(t);e={...e,...n,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function xh(t=gt.visualDuration,e=gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:u,damping:h,mass:m,duration:g,velocity:w,isResolvedFromDuration:_}=Yk({...n,velocity:-Wr(n.velocity||0)}),x=w||0,A=h/(2*Math.sqrt(u*m)),C=l-o,P=Wr(Math.sqrt(u/m)),R=Math.abs(C)<5;r||(r=R?gt.restSpeed.granular:gt.restSpeed.default),s||(s=R?gt.restDelta.granular:gt.restDelta.default);let N;if(A<1){const q=vg(P,A);N=se=>{const F=Math.exp(-A*P*se);return l-F*((x+A*P*C)/q*Math.sin(q*se)+C*Math.cos(q*se))}}else if(A===1)N=q=>l-Math.exp(-P*q)*(C+(x+P*C)*q);else{const q=P*Math.sqrt(A*A-1);N=se=>{const F=Math.exp(-A*P*se),b=Math.min(q*se,300);return l-F*((x+A*P*C)*Math.sinh(b)+q*C*Math.cosh(b))/q}}const j={calculatedDuration:_&&g||null,next:q=>{const se=N(q);if(_)c.done=q>=g;else{let F=q===0?x:0;A<1&&(F=q===0?Hr(x):$1(N,q,se));const b=Math.abs(F)<=r,M=Math.abs(l-se)<=s;c.done=b&&M}return c.value=c.done?l:se,c},toString:()=>{const q=Math.min(Hy(j),Sh),se=j1(F=>j.next(q*F).value,q,30);return q+"ms "+se},toTransition:()=>{}};return j}xh.applyToOptions=t=>{const e=$k(t,100,xh);return t.ease=e.ease,t.duration=Hr(e.duration),t.type="keyframes",t};function wg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:u,restDelta:h=.5,restSpeed:m}){const g=t[0],w={done:!1,value:g},_=b=>c!==void 0&&b<c||u!==void 0&&b>u,x=b=>c===void 0?u:u===void 0||Math.abs(c-b)<Math.abs(u-b)?c:u;let A=n*e;const C=g+A,P=l===void 0?C:l(C);P!==C&&(A=P-g);const R=b=>-A*Math.exp(-b/r),N=b=>P+R(b),j=b=>{const M=R(b),O=N(b);w.done=Math.abs(M)<=h,w.value=w.done?P:O};let q,se;const F=b=>{_(w.value)&&(q=b,se=xh({keyframes:[w.value,x(w.value)],velocity:$1(N,b,w.value),damping:s,stiffness:o,restDelta:h,restSpeed:m}))};return F(0),{calculatedDuration:null,next:b=>{let M=!1;return!se&&q===void 0&&(M=!0,j(b),F(b)),q!==void 0&&b>=q?se.next(b-q):(!M&&j(b),w)}}}function Xk(t,e,n){const r=[],s=n||Ns.mix||z1,o=t.length-1;for(let l=0;l<o;l++){let c=s(t[l],t[l+1]);if(e){const u=Array.isArray(e)?e[l]||er:e;c=lc(u,c)}r.push(c)}return r}function Jk(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(My(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Xk(e,r,s),u=c.length,h=m=>{if(l&&m<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const w=Bu(t[g],t[g+1],m);return c[g](w)};return n?m=>h(ks(t[0],t[o-1],m)):h}function Zk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Bu(0,e,r);t.push(ft(n,1,s))}}function eN(t){const e=[0];return Zk(e,t.length-1),e}function tN(t,e){return t.map(n=>n*e)}function nN(t,e){return t.map(()=>e||k1).splice(0,t.length-1)}function Au({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=fk(r)?r.map(qE):qE(r),o={done:!1,value:e[0]},l=tN(n&&n.length===e.length?n:eN(e),t),c=Jk(l,e,{ease:Array.isArray(s)?s:nN(e,s)});return{calculatedDuration:t,next:u=>(o.value=c(u),o.done=u>=t,o)}}const rN=t=>t!==null;function Wy(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(rN),c=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const sN={decay:wg,inertia:wg,tween:Au,keyframes:Au,spring:xh};function H1(t){typeof t.type=="string"&&(t.type=sN[t.type])}class qy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const iN=t=>t/100;class Gy extends qy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Pn.now()&&this.tick(Pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;H1(e);const{type:n=Au,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:c}=e;const u=n||Au;u!==Au&&typeof c[0]!="number"&&(this.mixKeyframes=lc(iN,z1(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Hy(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:w,repeatDelay:_,type:x,onUpdate:A,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const P=this.currentTime-h*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?P<0:P>s;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let N=this.currentTime,j=r;if(g){const b=Math.min(this.currentTime,s)/c;let M=Math.floor(b),O=b%1;!O&&b>=1&&(O=1),O===1&&M--,M=Math.min(M,g+1),!!(M%2)&&(w==="reverse"?(O=1-O,_&&(O-=_/c)):w==="mirror"&&(j=l)),N=ks(0,1,O)*c}const q=R?{done:!1,value:m[0]}:j.next(N);o&&(q.value=o(q.value));let{done:se}=q;!R&&u!==null&&(se=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return F&&x!==wg&&(q.value=Wy(m,this.options,C,this.speed)),A&&A(q.value),F&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return Wr(this.calculatedDuration)}get time(){return Wr(this.currentTime)}set time(e){e=Hr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=jk,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function oN(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const To=t=>t*180/Math.PI,Eg=t=>{const e=To(Math.atan2(t[1],t[0]));return _g(e)},aN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Eg,rotateZ:Eg,skewX:t=>To(Math.atan(t[1])),skewY:t=>To(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_g=t=>(t=t%360,t<0&&(t+=360),t),JE=Eg,ZE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),e_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),lN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ZE,scaleY:e_,scale:t=>(ZE(t)+e_(t))/2,rotateX:t=>_g(To(Math.atan2(t[6],t[5]))),rotateY:t=>_g(To(Math.atan2(-t[2],t[0]))),rotateZ:JE,rotate:JE,skewX:t=>To(Math.atan(t[4])),skewY:t=>To(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Tg(t){return t.includes("scale")?1:0}function Sg(t,e){if(!t||t==="none")return Tg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=lN,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=aN,s=c}if(!s)return Tg(e);const o=r[e],l=s[1].split(",").map(cN);return typeof o=="function"?o(l):l[o]}const uN=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Sg(n,e)};function cN(t){return parseFloat(t.trim())}const fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pl=new Set(fl),t_=t=>t===hl||t===Ae,dN=new Set(["x","y","z"]),hN=fl.filter(t=>!dN.has(t));function fN(t){const e=[];return hN.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const bo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Sg(e,"x"),y:(t,{transform:e})=>Sg(e,"y")};bo.translateX=bo.x;bo.translateY=bo.y;const Io=new Set;let xg=!1,bg=!1,Ig=!1;function W1(){if(bg){const t=Array.from(Io).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=fN(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bg=!1,xg=!1,Io.forEach(t=>t.complete(Ig)),Io.clear()}function q1(){Io.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(bg=!0)})}function pN(){Ig=!0,q1(),W1(),Ig=!1}class Ky{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Io.add(this),xg||(xg=!0,ut.read(q1),ut.resolveKeyframes(W1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}oN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Io.delete(this)}cancel(){this.state==="scheduled"&&(Io.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mN=t=>t.startsWith("--");function gN(t,e,n){mN(e)?t.style.setProperty(e,n):t.style[e]=n}const yN=Ly(()=>window.ScrollTimeline!==void 0),vN={};function wN(t,e){const n=Ly(t);return()=>vN[e]??n()}const G1=wN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,n_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wu([0,.65,.55,1]),circOut:wu([.55,0,1,.45]),backIn:wu([.31,.01,.66,-.59]),backOut:wu([.33,1.53,.69,.99])};function K1(t,e){if(t)return typeof t=="function"?G1()?j1(t,e):"ease-out":N1(t)?wu(t):Array.isArray(t)?t.map(n=>K1(n,e)||n_.easeOut):n_[t]}function EN(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:u}={},h=void 0){const m={[e]:n};u&&(m.offset=u);const g=K1(c,s);Array.isArray(g)&&(m.easing=g);const w={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(w.pseudoElement=h),t.animate(m,w)}function Q1(t){return typeof t=="function"&&"applyToOptions"in t}function _N({type:t,...e}){return Q1(t)&&G1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class TN extends qy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,My(typeof e.type!="string");const h=_N(e);this.animation=EN(n,r,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=Wy(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):gN(n,r,m),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Wr(Number(e))}get time(){return Wr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Hr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&yN()?(this.animation.timeline=e,er):n(this)}}const Y1={anticipate:A1,backInOut:C1,circInOut:R1};function SN(t){return t in Y1}function xN(t){typeof t.ease=="string"&&SN(t.ease)&&(t.ease=Y1[t.ease])}const r_=10;class bN extends TN{constructor(e){xN(e),H1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Gy({...l,autoplay:!1}),u=Hr(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-r_).value,c.sample(u).value,r_),c.stop()}}const s_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bi.test(t)||t==="0")&&!t.startsWith("url("));function IN(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function CN(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=s_(s,e),c=s_(o,e);return!l||!c?!1:IN(t)||(n==="spring"||Q1(n))&&r}function Cg(t){t.duration=0,t.type}const AN=new Set(["opacity","clipPath","filter","transform"]),PN=Ly(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function RN(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return PN()&&n&&AN.has(n)&&(n!=="transform"||!h)&&!u&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const kN=40;class NN extends qy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:u,motionValue:h,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pn.now();const w={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:u,motionValue:h,element:m,...g},_=m?.KeyframeResolver||Ky;this.keyframeResolver=new _(c,(x,A,C)=>this.onKeyframesResolved(x,A,w,!C),u,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:u,isHandoff:h,onUpdate:m}=r;this.resolvedAt=Pn.now(),CN(e,o,l,c)||((Ns.instantAnimations||!u)&&m?.(Wy(e,r,n)),e[0]=e[e.length-1],Cg(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>kN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},_=!h&&RN(w)?new bN({...w,element:w.motionValue.owner.current}):new Gy(w);_.finished.then(()=>this.notifyFinished()).catch(er),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),pN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const DN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MN(t){const e=DN.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function X1(t,e,n=1){const[r,s]=MN(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return w1(l)?parseFloat(l):l}return By(s)?X1(s,e,n+1):s}function Qy(t,e){return t?.[e]??t?.default??t}const J1=new Set(["width","height","top","left","right","bottom",...fl]),LN={test:t=>t==="auto",parse:t=>t},Z1=t=>e=>e.test(t),ex=[hl,Ae,qr,hi,Ik,bk,LN],i_=t=>ex.find(Z1(t));function ON(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_1(t):!0}const VN=new Set(["brightness","contrast","saturate","opacity"]);function FN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(zy)||[];if(!r)return t;const s=n.replace(r,"");let o=VN.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const UN=/\b([a-z-]*)\(.*?\)/gu,Ag={...bi,getAnimatableNone:t=>{const e=t.match(UN);return e?e.map(FN).join(" "):t}},o_={...hl,transform:Math.round},BN={rotate:hi,rotateX:hi,rotateY:hi,rotateZ:hi,scale:Wd,scaleX:Wd,scaleY:Wd,scaleZ:Wd,skew:hi,skewX:hi,skewY:hi,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:zu,originX:GE,originY:GE,originZ:Ae},Yy={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...BN,zIndex:o_,fillOpacity:zu,strokeOpacity:zu,numOctaves:o_},zN={...Yy,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:Ag,WebkitFilter:Ag},tx=t=>zN[t];function nx(t,e){let n=tx(t);return n!==Ag&&(n=bi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jN=new Set(["auto","none","0"]);function $N(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!jN.has(o)&&ju(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=nx(n,s)}class HN extends Ky{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),By(h))){const m=X1(h,n.current);m!==void 0&&(e[u]=m),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!J1.has(r)||e.length!==2)return;const[s,o]=e,l=i_(s),c=i_(o);if(l!==c)if(t_(l)&&t_(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else bo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||ON(e[s]))&&r.push(s);r.length&&$N(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=bo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function WN(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const rx=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function qN(t){return E1(t)&&"offsetHeight"in t}const a_=30,GN=t=>!isNaN(parseFloat(t));class KN{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Pn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=GN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Oy);const r=this.events[e].add(n);return e==="change"?()=>{r(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>a_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,a_);return T1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function el(t,e){return new KN(t,e)}const{schedule:Xy}=D1(queueMicrotask,!1),_r={x:!1,y:!1};function sx(){return _r.x||_r.y}function QN(t){return t==="x"||t==="y"?_r[t]?null:(_r[t]=!0,()=>{_r[t]=!1}):_r.x||_r.y?null:(_r.x=_r.y=!0,()=>{_r.x=_r.y=!1})}function ix(t,e){const n=WN(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function l_(t){return!(t.pointerType==="touch"||sx())}function YN(t,e,n={}){const[r,s,o]=ix(t,n),l=c=>{if(!l_(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const m=g=>{l_(g)&&(h(g),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}const ox=(t,e)=>e?t===e?!0:ox(t,e.parentElement):!1,Jy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JN(t){return XN.has(t.tagName)||t.tabIndex!==-1}const oh=new WeakSet;function u_(t){return e=>{e.key==="Enter"&&t(e)}}function bm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ZN=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=u_(()=>{if(oh.has(n))return;bm(n,"down");const s=u_(()=>{bm(n,"up")}),o=()=>bm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function c_(t){return Jy(t)&&!sx()}function e2(t,e,n={}){const[r,s,o]=ix(t,n),l=c=>{const u=c.currentTarget;if(!c_(c))return;oh.add(u);const h=e(u,c),m=(_,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",w),oh.has(u)&&oh.delete(u),c_(_)&&typeof h=="function"&&h(_,{success:x})},g=_=>{m(_,u===window||u===document||n.useGlobalTarget||ox(u,_.target))},w=_=>{m(_,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",w,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),qN(c)&&(c.addEventListener("focus",h=>ZN(h,s)),!JN(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function ax(t){return E1(t)&&"ownerSVGElement"in t}function t2(t){return ax(t)&&t.tagName==="svg"}const un=t=>!!(t&&t.getVelocity),n2=[...ex,Rt,bi],r2=t=>n2.find(Z1(t)),lx=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function s2(t=!0){const e=k.useContext(ky);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=k.useId();k.useEffect(()=>{if(t)return s(o)},[t]);const l=k.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const ux=k.createContext({strict:!1}),d_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const t in d_)tl[t]={isEnabled:e=>d_[t].some(n=>!!e[n])};function i2(t){for(const e in t)tl[e]={...tl[e],...t[e]}}const o2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||o2.has(t)}let cx=t=>!bh(t);function a2(t){typeof t=="function"&&(cx=e=>e.startsWith("on")?!bh(e):t(e))}try{a2(require("@emotion/is-prop-valid").default)}catch{}function l2(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(cx(s)||n===!0&&bh(s)||!e&&!bh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const sf=k.createContext({});function of(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $u(t){return typeof t=="string"||Array.isArray(t)}const Zy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ev=["initial",...Zy];function af(t){return of(t.animate)||ev.some(e=>$u(t[e]))}function dx(t){return!!(af(t)||t.variants)}function u2(t,e){if(af(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$u(n)?n:void 0,animate:$u(r)?r:void 0}}return t.inherit!==!1?e:{}}function c2(t){const{initial:e,animate:n}=u2(t,k.useContext(sf));return k.useMemo(()=>({initial:e,animate:n}),[h_(e),h_(n)])}function h_(t){return Array.isArray(t)?t.join(" "):t}const Hu={};function d2(t){for(const e in t)Hu[e]=t[e],Uy(e)&&(Hu[e].isCSSVariable=!0)}function hx(t,{layout:e,layoutId:n}){return pl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Hu[t]||t==="opacity")}const h2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f2=fl.length;function p2(t,e,n){let r="",s=!0;for(let o=0;o<f2;o++){const l=fl[o],c=t[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const h=rx(c,Yy[l]);if(!u){s=!1;const m=h2[l]||l;r+=`${m}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function tv(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,c=!1;for(const u in e){const h=e[u];if(pl.has(u)){l=!0;continue}else if(Uy(u)){s[u]=h;continue}else{const m=rx(h,Yy[u]);u.startsWith("origin")?(c=!0,o[u]=m):r[u]=m}}if(e.transform||(l||n?r.transform=p2(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:m=0}=o;r.transformOrigin=`${u} ${h} ${m}`}}const nv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fx(t,e,n){for(const r in e)!un(e[r])&&!hx(r,n)&&(t[r]=e[r])}function m2({transformTemplate:t},e){return k.useMemo(()=>{const n=nv();return tv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function g2(t,e){const n=t.style||{},r={};return fx(r,n,t),Object.assign(r,m2(t,e)),r}function y2(t,e){const n={},r=g2(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const v2={offset:"stroke-dashoffset",array:"stroke-dasharray"},w2={offset:"strokeDashoffset",array:"strokeDasharray"};function E2(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?v2:w2;t[o.offset]=Ae.transform(-r);const l=Ae.transform(e),c=Ae.transform(n);t[o.array]=`${l} ${c}`}function px(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},u,h,m){if(tv(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:w}=t;g.transform&&(w.transform=g.transform,delete g.transform),(w.transform||g.transformOrigin)&&(w.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),w.transform&&(w.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&E2(g,s,o,l,!1)}const mx=()=>({...nv(),attrs:{}}),gx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _2(t,e,n,r){const s=k.useMemo(()=>{const o=mx();return px(o,e,gx(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};fx(o,t.style,t),s.style={...o,...s.style}}return s}const T2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rv(t){return typeof t!="string"||t.includes("-")?!1:!!(T2.indexOf(t)>-1||/[A-Z]/u.test(t))}function S2(t,e,n,{latestValues:r},s,o=!1){const c=(rv(t)?_2:y2)(e,r,s,t),u=l2(e,typeof t=="string",o),h=t!==k.Fragment?{...u,...c,ref:n}:{},{children:m}=e,g=k.useMemo(()=>un(m)?m.get():m,[m]);return k.createElement(t,{...h,children:g})}function f_(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function sv(t,e,n,r){if(typeof e=="function"){const[s,o]=f_(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=f_(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function ah(t){return un(t)?t.get():t}function x2({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:b2(n,r,s,t),renderState:e()}}function b2(t,e,n,r){const s={},o=r(t,{});for(const w in o)s[w]=ah(o[w]);let{initial:l,animate:c}=t;const u=af(t),h=dx(t);e&&h&&!u&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?c:l;if(g&&typeof g!="boolean"&&!of(g)){const w=Array.isArray(g)?g:[g];for(let _=0;_<w.length;_++){const x=sv(t,w[_]);if(x){const{transitionEnd:A,transition:C,...P}=x;for(const R in P){let N=P[R];if(Array.isArray(N)){const j=m?N.length-1:0;N=N[j]}N!==null&&(s[R]=N)}for(const R in A)s[R]=A[R]}}}return s}const yx=t=>(e,n)=>{const r=k.useContext(sf),s=k.useContext(ky),o=()=>x2(t,e,r,s);return n?o():ik(o)};function iv(t,e,n){const{style:r}=t,s={};for(const o in r)(un(r[o])||e.style&&un(e.style[o])||hx(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}const I2=yx({scrapeMotionValuesFromProps:iv,createRenderState:nv});function vx(t,e,n){const r=iv(t,e,n);for(const s in t)if(un(t[s])||un(e[s])){const o=fl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const C2=yx({scrapeMotionValuesFromProps:vx,createRenderState:mx}),A2=Symbol.for("motionComponentSymbol");function ja(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function P2(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ja(n)&&(n.current=r))},[e])}const ov=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R2="framerAppearId",wx="data-"+ov(R2),Ex=k.createContext({});function k2(t,e,n,r,s){const{visualElement:o}=k.useContext(sf),l=k.useContext(ux),c=k.useContext(ky),u=k.useContext(lx).reducedMotion,h=k.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,g=k.useContext(Ex);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&N2(h.current,n,s,g);const w=k.useRef(!1);k.useInsertionEffect(()=>{m&&w.current&&m.update(n,c)});const _=n[wx],x=k.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return ok(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())}),k.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),x.current=!1),m.enteringChildren=void 0)}),m}function N2(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_x(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&ja(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:u,layoutRoot:h})}function _x(t){if(t)return t.options.allowProjection!==!1?t.projection:_x(t.parent)}function Im(t,{forwardMotionProps:e=!1}={},n,r){n&&i2(n);const s=rv(t)?C2:I2;function o(c,u){let h;const m={...k.useContext(lx),...c,layoutId:D2(c)},{isStatic:g}=m,w=c2(c),_=s(c,g);if(!g&&Ry){M2();const x=L2(m);h=x.MeasureLayout,w.visualElement=k2(t,_,m,r,x.ProjectionNode)}return mg.jsxs(sf.Provider,{value:w,children:[h&&w.visualElement?mg.jsx(h,{visualElement:w.visualElement,...m}):null,S2(t,c,P2(_,w.visualElement,u),_,g,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=k.forwardRef(o);return l[A2]=t,l}function D2({layoutId:t}){const e=k.useContext(v1).id;return e&&t!==void 0?e+"-"+t:t}function M2(t,e){k.useContext(ux).strict}function L2(t){const{drag:e,layout:n}=tl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function O2(t,e){if(typeof Proxy>"u")return Im;const n=new Map,r=(o,l)=>Im(o,l,t,e),s=(o,l)=>r(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,Im(l,void 0,t,e)),n.get(l))})}function Tx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function V2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function F2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cm(t){return t===void 0||t===1}function Pg({scale:t,scaleX:e,scaleY:n}){return!Cm(t)||!Cm(e)||!Cm(n)}function wo(t){return Pg(t)||Sx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Sx(t){return p_(t.x)||p_(t.y)}function p_(t){return t&&t!=="0%"}function Ih(t,e,n){const r=t-n,s=e*r;return n+s}function m_(t,e,n,r,s){return s!==void 0&&(t=Ih(t,s,r)),Ih(t,n,r)+e}function Rg(t,e=0,n=1,r,s){t.min=m_(t.min,e,n,r,s),t.max=m_(t.max,e,n,r,s)}function xx(t,{x:e,y:n}){Rg(t.x,e.translate,e.scale,e.originPoint),Rg(t.y,n.translate,n.scale,n.originPoint)}const g_=.999999999999,y_=1.0000000000001;function U2(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ha(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,xx(t,l)),r&&wo(o.latestValues)&&Ha(t,o.latestValues))}e.x<y_&&e.x>g_&&(e.x=1),e.y<y_&&e.y>g_&&(e.y=1)}function $a(t,e){t.min=t.min+e,t.max=t.max+e}function v_(t,e,n,r,s=.5){const o=ft(t.min,t.max,s);Rg(t,e,n,o,r)}function Ha(t,e){v_(t.x,e.x,e.scaleX,e.scale,e.originX),v_(t.y,e.y,e.scaleY,e.scale,e.originY)}function bx(t,e){return Tx(F2(t.getBoundingClientRect(),e))}function B2(t,e,n){const r=bx(t,n),{scroll:s}=e;return s&&($a(r.x,s.offset.x),$a(r.y,s.offset.y)),r}const w_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wa=()=>({x:w_(),y:w_()}),E_=()=>({min:0,max:0}),St=()=>({x:E_(),y:E_()}),kg={current:null},Ix={current:!1};function z2(){if(Ix.current=!0,!!Ry)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>kg.current=t.matches;t.addEventListener("change",e),e()}else kg.current=!1}const j2=new WeakMap;function $2(t,e,n){for(const r in e){const s=e[r],o=n[r];if(un(s))t.addValue(r,s);else if(un(o))t.addValue(r,el(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,el(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const __=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H2{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ky,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Pn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ut.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=af(n),this.isVariantNode=dx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in g){const _=g[w];u[w]!==void 0&&un(_)&&_.set(u[w])}}mount(e){this.current=e,j2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ix.current||z2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xi(this.notifyUpdate),xi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=pl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tl){const n=tl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<__.length;r++){const s=__[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=$2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=el(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(w1(r)||_1(r))?r=parseFloat(r):!r2(r)&&bi.test(n)&&(r=nx(e,n)),this.setBaseTarget(e,un(r)?r.get():r)),un(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=sv(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!un(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Oy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Xy.render(this.render)}}class Cx extends H2{constructor(){super(...arguments),this.KeyframeResolver=HN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ax(t,{style:e,vars:n},r,s){const o=t.style;let l;for(l in e)o[l]=e[l];s?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function W2(t){return window.getComputedStyle(t)}class q2 extends Cx{constructor(){super(...arguments),this.type="html",this.renderInstance=Ax}readValueFromInstance(e,n){if(pl.has(n))return this.projection?.isProjecting?Tg(n):uN(e,n);{const r=W2(e),s=(Uy(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bx(e,n)}build(e,n,r){tv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return iv(e,n,r)}}const Px=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G2(t,e,n,r){Ax(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Px.has(s)?s:ov(s),e.attrs[s])}class K2 extends Cx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=St}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pl.has(n)){const r=tx(n);return r&&r.default||0}return n=Px.has(n)?n:ov(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return vx(e,n,r)}build(e,n,r){px(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){G2(e,n,r,s)}mount(e){this.isSVGTag=gx(e.tagName),super.mount(e)}}const Q2=(t,e)=>rv(t)?new K2(e):new q2(e,{allowProjection:t!==k.Fragment});function Ga(t,e,n){const r=t.getProps();return sv(r,e,n!==void 0?n:r.custom,t)}const Ng=t=>Array.isArray(t);function Y2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,el(n))}function X2(t){return Ng(t)?t[t.length-1]||0:t}function J2(t,e){const n=Ga(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const c=X2(o[l]);Y2(t,l,c)}}function Z2(t){return!!(un(t)&&t.add)}function Dg(t,e){const n=t.getValue("willChange");if(Z2(n))return n.add(e);if(!n&&Ns.WillChange){const r=new Ns.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Rx(t){return t.props[wx]}const eD=t=>t!==null;function tD(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(eD),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const nD={type:"spring",stiffness:500,damping:25,restSpeed:10},rD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sD={type:"keyframes",duration:.8},iD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oD=(t,{keyframes:e})=>e.length>2?sD:pl.has(t)?t.startsWith("scale")?rD(e[1]):nD:iD;function aD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:u,elapsed:h,...m}){return!!Object.keys(m).length}const av=(t,e,n,r={},s,o)=>l=>{const c=Qy(r,t)||{},u=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Hr(u);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};aD(c)||Object.assign(m,oD(t,m)),m.duration&&(m.duration=Hr(m.duration)),m.repeatDelay&&(m.repeatDelay=Hr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Cg(m),m.delay===0&&(g=!0)),(Ns.instantAnimations||Ns.skipAnimations)&&(g=!0,Cg(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,g&&!o&&e.get()!==void 0){const w=tD(m.keyframes,c);if(w!==void 0){ut.update(()=>{m.onUpdate(w),m.onComplete()});return}}return c.isSync?new Gy(m):new NN(m)};function lD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function kx(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const u=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const m in c){const g=t.getValue(m,t.latestValues[m]??null),w=c[m];if(w===void 0||h&&lD(h,m))continue;const _={delay:n,...Qy(o||{},m)},x=g.get();if(x!==void 0&&!g.isAnimating&&!Array.isArray(w)&&w===x&&!_.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const P=Rx(t);if(P){const R=window.MotionHandoffAnimation(P,m,ut);R!==null&&(_.startTime=R,A=!0)}}Dg(t,m),g.start(av(m,g,w,t.shouldReduceMotion&&J1.has(m)?{type:!1}:_,t,A));const C=g.animation;C&&u.push(C)}return l&&Promise.all(u).then(()=>{ut.update(()=>{l&&J2(t,l)})}),u}function Nx(t,e,n,r=0,s=1){const o=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(o,l):s===1?o*r:c-o*r}function Mg(t,e,n={}){const r=Ga(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(kx(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=s;return uD(t,e,u,h,m,g,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,h]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function uD(t,e,n=0,r=0,s=0,o=1,l){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(Mg(u,e,{...l,delay:n+(typeof r=="function"?0:r)+Nx(t.variantChildren,u,r,s,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function cD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Mg(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Mg(t,e,n);else{const s=typeof e=="function"?Ga(t,e,n.custom):e;r=Promise.all(kx(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Dx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const dD=ev.length;function Mx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Mx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<dD;n++){const r=ev[n],s=t.props[r];($u(s)||s===!1)&&(e[r]=s)}return e}const hD=[...Zy].reverse(),fD=Zy.length;function pD(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cD(t,n,r)))}function mD(t){let e=pD(t),n=T_(),r=!0;const s=u=>(h,m)=>{const g=Ga(t,m,u==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:w,transitionEnd:_,...x}=g;h={...h,...x,..._}}return h};function o(u){e=u(t)}function l(u){const{props:h}=t,m=Mx(t.parent)||{},g=[],w=new Set;let _={},x=1/0;for(let C=0;C<fD;C++){const P=hD[C],R=n[P],N=h[P]!==void 0?h[P]:m[P],j=$u(N),q=P===u?R.isActive:null;q===!1&&(x=C);let se=N===m[P]&&N!==h[P]&&j;if(se&&r&&t.manuallyAnimateOnMount&&(se=!1),R.protectedKeys={..._},!R.isActive&&q===null||!N&&!R.prevProp||of(N)||typeof N=="boolean")continue;const F=gD(R.prevProp,N);let b=F||P===u&&R.isActive&&!se&&j||C>x&&j,M=!1;const O=Array.isArray(N)?N:[N];let V=O.reduce(s(P),{});q===!1&&(V={});const{prevResolvedValues:B={}}=R,L={...B,...V},K=X=>{b=!0,w.has(X)&&(M=!0,w.delete(X)),R.needsAnimating[X]=!0;const z=t.getValue(X);z&&(z.liveStyle=!1)};for(const X in L){const z=V[X],Z=B[X];if(_.hasOwnProperty(X))continue;let oe=!1;Ng(z)&&Ng(Z)?oe=!Dx(z,Z):oe=z!==Z,oe?z!=null?K(X):w.add(X):z!==void 0&&w.has(X)?K(X):R.protectedKeys[X]=!0}R.prevProp=N,R.prevResolvedValues=V,R.isActive&&(_={..._,...V}),r&&t.blockInitialAnimation&&(b=!1);const G=se&&F;b&&(!G||M)&&g.push(...O.map(X=>{const z={type:P};if(typeof X=="string"&&r&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,oe=Ga(Z,X);if(Z.enteringChildren&&oe){const{delayChildren:H}=oe.transition||{};z.delay=Nx(Z.enteringChildren,t,H)}}return{animation:X,options:z}}))}if(w.size){const C={};if(typeof h.initial!="boolean"){const P=Ga(t,Array.isArray(h.initial)?h.initial[0]:h.initial);P&&P.transition&&(C.transition=P.transition)}w.forEach(P=>{const R=t.getBaseTarget(P),N=t.getValue(P);N&&(N.liveStyle=!0),C[P]=R??null}),g.push({animation:C})}let A=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(g):Promise.resolve()}function c(u,h){if(n[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(u,h)),n[u].isActive=h;const m=l(u);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=T_(),r=!0}}}function gD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Dx(e,t):!1}function vo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function T_(){return{animate:vo(!0),whileInView:vo(),whileHover:vo(),whileTap:vo(),whileDrag:vo(),whileFocus:vo(),exit:vo()}}class Mi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class yD extends Mi{constructor(e){super(e),e.animationState||(e.animationState=mD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();of(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let vD=0;class wD extends Mi{constructor(){super(...arguments),this.id=vD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ED={animation:{Feature:yD},exit:{Feature:wD}};function Wu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function dc(t){return{point:{x:t.pageX,y:t.pageY}}}const _D=t=>e=>Jy(e)&&t(e,dc(e));function Pu(t,e,n,r){return Wu(t,e,_D(n),r)}const Lx=1e-4,TD=1-Lx,SD=1+Lx,Ox=.01,xD=0-Ox,bD=0+Ox;function gn(t){return t.max-t.min}function ID(t,e,n){return Math.abs(t-e)<=n}function S_(t,e,n,r=.5){t.origin=r,t.originPoint=ft(e.min,e.max,t.origin),t.scale=gn(n)/gn(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=TD&&t.scale<=SD||isNaN(t.scale))&&(t.scale=1),(t.translate>=xD&&t.translate<=bD||isNaN(t.translate))&&(t.translate=0)}function Ru(t,e,n,r){S_(t.x,e.x,n.x,r?r.originX:void 0),S_(t.y,e.y,n.y,r?r.originY:void 0)}function x_(t,e,n){t.min=n.min+e.min,t.max=t.min+gn(e)}function CD(t,e,n){x_(t.x,e.x,n.x),x_(t.y,e.y,n.y)}function b_(t,e,n){t.min=e.min-n.min,t.max=t.min+gn(e)}function ku(t,e,n){b_(t.x,e.x,n.x),b_(t.y,e.y,n.y)}function Jn(t){return[t("x"),t("y")]}const Vx=({current:t})=>t?t.ownerDocument.defaultView:null,I_=(t,e)=>Math.abs(t-e);function AD(t,e){const n=I_(t.x,e.x),r=I_(t.y,e.y);return Math.sqrt(n**2+r**2)}class Fx{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Pm(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,x=AD(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!x)return;const{point:A}=w,{timestamp:C}=Yt;this.history.push({...A,timestamp:C});const{onStart:P,onMove:R}=this.handlers;_||(P&&P(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Am(_,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:x,onSessionEnd:A,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Pm(w.type==="pointercancel"?this.lastMoveEventInfo:Am(_,this.transformPagePoint),this.history);this.startEvent&&x&&x(w,P),A&&A(w,P)},!Jy(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const c=dc(e),u=Am(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=Yt;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Pm(u,this.history)),this.removeListeners=lc(Pu(this.contextWindow,"pointermove",this.handlePointerMove),Pu(this.contextWindow,"pointerup",this.handlePointerUp),Pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xi(this.updatePoint)}}function Am(t,e){return e?{point:e(t.point)}:t}function C_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pm({point:t},e){return{point:t,delta:C_(t,Ux(e)),offset:C_(t,PD(e)),velocity:RD(e,.1)}}function PD(t){return t[0]}function Ux(t){return t[t.length-1]}function RD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Ux(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Hr(e)));)n--;if(!r)return{x:0,y:0};const o=Wr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function kD(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ft(n,t,r.max):Math.min(t,n)),t}function A_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ND(t,{top:e,left:n,bottom:r,right:s}){return{x:A_(t.x,n,s),y:A_(t.y,e,r)}}function P_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function DD(t,e){return{x:P_(t.x,e.x),y:P_(t.y,e.y)}}function MD(t,e){let n=.5;const r=gn(t),s=gn(e);return s>r?n=Bu(e.min,e.max-r,t.min):r>s&&(n=Bu(t.min,t.max-s,e.min)),ks(0,1,n)}function LD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Lg=.35;function OD(t=Lg){return t===!1?t=0:t===!0&&(t=Lg),{x:R_(t,"left","right"),y:R_(t,"top","bottom")}}function R_(t,e,n){return{min:k_(t,e),max:k_(t,n)}}function k_(t,e){return typeof t=="number"?t:t[e]||0}const VD=new WeakMap;class FD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dc(g).point)},l=(g,w)=>{const{drag:_,dragPropagation:x,onDragStart:A}=this.getProps();if(_&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QN(_),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(P=>{let R=this.getAxisMotionValue(P).get()||0;if(qr.test(R)){const{projection:N}=this.visualElement;if(N&&N.layout){const j=N.layout.layoutBox[P];j&&(R=gn(j)*(parseFloat(R)/100))}}this.originPoint[P]=R}),A&&ut.postRender(()=>A(g,w)),Dg(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(g,w)=>{this.latestPointerEvent=g,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:x,onDirectionLock:A,onDrag:C}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:P}=w;if(x&&this.currentDirection===null){this.currentDirection=UD(P),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",w.point,P),this.updateAxis("y",w.point,P),this.visualElement.render(),C&&C(g,w)},u=(g,w)=>{this.latestPointerEvent=g,this.latestPanInfo=w,this.stop(g,w),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Jn(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Fx(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:Vx(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&ut.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!qd(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=kD(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&ja(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=ND(r.layoutBox,e):this.constraints=!1,this.elastic=OD(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Jn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=LD(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ja(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=B2(r,s.root,this.visualElement.getTransformPagePoint());let l=DD(s.layout.layoutBox,o);if(n){const c=n(V2(l));this.hasMutatedConstraints=!!c,c&&(l=Tx(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Jn(m=>{if(!qd(m,n,this.currentDirection))return;let g=u&&u[m]||{};l&&(g={min:0,max:0});const w=s?200:1e6,_=s?40:1e7,x={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,x)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Dg(this.visualElement,e),r.start(av(e,r,0,n,this.visualElement,!1))}stopAnimation(){Jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jn(n=>{const{drag:r}=this.getProps();if(!qd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];o.set(e[n]-ft(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ja(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Jn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();s[l]=MD({min:u,max:u},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jn(l=>{if(!qd(l,e,null))return;const c=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];c.set(ft(u,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;VD.set(this.visualElement,this);const e=this.visualElement.current,n=Pu(e,"pointerdown",u=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();ja(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ut.read(r);const l=Wu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Jn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=u[m].translate,g.set(g.get()+u[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Lg,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function qd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function UD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BD extends Mi{constructor(e){super(e),this.removeGroupControls=er,this.removeListeners=er,this.controls=new FD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}}const N_=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class zD extends Mi{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(e){this.session=new Fx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:N_(e),onStart:N_(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&ut.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=Pu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function D_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=D_(t,e.target.x),r=D_(t,e.target.y);return`${n}% ${r}%`}},jD={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=bi.parse(t);if(s.length>5)return r;const o=bi.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=u;const h=ft(c,u,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}};let Rm=!1;class $D extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;d2(HD),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),Rm&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),lh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,Rm=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||ut.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Rm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bx(t){const[e,n]=s2(),r=k.useContext(v1);return mg.jsx($D,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(Ex),isPresent:e,safeToRemove:n})}const HD={borderRadius:{...gu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gu,borderTopRightRadius:gu,borderBottomLeftRadius:gu,borderBottomRightRadius:gu,boxShadow:jD};function WD(t,e,n){const r=un(t)?t:el(t);return r.start(av("",r,e,n)),r.animation}const qD=(t,e)=>t.depth-e.depth;class GD{constructor(){this.children=[],this.isDirty=!1}add(e){Ny(this.children,e),this.isDirty=!0}remove(e){Dy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qD),this.isDirty=!1,this.children.forEach(e)}}function KD(t,e){const n=Pn.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(xi(r),t(o-e))};return ut.setup(r,!0),()=>xi(r)}const zx=["TopLeft","TopRight","BottomLeft","BottomRight"],QD=zx.length,M_=t=>typeof t=="string"?parseFloat(t):t,L_=t=>typeof t=="number"||Ae.test(t);function YD(t,e,n,r,s,o){s?(t.opacity=ft(0,n.opacity??1,XD(r)),t.opacityExit=ft(e.opacity??1,0,JD(r))):o&&(t.opacity=ft(e.opacity??1,n.opacity??1,r));for(let l=0;l<QD;l++){const c=`border${zx[l]}Radius`;let u=O_(e,c),h=O_(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||L_(u)===L_(h)?(t[c]=Math.max(ft(M_(u),M_(h),r),0),(qr.test(h)||qr.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,r))}function O_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XD=jx(0,.5,P1),JD=jx(.5,.95,er);function jx(t,e,n){return r=>r<t?0:r>e?1:n(Bu(t,e,r))}function V_(t,e){t.min=e.min,t.max=e.max}function Xn(t,e){V_(t.x,e.x),V_(t.y,e.y)}function F_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function U_(t,e,n,r,s){return t-=e,t=Ih(t,1/n,r),s!==void 0&&(t=Ih(t,1/s,r)),t}function ZD(t,e=0,n=1,r=.5,s,o=t,l=t){if(qr.test(e)&&(e=parseFloat(e),e=ft(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ft(o.min,o.max,r);t===o&&(c-=e),t.min=U_(t.min,e,n,c,s),t.max=U_(t.max,e,n,c,s)}function B_(t,e,[n,r,s],o,l){ZD(t,e[n],e[r],e[s],e.scale,o,l)}const eM=["x","scaleX","originX"],tM=["y","scaleY","originY"];function z_(t,e,n,r){B_(t.x,e,eM,n?n.x:void 0,r?r.x:void 0),B_(t.y,e,tM,n?n.y:void 0,r?r.y:void 0)}function j_(t){return t.translate===0&&t.scale===1}function $x(t){return j_(t.x)&&j_(t.y)}function $_(t,e){return t.min===e.min&&t.max===e.max}function nM(t,e){return $_(t.x,e.x)&&$_(t.y,e.y)}function H_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Hx(t,e){return H_(t.x,e.x)&&H_(t.y,e.y)}function W_(t){return gn(t.x)/gn(t.y)}function q_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rM{constructor(){this.members=[]}add(e){Ny(this.members,e),e.scheduleRender()}remove(e){if(Dy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sM(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:w,skewX:_,skewY:x}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),w&&(r+=`rotateY(${w}deg) `),_&&(r+=`skewX(${_}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const km=["","X","Y","Z"],iM=1e3;let oM=0;function Nm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Wx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Rx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Wx(r)}function qx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=oM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uM),this.nodes.forEach(fM),this.nodes.forEach(pM),this.nodes.forEach(cM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new GD)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Oy),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ax(l)&&!t2(l),this.instance=l;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let m,g=0;const w=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{g=window.innerWidth}),t(l,()=>{const _=window.innerWidth;_!==g&&(g=_,this.root.updateBlockedByResize=!0,m&&m(),m=KD(w,250),lh.hasAnimatedSinceResize&&(lh.hasAnimatedSinceResize=!1,this.nodes.forEach(Q_)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||wM,{onLayoutAnimationStart:A,onLayoutAnimationComplete:C}=h.getProps(),P=!this.targetLayout||!Hx(this.targetLayout,_),R=!g&&w;if(this.options.layoutRoot||this.resumeFrom||R||g&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Qy(x,"layout"),onPlay:A,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(m,R)}else g||Q_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mM),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hM),this.nodes.forEach(aM),this.nodes.forEach(lM)):this.nodes.forEach(K_),this.clearAllSnapshots();const c=Pn.now();Yt.delta=ks(0,1e3/60,c-Yt.timestamp),Yt.timestamp=c,Yt.isProcessing=!0,Em.update.process(Yt),Em.preRender.process(Yt),Em.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dM),this.sharedNodes.forEach(gM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!$x(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||wo(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),EM(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return St();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_M))){const{scroll:h}=this.root;h&&($a(c.x,h.offset.x),$a(c.y,h.offset.y))}return c}removeElementScroll(l){const c=St();if(Xn(c,l),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Xn(c,l),$a(c.x,m.offset.x),$a(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const u=St();Xn(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ha(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),wo(m.latestValues)&&Ha(u,m.latestValues)}return wo(this.latestValues)&&Ha(u,this.latestValues),u}removeTransform(l){const c=St();Xn(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!wo(h.latestValues))continue;Pg(h.latestValues)&&h.updateSnapshot();const m=St(),g=h.measurePageBox();Xn(m,g),z_(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return wo(this.latestValues)&&z_(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),ku(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),xx(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),ku(this.relativeTargetOrigin,this.target,w.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Pg(this.parent.latestValues)||Sx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Xn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,w=this.treeScale.y;U2(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=St());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(F_(this.prevProjectionDelta.x,this.projectionDelta.x),F_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ru(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==w||!q_(this.projectionDelta.x,this.prevProjectionDelta.x)||!q_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wa(),this.projectionDelta=Wa(),this.projectionDeltaWithTransform=Wa()}setAnimationOrigin(l,c=!1){const u=this.snapshot,h=u?u.latestValues:{},m={...this.latestValues},g=Wa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=St(),_=u?u.source:void 0,x=this.layout?this.layout.source:void 0,A=_!==x,C=this.getStack(),P=!C||C.members.length<=1,R=!!(A&&!P&&this.options.crossfade===!0&&!this.path.some(vM));this.animationProgress=0;let N;this.mixTargetDelta=j=>{const q=j/1e3;Y_(g.x,l.x,q),Y_(g.y,l.y,q),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ku(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yM(this.relativeTarget,this.relativeTargetOrigin,w,q),N&&nM(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=St()),Xn(N,this.relativeTarget)),A&&(this.animationValues=m,YD(m,h,this.latestValues,q,R,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{lh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=el(0)),this.currentAnimation=WD(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:m}=l;if(!(!c||!u||!h)){if(this!==l&&this.layout&&h&&Gx(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||St();const g=gn(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+g;const w=gn(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+w}Xn(c,u),Ha(c,m),Ru(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new rM),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&Nm("z",l,h,this.animationValues);for(let m=0;m<km.length;m++)Nm(`rotate${km[m]}`,l,h,this.animationValues),Nm(`skew${km[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=ah(c?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=ah(c?.pointerEvents)||""),this.hasProjected&&!wo(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=sM(this.projectionDeltaWithTransform,this.treeScale,m);u&&(g=u(m,g)),l.transform=g;const{x:w,y:_}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in Hu){if(m[x]===void 0)continue;const{correct:A,applyTo:C,isCSSVariable:P}=Hu[x],R=g==="none"?m[x]:A(m[x],h);if(C){const N=C.length;for(let j=0;j<N;j++)l[C[j]]=R}else P?this.options.visualElement.renderState.vars[x]=R:l[x]=R}this.options.layoutId&&(l.pointerEvents=h===this?ah(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(G_),this.root.sharedNodes.clear()}}}function aM(t){t.updateLayout()}function lM(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Jn(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],w=gn(g);g.min=n[m].min,g.max=g.min+w}):Gx(s,e.layoutBox,n)&&Jn(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],w=gn(n[m]);g.max=g.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+w)});const l=Wa();Ru(l,n,e.layoutBox);const c=Wa();o?Ru(c,t.applyTransform(r,!0),e.measuredBox):Ru(c,n,e.layoutBox);const u=!$x(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:w}=m;if(g&&w){const _=St();ku(_,e.layoutBox,g.layoutBox);const x=St();ku(x,n,w.layoutBox),Hx(_,x)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=_,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function uM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dM(t){t.clearSnapshot()}function G_(t){t.clearMeasurements()}function K_(t){t.isLayoutDirty=!1}function hM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Q_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fM(t){t.resolveTargetDelta()}function pM(t){t.calcProjection()}function mM(t){t.resetSkewAndRotation()}function gM(t){t.removeLeadSnapshot()}function Y_(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function X_(t,e,n,r){t.min=ft(e.min,n.min,r),t.max=ft(e.max,n.max,r)}function yM(t,e,n,r){X_(t.x,e.x,n.x,r),X_(t.y,e.y,n.y,r)}function vM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wM={duration:.45,ease:[.4,0,.1,1]},J_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Z_=J_("applewebkit/")&&!J_("chrome/")?Math.round:er;function eT(t){t.min=Z_(t.min),t.max=Z_(t.max)}function EM(t){eT(t.x),eT(t.y)}function Gx(t,e,n){return t==="position"||t==="preserve-aspect"&&!ID(W_(e),W_(n),.2)}function _M(t){return t!==t.root&&t.scroll?.wasRoot}const TM=qx({attachResizeListener:(t,e)=>Wu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dm={current:void 0},Kx=qx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dm.current){const t=new TM({});t.mount(window),t.setOptions({layoutScroll:!0}),Dm.current=t}return Dm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),SM={pan:{Feature:zD},drag:{Feature:BD,ProjectionNode:Kx,MeasureLayout:Bx}};function tT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&ut.postRender(()=>o(e,dc(e)))}class xM extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=YN(e,(n,r)=>(tT(this.node,r,"Start"),s=>tT(this.node,s,"End"))))}unmount(){}}class bM extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lc(Wu(this.node.current,"focus",()=>this.onFocus()),Wu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&ut.postRender(()=>o(e,dc(e)))}class IM extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=e2(e,(n,r)=>(nT(this.node,r,"Start"),(s,{success:o})=>nT(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Og=new WeakMap,Mm=new WeakMap,CM=t=>{const e=Og.get(t.target);e&&e(t)},AM=t=>{t.forEach(CM)};function PM({root:t,...e}){const n=t||document;Mm.has(n)||Mm.set(n,{});const r=Mm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(AM,{root:t,...e})),r[s]}function RM(t,e,n){const r=PM(e);return Og.set(t,n),r.observe(t),()=>{Og.delete(t),r.unobserve(t)}}const kM={some:0,all:1};class NM extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:kM[s]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),w=h?m:g;w&&w(u)};return RM(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(DM(e,n))&&this.startObserver()}unmount(){}}function DM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const MM={inView:{Feature:NM},tap:{Feature:IM},focus:{Feature:bM},hover:{Feature:xM}},LM={layout:{ProjectionNode:Kx,MeasureLayout:Bx}},OM={...ED,...MM,...SM,...LM},yi=O2(OM,Q2),VM=()=>y.createElement("main",{className:"bg-white"},y.createElement("section",{className:"max-w-7xl mx-auto px-4 pt-20 pb-16 text-center"},y.createElement(yi.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl sm:text-5xl font-bold text-gray-900 leading-tight"},"Buy & Sell Locally in Amravati"),y.createElement(yi.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-4 text-gray-600 max-w-2xl mx-auto text-base sm:text-lg"},"Books, handmade items, home food, second-hand goods & more. Chat securely with local sellers  no phone numbers shared."),y.createElement("p",{className:"mt-2 text-xs text-gray-500"},"Serving Amravati city & nearby areas only."),y.createElement(yi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-4"},y.createElement(Le,{to:"/browse",className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-semibold shadow-sm transition"},"Browse Products"),y.createElement(Le,{to:"/add-product",className:"text-blue-600 hover:underline text-sm font-medium"},"Start selling "))),y.createElement("section",{className:"border-t border-b bg-gray-50"},y.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6 grid grid-cols-1 sm:grid-cols-3 gap-4 text-center text-sm text-gray-700"},y.createElement("div",null," Secure in-app chat"),y.createElement("div",null," Only Amravati sellers"),y.createElement("div",null," No phone number sharing"))),y.createElement("section",{className:"max-w-7xl mx-auto px-4 py-16"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-12"},"How MyAmravati Market Works"),y.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},[{title:"List or Browse Products",desc:"Post what you want to sell or explore local listings.",icon:""},{title:"Chat Securely",desc:"Talk to buyers or sellers inside the platform.",icon:""},{title:"Meet & Close the Deal",desc:"Meet locally and complete the exchange with trust.",icon:""}].map((t,e)=>y.createElement(yi.div,{key:e,initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},className:"bg-white rounded-xl shadow-sm p-6 text-center"},y.createElement("div",{className:"text-4xl mb-3"},t.icon),y.createElement("h3",{className:"font-semibold text-lg mb-2"},t.title),y.createElement("p",{className:"text-gray-600 text-sm"},t.desc))))),y.createElement("section",{className:"bg-gray-50 py-16"},y.createElement("div",{className:"max-w-6xl mx-auto px-4 text-center"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-10"},"Built for Local People"),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 text-sm"},y.createElement("div",{className:"bg-white rounded-xl p-6 shadow-sm"}," ",y.createElement("strong",null,"Students"),y.createElement("p",{className:"mt-2 text-gray-600"},"Buy & sell books, notes, gadgets and essentials.")),y.createElement("div",{className:"bg-white rounded-xl p-6 shadow-sm"}," ",y.createElement("strong",null,"Shop Owners"),y.createElement("p",{className:"mt-2 text-gray-600"},"Take your local shop online without extra cost.")),y.createElement("div",{className:"bg-white rounded-xl p-6 shadow-sm"}," ",y.createElement("strong",null,"Home Entrepreneurs"),y.createElement("p",{className:"mt-2 text-gray-600"},"Sell homemade food, crafts and handmade items."))))),y.createElement("section",{className:"max-w-6xl mx-auto px-4 py-16 text-center"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-4"},"Start Your Local Journey Today"),y.createElement("p",{className:"text-gray-600 mb-6"},"Join Amravatis own digital marketplace."),y.createElement(Le,{to:"/browse",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-semibold shadow-sm transition"},"Explore Products"))),FM=()=>{};var rT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},UM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],u=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Yx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,m=o>>2,g=(o&3)<<4|c>>4;let w=(c&15)<<2|h>>6,_=h&63;u||(_=64,l||(w=64)),r.push(n[m],n[g],n[w],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||h==null||g==null)throw new BM;const w=o<<2|c>>4;if(r.push(w),h!==64){const _=c<<4&240|h>>2;if(r.push(_),g!==64){const x=h<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zM=function(t){const e=Qx(t);return Yx.encodeByteArray(e,!0)},Ch=function(t){return zM(t).replace(/\./g,"")},Xx=function(t){try{return Yx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=()=>jM().__FIREBASE_DEFAULTS__,HM=()=>{if(typeof process>"u"||typeof rT>"u")return;const t=rT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xx(t[1]);return e&&JSON.parse(e)},lf=()=>{try{return FM()||$M()||HM()||WM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jx=t=>lf()?.emulatorHosts?.[t],Zx=t=>{const e=Jx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eb=()=>lf()?.config,tb=t=>lf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(l)),""].join(".")}const Nu={};function GM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?t.emulator.push(e):t.prod.push(e);return t}function KM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sT=!1;function uv(t,e){if(typeof window>"u"||typeof document>"u"||!Li(window.location.host)||Nu[t]===e||Nu[t]||sT)return;Nu[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=GM().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function u(w,_){w.setAttribute("width","24"),w.setAttribute("id",_),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function h(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{sT=!0,l()},w}function m(w,_){w.setAttribute("id",_),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){const w=KM(r),_=n("text"),x=document.getElementById(_)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),P=n("preprendIcon"),R=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const N=w.element;c(N),m(C,A);const j=h();u(R,P),N.append(R,x,C,j),document.body.appendChild(N)}o?(x.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function YM(){const t=lf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eL(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tL(){return!YM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nL(){try{return typeof indexedDB=="object"}catch{return!1}}function rL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="FirebaseError";class es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sL,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?iL(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new es(s,c,r)}}function iL(t,e){return t.replace(oL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const oL=/\{\$([^}]+)}/g;function aL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ro(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(iT(o)&&iT(l)){if(!Ro(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function iT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function _u(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lL(t,e){const n=new uL(t,e);return n.subscribe.bind(n)}class uL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Lm),s.error===void 0&&(s.error=Lm),s.complete===void 0&&(s.complete=Lm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class Ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fL(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hL(t){return t===Eo?void 0:t}function fL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const mL={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},gL=Fe.INFO,yL={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},vL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=yL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cv{constructor(e){this.name=e,this._logLevel=gL,this._logHandler=vL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const wL=(t,e)=>e.some(n=>t instanceof n);let oT,aT;function EL(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _L(){return aT||(aT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rb=new WeakMap,Vg=new WeakMap,sb=new WeakMap,Om=new WeakMap,dv=new WeakMap;function TL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Ei(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&rb.set(n,t)}).catch(()=>{}),dv.set(e,t),e}function SL(t){if(Vg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Vg.set(t,e)}let Fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xL(t){Fg=t(Fg)}function bL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vm(this),e,...n);return sb.set(r,e.sort?e.sort():[e]),Ei(r)}:_L().includes(t)?function(...e){return t.apply(Vm(this),e),Ei(rb.get(this))}:function(...e){return Ei(t.apply(Vm(this),e))}}function IL(t){return typeof t=="function"?bL(t):(t instanceof IDBTransaction&&SL(t),wL(t,EL())?new Proxy(t,Fg):t)}function Ei(t){if(t instanceof IDBRequest)return TL(t);if(Om.has(t))return Om.get(t);const e=IL(t);return e!==t&&(Om.set(t,e),dv.set(e,t)),e}const Vm=t=>dv.get(t);function CL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=Ei(l);return r&&l.addEventListener("upgradeneeded",u=>{r(Ei(l.result),u.oldVersion,u.newVersion,Ei(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const AL=["get","getKey","getAll","getAllKeys","count"],PL=["put","add","delete","clear"],Fm=new Map;function lT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=PL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||AL.includes(n)))return;const o=async function(l,...c){const u=this.transaction(l,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&u.done]))[0]};return Fm.set(e,o),o}xL(t=>({...t,get:(e,n,r)=>lT(e,n)||t.get(e,n,r),has:(e,n)=>!!lT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kL(t){return t.getComponent()?.type==="VERSION"}const Ug="@firebase/app",uT="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new cv("@firebase/app"),NL="@firebase/app-compat",DL="@firebase/analytics-compat",ML="@firebase/analytics",LL="@firebase/app-check-compat",OL="@firebase/app-check",VL="@firebase/auth",FL="@firebase/auth-compat",UL="@firebase/database",BL="@firebase/data-connect",zL="@firebase/database-compat",jL="@firebase/functions",$L="@firebase/functions-compat",HL="@firebase/installations",WL="@firebase/installations-compat",qL="@firebase/messaging",GL="@firebase/messaging-compat",KL="@firebase/performance",QL="@firebase/performance-compat",YL="@firebase/remote-config",XL="@firebase/remote-config-compat",JL="@firebase/storage",ZL="@firebase/storage-compat",eO="@firebase/firestore",tO="@firebase/ai",nO="@firebase/firestore-compat",rO="firebase",sO="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="[DEFAULT]",iO={[Ug]:"fire-core",[NL]:"fire-core-compat",[ML]:"fire-analytics",[DL]:"fire-analytics-compat",[OL]:"fire-app-check",[LL]:"fire-app-check-compat",[VL]:"fire-auth",[FL]:"fire-auth-compat",[UL]:"fire-rtdb",[BL]:"fire-data-connect",[zL]:"fire-rtdb-compat",[jL]:"fire-fn",[$L]:"fire-fn-compat",[HL]:"fire-iid",[WL]:"fire-iid-compat",[qL]:"fire-fcm",[GL]:"fire-fcm-compat",[KL]:"fire-perf",[QL]:"fire-perf-compat",[YL]:"fire-rc",[XL]:"fire-rc-compat",[JL]:"fire-gcs",[ZL]:"fire-gcs-compat",[eO]:"fire-fst",[nO]:"fire-fst-compat",[tO]:"fire-vertex","fire-js":"fire-js",[rO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,oO=new Map,zg=new Map;function cT(t,e){try{t.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(zg.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;zg.set(e,t);for(const n of qu.values())cT(n,t);for(const n of oO.values())cT(n,t);return!0}function uf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new hc("app","Firebase",aO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=sO;function ib(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Bg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw _i.create("bad-app-name",{appName:String(s)});if(n||(n=eb()),!n)throw _i.create("no-options");const o=qu.get(s);if(o){if(Ro(n,o.options)&&Ro(r,o.config))return o;throw _i.create("duplicate-app",{appName:s})}const l=new pL(s);for(const u of zg.values())l.addComponent(u);const c=new lO(n,r,l);return qu.set(s,c),c}function cf(t=Bg){const e=qu.get(t);if(!e&&t===Bg&&eb())return ib();if(!e)throw _i.create("no-app",{appName:t});return e}function uO(){return Array.from(qu.values())}function Gr(t,e,n){let r=iO[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(l.join(" "));return}ko(new Ii(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="firebase-heartbeat-database",dO=1,Gu="firebase-heartbeat-store";let Um=null;function ob(){return Um||(Um=CL(cO,dO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),Um}async function hO(t){try{const n=(await ob()).transaction(Gu),r=await n.objectStore(Gu).get(ab(t));return await n.done,r}catch(e){if(e instanceof es)Ds.warn(e.message);else{const n=_i.create("idb-get",{originalErrorMessage:e?.message});Ds.warn(n.message)}}}async function dT(t,e){try{const r=(await ob()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(e,ab(t)),await r.done}catch(n){if(n instanceof es)Ds.warn(n.message);else{const r=_i.create("idb-set",{originalErrorMessage:n?.message});Ds.warn(r.message)}}}function ab(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=1024,pO=30;class mO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>pO){const s=vO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ds.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hT(),{heartbeatsToSend:n,unsentEntries:r}=gO(this._heartbeatsCache.heartbeats),s=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ds.warn(e),""}}}function hT(){return new Date().toISOString().substring(0,10)}function gO(t,e=fO){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),fT(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),fT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nL()?rL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fT(t){return Ch(JSON.stringify({version:2,heartbeats:t})).length}function vO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){ko(new Ii("platform-logger",e=>new RL(e),"PRIVATE")),ko(new Ii("heartbeat",e=>new mO(e),"PRIVATE")),Gr(Ug,uT,t),Gr(Ug,uT,"esm2020"),Gr("fire-js","")}wO("");var EO="firebase",_O="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(EO,_O,"app");function lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TO=lb,ub=new hc("auth","Firebase",lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new cv("@firebase/auth");function SO(t,...e){Ah.logLevel<=Fe.WARN&&Ah.warn(`Auth (${Uo}): ${t}`,...e)}function uh(t,...e){Ah.logLevel<=Fe.ERROR&&Ah.error(`Auth (${Uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,...e){throw fv(t,...e)}function xr(t,...e){return fv(t,...e)}function hv(t,e,n){const r={...TO(),[e]:n};return new hc("auth","Firebase",r).create(e,{appName:t.name})}function Cs(t){return hv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&rr(t,"argument-error"),hv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ub.create(t,...e)}function be(t,e,...n){if(!t)throw fv(e,...n)}function xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uh(e),new Error(e)}function Ms(t,e){t||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(){return typeof self<"u"&&self.location?.href||""}function bO(){return pT()==="http:"||pT()==="https:"}function pT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bO()||JM()||"connection"in navigator)?navigator.onLine:!0}function CO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ms(n>e,"Short delay should be less than long delay!"),this.isMobile=QM()||ZM()}get(){return IO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){Ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RO=new pc(3e4,6e4);function Oi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Vi(t,e,n,r,s={}){return db(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=fc({key:t.config.apiKey,...l}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...o};return XM()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Li(t.emulatorConfig.host)&&(h.credentials="include"),cb.fetch()(await hb(t,t.config.apiHost,n,c),h)})}async function db(t,e,n){t._canInitEmulator=!1;const r={...AO,...e};try{const s=new NO(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Gd(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gd(t,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw Gd(t,"email-already-in-use",l);if(u==="USER_DISABLED")throw Gd(t,"user-disabled",l);const m=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw hv(t,m,h);rr(t,m)}}catch(s){if(s instanceof es)throw s;rr(t,"network-request-failed",{message:String(s)})}}async function mc(t,e,n,r,s={}){const o=await Vi(t,e,n,r,s);return"mfaPendingCredential"in o&&rr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function hb(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?pv(t.config,s):`${t.config.apiScheme}://${s}`;return PO.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function kO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),RO.get())})}}function Gd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=xr(t,e,r);return s.customData._tokenResponse=n,s}function mT(t){return t!==void 0&&t.enterprise!==void 0}class DO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MO(t,e){return Vi(t,"GET","/v2/recaptchaConfig",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e){return Vi(t,"POST","/v1/accounts:delete",e)}async function Ph(t,e){return Vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OO(t,e=!1){const n=it(t),r=await n.getIdToken(e),s=mv(r);be(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:Du(Bm(s.auth_time)),issuedAtTime:Du(Bm(s.iat)),expirationTime:Du(Bm(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Bm(t){return Number(t)*1e3}function mv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Xx(n);return s?JSON.parse(s):(uh("Failed to decode base64 JWT payload"),null)}catch(s){return uh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function gT(t){const e=mv(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof es&&VO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(t){const e=t.auth,n=await t.getIdToken(),r=await Ku(t,Ph(e,{idToken:n}));be(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?fb(s.providerUserInfo):[],l=BO(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!l?.length,h=c?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new $g(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function UO(t){const e=it(t);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function fb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(t,e){const n=await db(t,{},async()=>{const r=fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await hb(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return t.emulatorConfig&&Li(t.emulatorConfig.host)&&(u.credentials="include"),cb.fetch()(l,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jO(t,e){return Vi(t,"POST","/v2/accounts:revokeToken",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=gT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await zO(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new Ka;return r&&(be(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(be(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(be(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new FO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $g(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OO(this,e)}reload(){return UO(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await Ku(this,LO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:w,isAnonymous:_,providerData:x,stsTokenManager:A}=n;be(g&&A,e,"internal-error");const C=Ka.fromJSON(this.name,A);be(typeof g=="string",e,"internal-error"),di(r,e.name),di(s,e.name),be(typeof w=="boolean",e,"internal-error"),be(typeof _=="boolean",e,"internal-error"),di(o,e.name),di(l,e.name),di(c,e.name),di(u,e.name),di(h,e.name),di(m,e.name);const P=new Tr({uid:g,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:C,createdAt:h,lastLoginAt:m});return x&&Array.isArray(x)&&(P.providerData=x.map(R=>({...R}))),u&&(P._redirectEventId=u),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ka;s.updateFromServerResponse(n);const o=new Tr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Rh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];be(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?fb(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,c=new Ka;c.updateFromIdToken(r);const u=new Tr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $g(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=new Map;function bs(t){Ms(t instanceof Function,"Expected a class definition");let e=yT.get(t);return e?(Ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pb.type="NONE";const vT=pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t,e,n){return`firebase:${t}:${e}:${n}`}class Qa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=ch(this.userKey,s.apiKey,o),this.fullPersistenceKey=ch("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ph(this.auth,{idToken:e}).catch(()=>{});return n?Tr._fromGetAccountInfoResponse(this.auth,n,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qa(bs(vT),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||bs(vT);const l=ch(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){let g;if(typeof m=="string"){const w=await Ph(e,{idToken:m}).catch(()=>{});if(!w)break;g=await Tr._fromGetAccountInfoResponse(e,w,m)}else g=Tr._fromJSON(e,m);h!==o&&(c=g),o=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Qa(o,e,r):(o=u[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Qa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Eb(e))return"Blackberry";if(_b(e))return"Webos";if(gb(e))return"Safari";if((e.includes("chrome/")||yb(e))&&!e.includes("edge/"))return"Chrome";if(wb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mb(t=cn()){return/firefox\//i.test(t)}function gb(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yb(t=cn()){return/crios\//i.test(t)}function vb(t=cn()){return/iemobile/i.test(t)}function wb(t=cn()){return/android/i.test(t)}function Eb(t=cn()){return/blackberry/i.test(t)}function _b(t=cn()){return/webos/i.test(t)}function gv(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $O(t=cn()){return gv(t)&&!!window.navigator?.standalone}function HO(){return eL()&&document.documentMode===10}function Tb(t=cn()){return gv(t)||wb(t)||_b(t)||Eb(t)||/windows phone/i.test(t)||vb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t,e=[]){let n;switch(t){case"Browser":n=wT(cn());break;case"Worker":n=`${wT(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const u=e(o);l(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e={}){return Vi(t,"GET","/v2/passwordPolicy",Oi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=6;class KO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ET(this),this.idTokenSubscription=new ET(this),this.beforeStateQueue=new WO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ph(this,{idToken:e}),r=await Tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Cs(this));const n=e?it(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qO(this),n=new KO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{l=!0,u()}}else{const u=e.addObserver(n);return()=>{l=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fi(t){return it(t)}class ET{constructor(e){this.auth=e,this.observer=null,this.addObserver=lL(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YO(t){df=t}function xb(t){return df.loadJS(t)}function XO(){return df.recaptchaEnterpriseScript}function JO(){return df.gapiScript}function ZO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eV{constructor(){this.enterprise=new tV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nV="recaptcha-enterprise",bb="NO_RECAPTCHA";class rV{constructor(e){this.type=nV,this.auth=Fi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{MO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new DO(u);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(u=>{c(u)})})}function s(o,l,c){const u=window.grecaptcha;mT(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(bb)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eV().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&mT(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let u=XO();u.length!==0&&(u+=c),xb(u).then(()=>{s(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function _T(t,e,n,r=!1,s=!1){const o=new rV(t);let l;if(s)l=bb;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Hg(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await _T(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await _T(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t,e){const n=uf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ro(o,e??{}))return s;rr(s,"already-initialized")}return n.initialize({options:e})}function iV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function oV(t,e,n){const r=Fi(t);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=Ib(e),{host:l,port:c}=aV(e),u=c===null?"":`:${c}`,h={url:`${o}//${l}${u}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Ro(h,r.config.emulator)&&Ro(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Li(l)?(lv(`${o}//${l}${u}`),uv("Auth",!0)):lV()}function Ib(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aV(t){const e=Ib(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:TT(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:TT(l)}}}function TT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function uV(t,e){return Vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e){return mc(t,"POST","/v1/accounts:signInWithPassword",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}async function hV(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends yv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Qu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hg(e,n,"signInWithPassword",cV);case"emailLink":return dV(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hg(e,r,"signUpPassword",uV);case"emailLink":return hV(e,{idToken:n,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t,e){return mc(t,"POST","/v1/accounts:signInWithIdp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="http://localhost";class No extends yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const l=new No(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ya(e,n)}buildRequest(){const e={requestUri:fV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mV(t){const e=Eu(_u(t)).link,n=e?Eu(_u(e)).deep_link_id:null,r=Eu(_u(t)).deep_link_id;return(r?Eu(_u(r)).link:null)||r||n||e||t}class vv{constructor(e){const n=Eu(_u(e)),r=n.apiKey??null,s=n.oobCode??null,o=pV(n.mode??null);be(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mV(e);try{return new vv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,n){return Qu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vv.parseLink(n);return be(r,"argument-error"),Qu._fromEmailAndCode(e,r.code,r.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends wv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends gc{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return No._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zr.credential(n,r)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends gc{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends gc{constructor(){super("twitter.com")}static credential(e,n){return No._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e){return mc(t,"POST","/v1/accounts:signUp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Tr._fromIdTokenResponse(e,r,s),l=ST(r);return new Do({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=ST(r);return new Do({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function ST(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends es{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new kh(e,n,r,s)}}function Cb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(t,o,e,r):o})}async function yV(t,e,n=!1){const r=await Ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Do._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t,e,n=!1){const{auth:r}=t;if(Cn(r.app))return Promise.reject(Cs(r));const s="reauthenticate";try{const o=await Ku(t,Cb(r,s,e,t),n);be(o.idToken,r,"internal-error");const l=mv(o.idToken);be(l,r,"internal-error");const{sub:c}=l;return be(t.uid===c,r,"user-mismatch"),Do._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&rr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(t,e,n=!1){if(Cn(t.app))return Promise.reject(Cs(t));const r="signIn",s=await Cb(t,r,e),o=await Do._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function wV(t,e){return Ab(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EV(t,e,n){if(Cn(t.app))return Promise.reject(Cs(t));const r=Fi(t),l=await Hg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Pb(t),u}),c=await Do._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function _V(t,e,n){return Cn(t.app)?Promise.reject(Cs(t)):wV(it(t),ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Pb(t),r})}function TV(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function SV(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function hf(t,e,n,r){return it(t).onAuthStateChanged(e,n,r)}function xV(t){return it(t).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=1e3,IV=10;class kb extends Rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,u)=>{this.notifyListeners(l,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);HO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,IV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kb.type="LOCAL";const CV=kb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends Rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Nb.type="SESSION";const Db=Nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async h=>h(n.origin,o)),u=await AV(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,u)=>{const h=Ev("",20);s.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(g){const w=g;if(w.data.eventId===h)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(m),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function RV(t){Kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function kV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NV(){return navigator?.serviceWorker?.controller||null}function DV(){return Mb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="firebaseLocalStorageDb",MV=1,Dh="firebaseLocalStorage",Ob="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(t,e){return t.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function LV(){const t=indexedDB.deleteDatabase(Lb);return new yc(t).toPromise()}function Wg(){const t=indexedDB.open(Lb,MV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dh,{keyPath:Ob})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),await LV(),e(await Wg()))})})}async function xT(t,e,n){const r=pf(t,!0).put({[Ob]:e,value:n});return new yc(r).toPromise()}async function OV(t,e){const n=pf(t,!1).get(e),r=await new yc(n).toPromise();return r===void 0?null:r.value}function bT(t,e){const n=pf(t,!0).delete(e);return new yc(n).toPromise()}const VV=800,FV=3;class Vb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(DV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kV(),!this.activeServiceWorker)return;this.sender=new PV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await xT(e,Nh,"1"),await bT(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=pf(s,!1).getAll();return new yc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vb.type="LOCAL";const UV=Vb;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e){return e?bs(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends yv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BV(t){return Ab(t.auth,new _v(t),t.bypassAuthState)}function zV(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),vV(n,new _v(t),t.bypassAuthState)}async function jV(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),yV(n,new _v(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BV;case"linkViaPopup":case"linkViaRedirect":return jV;case"reauthViaPopup":case"reauthViaRedirect":return zV;default:rr(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new pc(2e3,1e4);async function qg(t,e,n){if(Cn(t.app))return Promise.reject(xr(t,"operation-not-supported-in-this-environment"));const r=Fi(t);xO(t,e,wv);const s=Fb(r,n);return new So(r,"signInViaPopup",e,s).executeNotNull()}class So extends Ub{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=Ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$V.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="pendingRedirect",dh=new Map;class WV extends Ub{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const r=await qV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qV(t,e){const n=QV(e),r=KV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function GV(t,e){dh.set(t._key(),e)}function KV(t){return bs(t._redirectPersistence)}function QV(t){return ch(HV,t.config.apiKey,t.name)}async function YV(t,e,n=!1){if(Cn(t.app))return Promise.reject(Cs(t));const r=Fi(t),s=Fb(r,e),l=await new WV(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=600*1e3;class JV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Bb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(xr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XV&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(e))}saveEventToCache(e){this.cachedEventUids.add(IT(e)),this.lastProcessedEventTime=Date.now()}}function IT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Bb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ZV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(t,e={}){return Vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n4=/^https?/;async function r4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await e4(t);for(const n of e)try{if(s4(n))return}catch{}rr(t,"unauthorized-domain")}function s4(t){const e=jg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!n4.test(n))return!1;if(t4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new pc(3e4,6e4);function CT(){const t=Kr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function o4(t){return new Promise((e,n)=>{function r(){CT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CT(),n(xr(t,"network-request-failed"))},timeout:i4.get()})}if(Kr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Kr().gapi?.load)r();else{const s=ZO("iframefcb");return Kr()[s]=()=>{gapi.load?r():n(xr(t,"network-request-failed"))},xb(`${JO()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw hh=null,e})}let hh=null;function a4(t){return hh=hh||o4(t),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new pc(5e3,15e3),u4="__/auth/iframe",c4="emulator/auth/iframe",d4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f4(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pv(e,c4):`https://${t.config.authDomain}/${u4}`,r={apiKey:e.apiKey,appName:t.name,v:Uo},s=h4.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${fc(r).slice(1)}`}async function p4(t){const e=await a4(t),n=Kr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:f4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d4,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=xr(t,"network-request-failed"),c=Kr().setTimeout(()=>{o(l)},l4.get());function u(){Kr().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g4=500,y4=600,v4="_blank",w4="http://localhost";class AT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E4(t,e,n,r=g4,s=y4){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...m4,width:r.toString(),height:s.toString(),top:o,left:l},h=cn().toLowerCase();n&&(c=yb(h)?v4:n),mb(h)&&(e=e||w4,u.scrollbars="yes");const m=Object.entries(u).reduce((w,[_,x])=>`${w}${_}=${x},`,"");if($O(h)&&c!=="_self")return _4(e||"",c),new AT(null);const g=window.open(e||"",c,m);be(g,t,"popup-blocked");try{g.focus()}catch{}return new AT(g)}function _4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="__/auth/handler",S4="emulator/auth/handler",x4=encodeURIComponent("fac");async function PT(t,e,n,r,s,o){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uo,eventId:s};if(e instanceof wv){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",aL(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof gc){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const u=await t._getAppCheckToken(),h=u?`#${x4}=${encodeURIComponent(u)}`:"";return`${b4(t)}?${fc(c).slice(1)}${h}`}function b4({config:t}){return t.emulator?pv(t,S4):`https://${t.authDomain}/${T4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class I4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Db,this._completeRedirectFn=YV,this._overrideRedirectResult=GV}async _openPopup(e,n,r,s){Ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await PT(e,n,r,jg(),s);return E4(e,o,Ev())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await PT(e,n,r,jg(),s);return RV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ms(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await p4(e),r=new JV(e);return n.register("authEvent",s=>(be(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zm,{type:zm},s=>{const o=s?.[0]?.[zm];o!==void 0&&n(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tb()||gb()||gv()}}const C4=I4;var RT="@firebase/auth",kT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R4(t){ko(new Ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;be(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sb(t)},h=new QO(r,s,o,u);return iV(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new Ii("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(r=>new A4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(RT,kT,P4(t)),Gr(RT,kT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=300,N4=tb("authIdTokenMaxAge")||k4;let NT=null;const D4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>N4)return;const s=n?.token;NT!==s&&(NT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function M4(t=cf()){const e=uf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sV(t,{popupRedirectResolver:C4,persistence:[UV,CV,Db]}),r=tb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=D4(o.toString());SV(n,l,()=>l(n.currentUser)),TV(n,c=>l(c))}}const s=Jx("auth");return s&&oV(n,`http://${s}`),n}function L4(){return document.getElementsByTagName("head")?.[0]??document}YO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=xr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",L4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R4("Browser");var DT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,zb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,b){function M(){}M.prototype=b.prototype,F.D=b.prototype,F.prototype=new M,F.prototype.constructor=F,F.C=function(O,V,B){for(var L=Array(arguments.length-2),K=2;K<arguments.length;K++)L[K-2]=arguments[K];return b.prototype[V].apply(O,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(F,b,M){M||(M=0);var O=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)O[V]=b.charCodeAt(M++)|b.charCodeAt(M++)<<8|b.charCodeAt(M++)<<16|b.charCodeAt(M++)<<24;else for(V=0;16>V;++V)O[V]=b[M++]|b[M++]<<8|b[M++]<<16|b[M++]<<24;b=F.g[0],M=F.g[1],V=F.g[2];var B=F.g[3],L=b+(B^M&(V^B))+O[0]+3614090360&4294967295;b=M+(L<<7&4294967295|L>>>25),L=B+(V^b&(M^V))+O[1]+3905402710&4294967295,B=b+(L<<12&4294967295|L>>>20),L=V+(M^B&(b^M))+O[2]+606105819&4294967295,V=B+(L<<17&4294967295|L>>>15),L=M+(b^V&(B^b))+O[3]+3250441966&4294967295,M=V+(L<<22&4294967295|L>>>10),L=b+(B^M&(V^B))+O[4]+4118548399&4294967295,b=M+(L<<7&4294967295|L>>>25),L=B+(V^b&(M^V))+O[5]+1200080426&4294967295,B=b+(L<<12&4294967295|L>>>20),L=V+(M^B&(b^M))+O[6]+2821735955&4294967295,V=B+(L<<17&4294967295|L>>>15),L=M+(b^V&(B^b))+O[7]+4249261313&4294967295,M=V+(L<<22&4294967295|L>>>10),L=b+(B^M&(V^B))+O[8]+1770035416&4294967295,b=M+(L<<7&4294967295|L>>>25),L=B+(V^b&(M^V))+O[9]+2336552879&4294967295,B=b+(L<<12&4294967295|L>>>20),L=V+(M^B&(b^M))+O[10]+4294925233&4294967295,V=B+(L<<17&4294967295|L>>>15),L=M+(b^V&(B^b))+O[11]+2304563134&4294967295,M=V+(L<<22&4294967295|L>>>10),L=b+(B^M&(V^B))+O[12]+1804603682&4294967295,b=M+(L<<7&4294967295|L>>>25),L=B+(V^b&(M^V))+O[13]+4254626195&4294967295,B=b+(L<<12&4294967295|L>>>20),L=V+(M^B&(b^M))+O[14]+2792965006&4294967295,V=B+(L<<17&4294967295|L>>>15),L=M+(b^V&(B^b))+O[15]+1236535329&4294967295,M=V+(L<<22&4294967295|L>>>10),L=b+(V^B&(M^V))+O[1]+4129170786&4294967295,b=M+(L<<5&4294967295|L>>>27),L=B+(M^V&(b^M))+O[6]+3225465664&4294967295,B=b+(L<<9&4294967295|L>>>23),L=V+(b^M&(B^b))+O[11]+643717713&4294967295,V=B+(L<<14&4294967295|L>>>18),L=M+(B^b&(V^B))+O[0]+3921069994&4294967295,M=V+(L<<20&4294967295|L>>>12),L=b+(V^B&(M^V))+O[5]+3593408605&4294967295,b=M+(L<<5&4294967295|L>>>27),L=B+(M^V&(b^M))+O[10]+38016083&4294967295,B=b+(L<<9&4294967295|L>>>23),L=V+(b^M&(B^b))+O[15]+3634488961&4294967295,V=B+(L<<14&4294967295|L>>>18),L=M+(B^b&(V^B))+O[4]+3889429448&4294967295,M=V+(L<<20&4294967295|L>>>12),L=b+(V^B&(M^V))+O[9]+568446438&4294967295,b=M+(L<<5&4294967295|L>>>27),L=B+(M^V&(b^M))+O[14]+3275163606&4294967295,B=b+(L<<9&4294967295|L>>>23),L=V+(b^M&(B^b))+O[3]+4107603335&4294967295,V=B+(L<<14&4294967295|L>>>18),L=M+(B^b&(V^B))+O[8]+1163531501&4294967295,M=V+(L<<20&4294967295|L>>>12),L=b+(V^B&(M^V))+O[13]+2850285829&4294967295,b=M+(L<<5&4294967295|L>>>27),L=B+(M^V&(b^M))+O[2]+4243563512&4294967295,B=b+(L<<9&4294967295|L>>>23),L=V+(b^M&(B^b))+O[7]+1735328473&4294967295,V=B+(L<<14&4294967295|L>>>18),L=M+(B^b&(V^B))+O[12]+2368359562&4294967295,M=V+(L<<20&4294967295|L>>>12),L=b+(M^V^B)+O[5]+4294588738&4294967295,b=M+(L<<4&4294967295|L>>>28),L=B+(b^M^V)+O[8]+2272392833&4294967295,B=b+(L<<11&4294967295|L>>>21),L=V+(B^b^M)+O[11]+1839030562&4294967295,V=B+(L<<16&4294967295|L>>>16),L=M+(V^B^b)+O[14]+4259657740&4294967295,M=V+(L<<23&4294967295|L>>>9),L=b+(M^V^B)+O[1]+2763975236&4294967295,b=M+(L<<4&4294967295|L>>>28),L=B+(b^M^V)+O[4]+1272893353&4294967295,B=b+(L<<11&4294967295|L>>>21),L=V+(B^b^M)+O[7]+4139469664&4294967295,V=B+(L<<16&4294967295|L>>>16),L=M+(V^B^b)+O[10]+3200236656&4294967295,M=V+(L<<23&4294967295|L>>>9),L=b+(M^V^B)+O[13]+681279174&4294967295,b=M+(L<<4&4294967295|L>>>28),L=B+(b^M^V)+O[0]+3936430074&4294967295,B=b+(L<<11&4294967295|L>>>21),L=V+(B^b^M)+O[3]+3572445317&4294967295,V=B+(L<<16&4294967295|L>>>16),L=M+(V^B^b)+O[6]+76029189&4294967295,M=V+(L<<23&4294967295|L>>>9),L=b+(M^V^B)+O[9]+3654602809&4294967295,b=M+(L<<4&4294967295|L>>>28),L=B+(b^M^V)+O[12]+3873151461&4294967295,B=b+(L<<11&4294967295|L>>>21),L=V+(B^b^M)+O[15]+530742520&4294967295,V=B+(L<<16&4294967295|L>>>16),L=M+(V^B^b)+O[2]+3299628645&4294967295,M=V+(L<<23&4294967295|L>>>9),L=b+(V^(M|~B))+O[0]+4096336452&4294967295,b=M+(L<<6&4294967295|L>>>26),L=B+(M^(b|~V))+O[7]+1126891415&4294967295,B=b+(L<<10&4294967295|L>>>22),L=V+(b^(B|~M))+O[14]+2878612391&4294967295,V=B+(L<<15&4294967295|L>>>17),L=M+(B^(V|~b))+O[5]+4237533241&4294967295,M=V+(L<<21&4294967295|L>>>11),L=b+(V^(M|~B))+O[12]+1700485571&4294967295,b=M+(L<<6&4294967295|L>>>26),L=B+(M^(b|~V))+O[3]+2399980690&4294967295,B=b+(L<<10&4294967295|L>>>22),L=V+(b^(B|~M))+O[10]+4293915773&4294967295,V=B+(L<<15&4294967295|L>>>17),L=M+(B^(V|~b))+O[1]+2240044497&4294967295,M=V+(L<<21&4294967295|L>>>11),L=b+(V^(M|~B))+O[8]+1873313359&4294967295,b=M+(L<<6&4294967295|L>>>26),L=B+(M^(b|~V))+O[15]+4264355552&4294967295,B=b+(L<<10&4294967295|L>>>22),L=V+(b^(B|~M))+O[6]+2734768916&4294967295,V=B+(L<<15&4294967295|L>>>17),L=M+(B^(V|~b))+O[13]+1309151649&4294967295,M=V+(L<<21&4294967295|L>>>11),L=b+(V^(M|~B))+O[4]+4149444226&4294967295,b=M+(L<<6&4294967295|L>>>26),L=B+(M^(b|~V))+O[11]+3174756917&4294967295,B=b+(L<<10&4294967295|L>>>22),L=V+(b^(B|~M))+O[2]+718787259&4294967295,V=B+(L<<15&4294967295|L>>>17),L=M+(B^(V|~b))+O[9]+3951481745&4294967295,F.g[0]=F.g[0]+b&4294967295,F.g[1]=F.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,F.g[2]=F.g[2]+V&4294967295,F.g[3]=F.g[3]+B&4294967295}r.prototype.u=function(F,b){b===void 0&&(b=F.length);for(var M=b-this.blockSize,O=this.B,V=this.h,B=0;B<b;){if(V==0)for(;B<=M;)s(this,F,B),B+=this.blockSize;if(typeof F=="string"){for(;B<b;)if(O[V++]=F.charCodeAt(B++),V==this.blockSize){s(this,O),V=0;break}}else for(;B<b;)if(O[V++]=F[B++],V==this.blockSize){s(this,O),V=0;break}}this.h=V,this.o+=b},r.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var b=1;b<F.length-8;++b)F[b]=0;var M=8*this.o;for(b=F.length-8;b<F.length;++b)F[b]=M&255,M/=256;for(this.u(F),F=Array(16),b=M=0;4>b;++b)for(var O=0;32>O;O+=8)F[M++]=this.g[b]>>>O&255;return F};function o(F,b){var M=c;return Object.prototype.hasOwnProperty.call(M,F)?M[F]:M[F]=b(F)}function l(F,b){this.h=b;for(var M=[],O=!0,V=F.length-1;0<=V;V--){var B=F[V]|0;O&&B==b||(M[V]=B,O=!1)}this.g=M}var c={};function u(F){return-128<=F&&128>F?o(F,function(b){return new l([b|0],0>b?-1:0)}):new l([F|0],0>F?-1:0)}function h(F){if(isNaN(F)||!isFinite(F))return g;if(0>F)return C(h(-F));for(var b=[],M=1,O=0;F>=M;O++)b[O]=F/M|0,M*=4294967296;return new l(b,0)}function m(F,b){if(F.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(F.charAt(0)=="-")return C(m(F.substring(1),b));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(b,8)),O=g,V=0;V<F.length;V+=8){var B=Math.min(8,F.length-V),L=parseInt(F.substring(V,V+B),b);8>B?(B=h(Math.pow(b,B)),O=O.j(B).add(h(L))):(O=O.j(M),O=O.add(h(L)))}return O}var g=u(0),w=u(1),_=u(16777216);t=l.prototype,t.m=function(){if(A(this))return-C(this).m();for(var F=0,b=1,M=0;M<this.g.length;M++){var O=this.i(M);F+=(0<=O?O:4294967296+O)*b,b*=4294967296}return F},t.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(x(this))return"0";if(A(this))return"-"+C(this).toString(F);for(var b=h(Math.pow(F,6)),M=this,O="";;){var V=j(M,b).g;M=P(M,V.j(b));var B=((0<M.g.length?M.g[0]:M.h)>>>0).toString(F);if(M=V,x(M))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},t.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function x(F){if(F.h!=0)return!1;for(var b=0;b<F.g.length;b++)if(F.g[b]!=0)return!1;return!0}function A(F){return F.h==-1}t.l=function(F){return F=P(this,F),A(F)?-1:x(F)?0:1};function C(F){for(var b=F.g.length,M=[],O=0;O<b;O++)M[O]=~F.g[O];return new l(M,~F.h).add(w)}t.abs=function(){return A(this)?C(this):this},t.add=function(F){for(var b=Math.max(this.g.length,F.g.length),M=[],O=0,V=0;V<=b;V++){var B=O+(this.i(V)&65535)+(F.i(V)&65535),L=(B>>>16)+(this.i(V)>>>16)+(F.i(V)>>>16);O=L>>>16,B&=65535,L&=65535,M[V]=L<<16|B}return new l(M,M[M.length-1]&-2147483648?-1:0)};function P(F,b){return F.add(C(b))}t.j=function(F){if(x(this)||x(F))return g;if(A(this))return A(F)?C(this).j(C(F)):C(C(this).j(F));if(A(F))return C(this.j(C(F)));if(0>this.l(_)&&0>F.l(_))return h(this.m()*F.m());for(var b=this.g.length+F.g.length,M=[],O=0;O<2*b;O++)M[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<F.g.length;V++){var B=this.i(O)>>>16,L=this.i(O)&65535,K=F.i(V)>>>16,G=F.i(V)&65535;M[2*O+2*V]+=L*G,R(M,2*O+2*V),M[2*O+2*V+1]+=B*G,R(M,2*O+2*V+1),M[2*O+2*V+1]+=L*K,R(M,2*O+2*V+1),M[2*O+2*V+2]+=B*K,R(M,2*O+2*V+2)}for(O=0;O<b;O++)M[O]=M[2*O+1]<<16|M[2*O];for(O=b;O<2*b;O++)M[O]=0;return new l(M,0)};function R(F,b){for(;(F[b]&65535)!=F[b];)F[b+1]+=F[b]>>>16,F[b]&=65535,b++}function N(F,b){this.g=F,this.h=b}function j(F,b){if(x(b))throw Error("division by zero");if(x(F))return new N(g,g);if(A(F))return b=j(C(F),b),new N(C(b.g),C(b.h));if(A(b))return b=j(F,C(b)),new N(C(b.g),b.h);if(30<F.g.length){if(A(F)||A(b))throw Error("slowDivide_ only works with positive integers.");for(var M=w,O=b;0>=O.l(F);)M=q(M),O=q(O);var V=se(M,1),B=se(O,1);for(O=se(O,2),M=se(M,2);!x(O);){var L=B.add(O);0>=L.l(F)&&(V=V.add(M),B=L),O=se(O,1),M=se(M,1)}return b=P(F,V.j(b)),new N(V,b)}for(V=g;0<=F.l(b);){for(M=Math.max(1,Math.floor(F.m()/b.m())),O=Math.ceil(Math.log(M)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=h(M),L=B.j(b);A(L)||0<L.l(F);)M-=O,B=h(M),L=B.j(b);x(B)&&(B=w),V=V.add(B),F=P(F,L)}return new N(V,F)}t.A=function(F){return j(this,F).h},t.and=function(F){for(var b=Math.max(this.g.length,F.g.length),M=[],O=0;O<b;O++)M[O]=this.i(O)&F.i(O);return new l(M,this.h&F.h)},t.or=function(F){for(var b=Math.max(this.g.length,F.g.length),M=[],O=0;O<b;O++)M[O]=this.i(O)|F.i(O);return new l(M,this.h|F.h)},t.xor=function(F){for(var b=Math.max(this.g.length,F.g.length),M=[],O=0;O<b;O++)M[O]=this.i(O)^F.i(O);return new l(M,this.h^F.h)};function q(F){for(var b=F.g.length+1,M=[],O=0;O<b;O++)M[O]=F.i(O)<<1|F.i(O-1)>>>31;return new l(M,F.h)}function se(F,b){var M=b>>5;b%=32;for(var O=F.g.length-M,V=[],B=0;B<O;B++)V[B]=0<b?F.i(B+M)>>>b|F.i(B+M+1)<<32-b:F.i(B+M);return new l(V,F.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zb=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Ti=l}).apply(typeof DT<"u"?DT:typeof self<"u"?self:typeof window<"u"?window:{});var Kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jb,Tu,$b,fh,Gg,Hb,Wb,qb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,S){return f==Array.prototype||f==Object.prototype||(f[E]=S.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kd=="object"&&Kd];for(var E=0;E<f.length;++E){var S=f[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var S=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var Q=f[D];if(!(Q in S))break e;S=S[Q]}f=f[f.length-1],D=S[f],E=E(D),E!=D&&E!=null&&e(S,f,{configurable:!0,writable:!0,value:E})}}function o(f,E){f instanceof String&&(f+="");var S=0,D=!1,Q={next:function(){if(!D&&S<f.length){var te=S++;return{value:E(te,f[te]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(f){return f||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function u(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function h(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function m(f,E,S){return f.call.apply(f.bind,arguments)}function g(f,E,S){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),f.apply(E,Q)}}return function(){return f.apply(E,arguments)}}function w(f,E,S){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,w.apply(null,arguments)}function _(f,E){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function x(f,E){function S(){}S.prototype=E.prototype,f.aa=E.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(D,Q,te){for(var he=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)he[Qe-2]=arguments[Qe];return E.prototype[Q].apply(D,he)}}function A(f){const E=f.length;if(0<E){const S=Array(E);for(let D=0;D<E;D++)S[D]=f[D];return S}return[]}function C(f,E){for(let S=1;S<arguments.length;S++){const D=arguments[S];if(u(D)){const Q=f.length||0,te=D.length||0;f.length=Q+te;for(let he=0;he<te;he++)f[Q+he]=D[he]}else f.push(D)}}class P{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function R(f){return/^[\s\xa0]*$/.test(f)}function N(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function j(f){return j[" "](f),f}j[" "]=function(){};var q=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function se(f,E,S){for(const D in f)E.call(S,f[D],D,f)}function F(f,E){for(const S in f)E.call(void 0,f[S],S,f)}function b(f){const E={};for(const S in f)E[S]=f[S];return E}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,E){let S,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(S in D)f[S]=D[S];for(let te=0;te<M.length;te++)S=M[te],Object.prototype.hasOwnProperty.call(D,S)&&(f[S]=D[S])}}function V(f){var E=1;f=f.split(":");const S=[];for(;0<E&&f.length;)S.push(f.shift()),E--;return f.length&&S.push(f.join(":")),S}function B(f){c.setTimeout(()=>{throw f},0)}function L(){var f=Z;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class K{constructor(){this.h=this.g=null}add(E,S){const D=G.get();D.set(E,S),this.h?this.h.next=D:this.g=D,this.h=D}}var G=new P(()=>new ne,f=>f.reset());class ne{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let X,z=!1,Z=new K,oe=()=>{const f=c.Promise.resolve(void 0);X=()=>{f.then(H)}};var H=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(S){B(S)}var E=G;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}z=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Te=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};c.addEventListener("test",S,E),c.removeEventListener("test",S,E)}catch{}return f})();function De(f,E){if(pe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(q){e:{try{j(E.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(E=null)}}else S=="mouseover"?E=f.fromElement:S=="mouseout"&&(E=f.toElement);this.relatedTarget=E,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Oe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&De.aa.h.call(this)}}x(De,pe);var Oe={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),je=0;function et(f,E,S,D,Q){this.listener=f,this.proxy=null,this.src=E,this.type=S,this.capture=!!D,this.ha=Q,this.key=++je,this.da=this.fa=!1}function Ut(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function rs(f){this.src=f,this.g={},this.h=0}rs.prototype.add=function(f,E,S,D,Q){var te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);var he=Bs(f,E,D,Q);return-1<he?(E=f[he],S||(E.fa=!1)):(E=new et(E,this.src,te,!!D,Q),E.fa=S,f.push(E)),E};function $o(f,E){var S=E.type;if(S in f.g){var D=f.g[S],Q=Array.prototype.indexOf.call(D,E,void 0),te;(te=0<=Q)&&Array.prototype.splice.call(D,Q,1),te&&(Ut(E),f.g[S].length==0&&(delete f.g[S],f.h--))}}function Bs(f,E,S,D){for(var Q=0;Q<f.length;++Q){var te=f[Q];if(!te.da&&te.listener==E&&te.capture==!!S&&te.ha==D)return Q}return-1}var $i="closure_lm_"+(1e6*Math.random()|0),Ho={};function El(f,E,S,D,Q){if(Array.isArray(E)){for(var te=0;te<E.length;te++)El(f,E[te],S,D,Q);return null}return S=Sl(S),f&&f[Ve]?f.K(E,S,h(D)?!!D.capture:!1,Q):_l(f,E,S,!1,D,Q)}function _l(f,E,S,D,Q,te){if(!E)throw Error("Invalid event type");var he=h(Q)?!!Q.capture:!!Q,Qe=qo(f);if(Qe||(f[$i]=Qe=new rs(f)),S=Qe.add(E,S,D,he,te),S.proxy)return S;if(D=Cc(),S.proxy=D,D.src=f,D.listener=S,f.addEventListener)Te||(Q=he),Q===void 0&&(Q=!1),f.addEventListener(E.toString(),D,Q);else if(f.attachEvent)f.attachEvent(is(E.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Cc(){function f(S){return E.call(f.src,f.listener,S)}const E=Tl;return f}function Wo(f,E,S,D,Q){if(Array.isArray(E))for(var te=0;te<E.length;te++)Wo(f,E[te],S,D,Q);else D=h(D)?!!D.capture:!!D,S=Sl(S),f&&f[Ve]?(f=f.i,E=String(E).toString(),E in f.g&&(te=f.g[E],S=Bs(te,S,D,Q),-1<S&&(Ut(te[S]),Array.prototype.splice.call(te,S,1),te.length==0&&(delete f.g[E],f.h--)))):f&&(f=qo(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Bs(E,S,D,Q)),(S=-1<f?E[f]:null)&&ss(S))}function ss(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Ve])$o(E.i,f);else{var S=f.type,D=f.proxy;E.removeEventListener?E.removeEventListener(S,D,f.capture):E.detachEvent?E.detachEvent(is(S),D):E.addListener&&E.removeListener&&E.removeListener(D),(S=qo(E))?($o(S,f),S.h==0&&(S.src=null,E[$i]=null)):Ut(f)}}}function is(f){return f in Ho?Ho[f]:Ho[f]="on"+f}function Tl(f,E){if(f.da)f=!0;else{E=new De(E,this);var S=f.listener,D=f.ha||f.src;f.fa&&ss(f),f=S.call(D,E)}return f}function qo(f){return f=f[$i],f instanceof rs?f:null}var Go="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sl(f){return typeof f=="function"?f:(f[Go]||(f[Go]=function(E){return f.handleEvent(E)}),f[Go])}function Dt(){re.call(this),this.i=new rs(this),this.M=this,this.F=null}x(Dt,re),Dt.prototype[Ve]=!0,Dt.prototype.removeEventListener=function(f,E,S,D){Wo(this,f,E,S,D)};function Mt(f,E){var S,D=f.F;if(D)for(S=[];D;D=D.F)S.push(D);if(f=f.M,D=E.type||E,typeof E=="string")E=new pe(E,f);else if(E instanceof pe)E.target=E.target||f;else{var Q=E;E=new pe(D,f),O(E,Q)}if(Q=!0,S)for(var te=S.length-1;0<=te;te--){var he=E.g=S[te];Q=os(he,D,!0,E)&&Q}if(he=E.g=f,Q=os(he,D,!0,E)&&Q,Q=os(he,D,!1,E)&&Q,S)for(te=0;te<S.length;te++)he=E.g=S[te],Q=os(he,D,!1,E)&&Q}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var S=f.g[E],D=0;D<S.length;D++)Ut(S[D]);delete f.g[E],f.h--}}this.F=null},Dt.prototype.K=function(f,E,S,D){return this.i.add(String(f),E,!1,S,D)},Dt.prototype.L=function(f,E,S,D){return this.i.add(String(f),E,!0,S,D)};function os(f,E,S,D){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var Q=!0,te=0;te<E.length;++te){var he=E[te];if(he&&!he.da&&he.capture==S){var Qe=he.listener,Lt=he.ha||he.src;he.fa&&$o(f.i,he),Q=Qe.call(Lt,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function xl(f,E,S){if(typeof f=="function")S&&(f=w(f,S));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(f,E||0)}function zs(f){f.g=xl(()=>{f.g=null,f.i&&(f.i=!1,zs(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Hi extends re{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(f){re.call(this),this.h=f,this.g={}}x(Wi,re);var bl=[];function Il(f){se(f.g,function(E,S){this.g.hasOwnProperty(S)&&ss(E)},f),f.g={}}Wi.prototype.N=function(){Wi.aa.N.call(this),Il(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cl=c.JSON.stringify,Al=c.JSON.parse,Pl=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function qi(){}qi.prototype.h=null;function Ko(f){return f.h||(f.h=f.i())}function Qo(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pr(){pe.call(this,"d")}x(Pr,pe);function Yo(){pe.call(this,"c")}x(Yo,pe);var Rr={},Rl=null;function Gi(){return Rl=Rl||new Dt}Rr.La="serverreachability";function kl(f){pe.call(this,Rr.La,f)}x(kl,pe);function as(f){const E=Gi();Mt(E,new kl(E))}Rr.STAT_EVENT="statevent";function Nl(f,E){pe.call(this,Rr.STAT_EVENT,f),this.stat=E}x(Nl,pe);function Et(f){const E=Gi();Mt(E,new Nl(E,f))}Rr.Ma="timingevent";function Xo(f,E){pe.call(this,Rr.Ma,f),this.size=E}x(Xo,pe);function or(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},E)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function Qi(f,E,S,D,Q,te){f.info(function(){if(f.g)if(te)for(var he="",Qe=te.split("&"),Lt=0;Lt<Qe.length;Lt++){var $e=Qe[Lt].split("=");if(1<$e.length){var Bt=$e[0];$e=$e[1];var Ct=Bt.split("_");he=2<=Ct.length&&Ct[1]=="type"?he+(Bt+"="+$e+"&"):he+(Bt+"=redacted&")}}else he=null;else he=te;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+E+`
`+S+`
`+he})}function Jo(f,E,S,D,Q,te,he){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+E+`
`+S+`
`+te+" "+he})}function ar(f,E,S,D){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+zf(f,S)+(D?" "+D:"")})}function Dl(f,E){f.info(function(){return"TIMEOUT: "+E})}Ki.prototype.info=function(){};function zf(f,E){if(!f.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var D=S[f];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var te=Q[0];if(te!="noop"&&te!="stop"&&te!="close")for(var he=1;he<Q.length;he++)Q[he]=""}}}}return Cl(S)}catch{return E}}var Zo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ac={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lr;function Yi(){}x(Yi,qi),Yi.prototype.g=function(){return new XMLHttpRequest},Yi.prototype.i=function(){return{}},lr=new Yi;function ur(f,E,S,D){this.j=f,this.i=E,this.l=S,this.R=D||1,this.U=new Wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pc}function Pc(){this.i=null,this.g="",this.h=!1}var Ml={},ea={};function ta(f,E,S){f.L=1,f.v=qs(Nn(E)),f.m=S,f.P=!0,Ll(f,null)}function Ll(f,E){f.F=Date.now(),tt(f),f.A=Nn(f.v);var S=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),Ks(S.i,"t",D),f.C=0,S=f.j.J,f.h=new Pc,f.g=Gc(f.j,S?E:null,!f.m),0<f.O&&(f.M=new Hi(w(f.Y,f,f.g),f.O)),E=f.U,S=f.g,D=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(bl[0]=Q.toString()),Q=bl);for(var te=0;te<Q.length;te++){var he=El(S,Q[te],D||E.handleEvent,!1,E.h||E);if(!he)break;E.g[he.key]=he}E=f.H?b(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),as(),Qi(f.i,f.u,f.A,f.l,f.R,f.m)}ur.prototype.ca=function(f){f=f.target;const E=this.M;E&&wn(f)==3?E.j():this.Y(f)},ur.prototype.Y=function(f){try{if(f==this.g)e:{const Ct=wn(this.g);var E=this.g.Ba();const Hn=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||zl(this.g)))){this.J||Ct!=4||E==7||(E==8||0>=Hn?as(3):as(2)),Xi(this);var S=this.g.Z();this.X=S;t:if(Rc(this)){var D=zl(this.g);f="";var Q=D.length,te=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),js(this);var he="";break t}this.h.i=new c.TextDecoder}for(E=0;E<Q;E++)this.h.h=!0,f+=this.h.i.decode(D[E],{stream:!(te&&E==Q-1)});D.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=S==200,Jo(this.i,this.u,this.A,this.l,this.R,Ct,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Lt=this.g;if((Qe=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Qe)){var $e=Qe;break t}}$e=null}if(S=$e)ar(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ol(this,S);else{this.o=!1,this.s=3,Et(12),jn(this),js(this);break e}}if(this.P){S=!0;let Mn;for(;!this.J&&this.C<he.length;)if(Mn=jf(this,he),Mn==ea){Ct==4&&(this.s=4,Et(14),S=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Ml){this.s=4,Et(15),ar(this.i,this.l,he,"[Invalid Chunk]"),S=!1;break}else ar(this.i,this.l,Mn,null),Ol(this,Mn);if(Rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||he.length!=0||this.h.h||(this.s=1,Et(16),S=!1),this.o=this.o&&S,!S)ar(this.i,this.l,he,"[Invalid Chunked Response]"),jn(this),js(this);else if(0<he.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),$l(Bt),Bt.M=!0,Et(11))}}else ar(this.i,this.l,he,null),Ol(this,he);Ct==4&&jn(this),this.o&&!this.J&&(Ct==4?ha(this.j,this):(this.o=!1,tt(this)))}else aa(this.g),S==400&&0<he.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),jn(this),js(this)}}}catch{}finally{}};function Rc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function jf(f,E){var S=f.C,D=E.indexOf(`
`,S);return D==-1?ea:(S=Number(E.substring(S,D)),isNaN(S)?Ml:(D+=1,D+S>E.length?ea:(E=E.slice(D,D+S),f.C=D+S,E)))}ur.prototype.cancel=function(){this.J=!0,jn(this)};function tt(f){f.S=Date.now()+f.I,kc(f,f.I)}function kc(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=or(w(f.ba,f),E)}function Xi(f){f.B&&(c.clearTimeout(f.B),f.B=null)}ur.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Dl(this.i,this.A),this.L!=2&&(as(),Et(17)),jn(this),this.s=2,js(this)):kc(this,this.S-f)};function js(f){f.j.G==0||f.J||ha(f.j,f)}function jn(f){Xi(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,Il(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function Ol(f,E){try{var S=f.j;if(S.G!=0&&(S.g==f||dn(S.h,f))){if(!f.K&&dn(S.h,f)&&S.G==3){try{var D=S.Da.g.parse(E)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)da(S),pr(S);else break e;ca(S),Et(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=or(w(S.Za,S),6e3));if(1>=Dc(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else hs(S,11)}else if((f.K||S.g==f)&&da(S),!R(E))for(Q=S.Da.g.parse(E),E=0;E<Q.length;E++){let $e=Q[E];if(S.T=$e[0],$e=$e[1],S.G==2)if($e[0]=="c"){S.K=$e[1],S.ia=$e[2];const Bt=$e[3];Bt!=null&&(S.la=Bt,S.j.info("VER="+S.la));const Ct=$e[4];Ct!=null&&(S.Aa=Ct,S.j.info("SVER="+S.Aa));const Hn=$e[5];Hn!=null&&typeof Hn=="number"&&0<Hn&&(D=1.5*Hn,S.L=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const Mn=f.g;if(Mn){const so=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(so){var te=D.h;te.g||so.indexOf("spdy")==-1&&so.indexOf("quic")==-1&&so.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Vl(te,te.h),te.h=null))}if(D.D){const pa=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(D.ya=pa,Xe(D.I,D.D,pa))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),D=S;var he=f;if(D.qa=qc(D,D.J?D.ia:null,D.W),he.K){Mc(D.h,he);var Qe=he,Lt=D.L;Lt&&(Qe.I=Lt),Qe.B&&(Xi(Qe),tt(Qe)),D.g=he}else ro(D);0<S.i.length&&Mr(S)}else $e[0]!="stop"&&$e[0]!="close"||hs(S,7);else S.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?hs(S,7):Gt(S):$e[0]!="noop"&&S.l&&S.l.ta($e),S.v=0)}}as(4)}catch{}}var Nc=class{constructor(f,E){this.g=f,this.map=E}};function Ji(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Dc(f){return f.h?1:f.g?f.g.size:0}function dn(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Vl(f,E){f.g?f.g.add(E):f.h=E}function Mc(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Ji.prototype.cancel=function(){if(this.i=Lc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Lc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const S of f.g.values())E=E.concat(S.D);return E}return A(f.i)}function na(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var E=[],S=f.length,D=0;D<S;D++)E.push(f[D]);return E}E=[],S=0;for(D in f)E[S++]=f[D];return E}function ra(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||typeof f=="string"){var E=[];f=f.length;for(var S=0;S<f;S++)E.push(S);return E}E=[],S=0;for(const D in f)E[S++]=D;return E}}}function $s(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var S=ra(f),D=na(f),Q=D.length,te=0;te<Q;te++)E.call(void 0,D[te],S&&S[te],f)}var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $f(f,E){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var D=f[S].indexOf("="),Q=null;if(0<=D){var te=f[S].substring(0,D);Q=f[S].substring(D+1)}else te=f[S];E(te,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ls(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ls){this.h=f.h,eo(this,f.j),this.o=f.o,this.g=f.g,Hs(this,f.s),this.l=f.l;var E=f.i,S=new kr;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),Ws(this,S),this.m=f.m}else f&&(E=String(f).match(Zi))?(this.h=!1,eo(this,E[1]||"",!0),this.o=ze(E[2]||""),this.g=ze(E[3]||"",!0),Hs(this,E[4]),this.l=ze(E[5]||"",!0),Ws(this,E[6]||"",!0),this.m=ze(E[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}ls.prototype.toString=function(){var f=[],E=this.j;E&&f.push(Gs(E,sa,!0),":");var S=this.g;return(S||E=="file")&&(f.push("//"),(E=this.o)&&f.push(Gs(E,sa,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Gs(S,S.charAt(0)=="/"?Fc:Vc,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Gs(S,Fl)),f.join("")};function Nn(f){return new ls(f)}function eo(f,E,S){f.j=S?ze(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Hs(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function Ws(f,E,S){E instanceof kr?(f.i=E,Nr(f.i,f.h)):(S||(E=Gs(E,Uc)),f.i=new kr(E,f.h))}function Xe(f,E,S){f.i.set(E,S)}function qs(f){return Xe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ze(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Gs(f,E,S){return typeof f=="string"?(f=encodeURI(f).replace(E,Oc),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Oc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var sa=/[#\/\?@]/g,Vc=/[#\?:]/g,Fc=/[#\?]/g,Uc=/[#\?@]/g,Fl=/#/g;function kr(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function qt(f){f.g||(f.g=new Map,f.h=0,f.i&&$f(f.i,function(E,S){f.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}t=kr.prototype,t.add=function(f,E){qt(this),this.i=null,f=$n(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(E),this.h+=1,this};function cr(f,E){qt(f),E=$n(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function dr(f,E){return qt(f),E=$n(f,E),f.g.has(E)}t.forEach=function(f,E){qt(this),this.g.forEach(function(S,D){S.forEach(function(Q){f.call(E,Q,D,this)},this)},this)},t.na=function(){qt(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let D=0;D<E.length;D++){const Q=f[D];for(let te=0;te<Q.length;te++)S.push(E[D])}return S},t.V=function(f){qt(this);let E=[];if(typeof f=="string")dr(this,f)&&(E=E.concat(this.g.get($n(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)E=E.concat(f[S])}return E},t.set=function(f,E){return qt(this),this.i=null,f=$n(this,f),dr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Ks(f,E,S){cr(f,E),0<S.length&&(f.i=null,f.g.set($n(f,E),A(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var D=E[S];const te=encodeURIComponent(String(D)),he=this.V(D);for(D=0;D<he.length;D++){var Q=te;he[D]!==""&&(Q+="="+encodeURIComponent(String(he[D]))),f.push(Q)}}return this.i=f.join("&")};function $n(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Nr(f,E){E&&!f.j&&(qt(f),f.i=null,f.g.forEach(function(S,D){var Q=D.toLowerCase();D!=Q&&(cr(this,D),Ks(this,Q,S))},f)),f.j=E}function Hf(f,E){const S=new Ki;if(c.Image){const D=new Image;D.onload=_(vn,S,"TestLoadImage: loaded",!0,E,D),D.onerror=_(vn,S,"TestLoadImage: error",!1,E,D),D.onabort=_(vn,S,"TestLoadImage: abort",!1,E,D),D.ontimeout=_(vn,S,"TestLoadImage: timeout",!1,E,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else E(!1)}function Bc(f,E){const S=new Ki,D=new AbortController,Q=setTimeout(()=>{D.abort(),vn(S,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:D.signal}).then(te=>{clearTimeout(Q),te.ok?vn(S,"TestPingServer: ok",!0,E):vn(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),vn(S,"TestPingServer: error",!1,E)})}function vn(f,E,S,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(S)}catch{}}function Wf(){this.g=new Pl}function zc(f,E,S){const D=S||"";try{$s(f,function(Q,te){let he=Q;h(Q)&&(he=Cl(Q)),E.push(D+te+"="+encodeURIComponent(he))})}catch(Q){throw E.push(D+"type="+encodeURIComponent("_badmap")),Q}}function us(f){this.l=f.Ub||null,this.j=f.eb||!1}x(us,qi),us.prototype.g=function(){return new to(this.l,this.j)},us.prototype.i=(function(f){return function(){return f}})({});function to(f,E){Dt.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(to,Dt),t=to.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,fr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function jc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?hr(this):fr(this),this.readyState==3&&jc(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,hr(this))},t.Qa=function(f){this.g&&(this.response=f,hr(this))},t.ga=function(){this.g&&hr(this)};function hr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,fr(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=E.next();return f.join(`\r
`)};function fr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function cs(f){let E="";return se(f,function(S,D){E+=D,E+=":",E+=S,E+=`\r
`}),E}function Qs(f,E,S){e:{for(D in S){var D=!1;break e}D=!0}D||(S=cs(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):Xe(f,E,S))}function ot(f){Dt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ot,Dt);var qf=/^https?$/i,Ul=["POST","PUT"];t=ot.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lr.g(),this.v=this.o?Ko(this.o):Ko(lr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(te){no(this,te);return}if(f=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)S.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())S.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(te=>te.toLowerCase()=="content-type"),Q=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ul,E,void 0))||D||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,he]of S)this.g.setRequestHeader(te,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(f),this.u=!1}catch(te){no(this,te)}};function no(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,ia(f),Dn(f)}function ia(f){f.A||(f.A=!0,Mt(f,"complete"),Mt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Mt(this,"complete"),Mt(this,"abort"),Dn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dn(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bl(this):this.bb())},t.bb=function(){Bl(this)};function Bl(f){if(f.h&&typeof l<"u"&&(!f.v[1]||wn(f)!=4||f.Z()!=2)){if(f.u&&wn(f)==4)xl(f.Ea,0,f);else if(Mt(f,"readystatechange"),wn(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var D;if(D=he===0){var Q=String(f.D).match(Zi)[1]||null;!Q&&c.self&&c.self.location&&(Q=c.self.location.protocol.slice(0,-1)),D=!qf.test(Q?Q.toLowerCase():"")}S=D}if(S)Mt(f,"complete"),Mt(f,"success");else{f.m=6;try{var te=2<wn(f)?f.g.statusText:""}catch{te=""}f.l=te+" ["+f.Z()+"]",ia(f)}}finally{Dn(f)}}}}function Dn(f,E){if(f.g){oa(f);const S=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||Mt(f,"ready");try{S.onreadystatechange=D}catch{}}}function oa(f){f.I&&(c.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function wn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Al(E)}};function zl(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function aa(f){const E={};f=(f.g&&2<=wn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(R(f[D]))continue;var S=V(f[D]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const te=E[Q]||[];E[Q]=te,te.push(S)}F(E,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(f,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||E}function jl(f){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dr("baseRetryDelayMs",5e3,f),this.cb=Dr("retryDelaySeedMs",1e4,f),this.Wa=Dr("forwardChannelMaxRetries",2,f),this.wa=Dr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ji(f&&f.concurrentRequestLimit),this.Da=new Wf,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jl.prototype,t.la=8,t.G=1,t.connect=function(f,E,S,D){Et(0),this.W=f,this.H=E||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.I=qc(this,null,this.W),Mr(this)};function Gt(f){if(la(f),f.G==3){var E=f.U++,S=Nn(f.I);if(Xe(S,"SID",f.K),Xe(S,"RID",E),Xe(S,"TYPE","terminate"),ds(f,S),E=new ur(f,f.j,E),E.L=2,E.v=qs(Nn(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=E.v,S=!0),S||(E.g=Gc(E.j,null),E.g.ea(E.v)),E.F=Date.now(),tt(E)}Wc(f)}function pr(f){f.g&&($l(f),f.g.cancel(),f.g=null)}function la(f){pr(f),f.u&&(c.clearTimeout(f.u),f.u=null),da(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Mr(f){if(!kn(f.h)&&!f.s){f.s=!0;var E=f.Ga;X||oe(),z||(X(),z=!0),Z.add(E,f),f.B=0}}function Gf(f,E){return Dc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=or(w(f.Ga,f,E),Hc(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new ur(this,this.j,f);let te=this.o;if(this.S&&(te?(te=b(te),O(te,this.S)):te=this.S),this.m!==null||this.O||(Q.H=te,te=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(E+=D,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=Ys(this,Q,E),S=Nn(this.I),Xe(S,"RID",f),Xe(S,"CVER",22),this.D&&Xe(S,"X-HTTP-Session-Id",this.D),ds(this,S),te&&(this.O?E="headers="+encodeURIComponent(String(cs(te)))+"&"+E:this.m&&Qs(S,this.m,te)),Vl(this.h,Q),this.Ua&&Xe(S,"TYPE","init"),this.P?(Xe(S,"$req",E),Xe(S,"SID","null"),Q.T=!0,ta(Q,S,null)):ta(Q,S,E),this.G=2}}else this.G==3&&(f?ua(this,f):this.i.length==0||kn(this.h)||ua(this))};function ua(f,E){var S;E?S=E.l:S=f.U++;const D=Nn(f.I);Xe(D,"SID",f.K),Xe(D,"RID",S),Xe(D,"AID",f.T),ds(f,D),f.m&&f.o&&Qs(D,f.m,f.o),S=new ur(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Ys(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Vl(f.h,S),ta(S,D,E)}function ds(f,E){f.H&&se(f.H,function(S,D){Xe(E,D,S)}),f.l&&$s({},function(S,D){Xe(E,D,S)})}function Ys(f,E,S){S=Math.min(f.i.length,S);var D=f.l?w(f.l.Na,f.l,f):null;e:{var Q=f.i;let te=-1;for(;;){const he=["count="+S];te==-1?0<S?(te=Q[0].g,he.push("ofs="+te)):te=0:he.push("ofs="+te);let Qe=!0;for(let Lt=0;Lt<S;Lt++){let $e=Q[Lt].g;const Bt=Q[Lt].map;if($e-=te,0>$e)te=Math.max(0,Q[Lt].g-100),Qe=!1;else try{zc(Bt,he,"req"+$e+"_")}catch{D&&D(Bt)}}if(Qe){D=he.join("&");break e}}}return f=f.i.splice(0,S),E.D=f,D}function ro(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;X||oe(),z||(X(),z=!0),Z.add(E,f),f.v=0}}function ca(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=or(w(f.Fa,f),Hc(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,$c(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=or(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),pr(this),$c(this))};function $l(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function $c(f){f.g=new ur(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Nn(f.qa);Xe(E,"RID","rpc"),Xe(E,"SID",f.K),Xe(E,"AID",f.T),Xe(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Xe(E,"TO",f.ja),Xe(E,"TYPE","xmlhttp"),ds(f,E),f.m&&f.o&&Qs(E,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=qs(Nn(E)),S.m=null,S.P=!0,Ll(S,f)}t.Za=function(){this.C!=null&&(this.C=null,pr(this),ca(this),Et(19))};function da(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function ha(f,E){var S=null;if(f.g==E){da(f),$l(f),f.g=null;var D=2}else if(dn(f.h,E))S=E.D,Mc(f.h,E),D=1;else return;if(f.G!=0){if(E.o)if(D==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Q=f.B;D=Gi(),Mt(D,new Xo(D,S)),Mr(f)}else ro(f);else if(Q=E.s,Q==3||Q==0&&0<E.X||!(D==1&&Gf(f,E)||D==2&&ca(f)))switch(S&&0<S.length&&(E=f.h,E.i=E.i.concat(S)),Q){case 1:hs(f,5);break;case 4:hs(f,10);break;case 3:hs(f,6);break;default:hs(f,2)}}}function Hc(f,E){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*E}function hs(f,E){if(f.j.info("Error code "+E),E==2){var S=w(f.fb,f),D=f.Xa;const Q=!D;D=new ls(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||eo(D,"https"),qs(D),Q?Hf(D.toString(),S):Bc(D.toString(),S)}else Et(2);f.G=0,f.l&&f.l.sa(E),Wc(f),la(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Wc(f){if(f.G=0,f.ka=[],f.l){const E=Lc(f.h);(E.length!=0||f.i.length!=0)&&(C(f.ka,E),C(f.ka,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.ra()}}function qc(f,E,S){var D=S instanceof ls?Nn(S):new ls(S);if(D.g!="")E&&(D.g=E+"."+D.g),Hs(D,D.s);else{var Q=c.location;D=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;var te=new ls(null);D&&eo(te,D),E&&(te.g=E),Q&&Hs(te,Q),S&&(te.l=S),D=te}return S=f.D,E=f.ya,S&&E&&Xe(D,S,E),Xe(D,"VER",f.la),ds(f,D),D}function Gc(f,E,S){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new ot(new us({eb:S})):new ot(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hl(){}t=Hl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fa(){}fa.prototype.g=function(f,E){return new hn(f,E)};function hn(f,E){Dt.call(this),this.g=new jl(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!R(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!R(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Lr(this)}x(hn,Dt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Gt(this.g)},hn.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Cl(f),f=S);E.i.push(new Nc(E.Ya++,f)),E.G==3&&Mr(E)},hn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,hn.aa.N.call(this)};function Kc(f){Pr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const S in E){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}x(Kc,Pr);function Qc(){Yo.call(this),this.status=1}x(Qc,Yo);function Lr(f){this.g=f}x(Lr,Hl),Lr.prototype.ua=function(){Mt(this.g,"a")},Lr.prototype.ta=function(f){Mt(this.g,new Kc(f))},Lr.prototype.sa=function(f){Mt(this.g,new Qc)},Lr.prototype.ra=function(){Mt(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,qb=function(){return new fa},Wb=function(){return Gi()},Hb=Rr,Gg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zo.NO_ERROR=0,Zo.TIMEOUT=8,Zo.HTTP_ERROR=6,fh=Zo,Ac.COMPLETE="complete",$b=Ac,Qo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Tu=Qo,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,jb=ot}).apply(typeof Kd<"u"?Kd:typeof self<"u"?self:typeof window<"u"?window:{});const MT="@firebase/firestore",LT="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new cv("@firebase/firestore");function Va(){return Mo.logLevel}function ge(t,...e){if(Mo.logLevel<=Fe.DEBUG){const n=e.map(Tv);Mo.debug(`Firestore (${gl}): ${t}`,...n)}}function Ls(t,...e){if(Mo.logLevel<=Fe.ERROR){const n=e.map(Tv);Mo.error(`Firestore (${gl}): ${t}`,...n)}}function nl(t,...e){if(Mo.logLevel<=Fe.WARN){const n=e.map(Tv);Mo.warn(`Firestore (${gl}): ${t}`,...n)}}function Tv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Gb(t,r,n)}function Gb(t,e,n){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ls(r),new Error(r)}function Ke(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Gb(e,s,r)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class V4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class F4{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new As;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new As,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await s(this.currentUser)}))},c=u=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new As)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new Kb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class U4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class B4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new U4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=j4(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Kg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return jm(s)===jm(o)?Ue(s,o):jm(s)?1:-1}return Ue(t.length,e.length)}const $4=55296,H4=57343;function jm(t){const e=t.charCodeAt(0);return e>=$4&&e<=H4}function rl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="__name__";class Br{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Br.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Br.isNumericId(e),s=Br.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Br.extractNumericId(e).compare(Br.extractNumericId(n)):Kg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class Je extends Br{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const W4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Br{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return W4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VT}static keyField(){return new Jt([VT])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(o(),s++)}if(o(),l)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Je.fromString(e))}static fromName(e){return new _e(Je.fromString(e).popFirst(5))}static empty(){return new _e(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q4(t,e,n,r){if(e===!0&&r===!0)throw new fe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FT(t){if(!_e.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UT(t){if(_e.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(t);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e){const n={typeString:t};return e&&(n.value=e),n}function vc(t,e){if(!Yb(t))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=-62135596800,zT=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zT);return new Ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BT)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zT}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vc(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-BT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:Nt("string",Ye._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ye(0,0))}static max(){return new ke(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=-1;function G4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Ci(s,_e.empty(),e)}function K4(t){return new Ci(t.readTime,t.key,Yu)}class Ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ci(ke.min(),_e.empty(),Yu)}static max(){return new Ci(ke.max(),_e.empty(),Yu)}}function Q4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==Y4)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,r)=>{n(e)}))}static reject(e){return new ae(((n,r)=>{r(e)}))}static waitFor(e){return new ae(((n,r)=>{let s=0,o=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++o,l&&o===s&&n()}),(u=>r(u)))})),l=!0,o===s&&n()}))}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next((s=>s?ae.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new ae(((r,s)=>{const o=e.length,l=new Array(o);let c=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next((m=>{l[h]=m,++c,c===o&&r(l)}),(m=>s(m)))}}))}static doWhile(e,n){return new ae(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function J4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=-1;function yf(t){return t==null}function Mh(t){return t===0&&1/t==-1/0}function Z4(t){return typeof t=="number"&&Number.isInteger(t)&&!Mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="";function e3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jT(e)),e=t3(t.get(n),e);return jT(e)}function t3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case Xb:n+="";break;default:n+=o}}return n}function jT(t){return t+Xb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}}class Qd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=s??Xt.EMPTY,this.right=o??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Xt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Xt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HT(this.data.getIterator())}getIteratorFrom(e){return new HT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class HT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ft(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Zb("Invalid base64 string: "+o):o}})(e);return new en(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const n3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=n3.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pi(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="server_timestamp",tI="__type__",nI="__previous_value__",rI="__local_write_time__";function vf(t){return(t?.mapValue?.fields||{})[tI]?.stringValue===eI}function wf(t){const e=t.mapValue.fields[nI];return vf(e)?wf(e):e}function Xu(t){const e=Ai(t.mapValue.fields[rI].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n,r,s,o,l,c,u,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=m}}const Lh="(default)";class Ju{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="__type__",s3="__max__",Yd={mapValue:{}},iI="__vector__",Oh="value";function Ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vf(t)?4:o3(t)?9007199254740991:i3(t)?10:11:Ce(28295,{value:t})}function Zr(t,e){if(t===e)return!0;const n=Ri(t);if(n!==Ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Ai(s.timestampValue),c=Ai(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Pi(s.bytesValue).isEqual(Pi(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return xt(s.geoPointValue.latitude)===xt(o.geoPointValue.latitude)&&xt(s.geoPointValue.longitude)===xt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return xt(s.integerValue)===xt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=xt(s.doubleValue),c=xt(o.doubleValue);return l===c?Mh(l)===Mh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return rl(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if($T(l)!==$T(c))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(c[u]===void 0||!Zr(l[u],c[u])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function Zu(t,e){return(t.values||[]).find((n=>Zr(n,e)))!==void 0}function sl(t,e){if(t===e)return 0;const n=Ri(t),r=Ri(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=xt(o.integerValue||o.doubleValue),u=xt(l.integerValue||l.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return WT(t.timestampValue,e.timestampValue);case 4:return WT(Xu(t),Xu(e));case 5:return Kg(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=Pi(o),u=Pi(l);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),u=l.split("/");for(let h=0;h<c.length&&h<u.length;h++){const m=Ue(c[h],u[h]);if(m!==0)return m}return Ue(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=Ue(xt(o.latitude),xt(l.latitude));return c!==0?c:Ue(xt(o.longitude),xt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return qT(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},u=l.fields||{},h=c[Oh]?.arrayValue,m=u[Oh]?.arrayValue,g=Ue(h?.values?.length||0,m?.values?.length||0);return g!==0?g:qT(h,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Yd.mapValue&&l===Yd.mapValue)return 0;if(o===Yd.mapValue)return 1;if(l===Yd.mapValue)return-1;const c=o.fields||{},u=Object.keys(c),h=l.fields||{},m=Object.keys(h);u.sort(),m.sort();for(let g=0;g<u.length&&g<m.length;++g){const w=Kg(u[g],m[g]);if(w!==0)return w;const _=sl(c[u[g]],h[m[g]]);if(_!==0)return _}return Ue(u.length,m.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function WT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Ai(t),r=Ai(e),s=Ue(n.seconds,r.seconds);return s!==0?s:Ue(n.nanos,r.nanos)}function qT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=sl(n[s],r[s]);if(o)return o}return Ue(n.length,r.length)}function il(t){return Qg(t)}function Qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ai(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Pi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Qg(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${Qg(n.fields[l])}`;return s+"}"})(t.mapValue):Ce(61005,{value:t})}function ph(t){switch(Ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wf(t);return e?16+ph(e):16;case 5:return 2*t.stringValue.length;case 6:return Pi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+ph(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Ui(r.fields,((o,l)=>{s+=o.length+ph(l)})),s})(t.mapValue);default:throw Ce(13486,{value:t})}}function Vh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yg(t){return!!t&&"integerValue"in t}function bv(t){return!!t&&"arrayValue"in t}function GT(t){return!!t&&"nullValue"in t}function KT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function i3(t){return(t?.mapValue?.fields||{})[sI]?.stringValue===iI}function Mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ui(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Mu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return{...t}}function o3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===s3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=Jt.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=Mu(l):s.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];mh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ui(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new An(Mu(this.value))}}function oI(t){const e=[];return Ui(t.fields,((n,r)=>{const s=new Jt([n]);if(mh(r)){const o=oI(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r,s,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ln(e,0,ke.min(),ke.min(),ke.min(),An.empty(),0)}static newFoundDocument(e,n,r,s){return new ln(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new ln(e,2,n,ke.min(),ke.min(),An.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,ke.min(),ke.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.position=e,this.inclusive=n}}function QT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),n.key):r=sl(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function a3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{}class kt extends aI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new u3(e,n,r):n==="array-contains"?new h3(e,r):n==="in"?new f3(e,r):n==="not-in"?new p3(e,r):n==="array-contains-any"?new m3(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new c3(e,r):new d3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sl(n,this.value)):n!==null&&Ri(this.value)===Ri(n)&&this.matchesComparison(sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends aI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new br(e,n)}matches(e){return lI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lI(t){return t.op==="and"}function uI(t){return l3(t)&&lI(t)}function l3(t){for(const e of t.filters)if(e instanceof br)return!1;return!0}function Xg(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+il(t.value);if(uI(t))return t.filters.map((e=>Xg(e))).join(",");{const e=t.filters.map((n=>Xg(n))).join(",");return`${t.op}(${e})`}}function cI(t,e){return t instanceof kt?(function(r,s){return s instanceof kt&&r.op===s.op&&r.field.isEqual(s.field)&&Zr(r.value,s.value)})(t,e):t instanceof br?(function(r,s){return s instanceof br&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,l,c)=>o&&cI(l,s.filters[c])),!0):!1})(t,e):void Ce(19439)}function dI(t){return t instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`})(t):t instanceof br?(function(n){return n.op.toString()+" {"+n.getFilters().map(dI).join(" ,")+"}"})(t):"Filter"}class u3 extends kt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class c3 extends kt{constructor(e,n){super(e,"in",n),this.keys=hI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class d3 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=hI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function hI(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class h3 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bv(n)&&Zu(n.arrayValue,this.value)}}class f3 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class p3 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zu(this.value.arrayValue,n)}}class m3 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Zu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n=null,r=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function XT(t,e=null,n=[],r=[],s=null,o=null,l=null){return new g3(t,e,n,r,s,o,l)}function Iv(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Xg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),yf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>il(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>il(r))).join(",")),e.Te=n}return e.Te}function Cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YT(t.startAt,e.startAt)&&YT(t.endAt,e.endAt)}function Jg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n=null,r=[],s=[],o=null,l="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function y3(t,e,n,r,s,o,l,c){return new Bo(t,e,n,r,s,o,l,c)}function Ef(t){return new Bo(t)}function JT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Av(t){return t.collectionGroup!==null}function Xa(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ft(Jt.comparator);return l.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ec(o,r))})),n.has(Jt.keyField().canonicalString())||e.Ie.push(new ec(Jt.keyField(),r))}return e.Ie}function Qr(t){const e=Ne(t);return e.Ee||(e.Ee=v3(e,Xa(t))),e.Ee}function v3(t,e){if(t.limitType==="F")return XT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new ec(s.field,o)}));const n=t.endAt?new ol(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ol(t.startAt.position,t.startAt.inclusive):null;return XT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zg(t,e){const n=t.filters.concat([e]);return new Bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fh(t,e,n){return new Bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _f(t,e){return Cv(Qr(t),Qr(e))&&t.limitType===e.limitType}function fI(t){return`${Iv(Qr(t))}|lt:${t.limitType}`}function Fa(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>dI(s))).join(", ")}]`),yf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>il(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>il(s))).join(",")),`Target(${r})`})(Qr(t))}; limitType=${t.limitType})`}function Tf(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of Xa(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,u){const h=QT(l,c,u);return l.inclusive?h<=0:h<0})(r.startAt,Xa(r),s)||r.endAt&&!(function(l,c,u){const h=QT(l,c,u);return l.inclusive?h>=0:h>0})(r.endAt,Xa(r),s))})(t,e)}function w3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pI(t){return(e,n)=>{let r=!1;for(const s of Xa(t)){const o=E3(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function E3(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(o,l,c){const u=l.data.field(o),h=c.data.field(o);return u!==null&&h!==null?sl(u,h):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return Jb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new pt(_e.comparator);function Os(){return _3}const mI=new pt(_e.comparator);function Su(...t){let e=mI;for(const n of t)e=e.insert(n.key,n);return e}function gI(t){let e=mI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function xo(){return Lu()}function yI(){return Lu()}function Lu(){return new zo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const T3=new pt(_e.comparator),S3=new Ft(_e.comparator);function Be(...t){let e=S3;for(const n of t)e=e.add(n);return e}const x3=new Ft(Ue);function b3(){return x3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function vI(t){return{integerValue:""+t}}function wI(t,e){return Z4(e)?vI(e):Pv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function I3(t,e,n){return t instanceof tc?(function(s,o){const l={fields:{[tI]:{stringValue:eI},[rI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&vf(o)&&(o=wf(o)),o&&(l.fields[nI]=o),{mapValue:l}})(n,e):t instanceof nc?_I(t,e):t instanceof rc?TI(t,e):(function(s,o){const l=EI(s,o),c=ZT(l)+ZT(s.Ae);return Yg(l)&&Yg(s.Ae)?vI(c):Pv(s.serializer,c)})(t,e)}function C3(t,e,n){return t instanceof nc?_I(t,e):t instanceof rc?TI(t,e):n}function EI(t,e){return t instanceof sc?(function(r){return Yg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class tc extends Sf{}class nc extends Sf{constructor(e){super(),this.elements=e}}function _I(t,e){const n=SI(e);for(const r of t.elements)n.some((s=>Zr(s,r)))||n.push(r);return{arrayValue:{values:n}}}class rc extends Sf{constructor(e){super(),this.elements=e}}function TI(t,e){let n=SI(e);for(const r of t.elements)n=n.filter((s=>!Zr(s,r)));return{arrayValue:{values:n}}}class sc extends Sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ZT(t){return xt(t.integerValue||t.doubleValue)}function SI(t){return bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.field=e,this.transform=n}}function A3(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof nc&&s instanceof nc||r instanceof rc&&s instanceof rc?rl(r.elements,s.elements,Zr):r instanceof sc&&s instanceof sc?Zr(r.Ae,s.Ae):r instanceof tc&&s instanceof tc})(t.transform,e.transform)}class P3{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xf{}function bI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rv(t.key,tr.none()):new wc(t.key,t.data,tr.none());{const n=t.data,r=An.empty();let s=new Ft(Jt.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new Bi(t.key,r,new Un(s.toArray()),tr.none())}}function R3(t,e,n){t instanceof wc?(function(s,o,l){const c=s.value.clone(),u=tS(s.fieldTransforms,o,l.transformResults);c.setAll(u),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Bi?(function(s,o,l){if(!gh(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=tS(s.fieldTransforms,o,l.transformResults),u=o.data;u.setAll(II(s)),u.setAll(c),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Ou(t,e,n,r){return t instanceof wc?(function(o,l,c,u){if(!gh(o.precondition,l))return c;const h=o.value.clone(),m=nS(o.fieldTransforms,u,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Bi?(function(o,l,c,u){if(!gh(o.precondition,l))return c;const h=nS(o.fieldTransforms,u,l),m=l.data;return m.setAll(II(o)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(o,l,c){return gh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function k3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=EI(r.transform,s||null);o!=null&&(n===null&&(n=An.empty()),n.set(r.field,o))}return n||null}function eS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&rl(r,s,((o,l)=>A3(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wc extends xf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bi extends xf{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function II(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function tS(t,e,n){const r=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);r.set(o.field,C3(l,c,n[s]))}return r}function nS(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,I3(o,l,e))}return r}class Rv extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N3 extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&R3(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yI();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const u=bI(l,c);u!==null&&r.set(s.key,u),l.isValidDocument()||l.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,((n,r)=>eS(n,r)))&&rl(this.baseMutations,e.baseMutations,((n,r)=>eS(n,r)))}}class kv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return T3})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new kv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,He;function O3(t){switch(t){case ie.OK:return Ce(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function CI(t){if(t===void 0)return Ls("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Pt.OK:return ie.OK;case Pt.CANCELLED:return ie.CANCELLED;case Pt.UNKNOWN:return ie.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ie.INTERNAL;case Pt.UNAVAILABLE:return ie.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ie.NOT_FOUND;case Pt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Pt.ABORTED:return ie.ABORTED;case Pt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Pt.DATA_LOSS:return ie.DATA_LOSS;default:return Ce(39323,{code:t})}}(He=Pt||(Pt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new Ti([4294967295,4294967295],0);function rS(t){const e=V3().encode(t),n=new zb;return n.update(e),new Uint8Array(n.digest())}function sS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ti([n,r],0),new Ti([s,o],0)]}class Nv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xu(`Invalid padding: ${n}`);if(r<0)throw new xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ti.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ti.fromNumber(r)));return s.compare(F3)===1&&(s=new Ti([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rS(e),[r,s]=sS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Nv(o,s,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=rS(e),[r,s]=sS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bf(ke.min(),s,new pt(Ue),Os(),Be())}}class Ec{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ec(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class AI{constructor(e,n){this.targetId=e,this.Ce=n}}class PI{constructor(e,n,r=en.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class iS{constructor(){this.ve=0,this.Fe=oS(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),r=Be();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce(38017,{changeType:o})}})),new Ec(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=oS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=Xd(),this.He=Xd(),this.Ye=new pt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Jg(o))if(r===0){const l=new _e(o.path);this.et(n,l,ln.newNoDocument(l,ke.min()))}else Ke(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),u=c?this.ct(c,e,l):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=Pi(r).toUint8Array()}catch(u){if(u instanceof Zb)return nl("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Nv(l,s,o)}catch(u){return nl(u instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&Jg(c.target)){const u=new _e(c.target.path);this.It(u).has(l)||this.Et(l,u)||this.et(l,u,ln.newNoDocument(u,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=Be();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new bf(e,n,this.Ye,this.je,r);return this.je=Os(),this.Je=Xd(),this.He=Xd(),this.Ye=new pt(Ue),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xd(){return new pt(_e.comparator)}function oS(){return new pt(_e.comparator)}const B3={asc:"ASCENDING",desc:"DESCENDING"},z3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j3={and:"AND",or:"OR"};class $3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ey(t,e){return t.useProto3Json||yf(e)?e:{value:e}}function Uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H3(t,e){return Uh(t,e.toTimestamp())}function Yr(t){return Ke(!!t,49232),ke.fromTimestamp((function(n){const r=Ai(n);return new Ye(r.seconds,r.nanos)})(t))}function Dv(t,e){return ty(t,e).canonicalString()}function ty(t,e){const n=(function(s){return new Je(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function kI(t){const e=Je.fromString(t);return Ke(OI(e),10190,{key:e.toString()}),e}function ny(t,e){return Dv(t.databaseId,e.path)}function $m(t,e){const n=kI(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(DI(n))}function NI(t,e){return Dv(t.databaseId,e)}function W3(t){const e=kI(t);return e.length===4?Je.emptyPath():DI(e)}function ry(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DI(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aS(t,e,n){return{name:ny(t,e),fields:n.value.mapValue.fields}}function q3(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ce(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(h,m){return h.useProto3Json?(Ke(m===void 0||typeof m=="string",58123),en.fromBase64String(m||"")):(Ke(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),en.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const m=h.code===void 0?ie.UNKNOWN:CI(h.code);return new fe(m,h.message||"")})(l);n=new PI(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=$m(t,r.document.name),o=Yr(r.document.updateTime),l=r.document.createTime?Yr(r.document.createTime):ke.min(),c=new An({mapValue:{fields:r.document.fields}}),u=ln.newFoundDocument(s,o,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new yh(h,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=$m(t,r.document),o=r.readTime?Yr(r.readTime):ke.min(),l=ln.newNoDocument(s,o),c=r.removedTargetIds||[];n=new yh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=$m(t,r.document),o=r.removedTargetIds||[];n=new yh([],o,s,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new L3(s,o),c=r.targetId;n=new AI(c,l)}}return n}function G3(t,e){let n;if(e instanceof wc)n={update:aS(t,e.key,e.value)};else if(e instanceof Rv)n={delete:ny(t,e.key)};else if(e instanceof Bi)n={update:aS(t,e.key,e.data),updateMask:n6(e.fieldMask)};else{if(!(e instanceof N3))return Ce(16599,{Vt:e.type});n={verify:ny(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof tc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof nc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof rc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof sc)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ce(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:H3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ce(27497)})(t,e.precondition)),n}function K3(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(s,o){let l=s.updateTime?Yr(s.updateTime):Yr(o);return l.isEqual(ke.min())&&(l=Yr(o)),new P3(l,s.transformResults||[])})(n,e)))):[]}function Q3(t,e){return{documents:[NI(t,e.path)]}}function Y3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NI(t,s);const o=(function(h){if(h.length!==0)return LI(br.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(h){if(h.length!==0)return h.map((m=>(function(w){return{field:Ua(w.field),direction:Z3(w.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=ey(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function X3(t){let e=W3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ke(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(g){const w=MI(g);return w instanceof br&&uI(w)?w.getFilters():[w]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((w=>(function(x){return new ec(Ba(x.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(w)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let w;return w=typeof g=="object"?g.value:g,yf(w)?null:w})(n.limit));let u=null;n.startAt&&(u=(function(g){const w=!!g.before,_=g.values||[];return new ol(_,w)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const w=!g.before,_=g.values||[];return new ol(_,w)})(n.endAt)),y3(e,s,l,o,c,"F",u,h)}function J3(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ba(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ba(n.unaryFilter.field);return kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ba(n.unaryFilter.field);return kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ba(n.unaryFilter.field);return kt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return kt.create(Ba(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return br.create(n.compositeFilter.filters.map((r=>MI(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function Z3(t){return B3[t]}function e6(t){return z3[t]}function t6(t){return j3[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function Ba(t){return Jt.fromServerFormat(t.fieldPath)}function LI(t){return t instanceof kt?(function(n){if(n.op==="=="){if(KT(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(GT(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KT(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(GT(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:e6(n.op),value:n.value}}})(t):t instanceof br?(function(n){const r=n.getFilters().map((s=>LI(s)));return r.length===1?r[0]:{compositeFilter:{op:t6(n.op),filters:r}}})(t):Ce(54877,{filter:t})}function n6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function OI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,s,o=ke.min(),l=ke.min(),c=en.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.yt=e}}function s6(t){const e=X3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.Cn=new o6}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ci.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class o6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ft(Je.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ft(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VI=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(VI,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="LruGarbageCollector",a6=1048576;function cS([t,e],[n,r]){const s=Ue(t,n);return s===0?Ue(e,r):s}class l6{constructor(e){this.Ir=e,this.buffer=new Ft(cS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(uS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vl(n)?ge(uS,"Ignoring IndexedDB error during garbage collection: ",n):await yl(n)}await this.Vr(3e5)}))}}class c6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(gf.ce);const r=new l6(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(lS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,l,c,u,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Va()<=Fe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-m}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:g}))))}}function d6(t,e){return new c6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.changes=new zo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Ou(r.mutation,s,Un.empty(),Ye.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Be()){const s=xo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let l=Su();return o.forEach(((c,u)=>{l=l.insert(c,u.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=xo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Be())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,s){let o=Os();const l=Lu(),c=(function(){return Lu()})();return n.forEach(((u,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof Bi)?o=o.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Ou(m.mutation,h,m.mutation.getFieldMask(),Ye.now())):l.set(h.key,Un.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((h,m)=>l.set(h,m))),n.forEach(((h,m)=>c.set(h,new f6(m,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Lu();let s=new pt(((l,c)=>l-c)),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let m=r.get(u)||Un.empty();m=c.applyToLocalView(h,m),r.set(u,m);const g=(s.get(c.batchId)||Be()).add(u);s=s.insert(c.batchId,g)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,m=u.value,g=yI();m.forEach((w=>{if(!o.has(w)){const _=bI(n.get(w),r.get(w));_!==null&&g.set(w,_),o=o.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ae.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Av(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ae.resolve(xo());let c=Yu,u=o;return l.next((h=>ae.forEach(h,((m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(m)?ae.resolve():this.remoteDocumentCache.getEntry(e,m).next((w=>{u=u.insert(m,w)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,u,h,Be()))).next((m=>({batchId:c,changes:gI(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((r=>{let s=Su();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=Su();return this.indexManager.getCollectionParents(e,o).next((c=>ae.forEach(c,(u=>{const h=(function(g,w){return new Bo(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((m=>{m.forEach(((g,w)=>{l=l.insert(g,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((l=>{o.forEach(((u,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,ln.newInvalidDocument(m)))}));let c=Su();return l.forEach(((u,h)=>{const m=o.get(u);m!==void 0&&Ou(m.mutation,h,Un.empty(),Ye.now()),Tf(n,h)&&(c=c.insert(u,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Yr(s.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:s6(s.bundledQuery),readTime:Yr(s.readTime)}})(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.overlays=new pt(_e.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xo();return ae.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.St(e,n,o)})),ae.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const s=xo(),o=n.length+1,l=new _e(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&s.set(u.getKey(),u)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new pt(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=xo(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=xo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=s)););return ae.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new M3(n,r));let o=this.qr.get(n);o===void 0&&(o=Be(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.Qr=new Ft(Ht.$r),this.Ur=new Ft(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ht(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new _e(new Je([])),r=new Ht(n,e),s=new Ht(n,e+1),o=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new Je([])),r=new Ht(n,e),s=new Ht(n,e+1);let o=Be();return this.Ur.forEachInRange([r,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Ht(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Ht.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new D3(o,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new Ht(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?xv:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),s=new Ht(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(l=>{const c=this.Xr(l.Yr);o.push(c)})),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Ue);return n.forEach((s=>{const o=new Ht(s,0),l=new Ht(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const l=new Ht(new _e(o),0);let c=new Ft(Ue);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(u.Yr)),!0)}),l),ae.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ae.forEach(n.mutations,(s=>{const o=new Ht(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ht(n,0),s=this.Zr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.ri=e,this.docs=(function(){return new pt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ln.newInvalidDocument(s))})),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Os();const l=n.path,c=new _e(l.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||Q4(K4(m),r)<=0||(s.has(m.key)||Tf(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ce(9500)}ii(e,n){return ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new E6(this)}getSize(e){return ae.resolve(this.size)}}class E6 extends h6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.persistence=e,this.si=new zo((n=>Iv(n)),Cv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Mv,this.targetCount=0,this.ai=al.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new al(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),ae.waitFor(o).next((()=>s))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.ui={},this.overlays={},this.ci=new gf(0),this.li=!1,this.li=!0,this.hi=new y6,this.referenceDelegate=e(this),this.Pi=new _6(this),this.indexManager=new i6,this.remoteDocumentCache=(function(s){return new w6(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new r6(n),this.Ii=new m6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new v6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new T6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class T6 extends X4{constructor(e){super(),this.currentSequenceNumber=e}}class Lv{constructor(e){this.persistence=e,this.Ri=new Mv,this.Vi=null}static mi(e){return new Lv(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(r=>{const s=_e.fromPath(r);return this.gi(e,s).next((o=>{o||n.removeEntry(s,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bh{constructor(e,n){this.persistence=e,this.pi=new zo((r=>e3(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=d6(this,n)}static mi(e,n){return new Bh(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?ae.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,ke.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}br(e,n,r){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ae.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Be(),s=Be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Ov(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tL()?8:J4(cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,s,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new S6;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Va()<=Fe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Va()<=Fe.DEBUG&&ge("QueryEngine","Query:",Fa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Va()<=Fe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):ae.resolve())}ys(e,n){if(JT(n))return ae.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Fh(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Be(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.Ds(n,c);return this.Cs(n,h,l,u.readTime)?this.ys(e,Fh(n,null,"F")):this.vs(e,h,n,u)}))))})))))}ws(e,n,r,s){return JT(n)||s.isEqual(ke.min())?ae.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,s)?ae.resolve(null):(Va()<=Fe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fa(n)),this.vs(e,l,n,G4(s,Yu)).next((c=>c)))}))}Ds(e,n){let r=new Ft(pI(e));return n.forEach(((s,o)=>{Tf(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return Va()<=Fe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ps.getDocumentsMatchingQuery(e,n,Ci.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="LocalStore",b6=3e8;class I6{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new pt(Ue),this.xs=new zo((o=>Iv(o)),Cv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function C6(t,e,n,r){return new I6(t,e,n,r)}async function UI(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let u=Be();for(const h of s){l.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}for(const h of o){c.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}return n.localDocuments.getDocuments(r,u).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function A6(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,m){const g=h.batch,w=g.keys();let _=ae.resolve();return w.forEach((x=>{_=_.next((()=>m.getEntry(u,x))).next((A=>{const C=h.docVersions.get(x);Ke(C!==null,48541),A.version.compareTo(C)<0&&(g.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),m.addEntry(A)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(u,g)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=Be();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function BI(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function P6(t,e){const n=Ne(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((m,g)=>{const w=s.get(g);if(!w)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,g))));let _=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(en.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),s=s.insert(g,_),(function(A,C,P){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=b6?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(w,_,m)&&c.push(n.Pi.updateTargetData(o,_))}));let u=Os(),h=Be();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(R6(o,l,e.documentUpdates).next((m=>{u=m.ks,h=m.qs}))),!r.isEqual(ke.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((g=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return ae.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,u,h))).next((()=>u))})).then((o=>(n.Ms=s,o)))}function R6(t,e,n){let r=Be(),s=Be();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Os();return n.forEach(((c,u)=>{const h=o.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(ke.min())?(e.removeEntry(c,u.readTime),l=l.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),l=l.insert(c,u)):ge(Vv,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{ks:l,qs:s}}))}function k6(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function N6(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((o=>o?(s=o,ae.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new vi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function sy(t,e,n){const r=Ne(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!vl(l))throw l;ge(Vv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function dS(t,e,n){const r=Ne(t);let s=ke.min(),o=Be();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(u,h,m){const g=Ne(u),w=g.xs.get(m);return w!==void 0?ae.resolve(g.Ms.get(w)):g.Pi.getTargetData(h,m)})(r,l,Qr(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((u=>{o=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:ke.min(),n?o:Be()))).next((c=>(D6(r,w3(e),c),{documents:c,Qs:o})))))}function D6(t,e,n){let r=t.Os.get(e)||ke.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class hS{constructor(){this.activeTargetIds=b3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M6{constructor(){this.Mo=new hS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="ConnectivityMonitor";class pS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(fS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(fS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd=null;function iy(){return Jd===null?Jd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jd++,"0x"+Jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="RestConnection",O6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Lh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const l=iy(),c=this.zo(e,n.toUriEncodedString());ge(Hm,`Sending RPC '${e}' ${l}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,o);const{host:h}=new URL(c),m=Li(h);return this.Jo(e,c,u,r,m).then((g=>(ge(Hm,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw nl(Hm,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,n,r,s,o,l){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const r=O6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class U6 extends V6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const l=iy();return new Promise(((c,u)=>{const h=new jb;h.setWithCredentials(!0),h.listenOnce($b.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case fh.NO_ERROR:const g=h.getResponseJson();ge(on,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case fh.TIMEOUT:ge(on,`RPC '${e}' ${l} timed out`),u(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const w=h.getStatus();if(ge(on,`RPC '${e}' ${l} failed with status:`,w,"response text:",h.getResponseText()),w>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const x=_?.error;if(x&&x.status&&x.message){const A=(function(P){const R=P.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(R)>=0?R:ie.UNKNOWN})(x.status);u(new fe(A,x.message))}else u(new fe(ie.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ge(on,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(s);ge(on,`RPC '${e}' ${l} sending request:`,s),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=iy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=qb(),c=Wb(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const m=o.join("");ge(on,`Creating RPC '${e}' stream ${s}: ${m}`,u);const g=l.createWebChannel(m,u);this.I_(g);let w=!1,_=!1;const x=new F6({Yo:C=>{_?ge(on,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(w||(ge(on,`Opening RPC '${e}' stream ${s} transport.`),g.open(),w=!0),ge(on,`RPC '${e}' stream ${s} sending:`,C),g.send(C))},Zo:()=>g.close()}),A=(C,P,R)=>{C.listen(P,(N=>{try{R(N)}catch(j){setTimeout((()=>{throw j}),0)}}))};return A(g,Tu.EventType.OPEN,(()=>{_||(ge(on,`RPC '${e}' stream ${s} transport opened.`),x.o_())})),A(g,Tu.EventType.CLOSE,(()=>{_||(_=!0,ge(on,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(g))})),A(g,Tu.EventType.ERROR,(C=>{_||(_=!0,nl(on,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),x.a_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),A(g,Tu.EventType.MESSAGE,(C=>{if(!_){const P=C.data[0];Ke(!!P,16349);const R=P,N=R?.error||R[0]?.error;if(N){ge(on,`RPC '${e}' stream ${s} received error:`,N);const j=N.status;let q=(function(b){const M=Pt[b];if(M!==void 0)return CI(M)})(j),se=N.message;q===void 0&&(q=ie.INTERNAL,se="Unknown error status: "+j+" with message "+N.message),_=!0,x.a_(new fe(q,se)),g.close()}else ge(on,`RPC '${e}' stream ${s} received:`,P),x.u_(P)}})),A(c,Hb.STAT_EVENT,(C=>{C.stat===Gg.PROXY?ge(on,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Gg.NOPROXY&&ge(on,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){return new $3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="PersistentStream";class jI{constructor(e,n,r,s,o,l,c,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new fe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(mS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(mS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B6 extends jI{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=q3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ke.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?Yr(l.readTime):ke.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ry(this.serializer),n.addTarget=(function(o,l){let c;const u=l.target;if(c=Jg(u)?{documents:Q3(o,u)}:{query:Y3(o,u).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=RI(o,l.resumeToken);const h=ey(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=Uh(o,l.snapshotVersion.toTimestamp());const h=ey(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=J3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ry(this.serializer),n.removeTarget=e,this.q_(n)}}class z6 extends jI{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=K3(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ry(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>G3(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{}class $6 extends j6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,ty(n,r),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ie.UNKNOWN,o.toString())}))}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,ty(n,r),s,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ie.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class H6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="RemoteStore";class W6{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{jo(this)&&(ge(Lo,"Restarting streams for network reachability change."),await(async function(u){const h=Ne(u);h.Ea.add(4),await _c(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Cf(h)})(this))}))})),this.Ra=new H6(r,s)}}async function Cf(t){if(jo(t))for(const e of t.da)await e(!0)}async function _c(t){for(const e of t.da)await e(!1)}function $I(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zv(n)?Bv(n):wl(n).O_()&&Uv(n,e))}function Fv(t,e){const n=Ne(t),r=wl(n);n.Ia.delete(e),r.O_()&&HI(n,e),n.Ia.size===0&&(r.O_()?r.L_():jo(n)&&n.Ra.set("Unknown"))}function Uv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wl(t).Y_(e)}function HI(t,e){t.Va.Ue(e),wl(t).Z_(e)}function Bv(t){t.Va=new U3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wl(t).start(),t.Ra.ua()}function zv(t){return jo(t)&&!wl(t).x_()&&t.Ia.size>0}function jo(t){return Ne(t).Ea.size===0}function WI(t){t.Va=void 0}async function q6(t){t.Ra.set("Online")}async function G6(t){t.Ia.forEach(((e,n)=>{Uv(t,e)}))}async function K6(t,e){WI(t),zv(t)?(t.Ra.ha(e),Bv(t)):t.Ra.set("Unknown")}async function Q6(t,e,n){if(t.Ra.set("Online"),e instanceof PI&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){ge(Lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zh(t,r)}else if(e instanceof yh?t.Va.Ze(e):e instanceof AI?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const r=await BI(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const m=o.Ia.get(h);m&&o.Ia.set(h,m.withResumeToken(u.resumeToken,l))}})),c.targetMismatches.forEach(((u,h)=>{const m=o.Ia.get(u);if(!m)return;o.Ia.set(u,m.withResumeToken(en.EMPTY_BYTE_STRING,m.snapshotVersion)),HI(o,u);const g=new vi(m.target,u,h,m.sequenceNumber);Uv(o,g)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ge(Lo,"Failed to raise snapshot:",r),await zh(t,r)}}async function zh(t,e,n){if(!vl(e))throw e;t.Ea.add(1),await _c(t),t.Ra.set("Offline"),n||(n=()=>BI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(Lo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cf(t)}))}function qI(t,e){return e().catch((n=>zh(t,n,e)))}async function Af(t){const e=Ne(t),n=ki(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xv;for(;Y6(e);)try{const s=await k6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,X6(e,s)}catch(s){await zh(e,s)}GI(e)&&KI(e)}function Y6(t){return jo(t)&&t.Ta.length<10}function X6(t,e){t.Ta.push(e);const n=ki(t);n.O_()&&n.X_&&n.ea(e.mutations)}function GI(t){return jo(t)&&!ki(t).x_()&&t.Ta.length>0}function KI(t){ki(t).start()}async function J6(t){ki(t).ra()}async function Z6(t){const e=ki(t);for(const n of t.Ta)e.ea(n.mutations)}async function eF(t,e,n){const r=t.Ta.shift(),s=kv.from(r,e,n);await qI(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Af(t)}async function tF(t,e){e&&ki(t).X_&&await(async function(r,s){if((function(l){return O3(l)&&l!==ie.ABORTED})(s.code)){const o=r.Ta.shift();ki(r).B_(),await qI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Af(r)}})(t,e),GI(t)&&KI(t)}async function gS(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),ge(Lo,"RemoteStore received new credentials");const r=jo(n);n.Ea.add(3),await _c(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cf(n)}async function nF(t,e){const n=Ne(t);e?(n.Ea.delete(2),await Cf(n)):e||(n.Ea.add(2),await _c(n),n.Ra.set("Unknown"))}function wl(t){return t.ma||(t.ma=(function(n,r,s){const o=Ne(n);return o.sa(),new B6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:q6.bind(null,t),t_:G6.bind(null,t),r_:K6.bind(null,t),H_:Q6.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),zv(t)?Bv(t):t.Ra.set("Unknown")):(await t.ma.stop(),WI(t))}))),t.ma}function ki(t){return t.fa||(t.fa=(function(n,r,s){const o=Ne(n);return o.sa(),new z6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:J6.bind(null,t),r_:tF.bind(null,t),ta:Z6.bind(null,t),na:eF.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Af(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(Lo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,c=new jv(e,n,l,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(t,e){if(Ls("AsyncQueue",`${e}: ${t}`),vl(t))return new fe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Su(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.ga=new pt(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ll{constructor(e,n,r,s,o,l,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new ll(e,n,Ja.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sF{constructor(){this.queries=vS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ne(n),o=s.queries;s.queries=vS(),o.forEach(((l,c)=>{for(const u of c.Sa)u.onError(r)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function vS(){return new zo((t=>fI(t)),_f)}async function Hv(t,e){const n=Ne(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new rF,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=$v(l,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&qv(n)}async function Wv(t,e){const n=Ne(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iF(t,e){const n=Ne(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(s)&&(r=!0);l.wa=s}}r&&qv(n)}function oF(t,e,n){const r=Ne(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function qv(t){t.Ca.forEach((e=>{e.next()}))}var oy,wS;(wS=oy||(oy={})).Ma="default",wS.Cache="cache";class Gv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==oy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.key=e}}class YI{constructor(e){this.key=e}}class aF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=pI(e),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new yS,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,g)=>{const w=s.get(m),_=Tf(this.query,g)?g:null,x=!!w&&this.mutatedKeys.has(w.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;w&&_?w.data.isEqual(_.data)?x!==A&&(r.track({type:3,doc:_}),C=!0):this.su(w,_)||(r.track({type:2,doc:_}),C=!0,(u&&this.eu(_,u)>0||h&&this.eu(_,h)<0)&&(c=!0)):!w&&_?(r.track({type:0,doc:_}),C=!0):w&&!_&&(r.track({type:1,doc:w}),C=!0,(u||h)&&(c=!0)),C&&(_?(l=l.add(_),o=A?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,g)=>(function(_,x){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:C})}};return A(_)-A(x)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,h=u!==this.Za;return this.Za=u,l.length!==0||h?{snapshot:new ll(this.query,e.tu,o,l,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new YI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new QI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kv="SyncEngine";class lF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uF{constructor(e){this.key=e,this.hu=!1}}class cF{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new zo((c=>fI(c)),_f),this.Iu=new Map,this.Eu=new Set,this.du=new pt(_e.comparator),this.Au=new Map,this.Ru=new Mv,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dF(t,e,n=!0){const r=nC(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await XI(r,e,n,!0),s}async function hF(t,e){const n=nC(t);await XI(n,e,!0,!1)}async function XI(t,e,n,r){const s=await N6(t.localStore,Qr(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await fF(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&$I(t.remoteStore,s),c}async function fF(t,e,n,r,s){t.pu=(g,w,_)=>(async function(A,C,P,R){let N=C.view.ru(P);N.Cs&&(N=await dS(A.localStore,C.query,!1).then((({documents:F})=>C.view.ru(F,N))));const j=R&&R.targetChanges.get(C.targetId),q=R&&R.targetMismatches.get(C.targetId)!=null,se=C.view.applyChanges(N,A.isPrimaryClient,j,q);return _S(A,C.targetId,se.au),se.snapshot})(t,g,w,_);const o=await dS(t.localStore,e,!0),l=new aF(e,o.Qs),c=l.ru(o.documents),u=Ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(c,t.isPrimaryClient,u);_S(t,n,h.au);const m=new lF(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function pF(t,e,n){const r=Ne(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((l=>!_f(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sy(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Fv(r.remoteStore,s.targetId),ay(r,s.targetId)})).catch(yl)):(ay(r,s.targetId),await sy(r.localStore,s.targetId,!0))}async function mF(t,e){const n=Ne(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fv(n.remoteStore,r.targetId))}async function gF(t,e,n){const r=SF(t);try{const s=await(function(l,c){const u=Ne(l),h=Ye.now(),m=c.reduce(((_,x)=>_.add(x.key)),Be());let g,w;return u.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let x=Os(),A=Be();return u.Ns.getEntries(_,m).next((C=>{x=C,x.forEach(((P,R)=>{R.isValidDocument()||(A=A.add(P))}))})).next((()=>u.localDocuments.getOverlayedDocuments(_,x))).next((C=>{g=C;const P=[];for(const R of c){const N=k3(R,g.get(R.key).overlayedDocument);N!=null&&P.push(new Bi(R.key,N,oI(N.value.mapValue),tr.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,P,c)})).next((C=>{w=C;const P=C.applyToLocalDocumentSet(g,A);return u.documentOverlayCache.saveOverlays(_,C.batchId,P)}))})).then((()=>({batchId:w.batchId,changes:gI(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,u){let h=l.Vu[l.currentUser.toKey()];h||(h=new pt(Ue)),h=h.insert(c,u),l.Vu[l.currentUser.toKey()]=h})(r,s.batchId,n),await Tc(r,s.changes),await Af(r.remoteStore)}catch(s){const o=$v(s,"Failed to persist write");n.reject(o)}}async function JI(t,e){const n=Ne(t);try{const r=await P6(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=n.Au.get(o);l&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ke(l.hu,14607):s.removedDocuments.size>0&&(Ke(l.hu,42227),l.hu=!1))})),await Tc(n,r,e)}catch(r){await yl(r)}}function ES(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const u=Ne(l);u.onlineState=c;let h=!1;u.queries.forEach(((m,g)=>{for(const w of g.Sa)w.va(c)&&(h=!0)})),h&&qv(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yF(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let l=new pt(_e.comparator);l=l.insert(o,ln.newNoDocument(o,ke.min()));const c=Be().add(o),u=new bf(ke.min(),new Map,new pt(Ue),l,c);await JI(r,u),r.du=r.du.remove(o),r.Au.delete(e),Qv(r)}else await sy(r.localStore,e,!1).then((()=>ay(r,e,n))).catch(yl)}async function vF(t,e){const n=Ne(t),r=e.batch.batchId;try{const s=await A6(n.localStore,e);eC(n,r,null),ZI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tc(n,s)}catch(s){await yl(s)}}async function wF(t,e,n){const r=Ne(t);try{const s=await(function(l,c){const u=Ne(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return u.mutationQueue.lookupMutationBatch(h,c).next((g=>(Ke(g!==null,37113),m=g.keys(),u.mutationQueue.removeMutationBatch(h,g)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>u.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);eC(r,e,n),ZI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tc(r,s)}catch(s){await yl(s)}}function ZI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function eC(t,e,n){const r=Ne(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||tC(t,r)}))}function tC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Fv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Qv(t))}function _S(t,e,n){for(const r of n)r instanceof QI?(t.Ru.addReference(r.key,e),EF(t,r)):r instanceof YI?(ge(Kv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||tC(t,r.key)):Ce(19791,{wu:r})}function EF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(Kv,"New document in limbo: "+n),t.Eu.add(r),Qv(t))}function Qv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new uF(n)),t.du=t.du.insert(n,r),$I(t.remoteStore,new vi(Qr(Ef(n.path)),r,"TargetPurposeLimboResolution",gf.ce))}}async function Tc(t,e,n){const r=Ne(t),s=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,u)=>{l.push(r.pu(u,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){s.push(h);const m=Ov.As(u.targetId,h);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(u,h){const m=Ne(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ae.forEach(h,(w=>ae.forEach(w.Es,(_=>m.persistence.referenceDelegate.addReference(g,w.targetId,_))).next((()=>ae.forEach(w.ds,(_=>m.persistence.referenceDelegate.removeReference(g,w.targetId,_)))))))))}catch(g){if(!vl(g))throw g;ge(Vv,"Failed to update sequence numbers: "+g)}for(const g of h){const w=g.targetId;if(!g.fromCache){const _=m.Ms.get(w),x=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(x);m.Ms=m.Ms.insert(w,A)}}})(r.localStore,o))}async function _F(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){ge(Kv,"User change. New user:",e.toKey());const r=await UI(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((u=>{u.reject(new fe(ie.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tc(n,r.Ls)}}function TF(t,e){const n=Ne(t),r=n.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let s=Be();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function nC(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yF.bind(null,e),e.Pu.H_=iF.bind(null,e.eventManager),e.Pu.yu=oF.bind(null,e.eventManager),e}function SF(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wF.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return C6(this.persistence,new x6,e.initialUser,this.serializer)}Cu(e){return new FI(Lv.mi,this.serializer)}Du(e){return new M6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class xF extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new u6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new FI((r=>Bh.mi(r,n)),this.serializer)}}class ly{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ES(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_F.bind(null,this.syncEngine),await nF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sF})()}createDatastore(e){const n=If(e.databaseInfo.databaseId),r=(function(o){return new U6(o)})(e.databaseInfo);return(function(o,l,c,u){return new $6(o,l,c,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,l,c){return new W6(r,s,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>ES(this.syncEngine,n,0)),(function(){return pS.v()?new pS:new L6})())}createSyncEngine(e,n){return(function(s,o,l,c,u,h,m){const g=new cF(s,o,l,c,u,h);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ne(n);ge(Lo,"RemoteStore shutting down."),r.Ea.add(5),await _c(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ly.provider={build:()=>new ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="FirestoreClient";class bF{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=an.UNAUTHENTICATED,this.clientId=Sv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{ge(Ni,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ge(Ni,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$v(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qm(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Ni,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await UI(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function TS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IF(t);ge(Ni,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>gS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>gS(e.remoteStore,s))),t._onlineComponents=e}async function IF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Ni,"Using user provided OfflineComponentProvider");try{await qm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;nl("Error using user provided cache. Falling back to memory cache: "+n),await qm(t,new jh)}}else ge(Ni,"Using default OfflineComponentProvider"),await qm(t,new xF(void 0));return t._offlineComponents}async function rC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Ni,"Using user provided OnlineComponentProvider"),await TS(t,t._uninitializedComponentsProvider._online)):(ge(Ni,"Using default OnlineComponentProvider"),await TS(t,new ly))),t._onlineComponents}function CF(t){return rC(t).then((e=>e.syncEngine))}async function $h(t){const e=await rC(t),n=e.eventManager;return n.onListen=dF.bind(null,e.syncEngine),n.onUnlisten=pF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mF.bind(null,e.syncEngine),n}function AF(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,u,h){const m=new Yv({next:w=>{m.Nu(),l.enqueueAndForget((()=>Wv(o,g)));const _=w.docs.has(c);!_&&w.fromCache?h.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&w.fromCache&&u&&u.source==="server"?h.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(w)},error:w=>h.reject(w)}),g=new Gv(Ef(c.path),m,{includeMetadataChanges:!0,qa:!0});return Hv(o,g)})(await $h(t),t.asyncQueue,e,n,r))),r.promise}function PF(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,u,h){const m=new Yv({next:w=>{m.Nu(),l.enqueueAndForget((()=>Wv(o,g))),w.fromCache&&u.source==="server"?h.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),g=new Gv(c,m,{includeMetadataChanges:!0,qa:!0});return Hv(o,g)})(await $h(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firestore.googleapis.com",xS=!0;class bS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iC,this.ssl=xS}else this.host=e.host,this.ssl=e.ssl??xS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<a6)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new O4;switch(r.type){case"firstParty":return new B4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=SS.get(n);r&&(ge("ComponentProvider","Removing Datastore"),SS.delete(n),r.terminate())})(this),Promise.resolve()}}function RF(t,e,n,r={}){t=Rn(t,Pf);const s=Li(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(lv(`https://${c}`),uv("Firestore",!0)),o.host!==iC&&o.host!==c&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:c,ssl:s,emulatorOptions:r};if(!Ro(u,l)&&(t._setSettings(u),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=an.MOCK_USER;else{h=nb(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new an(g)}t._authCredentials=new V4(new Kb(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vc(n,yt._jsonSchema))return new yt(e,r||null,new _e(Je.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Nt("string",yt._jsonSchemaVersion),referencePath:Nt("string")};class Si extends ts{constructor(e,n,r){super(e,n,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new _e(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function bt(t,e,...n){if(t=it(t),Qb("collection","path",e),t instanceof Pf){const r=Je.fromString(e,...n);return UT(r),new Si(t,null,r)}{if(!(t instanceof yt||t instanceof Si))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return UT(r),new Si(t.firestore,null,r)}}function Ze(t,e,...n){if(t=it(t),arguments.length===1&&(e=Sv.newId()),Qb("doc","path",e),t instanceof Pf){const r=Je.fromString(e,...n);return FT(r),new yt(t,null,new _e(r))}{if(!(t instanceof yt||t instanceof Si))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return FT(r),new yt(t.firestore,t instanceof Si?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="AsyncQueue";class CS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zI(this,"async_queue_retry"),this._c=()=>{const r=Wm();r&&ge(IS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new As;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vl(e))throw e;ge(IS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",AS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=jv.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ce(47125,{Pc:AS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function AS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Vs extends Pf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new CS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CS(e),this._firestoreClient=void 0,await e}}}function kF(t,e){const n=typeof t=="object"?t:cf(),r=typeof t=="string"?t:Lh,s=uf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=Zx("firestore");o&&RF(s,...o)}return s}function Rf(t){if(t._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NF(t),t._firestoreClient}function NF(t){const e=t._freezeSettings(),n=(function(s,o,l,c){return new r3(s,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,sC(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new bF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(en.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vc(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Nt("string",Zn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xr._jsonSchemaVersion}}static fromJSON(e){if(vc(e,Xr._jsonSchema))return new Xr(e.latitude,e.longitude)}}Xr._jsonSchemaVersion="firestore/geoPoint/1.0",Xr._jsonSchema={type:Nt("string",Xr._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vc(e,Jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Jr(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:Nt("string",Jr._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=/^__.*__$/;class MF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}class oC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class Xv{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aC(this.Ac)&&DF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||If(e)}Cc(e,n,r,s=!1){return new Xv({Ac:e,methodName:n,Dc:r,path:Jt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xc(t){const e=t._freezeSettings(),n=If(t._databaseId);return new LF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lC(t,e,n,r,s,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);e0("Data must be an object, but it was:",l,r);const c=cC(r,l);let u,h;if(o.merge)u=new Un(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const w=uy(e,g,n);if(!l.contains(w))throw new fe(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);hC(m,w)||m.push(w)}u=new Un(m),h=l.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,h=l.fieldTransforms;return new MF(new An(c),u,h)}class Nf extends Sc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}class Jv extends Sc{_toFieldTransform(e){return new xI(e.path,new tc)}isEqual(e){return e instanceof Jv}}class Zv extends Sc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new sc(e.serializer,wI(e.serializer,this.Fc));return new xI(e.path,n)}isEqual(e){return e instanceof Zv&&this.Fc===e.Fc}}function OF(t,e,n,r){const s=t.Cc(1,e,n);e0("Data must be an object, but it was:",s,r);const o=[],l=An.empty();Ui(r,((u,h)=>{const m=t0(e,u,n);h=it(h);const g=s.yc(m);if(h instanceof Nf)o.push(m);else{const w=bc(h,g);w!=null&&(o.push(m),l.set(m,w))}}));const c=new Un(o);return new oC(l,c,s.fieldTransforms)}function VF(t,e,n,r,s,o){const l=t.Cc(1,e,n),c=[uy(e,r,n)],u=[s];if(o.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(uy(e,o[w])),u.push(o[w+1]);const h=[],m=An.empty();for(let w=c.length-1;w>=0;--w)if(!hC(h,c[w])){const _=c[w];let x=u[w];x=it(x);const A=l.yc(_);if(x instanceof Nf)h.push(_);else{const C=bc(x,A);C!=null&&(h.push(_),m.set(_,C))}}const g=new Un(h);return new oC(m,g,l.fieldTransforms)}function uC(t,e,n,r=!1){return bc(n,t.Cc(r?4:3,e))}function bc(t,e){if(dC(t=it(t)))return e0("Unsupported field value:",e,t),cC(t,e);if(t instanceof Sc)return(function(r,s){if(!aC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let l=0;for(const c of r){let u=bc(c,s.wc(l));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ye.fromDate(r);return{timestampValue:Uh(s.serializer,o)}}if(r instanceof Ye){const o=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uh(s.serializer,o)}}if(r instanceof Xr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:RI(s.serializer,r._byteString)};if(r instanceof yt){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Dv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Jr)return(function(l,c){return{mapValue:{fields:{[sI]:{stringValue:iI},[Oh]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Pv(c.serializer,h)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${mf(r)}`)})(t,e)}function cC(t,e){const n={};return Jb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(t,((r,s)=>{const o=bc(s,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function dC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Xr||t instanceof Zn||t instanceof yt||t instanceof Sc||t instanceof Jr)}function e0(t,e,n){if(!dC(n)||!Yb(n)){const r=mf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function uy(t,e,n){if((e=it(e))instanceof kf)return e._internalPath;if(typeof e=="string")return t0(t,e);throw Hh("Field path arguments must be of type string or ",t,!1,void 0,n)}const FF=new RegExp("[~\\*/\\[\\]]");function t0(t,e,n){if(e.search(FF)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kf(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hh(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||l)&&(u+=" (found",o&&(u+=` in field ${r}`),l&&(u+=` in document ${s}`),u+=")"),new fe(ie.INVALID_ARGUMENT,c+t+u)}function hC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Df("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UF extends n0{data(){return super.data()}}function Df(t,e){return typeof e=="string"?t0(t,e):e instanceof kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r0{}class Mf extends r0{}function Di(t,e,...n){let r=[];e instanceof r0&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((u=>u instanceof s0)).length,c=o.filter((u=>u instanceof Lf)).length;if(l>1||l>0&&c>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Lf extends Mf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lf(e,n,r)}_apply(e){const n=this._parse(e);return pC(e._query,n),new ts(e.firestore,e.converter,Zg(e._query,n))}_parse(e){const n=xc(e.firestore);return(function(o,l,c,u,h,m,g){let w;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){NS(g,m);const x=[];for(const A of g)x.push(kS(u,o,A));w={arrayValue:{values:x}}}else w=kS(u,o,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||NS(g,m),w=uC(c,l,g,m==="in"||m==="not-in");return kt.create(h,m,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ps(t,e,n){const r=e,s=Df("where",t);return Lf._create(s,r,n)}class s0 extends r0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new s0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let l=s;const c=o.getFlattenedFilters();for(const u of c)pC(l,u),l=Zg(l,u)})(e._query,n),new ts(e.firestore,e.converter,Zg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i0 extends Mf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i0(e,n)}_apply(e){const n=(function(s,o,l){if(s.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(o,l)})(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,(function(s,o){const l=s.explicitOrderBy.concat([o]);return new Bo(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function Wh(t,e="asc"){const n=e,r=Df("orderBy",t);return i0._create(r,n)}class o0 extends Mf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new o0(e,n,r)}_apply(e){return new ts(e.firestore,e.converter,Fh(e._query,this._limit,this._limitType))}}function RS(t){return o0._create("limit",t,"F")}class a0 extends Mf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new a0(e,n,r)}_apply(e){const n=zF(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(function(s,o){return new Bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)})(e._query,n))}}function BF(...t){return a0._create("startAfter",t,!1)}function zF(t,e,n,r){if(n[0]=it(n[0]),n[0]instanceof n0)return(function(o,l,c,u,h){if(!u)throw new fe(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const g of Xa(o))if(g.field.isKeyField())m.push(Vh(l,u.key));else{const w=u.data.field(g.field);if(vf(w))throw new fe(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const _=g.field.canonicalString();throw new fe(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}m.push(w)}return new ol(m,h)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=xc(t.firestore);return(function(l,c,u,h,m,g){const w=l.explicitOrderBy;if(m.length>w.length)throw new fe(ie.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let x=0;x<m.length;x++){const A=m[x];if(w[x].field.isKeyField()){if(typeof A!="string")throw new fe(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof A}`);if(!Av(l)&&A.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${A}' contains a slash.`);const C=l.path.child(Je.fromString(A));if(!_e.isDocumentKey(C))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const P=new _e(C);_.push(Vh(c,P))}else{const C=uC(u,h,A);_.push(C)}}return new ol(_,g)})(t._query,t.firestore._databaseId,s,e,n,r)}}function kS(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Av(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!_e.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vh(t,new _e(r))}if(n instanceof yt)return Vh(t,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function NS(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pC(t,e){const n=(function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jF{convertValue(e,n="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ui(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Oh].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new Jr(n)}convertGeoPoint(e){return new Xr(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=Ai(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Ke(OI(r),9688,{name:e});const s=new Ju(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return s.isEqual(n)||Ls(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class bu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Co extends n0{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Df("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Co._jsonSchemaVersion="firestore/documentSnapshot/1.0",Co._jsonSchema={type:Nt("string",Co._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class vh extends Co{data(e={}){return super.data(e)}}class Ao{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new bu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new vh(this._firestore,this._userDataWriter,r.key,r,new bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const u=new vh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new bu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const u=new vh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new bu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:$F(c.type),doc:u,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $F(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t){t=Rn(t,yt);const e=Rn(t.firestore,Vs);return AF(Rf(e),t._key).then((n=>yC(e,t,n)))}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Nt("string",Ao._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class l0 extends jF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function Zt(t){t=Rn(t,ts);const e=Rn(t.firestore,Vs),n=Rf(e),r=new l0(e);return fC(t._query),PF(n,t._query).then((s=>new Ao(e,r,t,s)))}function cy(t,e,n){t=Rn(t,yt);const r=Rn(t.firestore,Vs),s=mC(t.converter,e);return Of(r,[lC(xc(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,tr.none())])}function sr(t,e,n,...r){t=Rn(t,yt);const s=Rn(t.firestore,Vs),o=xc(s);let l;return l=typeof(e=it(e))=="string"||e instanceof kf?VF(o,"updateDoc",t._key,e,n,r):OF(o,"updateDoc",t._key,e),Of(s,[l.toMutation(t._key,tr.exists(!0))])}function Oo(t){return Of(Rn(t.firestore,Vs),[new Rv(t._key,tr.none())])}function u0(t,e){const n=Rn(t.firestore,Vs),r=Ze(t),s=mC(t.converter,e);return Of(n,[lC(xc(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then((()=>r))}function gC(t,...e){t=it(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||PS(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PS(e[r])){const u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let o,l,c;if(t instanceof yt)l=Rn(t.firestore,Vs),c=Ef(t._key.path),o={next:u=>{e[r]&&e[r](yC(l,t,u))},error:e[r+1],complete:e[r+2]};else{const u=Rn(t,ts);l=Rn(u.firestore,Vs),c=u._query;const h=new l0(l);o={next:m=>{e[r]&&e[r](new Ao(l,h,u,m))},error:e[r+1],complete:e[r+2]},fC(t._query)}return(function(h,m,g,w){const _=new Yv(w),x=new Gv(m,_,g);return h.asyncQueue.enqueueAndForget((async()=>Hv(await $h(h),x))),()=>{_.Nu(),h.asyncQueue.enqueueAndForget((async()=>Wv(await $h(h),x)))}})(Rf(l),c,s,o)}function Of(t,e){return(function(r,s){const o=new As;return r.asyncQueue.enqueueAndForget((async()=>gF(await CF(r),s,o))),o.promise})(Rf(t),e)}function yC(t,e,n){const r=n.docs.get(e._key),s=new l0(t);return new Co(t,s,e._key,r,new bu(n.hasPendingWrites,n.fromCache),e.converter)}function Fs(){return new Jv("serverTimestamp")}function DS(t){return new Zv("increment",t)}(function(e,n=!0){(function(s){gl=s})(Uo),ko(new Ii("firestore",((r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Vs(new F4(r.getProvider("auth-internal")),new z4(l,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(h.options.projectId,m)})(l,s),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Gr(MT,LT,e),Gr(MT,LT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="firebasestorage.googleapis.com",wC="storageBucket",HF=120*1e3,WF=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends es{constructor(e,n,r=0){super(Gm(e),`Firebase Storage: ${n} (${Gm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function Gm(t){return"storage/"+t}function c0(){const t="An unknown error occurred, please check the error payload for server response.";return new wt(vt.UNKNOWN,t)}function qF(t){return new wt(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function GF(t){return new wt(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function KF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(vt.UNAUTHENTICATED,t)}function QF(){return new wt(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function YF(t){return new wt(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function XF(){return new wt(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JF(){return new wt(vt.CANCELED,"User canceled the upload/download.")}function ZF(t){return new wt(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function eU(t){return new wt(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tU(){return new wt(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wC+"' property when initializing the app?")}function nU(){return new wt(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rU(){return new wt(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sU(t){return new wt(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dy(t){return new wt(vt.INVALID_ARGUMENT,t)}function EC(){return new wt(vt.APP_DELETED,"The Firebase app was deleted.")}function iU(t){return new wt(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vu(t,e){return new wt(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function yu(t){throw new wt(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(r.path==="")return r;throw eU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),u={bucket:1,path:3};function h(j){j.path_=decodeURIComponent(j.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",_=new RegExp(`^https?://${g}/${m}/b/${s}/o${w}`,"i"),x={bucket:1,path:3},A=n===vC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",P=new RegExp(`^https?://${A}/${s}/${C}`,"i"),N=[{regex:c,indices:u,postModify:o},{regex:_,indices:x,postModify:h},{regex:P,indices:{bucket:1,path:2},postModify:h}];for(let j=0;j<N.length;j++){const q=N[j],se=q.regex.exec(e);if(se){const F=se[q.indices.bucket];let b=se[q.indices.path];b||(b=""),r=new Bn(F,b),q.postModify(r);break}}if(r==null)throw ZF(e);return r}}class oU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e,n){let r=1,s=null,o=null,l=!1,c=0;function u(){return c===2}let h=!1;function m(...C){h||(h=!0,e.apply(null,C))}function g(C){s=setTimeout(()=>{s=null,t(_,u())},C)}function w(){o&&clearTimeout(o)}function _(C,...P){if(h){w();return}if(C){w(),m.call(null,C,...P);return}if(u()||l){w(),m.call(null,C,...P);return}r<64&&(r*=2);let N;c===1?(c=2,N=0):N=(r+Math.random())*1e3,g(N)}let x=!1;function A(C){x||(x=!0,w(),!h&&(s!==null?(C||(c=2),clearTimeout(s),g(0)):C||(c=1)))}return g(0),o=setTimeout(()=>{l=!0,A(!0)},n),A}function lU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t){return t!==void 0}function cU(t){return typeof t=="object"&&!Array.isArray(t)}function d0(t){return typeof t=="string"||t instanceof String}function MS(t){return h0()&&t instanceof Blob}function h0(){return typeof Blob<"u"}function LS(t,e,n,r){if(r<e)throw dy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _C(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Po;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Po||(Po={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n,r,s,o,l,c,u,h,m,g,w=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=g,this.retry=w,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,A)=>{this.resolve_=x,this.reject_=A,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Zd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const u=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Po.NO_ERROR,u=o.getStatus();if(!c||dU(u,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Po.ABORT;r(!1,new Zd(!1,null,m));return}const h=this.successCodes_.indexOf(u)!==-1;r(!0,new Zd(h,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());uU(u)?o(u):o()}catch(u){l(u)}else if(c!==null){const u=c0();u.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,u)):l(u)}else if(s.canceled){const u=this.appDelete_?EC():JF();l(u)}else{const u=XF();l(u)}};this.canceled_?n(!1,new Zd(!1,null,!0)):this.backoffId_=aU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yU(t,e,n,r,s,o,l=!0,c=!1){const u=_C(t.urlParams),h=t.url+u,m=Object.assign({},t.headers);return mU(m,e),fU(m,n),pU(m,o),gU(m,r),new hU(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wU(...t){const e=vU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(h0())return new Blob(t);throw new wt(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function EU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t){if(typeof atob>"u")throw sU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Km{constructor(e,n){this.data=e,this.contentType=n||null}}function TU(t,e){switch(t){case jr.RAW:return new Km(TC(e));case jr.BASE64:case jr.BASE64URL:return new Km(SC(t,e));case jr.DATA_URL:return new Km(xU(e),bU(e))}throw c0()}function TC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function SU(t){let e;try{e=decodeURIComponent(t)}catch{throw Vu(jr.DATA_URL,"Malformed data URL.")}return TC(e)}function SC(t,e){switch(t){case jr.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Vu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case jr.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Vu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_U(e)}catch(s){throw s.message.includes("polyfill")?s:Vu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class xC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vu(jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=IU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function xU(t){const e=new xC(t);return e.base64?SC(jr.BASE64,e.rest):SU(e.rest)}function bU(t){return new xC(t).contentType}function IU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){let r=0,s="";MS(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(MS(this.data_)){const r=this.data_,s=EU(r,e,n);return s===null?null:new mi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new mi(r,!0)}}static getBlob(...e){if(h0()){const n=e.map(r=>r instanceof mi?r.data_:r);return new mi(wU.apply(null,n))}else{const n=e.map(l=>d0(l)?TU(jr.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[o++]=l[c]}),new mi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){let e;try{e=JSON.parse(t)}catch{return null}return cU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function AU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function IC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t,e){return e}class mn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||PU}}let eh=null;function RU(t){return!d0(t)||t.length<2?t:IC(t)}function CC(){if(eh)return eh;const t=[];t.push(new mn("bucket")),t.push(new mn("generation")),t.push(new mn("metageneration")),t.push(new mn("name","fullPath",!0));function e(o,l){return RU(l)}const n=new mn("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const s=new mn("size");return s.xform=r,t.push(s),t.push(new mn("timeCreated")),t.push(new mn("updated")),t.push(new mn("md5Hash",null,!0)),t.push(new mn("cacheControl",null,!0)),t.push(new mn("contentDisposition",null,!0)),t.push(new mn("contentEncoding",null,!0)),t.push(new mn("contentLanguage",null,!0)),t.push(new mn("contentType",null,!0)),t.push(new mn("metadata","customMetadata",!0)),eh=t,eh}function kU(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new Bn(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function NU(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return kU(r,t),r}function AC(t,e,n){const r=bC(e);return r===null?null:NU(t,r,n)}function DU(t,e,n,r){const s=bC(e);if(s===null||!d0(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(h=>{const m=t.bucket,g=t.fullPath,w="/b/"+l(m)+"/o/"+l(g),_=Vf(w,n,r),x=_C({alt:"media",token:h});return _+x})[0]}function MU(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class f0{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){if(!t)throw c0()}function LU(t,e){function n(r,s){const o=AC(t,s,e);return PC(o!==null),o}return n}function OU(t,e){function n(r,s){const o=AC(t,s,e);return PC(o!==null),DU(o,s,t.host,t._protocol)}return n}function RC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=QF():s=KF():n.getStatus()===402?s=GF(t.bucket):n.getStatus()===403?s=YF(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function kC(t){const e=RC(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=qF(t.path)),o.serverResponse=s.serverResponse,o}return n}function VU(t,e,n){const r=e.fullServerUrl(),s=Vf(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new f0(s,o,OU(t,n),l);return c.errorHandler=kC(e),c}function FU(t,e){const n=e.fullServerUrl(),r=Vf(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function l(u,h){}const c=new f0(r,s,l,o);return c.successCodes=[200,204],c.errorHandler=kC(e),c}function UU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function BU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=UU(null,e)),r}function zU(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let N="";for(let j=0;j<2;j++)N=N+Math.random().toString().slice(2);return N}const u=c();l["Content-Type"]="multipart/related; boundary="+u;const h=BU(e,r,s),m=MU(h,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+u+`\r
Content-Type: `+h.contentType+`\r
\r
`,w=`\r
--`+u+"--",_=mi.getBlob(g,r,w);if(_===null)throw nU();const x={name:h.fullPath},A=Vf(o,t.host,t._protocol),C="POST",P=t.maxUploadRetryTime,R=new f0(A,C,LU(t,n),P);return R.urlParams=x,R.headers=l,R.body=_.uploadData(),R.errorHandler=RC(e),R}class jU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Po.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Po.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Po.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw yu("cannot .send() more than once");if(Li(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $U extends jU{initXhr(){this.xhr_.responseType="text"}}function p0(){return new $U}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vo(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IC(this._location.path)}get storage(){return this._service}get parent(){const e=CU(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new Vo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iU(e)}}function HU(t,e,n){t._throwIfRoot("uploadBytes");const r=zU(t.storage,t._location,CC(),new mi(e,!0),n);return t.storage.makeRequestWithTokens(r,p0).then(s=>({metadata:s,ref:t}))}function WU(t){t._throwIfRoot("getDownloadURL");const e=VU(t.storage,t._location,CC());return t.storage.makeRequestWithTokens(e,p0).then(n=>{if(n===null)throw rU();return n})}function qU(t){t._throwIfRoot("deleteObject");const e=FU(t.storage,t._location);return t.storage.makeRequestWithTokens(e,p0)}function GU(t,e){const n=AU(t._location.path,e),r=new Bn(t._location.bucket,n);return new Vo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){return/^[A-Za-z]+:\/\//.test(t)}function QU(t,e){return new Vo(t,e)}function NC(t,e){if(t instanceof m0){const n=t;if(n._bucket==null)throw tU();const r=new Vo(n,n._bucket);return e!=null?NC(r,e):r}else return e!==void 0?GU(t,e):t}function YU(t,e){if(e&&KU(e)){if(t instanceof m0)return QU(t,e);throw dy("To use ref(service, url), the first argument must be a Storage instance.")}else return NC(t,e)}function OS(t,e){const n=e?.[wC];return n==null?null:Bn.makeFromBucketSpec(n,t)}function XU(t,e,n,r={}){t.host=`${e}:${n}`;const s=Li(e);s&&(lv(`https://${t.host}/b`),uv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:nb(o,t.app.options.projectId))}class m0{constructor(e,n,r,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=vC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HF,this._maxUploadRetryTime=WF,this._requests=new Set,s!=null?this._bucket=Bn.makeFromBucketSpec(s,this._host):this._bucket=OS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=OS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vo(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new oU(EC());{const l=yU(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const VS="@firebase/storage",FS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="storage";function MC(t,e,n){return t=it(t),HU(t,e,n)}function LC(t){return t=it(t),WU(t)}function OC(t){return t=it(t),qU(t)}function qh(t,e){return t=it(t),YU(t,e)}function JU(t=cf(),e){t=it(t);const r=uf(t,DC).getImmediate({identifier:e}),s=Zx("storage");return s&&ZU(r,...s),r}function ZU(t,e,n,r={}){XU(t,e,n,r)}function e5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new m0(n,r,s,e,Uo)}function t5(){ko(new Ii(DC,e5,"PUBLIC").setMultipleInstances(!0)),Gr(VS,FS,""),Gr(VS,FS,"esm2020")}t5();const n5={apiKey:"AIzaSyCcMTrPRrddN84zbsoZZtKQ068wqOYJelY",authDomain:"myamravati-market-17248.firebaseapp.com",projectId:"myamravati-market-17248",storageBucket:"myamravati-market-17248.firebasestorage.app",messagingSenderId:"390266313293",appId:"1:390266313293:web:fe9ecb9eae7bcd05361a04"},g0=uO().length?cf():ib(n5),Ge=M4(g0),Re=kF(g0),Gh=JU(g0);let r5={data:""},s5=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||r5,i5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,o5=/\/\*[^]*?\*\/|  +/g,US=/\n+/g,gi=(t,e)=>{let n="",r="",s="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":r+=o[1]=="f"?gi(l,o):o+"{"+gi(l,o[1]=="k"?"":e)+"}":typeof l=="object"?r+=gi(l,e?e.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=gi.p?gi.p(o,l):o+":"+l+";")}return n+(e&&s?e+"{"+s+"}":s)+r},_s={},VC=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+VC(t[n]);return e}return t},a5=(t,e,n,r,s)=>{let o=VC(t),l=_s[o]||(_s[o]=(u=>{let h=0,m=11;for(;h<u.length;)m=101*m+u.charCodeAt(h++)>>>0;return"go"+m})(o));if(!_s[l]){let u=o!==t?t:(h=>{let m,g,w=[{}];for(;m=i5.exec(h.replace(o5,""));)m[4]?w.shift():m[3]?(g=m[3].replace(US," ").trim(),w.unshift(w[0][g]=w[0][g]||{})):w[0][m[1]]=m[2].replace(US," ").trim();return w[0]})(t);_s[l]=gi(s?{["@keyframes "+l]:u}:u,n?"":"."+l)}let c=n&&_s.g?_s.g:null;return n&&(_s.g=_s[l]),((u,h,m,g)=>{g?h.data=h.data.replace(g,u):h.data.indexOf(u)===-1&&(h.data=m?u+h.data:h.data+u)})(_s[l],e,r,c),l},l5=(t,e,n)=>t.reduce((r,s,o)=>{let l=e[o];if(l&&l.call){let c=l(n),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=u?"."+u:c&&typeof c=="object"?c.props?"":gi(c,""):c===!1?"":c}return r+s+(l??"")},"");function Ff(t){let e=this||{},n=t.call?t(e.p):t;return a5(n.unshift?n.raw?l5(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,s5(e.target),e.g,e.o,e.k)}let FC,hy,fy;Ff.bind({g:1});let Us=Ff.bind({k:1});function u5(t,e,n,r){gi.p=e,FC=t,hy=n,fy=r}function zi(t,e){let n=this||{};return function(){let r=arguments;function s(o,l){let c=Object.assign({},o),u=c.className||s.className;n.p=Object.assign({theme:hy&&hy()},c),n.o=/ *go\d+/.test(u),c.className=Ff.apply(n,r)+(u?" "+u:"");let h=t;return t[0]&&(h=c.as||t,delete c.as),fy&&h[0]&&fy(c),FC(h,c)}return s}}var c5=t=>typeof t=="function",Kh=(t,e)=>c5(t)?t(e):t,d5=(()=>{let t=0;return()=>(++t).toString()})(),UC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),h5=20,y0="default",BC=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return BC(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},wh=[],zC={toasts:[],pausedAt:void 0,settings:{toastLimit:h5}},$r={},jC=(t,e=y0)=>{$r[e]=BC($r[e]||zC,t),wh.forEach(([n,r])=>{n===e&&r($r[e])})},$C=t=>Object.keys($r).forEach(e=>jC(t,e)),f5=t=>Object.keys($r).find(e=>$r[e].toasts.some(n=>n.id===t)),Uf=(t=y0)=>e=>{jC(e,t)},p5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},m5=(t={},e=y0)=>{let[n,r]=k.useState($r[e]||zC),s=k.useRef($r[e]);k.useEffect(()=>(s.current!==$r[e]&&r($r[e]),wh.push([e,r]),()=>{let l=wh.findIndex(([c])=>c===e);l>-1&&wh.splice(l,1)}),[e]);let o=n.toasts.map(l=>{var c,u,h;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((c=t[l.type])==null?void 0:c.removeDelay)||t?.removeDelay,duration:l.duration||((u=t[l.type])==null?void 0:u.duration)||t?.duration||p5[l.type],style:{...t.style,...(h=t[l.type])==null?void 0:h.style,...l.style}}});return{...n,toasts:o}},g5=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||d5()}),Ic=t=>(e,n)=>{let r=g5(e,t,n);return Uf(r.toasterId||f5(r.id))({type:2,toast:r}),r.id},lt=(t,e)=>Ic("blank")(t,e);lt.error=Ic("error");lt.success=Ic("success");lt.loading=Ic("loading");lt.custom=Ic("custom");lt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Uf(e)(n):$C(n)};lt.dismissAll=t=>lt.dismiss(void 0,t);lt.remove=(t,e)=>{let n={type:4,toastId:t};e?Uf(e)(n):$C(n)};lt.removeAll=t=>lt.remove(void 0,t);lt.promise=(t,e,n)=>{let r=lt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?Kh(e.success,s):void 0;return o?lt.success(o,{id:r,...n,...n?.success}):lt.dismiss(r),s}).catch(s=>{let o=e.error?Kh(e.error,s):void 0;o?lt.error(o,{id:r,...n,...n?.error}):lt.dismiss(r)}),t};var y5=1e3,v5=(t,e="default")=>{let{toasts:n,pausedAt:r}=m5(t,e),s=k.useRef(new Map).current,o=k.useCallback((g,w=y5)=>{if(s.has(g))return;let _=setTimeout(()=>{s.delete(g),l({type:4,toastId:g})},w);s.set(g,_)},[]);k.useEffect(()=>{if(r)return;let g=Date.now(),w=n.map(_=>{if(_.duration===1/0)return;let x=(_.duration||0)+_.pauseDuration-(g-_.createdAt);if(x<0){_.visible&&lt.dismiss(_.id);return}return setTimeout(()=>lt.dismiss(_.id,e),x)});return()=>{w.forEach(_=>_&&clearTimeout(_))}},[n,r,e]);let l=k.useCallback(Uf(e),[e]),c=k.useCallback(()=>{l({type:5,time:Date.now()})},[l]),u=k.useCallback((g,w)=>{l({type:1,toast:{id:g,height:w}})},[l]),h=k.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),m=k.useCallback((g,w)=>{let{reverseOrder:_=!1,gutter:x=8,defaultPosition:A}=w||{},C=n.filter(N=>(N.position||A)===(g.position||A)&&N.height),P=C.findIndex(N=>N.id===g.id),R=C.filter((N,j)=>j<P&&N.visible).length;return C.filter(N=>N.visible).slice(..._?[R+1]:[0,R]).reduce((N,j)=>N+(j.height||0)+x,0)},[n]);return k.useEffect(()=>{n.forEach(g=>{if(g.dismissed)o(g.id,g.removeDelay);else{let w=s.get(g.id);w&&(clearTimeout(w),s.delete(g.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:u,startPause:c,endPause:h,calculateOffset:m}}},w5=Us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,E5=Us`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_5=Us`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,T5=zi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${E5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,S5=Us`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,x5=zi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${S5} 1s linear infinite;
`,b5=Us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,I5=Us`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,C5=zi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${b5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${I5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,A5=zi("div")`
  position: absolute;
`,P5=zi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,R5=Us`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,k5=zi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${R5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,N5=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?k.createElement(k5,null,e):e:n==="blank"?null:k.createElement(P5,null,k.createElement(x5,{...r}),n!=="loading"&&k.createElement(A5,null,n==="error"?k.createElement(T5,{...r}):k.createElement(C5,{...r})))},D5=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,M5=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,L5="0%{opacity:0;} 100%{opacity:1;}",O5="0%{opacity:1;} 100%{opacity:0;}",V5=zi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,F5=zi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,U5=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=UC()?[L5,O5]:[D5(n),M5(n)];return{animation:e?`${Us(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Us(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},B5=k.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?U5(t.position||e||"top-center",t.visible):{opacity:0},o=k.createElement(N5,{toast:t}),l=k.createElement(F5,{...t.ariaProps},Kh(t.message,t));return k.createElement(V5,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:o,message:l}):k.createElement(k.Fragment,null,o,l))});u5(k.createElement);var z5=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let o=k.useCallback(l=>{if(l){let c=()=>{let u=l.getBoundingClientRect().height;r(t,u)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return k.createElement("div",{ref:o,className:e,style:n},s)},j5=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:UC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},$5=Ff`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,th=16,HC=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:o,containerStyle:l,containerClassName:c})=>{let{toasts:u,handlers:h}=v5(n,o);return k.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:th,left:th,right:th,bottom:th,pointerEvents:"none",...l},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(m=>{let g=m.position||e,w=h.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),_=j5(g,w);return k.createElement(z5,{id:m.id,key:m.id,onHeightUpdate:h.updateHeight,className:m.visible?$5:"",style:_},m.type==="custom"?Kh(m.message,m):s?s(m):k.createElement(B5,{toast:m,position:g}))}))},Ie=lt;function H5(){const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,o]=k.useState(!1),[l,c]=k.useState(""),u=ir(),h=new zr,m=new Ss,g=async x=>{if(x.preventDefault(),!t||!n){Ie.error(" Please fill all fields");return}o(!0);try{await _V(Ge,t,n),Ie.success(" Logged in successfully!"),u("/dashboard")}catch(A){console.error(A),c("Invalid credentials. Please try again."),Ie.error(" Invalid email or password")}o(!1)},w=async()=>{o(!0);try{await qg(Ge,h),Ie.success(" Logged in with Google!"),u("/dashboard")}catch(x){console.error(x),Ie.error(" Google login failed")}o(!1)},_=async()=>{o(!0);try{await qg(Ge,m),Ie.success(" Logged in with Facebook!"),u("/dashboard")}catch(x){console.error(x),Ie.error(" Facebook login failed")}o(!1)};return y.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4"},y.createElement("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 sm:p-8"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6"},"Welcome Back "),l&&y.createElement("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-2"},l),y.createElement("form",{onSubmit:g,className:"space-y-4"},y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email Address"),y.createElement("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:t,onChange:x=>e(x.target.value),placeholder:"you@example.com",required:!0})),y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),y.createElement("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:n,onChange:x=>r(x.target.value),placeholder:"",required:!0})),y.createElement("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 rounded-lg transition duration-200 disabled:opacity-60"},s?"Logging in...":"Login")),y.createElement("div",{className:"flex items-center my-6"},y.createElement("div",{className:"flex-grow border-t border-gray-300"}),y.createElement("span",{className:"mx-3 text-sm text-gray-500"},"or"),y.createElement("div",{className:"flex-grow border-t border-gray-300"})),y.createElement("div",{className:"flex flex-col space-y-3"},y.createElement("button",{onClick:w,className:"flex items-center justify-center w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition"},y.createElement("img",{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"),y.createElement("button",{onClick:_,className:"flex items-center justify-center w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition"},y.createElement("img",{src:"https://www.svgrepo.com/show/303145/facebook-icon-logo.svg",alt:"Facebook",className:"w-5 h-5 mr-2"}),"Continue with Facebook")),y.createElement("p",{className:"mt-6 text-sm text-gray-600 text-center"},"Dont have an account?"," ",y.createElement(Le,{to:"/signup",className:"text-blue-600 hover:underline font-medium"},"Sign up"))))}function W5(){const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,o]=k.useState(""),[l,c]=k.useState(!1),u=ir(),h=new zr,m=async w=>{w.preventDefault(),o(""),c(!0);try{const x=(await EV(Ge,t,n)).user;await cy(Ze(Re,"users",x.uid),{email:x.email,role:"customer",createdAt:Fs()}),Ie.success(" Signup successful!"),u("/dashboard")}catch(_){console.error(" Signup error:",_),o(_.message),Ie.error(" Signup failed! "+_.message)}finally{c(!1)}},g=async()=>{o(""),c(!0);try{const _=(await qg(Ge,h)).user,x=Ze(Re,"users",_.uid);(await ns(x)).exists()||await cy(x,{email:_.email,name:_.displayName,photoURL:_.photoURL,role:"customer",createdAt:Fs()}),Ie.success(" Signed in with Google!"),u("/dashboard")}catch(w){console.error(" Google signup error:",w),o(w.message),Ie.error("Google sign-in failed: "+w.message)}finally{c(!1)}};return y.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4"},y.createElement("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 sm:p-8"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6"},"Create an Account "),s&&y.createElement("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-2"},s),y.createElement("form",{onSubmit:m,className:"space-y-4"},y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email Address"),y.createElement("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:t,onChange:w=>e(w.target.value),placeholder:"you@example.com",required:!0})),y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),y.createElement("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:n,onChange:w=>r(w.target.value),placeholder:"",required:!0})),y.createElement("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 rounded-lg transition duration-200 disabled:opacity-60"},l?"Signing up...":"Sign Up")),y.createElement("div",{className:"flex items-center my-4"},y.createElement("div",{className:"flex-grow h-px bg-gray-200"}),y.createElement("span",{className:"text-gray-500 text-sm mx-3"},"OR"),y.createElement("div",{className:"flex-grow h-px bg-gray-200"})),y.createElement("button",{onClick:g,disabled:l,className:"w-full border border-gray-300 flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-50 transition disabled:opacity-60"},y.createElement("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),y.createElement("span",{className:"text-gray-700 font-medium text-sm"},"Continue with Google")),y.createElement("p",{className:"mt-4 text-sm text-gray-600 text-center"},"Already have an account?"," ",y.createElement(Le,{to:"/login",className:"text-blue-600 hover:underline font-medium"},"Login"))))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function q5(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(m){try{h(r.next(m))}catch(g){l(g)}}function u(m){try{h(r.throw(m))}catch(g){l(g)}}function h(m){m.done?o(m.value):s(m.value).then(c,u)}h((r=r.apply(t,[])).next())})}function G5(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(m){return u([h,m])}}function u(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,s=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(m){h=[6,m],s=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qa=function(){return qa=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qa.apply(this,arguments)},WC=function(t){return{loading:t==null,value:t}},K5=function(){return function(t,e){switch(e.type){case"error":return qa(qa({},t),{error:e.error,loading:!1,value:void 0});case"reset":return WC(e.defaultValue);case"value":return qa(qa({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Q5=(function(t){var e=t?t():void 0,n=k.useReducer(K5(),WC(e)),r=n[0],s=n[1],o=k.useCallback(function(){var u=t?t():void 0;s({type:"reset",defaultValue:u})},[t]),l=k.useCallback(function(u){s({type:"error",error:u})},[]),c=k.useCallback(function(u){s({type:"value",value:u})},[]);return k.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:l,setValue:c,value:r.value}},[r.error,r.loading,o,l,c,r.value])}),v0=(function(t,e){var n=Q5(function(){return t.currentUser}),r=n.error,s=n.loading,o=n.setError,l=n.setValue,c=n.value;return k.useEffect(function(){var u=hf(t,function(h){return q5(void 0,void 0,void 0,function(){var m;return G5(this,function(g){switch(g.label){case 0:return[3,4];case 1:return g.trys.push([1,3,,4]),[4,e.onUserChanged(h)];case 2:return g.sent(),[3,4];case 3:return m=g.sent(),o(m),[3,4];case 4:return l(h),[2]}})})},o);return function(){u()}},[t]),[c,s,r]});const Y5=[{price:49,days:7,label:"49  7 days"},{price:99,days:15,label:"99  15 days"},{price:199,days:30,label:"199  30 days"}];function X5(){const[t]=v0(Ge),[e,n]=k.useState([]),[r,s]=k.useState(null),[o,l]=k.useState(!1),[c,u]=k.useState(!0),h=async()=>{if(t){u(!0);try{const _=Di(bt(Re,"products"),Ps("userId","==",t.uid)),A=(await Zt(_)).docs.map(C=>({id:C.id,...C.data()}));n(A)}catch(_){console.error(_),Ie.error("Failed to load your products.")}finally{u(!1)}}};k.useEffect(()=>{h()},[t]);const m=async _=>{if(window.confirm("Delete this product permanently?"))try{_.imageUrls?.[0]&&await OC(qh(Gh,_.imageUrls[0])),await Oo(Ze(Re,"products",_.id)),n(x=>x.filter(A=>A.id!==_.id)),Ie.success("Product deleted")}catch{Ie.error("Failed to delete product")}},g=async _=>{try{await sr(Ze(Re,"products",_),{featuredRequest:!0,featured:!1}),Ie.success("Featured request sent"),h()}catch{Ie.error("Failed to request featured")}},w=async _=>{try{await sr(Ze(Re,"products",r),{isPromoted:!0,promotionPlan:_.label,promotionPrice:_.price,promotionExpiresAt:Ye.fromDate(new Date(Date.now()+_.days*864e5))}),Ie.success(`Promoted for ${_.days} days`),h()}catch{Ie.error("Promotion failed")}finally{l(!1),s(null)}};return y.createElement("main",{className:"max-w-7xl mx-auto px-4 py-6"},y.createElement("div",{className:"text-center mb-8"},y.createElement("h1",{className:"text-2xl sm:text-3xl font-bold"}," My Dashboard"),y.createElement("p",{className:"text-gray-600 mt-1"},t?.email),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Total products: ",e.length)),c&&y.createElement("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6"},Array.from({length:3}).map((_,x)=>y.createElement("div",{key:x,className:"h-72 bg-gray-200 rounded-xl animate-pulse"}))),!c&&e.length===0&&y.createElement("div",{className:"text-center bg-white rounded-xl p-10 shadow-sm"},y.createElement("div",{className:"text-5xl mb-4"},""),y.createElement("h2",{className:"text-lg font-semibold"},"No products yet"),y.createElement("p",{className:"text-gray-500 mt-1"},"Start selling by adding your first product."),y.createElement(Le,{to:"/add-product",className:"inline-block mt-5 bg-blue-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-blue-700"}," Add Product")),!c&&e.length>0&&y.createElement("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6"},e.map(_=>(_.isPromoted&&_.promotionExpiresAt?.toDate()>new Date,y.createElement("div",{key:_.id,className:"bg-white rounded-xl shadow-sm hover:shadow-md transition flex flex-col"},y.createElement("img",{src:_.imageUrls?.[0]||"/placeholder.png",alt:_.title,className:"h-48 w-full object-cover rounded-t-xl"}),y.createElement("div",{className:"p-4 flex flex-col flex-1"},y.createElement("h3",{className:"font-semibold line-clamp-1"},_.title),y.createElement("p",{className:"text-green-600 font-bold mt-1"},"",_.price),y.createElement("p",{className:"text-xs text-gray-500 mt-1"}," ",_.location),y.createElement("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2"},_.description),y.createElement("div",{className:"mt-3"},!_.approved&&y.createElement("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-3 py-1 rounded"}," Pending approval"),_.approved&&!_.promoted&&y.createElement("span",{className:"text-xs bg-green-100 text-green-700 px-3 py-1 rounded"}," Live"),_.approved&&_.promoted&&y.createElement("span",{className:"text-xs bg-blue-100 text-blue-700 px-3 py-1 rounded"}," Promoted")),y.createElement("div",{className:"grid grid-cols-2 gap-2 mt-4"},y.createElement(Le,{to:`/edit/${_.id}`,className:"text-center bg-yellow-400 hover:bg-yellow-500 text-white py-2 rounded-lg text-sm"},"Edit"),y.createElement("button",{onClick:()=>m(_),className:"bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm"},"Delete"),_.featured?y.createElement("span",{className:"col-span-2 text-center bg-green-500 text-white py-2 rounded-lg text-sm"}," Featured"):_.featuredRequest?y.createElement("span",{className:"col-span-2 text-center bg-yellow-200 text-gray-800 py-2 rounded-lg text-sm"}," Featured pending"):y.createElement("button",{onClick:()=>g(_.id),className:"col-span-2 border border-yellow-400 text-yellow-600 hover:bg-yellow-50 py-2 rounded-lg text-sm"}," Request Featured"),y.createElement("button",{onClick:()=>{s(_.id),l(!0)},className:"col-span-2 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg text-sm"}," Promote Product"))))))),o&&y.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},y.createElement("div",{className:"bg-white rounded-xl p-6 w-80"},y.createElement("h3",{className:"font-semibold text-lg mb-4"},"Choose Promotion Plan"),y.createElement("div",{className:"space-y-3"},Y5.map(_=>y.createElement("button",{key:_.label,onClick:()=>w(_),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg"},_.label))),y.createElement("button",{onClick:()=>l(!1),className:"mt-4 w-full bg-gray-200 hover:bg-gray-300 py-2 rounded-lg"},"Cancel"))))}const J5=async(t,e)=>{const n=[];for(const r of t){const s=`${Date.now()}_${r.name}`,o=qh(Gh,`productImages/${e}/${s}`),l=await MC(o,r),c=await LC(l.ref);n.push(c)}return n},Z5=()=>{const[t,e]=k.useState({title:"",description:"",price:"",category:"Books & Notes",location:"",sellerPhone:""}),[n,r]=k.useState([]),[s,o]=k.useState([]),[l,c]=k.useState(!1),u=ir(),h=3;k.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(async x=>{try{const{latitude:A,longitude:C}=x.coords,R=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${A}&lon=${C}`)).json(),N=R.address?.village||R.address?.city||R.address?.town||"";N&&e(j=>({...j,location:N}))}catch{}})},[]);const m=x=>{e(A=>({...A,[x.target.name]:x.target.value}))},g=x=>{const A=Array.from(x.target.files);if(s.forEach(URL.revokeObjectURL),A.length>6){Ie.error("You can upload maximum 6 images");return}r(A),o(A.map(C=>URL.createObjectURL(C)))},w=x=>{URL.revokeObjectURL(s[x]),r(n.filter((A,C)=>C!==x)),o(s.filter((A,C)=>C!==x))},_=async x=>{if(x.preventDefault(),!Ge.currentUser){Ie.error("Please login first");return}if(!t.title||!t.description||!t.price){Ie.error("Please fill all required fields");return}if(n.length===0){Ie.error("Please upload at least one image");return}c(!0);try{const A=Di(bt(Re,"products"),Ps("userId","==",Ge.currentUser.uid)),C=await Zt(A),P=new Date;if(P.setHours(0,0,0,0),C.docs.filter(j=>{const q=j.data().createdAt?.toDate?.();return q&&q>=P}).length>=h){Ie.error("Daily limit reached (3 products per day)"),c(!1);return}const N=await J5(n,Ge.currentUser.uid);await u0(bt(Re,"products"),{title:t.title.trim(),description:t.description.trim(),price:parseFloat(t.price),category:t.category,location:t.location,sellerPhone:t.sellerPhone||null,imageUrls:N,userId:Ge.currentUser.uid,userEmail:Ge.currentUser.email,approved:!1,promoted:!1,promotionExpiresAt:null,createdAt:Fs(),createdAtClient:Ye.now()}),Ie.success("Product added successfully "),s.forEach(URL.revokeObjectURL),u("/dashboard")}catch(A){console.error(A),Ie.error("Failed to add product. Try again.")}finally{c(!1)}};return y.createElement("div",{className:"min-h-screen bg-gray-100 flex justify-center px-4 py-10"},y.createElement("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-lg p-6 sm:p-8"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center"}," Add New Product"),y.createElement("p",{className:"text-center text-sm text-gray-500 mt-1"},"Post your product for Amravati buyers"),y.createElement("form",{onSubmit:_,className:"space-y-5 mt-6"},y.createElement("input",{name:"title",value:t.title,onChange:m,placeholder:"Product title",className:"w-full px-4 py-3 border rounded-lg",required:!0}),y.createElement("textarea",{name:"description",value:t.description,onChange:m,placeholder:"Product description",rows:4,className:"w-full px-4 py-3 border rounded-lg",required:!0}),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},y.createElement("input",{name:"price",type:"number",value:t.price,onChange:m,placeholder:"Price ",className:"px-4 py-3 border rounded-lg",required:!0}),y.createElement("input",{name:"location",value:t.location,onChange:m,placeholder:"Location",className:"px-4 py-3 border rounded-lg",required:!0})),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},y.createElement("select",{name:"category",value:t.category,onChange:m,className:"px-4 py-3 border rounded-lg"},y.createElement("option",null,"Books & Notes"),y.createElement("option",null,"Handmade Items"),y.createElement("option",null,"Homemade Food"),y.createElement("option",null,"Second-hand Items"),y.createElement("option",null,"New Items"),y.createElement("option",null,"From Shop")),y.createElement("input",{name:"sellerPhone",value:t.sellerPhone,onChange:m,placeholder:"WhatsApp number (optional)",className:"px-4 py-3 border rounded-lg"})),y.createElement("div",null,y.createElement("p",{className:"text-sm font-medium mb-2"},"Product images (max 6)"),y.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:g,className:"w-full border rounded-lg px-3 py-2"}),s.length>0&&y.createElement("div",{className:"grid grid-cols-3 gap-3 mt-4"},s.map((x,A)=>y.createElement("div",{key:A,className:"relative"},y.createElement("img",{src:x,className:"h-28 w-full object-cover rounded-lg",alt:""}),y.createElement("button",{type:"button",onClick:()=>w(A),className:"absolute top-1 right-1 bg-red-600 text-white text-xs px-2 rounded-full"},""))))),y.createElement("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded-lg"}," Buyers will contact you via secure in-app chat. Your phone number is not shown publicly."),y.createElement("button",{disabled:l,className:`w-full py-3 rounded-xl text-white font-semibold ${l?"bg-gray-400":"bg-green-600 hover:bg-green-700"}`},l?"Posting...":"Post Product"))))};function e9(t){return!t||isNaN(t)?"Price not set":`${Number(t).toLocaleString("en-IN")}`}function t9(t){return t?Array.isArray(t.imageUrls)&&t.imageUrls.length>0?t.imageUrls[0]:t.imageUrl?t.imageUrl:"/placeholder.png":"/placeholder.png"}const n9=({filled:t=!1,size:e=20})=>t?y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"red",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M12 21s-6-4.35-9-8.25S-1 4.5 4.5 3 12 9 12 9s3.75-6 7.5-6 6.75 3 3 9.75S12 21 12 21z"})):y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"red",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M20.8 4.6c-1.8-1.8-4.7-1.8-6.5 0L12 6.9l-2.3-2.3c-1.8-1.8-4.7-1.8-6.5 0s-1.8 4.7 0 6.5L12 21l8.8-8.8c1.7-1.8 1.7-4.7 0-6.5z"})),r9=({size:t=18})=>y.createElement("svg",{width:t,height:t,fill:"gold",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.77 5.82 22 7 14.14l-5-4.87 6-.91L12 2z"})),qC=({product:t,onToggleFavorite:e})=>{if(!t)return null;const{id:n,title:r,price:s,location:o,promoted:l,isFavorite:c=!1}=t,u=t9(t),h=r||"Untitled product",m=s!=null?e9(s):"Price not set";return y.createElement(yi.article,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.01},className:"bg-white rounded-xl shadow-sm hover:shadow-md transition overflow-hidden"},y.createElement("div",{className:"relative"},l&&y.createElement("span",{className:"absolute top-2 left-2 z-10 flex items-center gap-1 text-xs bg-yellow-300 px-2 py-1 rounded-full font-medium shadow-sm"},y.createElement(r9,{size:12}),"Promoted"),y.createElement("button",{type:"button",onClick:g=>{g.preventDefault(),g.stopPropagation(),e(n)},"aria-label":"Toggle wishlist",className:"absolute top-2 right-2 z-10 p-2 bg-white/90 rounded-full shadow hover:bg-white transition"},y.createElement(n9,{filled:c,size:18})),y.createElement(Le,{to:`/product/${n}`},y.createElement("div",{className:"w-full aspect-[4/3] bg-gray-100"},y.createElement("img",{src:u,alt:h,loading:"lazy",className:"w-full h-full object-cover"})))),y.createElement(Le,{to:`/product/${n}`,className:"block p-3"},y.createElement("div",{className:"text-base font-bold text-green-600"},m),y.createElement("div",{className:"text-xs text-gray-500 mt-0.5"},o),y.createElement("h3",{className:"mt-1 text-sm font-semibold line-clamp-2"},h)))},BS=({id:t,locations:e=[],categories:n=[],valueLocation:r="",onChangeLocation:s=()=>{},valueCategory:o="",onChangeCategory:l=()=>{},onClear:c=()=>{}})=>y.createElement("div",{id:t,className:"bg-white rounded-lg p-3 shadow-sm"},y.createElement("div",{className:"mb-4 flex items-center justify-between"},y.createElement("h4",{className:"font-semibold"},"Filters"),y.createElement("button",{className:"text-sm text-blue-600",onClick:c},"Clear")),y.createElement("div",{className:"mb-4"},y.createElement("label",{className:"text-sm font-medium block mb-2"},"Location"),y.createElement("select",{value:r,onChange:u=>s(u.target.value),className:"w-full border rounded-md px-3 py-2 text-sm","aria-label":"Filter by location"},y.createElement("option",{value:""},"All locations"),e.map(u=>y.createElement("option",{key:u,value:u},u)))),y.createElement("div",{className:"mb-4"},y.createElement("label",{className:"text-sm font-medium block mb-2"},"Category"),y.createElement("select",{value:o,onChange:u=>l(u.target.value),className:"w-full border rounded-md px-3 py-2 text-sm","aria-label":"Filter by category"},y.createElement("option",{value:""},"All categories"),n.map(u=>y.createElement("option",{key:u,value:u},u)))),y.createElement("div",{className:"mt-3 text-xs text-gray-500"},"Tip: Use filters to narrow results faster."));function s9(t,e=250){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t(...r),e)}}const i9=()=>y.createElement("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0},y.createElement("path",{d:"M3 5h18M7 12h10M10 19h4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})),GC=async t=>{if(!Ge.currentUser)return alert("Please login first"),!1;const e=Ze(Re,"users",Ge.currentUser.uid,"favorites",t);return(await ns(e)).exists()?(await Oo(e),!1):(await cy(e,{productId:t,createdAt:Fs()}),!0)},Qm=24,o9=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!1),[s,o]=k.useState(null),[l,c]=k.useState(!0),[u,h]=k.useState(""),[m,g]=k.useState(""),[w,_]=k.useState(""),[x,A]=k.useState("newest"),[C,P]=k.useState(!1),[R,N]=XR(),j=k.useRef(null),q=k.useCallback(async(L=null)=>{r(!0);try{const K=bt(Re,"products");let G=Di(K,Ps("approved","==",!0),Wh("createdAt","desc"),RS(Qm));L&&(G=Di(K,Ps("approved","==",!0),Wh("createdAt","desc"),BF(L),RS(Qm)));const ne=await Zt(G),X=ne.docs.map(z=>({id:z.id,...z.data()}));e(z=>L?[...z,...X]:X),o(ne.docs.at(-1)||null),c(ne.docs.length===Qm)}catch(K){console.error("Browse fetch error:",K)}finally{r(!1)}},[]);k.useEffect(()=>{h(R.get("q")||""),g(R.get("loc")||""),_(R.get("cat")||""),A(R.get("sort")||"newest"),q(null)},[]),k.useEffect(()=>{const L={};u&&(L.q=u),m&&(L.loc=m),w&&(L.cat=w),x!=="newest"&&(L.sort=x),N(L,{replace:!0});const K=setTimeout(()=>q(null),250);return()=>clearTimeout(K)},[u,m,w,x]);const se=k.useMemo(()=>s9(L=>{h(L)},300),[]),F=k.useMemo(()=>{const L=t.filter(K=>{const G=u.toLowerCase();return(!G||K.title?.toLowerCase().includes(G))&&(!m||K.location===m)&&(!w||K.category===w)});return L.sort((K,G)=>K.promoted&&!G.promoted?-1:!K.promoted&&G.promoted?1:x==="priceLowHigh"?(K.price||0)-(G.price||0):x==="priceHighLow"?(G.price||0)-(K.price||0):(G.createdAt?.seconds||0)-(K.createdAt?.seconds||0)),L},[t,u,m,w,x]);k.useEffect(()=>{if(!j.current)return;const L=new IntersectionObserver(([K])=>{K.isIntersecting&&l&&!n&&q(s)},{rootMargin:"400px"});return L.observe(j.current),()=>L.disconnect()},[l,n,s,q]);const b=async L=>{try{const K=await GC(L);e(G=>G.map(ne=>ne.id===L?{...ne,isFavorite:K}:ne))}catch(K){console.error("Failed to toggle favorite:",K)}},M=k.useMemo(()=>[...new Set(t.map(L=>L.location).filter(Boolean))],[t]),O=k.useMemo(()=>[...new Set(t.map(L=>L.category).filter(Boolean))],[t]),V=!n&&t.length===0,B=!n&&t.length>0&&F.length===0;return y.createElement("main",{className:"min-h-screen bg-gray-50 pb-24"},y.createElement("div",{className:"max-w-7xl mx-auto px-4 pt-6"},y.createElement("div",{className:"flex items-center gap-3 mb-6"},y.createElement("input",{placeholder:"Search products in Amravati...",defaultValue:u,onChange:L=>se(L.target.value),className:"flex-1 border rounded-xl px-4 py-3 text-sm bg-white shadow-sm"}),y.createElement("button",{onClick:()=>P(!0),className:"sm:hidden flex items-center gap-2 border px-4 py-3 rounded-xl bg-white shadow-sm"},y.createElement(i9,null)," Filters")),V&&y.createElement("div",{className:"bg-white rounded-2xl p-10 text-center shadow-sm"},y.createElement("h2",{className:"text-xl font-semibold mb-2"},"No products yet in Amravati"),y.createElement("p",{className:"text-gray-600 text-sm mb-4"},"Be the first one to list a product and help start the local market."),y.createElement(Le,{to:"/add-product",className:"inline-block bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700"},"Add First Product")),y.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6"},y.createElement("aside",{className:"hidden lg:block"},y.createElement(BS,{locations:M,categories:O,valueLocation:m,valueCategory:w,onChangeLocation:g,onChangeCategory:_,onClear:()=>{g(""),_(""),h(""),A("newest")}})),y.createElement("section",{className:"lg:col-span-3"},B&&y.createElement("div",{className:"bg-white rounded-xl p-6 text-center mb-6"},y.createElement("h3",{className:"font-semibold"},"No matching products"),y.createElement("p",{className:"text-sm text-gray-500"},"Try changing search keywords or clearing filters.")),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},F.map(L=>y.createElement(qC,{key:L.id,product:L,onToggleFavorite:()=>b(L.id)})),n&&Array.from({length:6}).map((L,K)=>y.createElement("div",{key:K,className:"h-64 bg-gray-200 rounded-xl animate-pulse"}))),y.createElement("div",{ref:j,className:"h-1 w-full"})))),C&&y.createElement("div",{className:"fixed inset-0 z-40"},y.createElement("div",{className:"absolute inset-0 bg-black/40",onClick:()=>P(!1)}),y.createElement("div",{className:"absolute right-0 top-0 bottom-0 w-full max-w-sm bg-white p-4 overflow-auto"},y.createElement(BS,{locations:M,categories:O,valueLocation:m,valueCategory:w,onChangeLocation:g,onChangeCategory:_,onClear:()=>P(!1)}))))};function a9(){const{id:t}=by(),e=ir(),[n,r]=k.useState(!0),[s,o]=k.useState({title:"",description:"",price:"",location:"",category:"",imageUrl:""}),[l,c]=k.useState(null);k.useEffect(()=>{(async()=>{try{const w=Ze(Re,"products",t),_=await ns(w);if(_.exists()){const x=_.data();o({title:x.title||"",description:x.description||"",price:x.price||"",location:x.location||"",category:x.category||"",imageUrl:x.imageUrl||""})}else alert("Product not found!"),e("/dashboard")}catch(w){console.error("Error fetching product:",w),alert("Failed to load product"),e("/dashboard")}finally{r(!1)}})()},[t,e]);const u=g=>{const{name:w,value:_}=g.target;o(x=>({...x,[w]:_}))},h=g=>{g.target.files[0]&&c(g.target.files[0])},m=async g=>{g.preventDefault();try{const w=Ze(Re,"products",t);let _=s.imageUrl;if(l){if(s.imageUrl){const A=qh(Gh,s.imageUrl);await OC(A).catch(()=>console.warn("Old image not found"))}const x=qh(Gh,`productImages/${Date.now()}-${l.name}`);await MC(x,l),_=await LC(x)}await sr(w,{title:s.title,description:s.description,price:Number(s.price),location:s.location,category:s.category,imageUrl:_,updatedAt:Fs()}),alert(" Product updated successfully"),e("/dashboard")}catch(w){console.error("Update error:",w),alert(" Failed to update product")}};return y.createElement("div",{className:"container my-4"},y.createElement("h2",{className:"text-xl font-semibold mb-4"}," Edit Product"),n?y.createElement("p",null,"Loading product..."):y.createElement("form",{onSubmit:m,className:"space-y-3"},y.createElement("input",{type:"text",name:"title",value:s.title,onChange:u,placeholder:"Product Title",className:"form-control",required:!0}),y.createElement("textarea",{name:"description",value:s.description,onChange:u,placeholder:"Description",className:"form-control",required:!0}),y.createElement("input",{type:"number",name:"price",value:s.price,onChange:u,placeholder:"Price ",className:"form-control",required:!0}),y.createElement("input",{type:"text",name:"location",value:s.location,onChange:u,placeholder:"Location",className:"form-control",required:!0}),y.createElement("select",{name:"category",value:s.category,onChange:u,className:"form-control",required:!0},y.createElement("option",{value:""},"Select Category"),y.createElement("option",null,"Books & Notes"),y.createElement("option",null,"Handmade Items"),y.createElement("option",null,"Homemade Food"),y.createElement("option",null,"Second-hand Items"),y.createElement("option",null,"New Items"),y.createElement("option",null,"From shop")),y.createElement("label",null,"Change Image (optional):"),y.createElement("input",{type:"file",onChange:h,className:"form-control"}),y.createElement("button",{type:"submit",className:"btn btn-warning"},"Update Product")))}const l9=()=>{const[t]=v0(Ge),[e,n]=k.useState([]),[r,s]=k.useState(!0),o=ir();k.useEffect(()=>{if(!t){o("/login");return}(async()=>{try{const u=await Zt(bt(Re,"users",t.uid,"favorites"));if(u.empty){n([]);return}const h=u.docs.map(async g=>{const w=g.id,x=(await Zt(bt(Re,"products"))).docs.map(A=>({id:A.id,...A.data()})).find(A=>A.id===w);return x?{...x,isFavorite:!0}:null}),m=(await Promise.all(h)).filter(Boolean);n(m)}catch(u){console.error("Wishlist error:",u)}finally{s(!1)}})()},[t,o]);const l=async c=>{await GC(c),n(u=>u.filter(h=>h.id!==c))};return r?y.createElement("div",{className:"min-h-screen flex items-center justify-center text-gray-500"},"Loading wishlist"):y.createElement("main",{className:"min-h-screen bg-gray-50 pb-24"},y.createElement("div",{className:"max-w-7xl mx-auto px-4 pt-6"},y.createElement("div",{className:"mb-6"},y.createElement("h1",{className:"text-2xl sm:text-3xl font-bold"}," My Wishlist"),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Products you saved for later")),e.length===0?y.createElement("div",{className:"flex flex-col items-center justify-center mt-24 text-center"},y.createElement("div",{className:"bg-white p-6 rounded-full shadow-sm mb-4"},y.createElement("span",{className:"text-4xl"},"")),y.createElement("h3",{className:"text-lg font-semibold"},"Your wishlist is empty"),y.createElement("p",{className:"text-gray-500 text-sm mt-1 max-w-xs"},"Save products you like and find them here anytime."),y.createElement(Le,{to:"/browse",className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-xl text-sm font-semibold transition"},"Browse Products")):y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},e.map(c=>y.createElement(qC,{key:c.id,product:c,onToggleFavorite:l})))))};var KC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zS=y.createContext&&y.createContext(KC),u9=["attr","size","title"];function c9(t,e){if(t==null)return{};var n=d9(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qh.apply(this,arguments)}function jS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(n),!0).forEach(function(r){h9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h9(t,e,n){return e=f9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f9(t){var e=p9(t,"string");return typeof e=="symbol"?e:e+""}function p9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QC(t){return t&&t.map((e,n)=>y.createElement(e.tag,Yh({key:n},e.attr),QC(e.child)))}function w0(t){return e=>y.createElement(m9,Qh({attr:Yh({},t.attr)},e),QC(t.child))}function m9(t){var e=n=>{var{attr:r,size:s,title:o}=t,l=c9(t,u9),c=s||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),y.createElement("svg",Qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:u,style:Yh(Yh({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&y.createElement("title",null,o),t.children)};return zS!==void 0?y.createElement(zS.Consumer,null,n=>e(n)):e(KC)}function g9(t){return w0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function y9(t){return w0({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function v9(t){return w0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(t)}const w9=async({productId:t,productTitle:e,productImage:n,buyer:r,seller:s})=>{const o=bt(Re,"conversations"),l=Di(o,Ps("productId","==",t),Ps("buyerId","==",r.uid),Ps("sellerId","==",s.uid)),c=await Zt(l);return c.empty?(await u0(o,{productId:t,productTitle:e,productImage:n,buyerId:r.uid,buyerName:r.name||"Buyer",sellerId:s.uid,sellerName:s.name||"Seller",participants:[r.uid,s.uid],lastMessage:"",lastMessageAt:Fs(),buyerUnread:0,sellerUnread:0,createdAt:Fs(),isBlocked:!1})).id:c.docs[0].id},E9=async(t,e,n)=>{if(!n||!n.trim())return;const r=Ze(Re,"conversations",t),s=bt(Re,"conversations",t,"messages"),o=await ns(r);if(!o.exists())return;const l=o.data();if(l.isBlocked)throw new Error("Conversation is blocked");await u0(s,{senderId:e,text:n,createdAt:Fs(),type:"text",isDeleted:!1});const c=e===l.buyerId;await sr(r,{lastMessage:n,lastMessageAt:Fs(),buyerUnread:c?0:DS(1),sellerUnread:c?DS(1):0})},_9=(t,e)=>{const n=bt(Re,"conversations",t,"messages"),r=Di(n,Wh("createdAt","asc"));return gC(r,s=>{const o=s.docs.map(l=>({id:l.id,...l.data()}));e(o)})},YC=(t,e)=>{const n=bt(Re,"conversations"),r=Di(n,Ps("participants","array-contains",t),Wh("lastMessageAt","desc"));return gC(r,s=>{const o=s.docs.map(l=>({id:l.id,...l.data()}));e(o)})};function $S(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function E0(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:$S(e[r])&&$S(t[r])&&Object.keys(e[r]).length>0&&E0(t[r],e[r])})}const XC={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ji(){const t=typeof document<"u"?document:{};return E0(t,XC),t}const T9={document:XC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function yn(){const t=typeof window<"u"?window:{};return E0(t,T9),t}function S9(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function x9(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function JC(t,e=0){return setTimeout(t,e)}function Xh(){return Date.now()}function b9(t){const e=yn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function I9(t,e="x"){const n=yn();let r,s,o;const l=b9(t);return n.WebKitCSSMatrix?(s=l.transform||l.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(c=>c.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(s==="none"?"":s)):(o=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=o.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=o.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Iu(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function C9(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Fn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!C9(s)){const o=Object.keys(Object(s)).filter(l=>n.indexOf(l)<0);for(let l=0,c=o.length;l<c;l+=1){const u=o[l],h=Object.getOwnPropertyDescriptor(s,u);h!==void 0&&h.enumerable&&(Iu(e[u])&&Iu(s[u])?s[u].__swiper__?e[u]=s[u]:Fn(e[u],s[u]):!Iu(e[u])&&Iu(s[u])?(e[u]={},s[u].__swiper__?e[u]=s[u]:Fn(e[u],s[u])):e[u]=s[u])}}}return e}function nh(t,e,n){t.style.setProperty(e,n)}function ZC({swiper:t,targetPosition:e,side:n}){const r=yn(),s=-t.translate;let o=null,l;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const u=e>s?"next":"prev",h=(g,w)=>u==="next"&&g>=w||u==="prev"&&g<=w,m=()=>{l=new Date().getTime(),o===null&&(o=l);const g=Math.max(Math.min((l-o)/c,1),0),w=.5-Math.cos(g*Math.PI)/2;let _=s+w*(e-s);if(h(_,e)&&(_=e),t.wrapperEl.scrollTo({[n]:_}),h(_,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:_})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(m)};m()}function Sr(t,e=""){const n=yn(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(s=>s.matches(e)):r}function A9(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function P9(t,e){const n=yn();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=A9(t,e))),r}function Jh(t){try{console.warn(t);return}catch{}}function Zh(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:S9(e)),n}function R9(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function k9(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function wi(t,e){return yn().getComputedStyle(t,null).getPropertyValue(e)}function ef(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function eA(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function py(t,e,n){const r=yn();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Wt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function ic(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Ym;function N9(){const t=yn(),e=ji();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function tA(){return Ym||(Ym=N9()),Ym}let Xm;function D9({userAgent:t}={}){const e=tA(),n=yn(),r=n.navigator.platform,s=t||n.navigator.userAgent,o={ios:!1,android:!1},l=n.screen.width,c=n.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let h=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const m=s.match(/(iPod)(.*OS\s([\d_]+))?/),g=!h&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),w=r==="Win32";let _=r==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&_&&e.touch&&x.indexOf(`${l}x${c}`)>=0&&(h=s.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),_=!1),u&&!w&&(o.os="android",o.android=!0),(h||g||m)&&(o.os="ios",o.ios=!0),o}function nA(t={}){return Xm||(Xm=D9(t)),Xm}let Jm;function M9(){const t=yn(),e=nA();let n=!1;function r(){const c=t.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(r()){const c=String(t.navigator.userAgent);if(c.includes("Version/")){const[u,h]=c.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));n=u<16||u===16&&h<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),o=r(),l=o||s&&e.ios;return{isSafari:n||o,needPerspectiveFix:n,need3dFix:l,isWebView:s}}function rA(){return Jm||(Jm=M9()),Jm}function L9({swiper:t,on:e,emit:n}){const r=yn();let s=null,o=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},c=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(m=>{o=r.requestAnimationFrame(()=>{const{width:g,height:w}=t;let _=g,x=w;m.forEach(({contentBoxSize:A,contentRect:C,target:P})=>{P&&P!==t.el||(_=C?C.width:(A[0]||A).inlineSize,x=C?C.height:(A[0]||A).blockSize)}),(_!==g||x!==w)&&l()})}),s.observe(t.el))},u=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},h=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){c();return}r.addEventListener("resize",l),r.addEventListener("orientationchange",h)}),e("destroy",()=>{u(),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",h)})}function O9({swiper:t,extendParams:e,on:n,emit:r}){const s=[],o=yn(),l=(h,m={})=>{const g=o.MutationObserver||o.WebkitMutationObserver,w=new g(_=>{if(t.__preventObserver__)return;if(_.length===1){r("observerUpdate",_[0]);return}const x=function(){r("observerUpdate",_[0])};o.requestAnimationFrame?o.requestAnimationFrame(x):o.setTimeout(x,0)});w.observe(h,{attributes:typeof m.attributes>"u"?!0:m.attributes,childList:t.isElement||(typeof m.childList>"u"?!0:m).childList,characterData:typeof m.characterData>"u"?!0:m.characterData}),s.push(w)},c=()=>{if(t.params.observer){if(t.params.observeParents){const h=eA(t.hostEl);for(let m=0;m<h.length;m+=1)l(h[m])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(h=>{h.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",c),n("destroy",u)}var V9={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...o){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,o)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(o,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(c=>{c.apply(s,[l,...r])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(c=>{c.apply(s,r)})}),e}};function F9(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(wi(r,"padding-left")||0,10)-parseInt(wi(r,"padding-right")||0,10),n=n-parseInt(wi(r,"padding-top")||0,10)-parseInt(wi(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function U9(){const t=this;function e(O,V){return parseFloat(O.getPropertyValue(t.getDirectionLabel(V))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,rtlTranslate:o,wrongRTL:l}=t,c=t.virtual&&n.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,h=Sr(s,`.${t.params.slideClass}, swiper-slide`),m=c?t.virtual.slides.length:h.length;let g=[];const w=[],_=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let A=n.slidesOffsetAfter;typeof A=="function"&&(A=n.slidesOffsetAfter.call(t));const C=t.snapGrid.length,P=t.slidesGrid.length,R=t.size-x-A;let N=n.spaceBetween,j=-x,q=0,se=0;if(typeof R>"u")return;typeof N=="string"&&N.indexOf("%")>=0?N=parseFloat(N.replace("%",""))/100*R:typeof N=="string"&&(N=parseFloat(N)),t.virtualSize=-N-x-A,h.forEach(O=>{o?O.style.marginLeft="":O.style.marginRight="",O.style.marginBottom="",O.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(nh(r,"--swiper-centered-offset-before",""),nh(r,"--swiper-centered-offset-after",""));const F=n.grid&&n.grid.rows>1&&t.grid;F?t.grid.initSlides(h):t.grid&&t.grid.unsetSlides();let b;const M=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(O=>typeof n.breakpoints[O].slidesPerView<"u").length>0;for(let O=0;O<m;O+=1){b=0;const V=h[O];if(!(V&&(F&&t.grid.updateSlide(O,V,h),wi(V,"display")==="none"))){if(c&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(b=n.virtual.slidesPerViewAutoSlideSize),b&&V&&(n.roundLengths&&(b=Math.floor(b)),V.style[t.getDirectionLabel("width")]=`${b}px`);else if(n.slidesPerView==="auto"){M&&(V.style[t.getDirectionLabel("width")]="");const B=getComputedStyle(V),L=V.style.transform,K=V.style.webkitTransform;if(L&&(V.style.transform="none"),K&&(V.style.webkitTransform="none"),n.roundLengths)b=t.isHorizontal()?py(V,"width"):py(V,"height");else{const G=e(B,"width"),ne=e(B,"padding-left"),X=e(B,"padding-right"),z=e(B,"margin-left"),Z=e(B,"margin-right"),oe=B.getPropertyValue("box-sizing");if(oe&&oe==="border-box")b=G+z+Z;else{const{clientWidth:H,offsetWidth:re}=V;b=G+ne+X+z+Z+(re-H)}}L&&(V.style.transform=L),K&&(V.style.webkitTransform=K),n.roundLengths&&(b=Math.floor(b))}else b=(R-(n.slidesPerView-1)*N)/n.slidesPerView,n.roundLengths&&(b=Math.floor(b)),V&&(V.style[t.getDirectionLabel("width")]=`${b}px`);V&&(V.swiperSlideSize=b),_.push(b),n.centeredSlides?(j=j+b/2+q/2+N,q===0&&O!==0&&(j=j-R/2-N),O===0&&(j=j-R/2-N),Math.abs(j)<1/1e3&&(j=0),n.roundLengths&&(j=Math.floor(j)),se%n.slidesPerGroup===0&&g.push(j),w.push(j)):(n.roundLengths&&(j=Math.floor(j)),(se-Math.min(t.params.slidesPerGroupSkip,se))%t.params.slidesPerGroup===0&&g.push(j),w.push(j),j=j+b+N),t.virtualSize+=b+N,q=b,se+=1}}if(t.virtualSize=Math.max(t.virtualSize,R)+A,o&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+N}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+N}px`),F&&t.grid.updateWrapperSize(b,g),!n.centeredSlides){const O=[];for(let V=0;V<g.length;V+=1){let B=g[V];n.roundLengths&&(B=Math.floor(B)),g[V]<=t.virtualSize-R&&O.push(B)}g=O,Math.floor(t.virtualSize-R)-Math.floor(g[g.length-1])>1&&g.push(t.virtualSize-R)}if(c&&n.loop){const O=_[0]+N;if(n.slidesPerGroup>1){const V=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),B=O*n.slidesPerGroup;for(let L=0;L<V;L+=1)g.push(g[g.length-1]+B)}for(let V=0;V<t.virtual.slidesBefore+t.virtual.slidesAfter;V+=1)n.slidesPerGroup===1&&g.push(g[g.length-1]+O),w.push(w[w.length-1]+O),t.virtualSize+=O}if(g.length===0&&(g=[0]),N!==0){const O=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");h.filter((V,B)=>!n.cssMode||n.loop?!0:B!==h.length-1).forEach(V=>{V.style[O]=`${N}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let O=0;_.forEach(B=>{O+=B+(N||0)}),O-=N;const V=O>R?O-R:0;g=g.map(B=>B<=0?-x:B>V?V+A:B)}if(n.centerInsufficientSlides){let O=0;_.forEach(B=>{O+=B+(N||0)}),O-=N;const V=(x||0)+(A||0);if(O+V<R){const B=(R-O-V)/2;g.forEach((L,K)=>{g[K]=L-B}),w.forEach((L,K)=>{w[K]=L+B})}}if(Object.assign(t,{slides:h,snapGrid:g,slidesGrid:w,slidesSizesGrid:_}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){nh(r,"--swiper-centered-offset-before",`${-g[0]}px`),nh(r,"--swiper-centered-offset-after",`${t.size/2-_[_.length-1]/2}px`);const O=-t.snapGrid[0],V=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(B=>B+O),t.slidesGrid=t.slidesGrid.map(B=>B+V)}if(m!==u&&t.emit("slidesLengthChange"),g.length!==C&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),w.length!==P&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const O=`${n.containerModifierClass}backface-hidden`,V=t.el.classList.contains(O);m<=n.maxBackfaceHiddenSlides?V||t.el.classList.add(O):V&&t.el.classList.remove(O)}}function B9(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=c=>r?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{n.push(c)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const c=e.activeIndex+o;if(c>e.slides.length&&!r)break;n.push(l(c))}else n.push(l(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const c=n[o].offsetHeight;s=c>s?c:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function z9(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const HS=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function j9(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;s&&(l=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=n.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let u=0;u<r.length;u+=1){const h=r[u];let m=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(m-=r[0].swiperSlideOffset);const g=(l+(n.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+c),w=(l-o[0]+(n.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+c),_=-(l-m),x=_+e.slidesSizesGrid[u],A=_>=0&&_<=e.size-e.slidesSizesGrid[u],C=_>=0&&_<e.size-1||x>1&&x<=e.size||_<=0&&x>=e.size;C&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(u)),HS(h,C,n.slideVisibleClass),HS(h,A,n.slideFullyVisibleClass),h.progress=s?-g:g,h.originalProgress=s?-w:w}}function $9(t){const e=this;if(typeof t>"u"){const m=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*m||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:l,progressLoop:c}=e;const u=o,h=l;if(r===0)s=0,o=!0,l=!0;else{s=(t-e.minTranslate())/r;const m=Math.abs(t-e.minTranslate())<1,g=Math.abs(t-e.maxTranslate())<1;o=m||s<=0,l=g||s>=1,m&&(s=0),g&&(s=1)}if(n.loop){const m=e.getSlideIndexByData(0),g=e.getSlideIndexByData(e.slides.length-1),w=e.slidesGrid[m],_=e.slidesGrid[g],x=e.slidesGrid[e.slidesGrid.length-1],A=Math.abs(t);A>=w?c=(A-w)/x:c=(A+x-_)/x,c>1&&(c-=1)}Object.assign(e,{progress:s,progressLoop:c,isBeginning:o,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!u&&e.emit("reachBeginning toEdge"),l&&!h&&e.emit("reachEnd toEdge"),(u&&!o||h&&!l)&&e.emit("fromEdge"),e.emit("progress",s)}const Zm=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function H9(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,o=t.virtual&&n.virtual.enabled,l=t.grid&&n.grid&&n.grid.rows>1,c=g=>Sr(r,`.${n.slideClass}${g}, swiper-slide${g}`)[0];let u,h,m;if(o)if(n.loop){let g=s-t.virtual.slidesBefore;g<0&&(g=t.virtual.slides.length+g),g>=t.virtual.slides.length&&(g-=t.virtual.slides.length),u=c(`[data-swiper-slide-index="${g}"]`)}else u=c(`[data-swiper-slide-index="${s}"]`);else l?(u=e.find(g=>g.column===s),m=e.find(g=>g.column===s+1),h=e.find(g=>g.column===s-1)):u=e[s];u&&(l||(m=k9(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!m&&(m=e[0]),h=R9(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(g=>{Zm(g,g===u,n.slideActiveClass),Zm(g,g===m,n.slideNextClass),Zm(g,g===h,n.slidePrevClass)}),t.emitSlidesClasses()}const Eh=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},eg=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},my=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const l=s,c=[l-e];c.push(...Array.from({length:e}).map((u,h)=>l+r+h)),t.slides.forEach((u,h)=>{c.includes(u.column)&&eg(t,h)});return}const o=s+r-1;if(t.params.rewind||t.params.loop)for(let l=s-e;l<=o+e;l+=1){const c=(l%n+n)%n;(c<s||c>o)&&eg(t,c)}else for(let l=Math.max(s-e,0);l<=Math.min(o+e,n-1);l+=1)l!==s&&(l>o||l<s)&&eg(t,l)};function W9(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?s=o:r>=e[o]&&r<e[o+1]&&(s=o+1):r>=e[o]&&(s=o);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function q9(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:o,realIndex:l,snapIndex:c}=e;let u=t,h;const m=_=>{let x=_-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof u>"u"&&(u=W9(e)),r.indexOf(n)>=0)h=r.indexOf(n);else{const _=Math.min(s.slidesPerGroupSkip,u);h=_+Math.floor((u-_)/s.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),u===o&&!e.params.loop){h!==c&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(u===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=m(u);return}const g=e.grid&&s.grid&&s.grid.rows>1;let w;if(e.virtual&&s.virtual.enabled&&s.loop)w=m(u);else if(g){const _=e.slides.find(A=>A.column===u);let x=parseInt(_.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(_),0)),w=Math.floor(x/s.grid.rows)}else if(e.slides[u]){const _=e.slides[u].getAttribute("data-swiper-slide-index");_?w=parseInt(_,10):w=u}else w=u;Object.assign(e,{previousSnapIndex:c,snapIndex:h,previousRealIndex:l,realIndex:w,previousIndex:o,activeIndex:u}),e.initialized&&my(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==w&&e.emit("realIndexChange"),e.emit("slideChange"))}function G9(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(c=>{!s&&c.matches&&c.matches(`.${r.slideClass}, swiper-slide`)&&(s=c)});let o=!1,l;if(s){for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===s){o=!0,l=c;break}}if(s&&o)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var K9={updateSize:F9,updateSlides:U9,updateAutoHeight:B9,updateSlidesOffset:z9,updateSlidesProgress:j9,updateProgress:$9,updateSlidesClasses:H9,updateActiveIndex:q9,updateClickedSlide:G9};function Q9(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:o}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let l=I9(o,t);return l+=e.cssOverflowAdjustment(),r&&(l=-l),l||0}function Y9(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:o,progress:l}=n;let c=0,u=0;const h=0;n.isHorizontal()?c=r?-t:t:u=t,s.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:u,s.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-u:s.virtualTranslate||(n.isHorizontal()?c-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${c}px, ${u}px, ${h}px)`);let m;const g=n.maxTranslate()-n.minTranslate();g===0?m=0:m=(t-n.minTranslate())/g,m!==l&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function X9(){return-this.snapGrid[0]}function J9(){return-this.snapGrid[this.snapGrid.length-1]}function Z9(t=0,e=this.params.speed,n=!0,r=!0,s){const o=this,{params:l,wrapperEl:c}=o;if(o.animating&&l.preventInteractionOnTransition)return!1;const u=o.minTranslate(),h=o.maxTranslate();let m;if(r&&t>u?m=u:r&&t<h?m=h:m=t,o.updateProgress(m),l.cssMode){const g=o.isHorizontal();if(e===0)c[g?"scrollLeft":"scrollTop"]=-m;else{if(!o.support.smoothScroll)return ZC({swiper:o,targetPosition:-m,side:g?"left":"top"}),!0;c.scrollTo({[g?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(m),n&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(m),n&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(w){!o||o.destroyed||w.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var eB={getTranslate:Q9,setTranslate:Y9,minTranslate:X9,maxTranslate:J9,translateTo:Z9};function tB(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function sA({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:o}=t;let l=n;l||(s>o?l="next":s<o?l="prev":l="reset"),t.emit(`transition${r}`),e&&l==="reset"?t.emit(`slideResetTransition${r}`):e&&s!==o&&(t.emit(`slideChangeTransition${r}`),l==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function nB(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),sA({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function rB(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),sA({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var sB={setTransition:tB,transitionStart:nB,transitionEnd:rB};function iB(t=0,e,n=!0,r,s){typeof t=="string"&&(t=parseInt(t,10));const o=this;let l=t;l<0&&(l=0);const{params:c,snapGrid:u,slidesGrid:h,previousIndex:m,activeIndex:g,rtlTranslate:w,wrapperEl:_,enabled:x}=o;if(!x&&!r&&!s||o.destroyed||o.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const A=Math.min(o.params.slidesPerGroupSkip,l);let C=A+Math.floor((l-A)/o.params.slidesPerGroup);C>=u.length&&(C=u.length-1);const P=-u[C];if(c.normalizeSlideIndex)for(let F=0;F<h.length;F+=1){const b=-Math.floor(P*100),M=Math.floor(h[F]*100),O=Math.floor(h[F+1]*100);typeof h[F+1]<"u"?b>=M&&b<O-(O-M)/2?l=F:b>=M&&b<O&&(l=F+1):b>=M&&(l=F)}if(o.initialized&&l!==g&&(!o.allowSlideNext&&(w?P>o.translate&&P>o.minTranslate():P<o.translate&&P<o.minTranslate())||!o.allowSlidePrev&&P>o.translate&&P>o.maxTranslate()&&(g||0)!==l))return!1;l!==(m||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(P);let R;l>g?R="next":l<g?R="prev":R="reset";const N=o.virtual&&o.params.virtual.enabled;if(!(N&&s)&&(w&&-P===o.translate||!w&&P===o.translate))return o.updateActiveIndex(l),c.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),c.effect!=="slide"&&o.setTranslate(P),R!=="reset"&&(o.transitionStart(n,R),o.transitionEnd(n,R)),!1;if(c.cssMode){const F=o.isHorizontal(),b=w?P:-P;if(e===0)N&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),N&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{_[F?"scrollLeft":"scrollTop"]=b})):_[F?"scrollLeft":"scrollTop"]=b,N&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return ZC({swiper:o,targetPosition:b,side:F?"left":"top"}),!0;_.scrollTo({[F?"left":"top"]:b,behavior:"smooth"})}return!0}const se=rA().isSafari;return N&&!s&&se&&o.isElement&&o.virtual.update(!1,!1,l),o.setTransition(e),o.setTranslate(P),o.updateActiveIndex(l),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,R),e===0?o.transitionEnd(n,R):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(b){!o||o.destroyed||b.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,R))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function oB(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let l=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)l=l+s.virtual.slidesBefore;else{let c;if(o){const A=l*s.params.grid.rows;c=s.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===A).column}else c=s.getSlideIndexByData(l);const u=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:h,slidesOffsetBefore:m,slidesOffsetAfter:g}=s.params,w=h||!!m||!!g;let _=s.params.slidesPerView;_==="auto"?_=s.slidesPerViewDynamic():(_=Math.ceil(parseFloat(s.params.slidesPerView,10)),w&&_%2===0&&(_=_+1));let x=u-c<_;if(w&&(x=x||c<Math.ceil(_/2)),r&&w&&s.params.slidesPerView!=="auto"&&!o&&(x=!1),x){const A=w?c<s.activeIndex?"prev":"next":c-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:A,slideTo:!0,activeSlideIndex:A==="next"?c+1:c-u+1,slideRealIndex:A==="next"?s.realIndex:void 0})}if(o){const A=l*s.params.grid.rows;l=s.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===A).column}else l=s.getSlideIndexByData(l)}return requestAnimationFrame(()=>{s.slideTo(l,e,n,r)}),s}function aB(t,e=!0,n){const r=this,{enabled:s,params:o,animating:l}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let c=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(c=Math.max(r.slidesPerViewDynamic("current",!0),1));const u=r.activeIndex<o.slidesPerGroupSkip?1:c,h=r.virtual&&o.virtual.enabled;if(o.loop){if(l&&!h&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+u,t,e,n)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+u,t,e,n)}function lB(t,e=!0,n){const r=this,{params:s,snapGrid:o,slidesGrid:l,rtlTranslate:c,enabled:u,animating:h}=r;if(!u||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const m=r.virtual&&s.virtual.enabled;if(s.loop){if(h&&!m&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const g=c?r.translate:-r.translate;function w(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const _=w(g),x=o.map(R=>w(R)),A=s.freeMode&&s.freeMode.enabled;let C=o[x.indexOf(_)-1];if(typeof C>"u"&&(s.cssMode||A)){let R;o.forEach((N,j)=>{_>=N&&(R=j)}),typeof R<"u"&&(C=A?o[R]:o[R>0?R-1:R])}let P=0;if(typeof C<"u"&&(P=l.indexOf(C),P<0&&(P=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(P=P-r.slidesPerViewDynamic("previous",!0)+1,P=Math.max(P,0))),s.rewind&&r.isBeginning){const R=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(R,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(P,t,e,n)}),!0;return r.slideTo(P,t,e,n)}function uB(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function cB(t,e=!0,n,r=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let o=s.activeIndex;const l=Math.min(s.params.slidesPerGroupSkip,o),c=l+Math.floor((o-l)/s.params.slidesPerGroup),u=s.rtlTranslate?s.translate:-s.translate;if(u>=s.snapGrid[c]){const h=s.snapGrid[c],m=s.snapGrid[c+1];u-h>(m-h)*r&&(o+=s.params.slidesPerGroup)}else{const h=s.snapGrid[c-1],m=s.snapGrid[c];u-h<=(m-h)*r&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,t,e,n)}function dB(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),o;const l=t.isElement?"swiper-slide":`.${e.slideClass}`,c=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(o):s>(c?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),s=t.getSlideIndex(Sr(n,`${l}[data-swiper-slide-index="${o}"]`)[0]),JC(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var hB={slideTo:iB,slideToLoop:oB,slideNext:aB,slidePrev:lB,slideReset:uB,slideToClosest:cB,slideToClickedSlide:dB};function fB(t,e){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const o=()=>{Sr(s,`.${r.slideClass}, swiper-slide`).forEach((x,A)=>{x.setAttribute("data-swiper-slide-index",A)})},l=()=>{const _=Sr(s,`.${r.slideBlankClass}`);_.forEach(x=>{x.remove()}),_.length>0&&(n.recalcSlides(),n.updateSlides())},c=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||c)&&l();const u=r.slidesPerGroup*(c?r.grid.rows:1),h=n.slides.length%u!==0,m=c&&n.slides.length%r.grid.rows!==0,g=_=>{for(let x=0;x<_;x+=1){const A=n.isElement?Zh("swiper-slide",[r.slideBlankClass]):Zh("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(A)}};if(h){if(r.loopAddBlankSlides){const _=u-n.slides.length%u;g(_),n.recalcSlides(),n.updateSlides()}else Jh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(m){if(r.loopAddBlankSlides){const _=r.grid.rows-n.slides.length%r.grid.rows;g(_),n.recalcSlides(),n.updateSlides()}else Jh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();const w=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:w?void 0:"next",initial:e})}function pB({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:s,initial:o,byController:l,byMousewheel:c}={}){const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:h,allowSlidePrev:m,allowSlideNext:g,slidesEl:w,params:_}=u,{centeredSlides:x,slidesOffsetBefore:A,slidesOffsetAfter:C,initialSlide:P}=_,R=x||!!A||!!C;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&_.virtual.enabled){e&&(!R&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):R&&u.snapIndex<_.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=m,u.allowSlideNext=g,u.emit("loopFix");return}let N=_.slidesPerView;N==="auto"?N=u.slidesPerViewDynamic():(N=Math.ceil(parseFloat(_.slidesPerView,10)),R&&N%2===0&&(N=N+1));const j=_.slidesPerGroupAuto?N:_.slidesPerGroup;let q=R?Math.max(j,Math.ceil(N/2)):j;q%j!==0&&(q+=j-q%j),q+=_.loopAdditionalSlides,u.loopedSlides=q;const se=u.grid&&_.grid&&_.grid.rows>1;h.length<N+q||u.params.effect==="cards"&&h.length<N+q*2?Jh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):se&&_.grid.fill==="row"&&Jh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const F=[],b=[],M=se?Math.ceil(h.length/_.grid.rows):h.length,O=o&&M-P<N&&!R;let V=O?P:u.activeIndex;typeof s>"u"?s=u.getSlideIndex(h.find(z=>z.classList.contains(_.slideActiveClass))):V=s;const B=n==="next"||!n,L=n==="prev"||!n;let K=0,G=0;const X=(se?h[s].column:s)+(R&&typeof r>"u"?-N/2+.5:0);if(X<q){K=Math.max(q-X,j);for(let z=0;z<q-X;z+=1){const Z=z-Math.floor(z/M)*M;if(se){const oe=M-Z-1;for(let H=h.length-1;H>=0;H-=1)h[H].column===oe&&F.push(H)}else F.push(M-Z-1)}}else if(X+N>M-q){G=Math.max(X-(M-q*2),j),O&&(G=Math.max(G,N-M+P+1));for(let z=0;z<G;z+=1){const Z=z-Math.floor(z/M)*M;se?h.forEach((oe,H)=>{oe.column===Z&&b.push(H)}):b.push(Z)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&h.length<N+q*2&&(b.includes(s)&&b.splice(b.indexOf(s),1),F.includes(s)&&F.splice(F.indexOf(s),1)),L&&F.forEach(z=>{h[z].swiperLoopMoveDOM=!0,w.prepend(h[z]),h[z].swiperLoopMoveDOM=!1}),B&&b.forEach(z=>{h[z].swiperLoopMoveDOM=!0,w.append(h[z]),h[z].swiperLoopMoveDOM=!1}),u.recalcSlides(),_.slidesPerView==="auto"?u.updateSlides():se&&(F.length>0&&L||b.length>0&&B)&&u.slides.forEach((z,Z)=>{u.grid.updateSlide(Z,z,u.slides)}),_.watchSlidesProgress&&u.updateSlidesOffset(),e){if(F.length>0&&L){if(typeof t>"u"){const z=u.slidesGrid[V],oe=u.slidesGrid[V+K]-z;c?u.setTranslate(u.translate-oe):(u.slideTo(V+Math.ceil(K),0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-oe,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-oe))}else if(r){const z=se?F.length/_.grid.rows:F.length;u.slideTo(u.activeIndex+z,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(b.length>0&&B)if(typeof t>"u"){const z=u.slidesGrid[V],oe=u.slidesGrid[V-G]-z;c?u.setTranslate(u.translate-oe):(u.slideTo(V-G,0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-oe,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-oe))}else{const z=se?b.length/_.grid.rows:b.length;u.slideTo(u.activeIndex-z,0,!1,!0)}}if(u.allowSlidePrev=m,u.allowSlideNext=g,u.controller&&u.controller.control&&!l){const z={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(Z=>{!Z.destroyed&&Z.params.loop&&Z.loopFix({...z,slideTo:Z.params.slidesPerView===_.slidesPerView?e:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...z,slideTo:u.controller.control.params.slidesPerView===_.slidesPerView?e:!1})}u.emit("loopFix")}function mB(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[o]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var gB={loopCreate:fB,loopFix:pB,loopDestroy:mB};function yB(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function vB(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var wB={setGrabCursor:yB,unsetGrabCursor:vB};function EB(t,e=this){function n(r){if(!r||r===ji()||r===yn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function WS(t,e,n){const r=yn(),{params:s}=t,o=s.edgeSwipeDetection,l=s.edgeSwipeThreshold;return o&&(n<=l||n>=r.innerWidth-l)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function _B(t){const e=this,n=ji();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){WS(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:l,enabled:c}=e;if(!c||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let u=r.target;if(o.touchEventsTarget==="wrapper"&&!P9(u,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const h=!!o.noSwipingClass&&o.noSwipingClass!=="",m=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&m&&(u=m[0]);const g=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,w=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(w?EB(g,u):u.closest(g))){e.allowClick=!0;return}if(o.swipeHandler&&!u.closest(o.swipeHandler))return;l.currentX=r.pageX,l.currentY=r.pageY;const _=l.currentX,x=l.currentY;if(!WS(e,r,_))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=_,l.startY=x,s.touchStartTime=Xh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let A=!0;u.matches(s.focusableElements)&&(A=!1,u.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==u&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!u.matches(s.focusableElements))&&n.activeElement.blur();const C=A&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||C)&&!u.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function TB(t){const e=ji(),n=this,r=n.touchEventsData,{params:s,touches:o,rtlTranslate:l,enabled:c}=n;if(!c||!s.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(r.touchId!==null||u.pointerId!==r.pointerId))return;let h;if(u.type==="touchmove"){if(h=[...u.changedTouches].find(q=>q.identifier===r.touchId),!h||h.identifier!==r.touchId)return}else h=u;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u);return}const m=h.pageX,g=h.pageY;if(u.preventedByNestedSwiper){o.startX=m,o.startY=g;return}if(!n.allowTouchMove){u.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:m,startY:g,currentX:m,currentY:g}),r.touchStartTime=Xh());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(g<o.startY&&n.translate<=n.maxTranslate()||g>o.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(l&&(m>o.startX&&-n.translate<=n.maxTranslate()||m<o.startX&&-n.translate>=n.minTranslate()))return;if(!l&&(m<o.startX&&n.translate<=n.maxTranslate()||m>o.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",u),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=m,o.currentY=g;const w=o.currentX-o.startX,_=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(w**2+_**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let q;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:w*w+_*_>=25&&(q=Math.atan2(Math.abs(_),Math.abs(w))*180/Math.PI,r.isScrolling=n.isHorizontal()?q>s.touchAngle:90-q>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||u.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&u.cancelable&&u.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&u.stopPropagation();let x=n.isHorizontal()?w:_,A=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(x=Math.abs(x)*(l?1:-1),A=Math.abs(A)*(l?1:-1)),o.diff=x,x*=s.touchRatio,l&&(x=-x,A=-A);const C=n.touchesDirection;n.swipeDirection=x>0?"prev":"next",n.touchesDirection=A>0?"prev":"next";const P=n.params.loop&&!s.cssMode,R=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(P&&R&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const q=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(q)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&C!==n.touchesDirection&&P&&R&&Math.abs(x)>=1){Object.assign(o,{startX:m,startY:g,currentX:m,currentY:g,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=x+r.startTranslate;let N=!0,j=s.resistanceRatio;if(s.touchReleaseOnEdges&&(j=0),x>0?(P&&R&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(N=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+x)**j))):x<0&&(P&&R&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(N=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-x)**j))),N&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function SB(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(q=>q.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:c,rtlTranslate:u,slidesGrid:h,enabled:m}=e;if(!m||!l.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const g=Xh(),w=g-n.touchStartTime;if(e.allowClick){const q=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(q&&q[0]||r.target,q),e.emit("tap click",r),w<300&&g-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Xh(),JC(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||c.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let _;if(l.followFinger?_=u?e.translate:-e.translate:_=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:_});return}const x=_>=-e.maxTranslate()&&!e.params.loop;let A=0,C=e.slidesSizesGrid[0];for(let q=0;q<h.length;q+=q<l.slidesPerGroupSkip?1:l.slidesPerGroup){const se=q<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof h[q+se]<"u"?(x||_>=h[q]&&_<h[q+se])&&(A=q,C=h[q+se]-h[q]):(x||_>=h[q])&&(A=q,C=h[h.length-1]-h[h.length-2])}let P=null,R=null;l.rewind&&(e.isBeginning?R=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(P=0));const N=(_-h[A])/C,j=A<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(w>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(N>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?P:A+j):e.slideTo(A)),e.swipeDirection==="prev"&&(N>1-l.longSwipesRatio?e.slideTo(A+j):R!==null&&N<0&&Math.abs(N)>l.longSwipesRatio?e.slideTo(R):e.slideTo(A))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(A+j):e.slideTo(A):(e.swipeDirection==="next"&&e.slideTo(P!==null?P:A+j),e.swipeDirection==="prev"&&e.slideTo(R!==null?R:A))}}function qS(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:o}=t,l=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const c=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!c?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!l?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function xB(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function bB(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const o=t.maxTranslate()-t.minTranslate();o===0?s=0:s=(t.translate-t.minTranslate())/o,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function IB(t){const e=this;Eh(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function CB(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const iA=(t,e)=>{const n=ji(),{params:r,el:s,wrapperEl:o,device:l}=t,c=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",h=e;!s||typeof s=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:c}),s[u]("touchstart",t.onTouchStart,{passive:!1}),s[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:c}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:c}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[u]("click",t.onClick,!0),r.cssMode&&o[u]("scroll",t.onScroll),r.updateOnWindowResize?t[h](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",qS,!0):t[h]("observerUpdate",qS,!0),s[u]("load",t.onLoad,{capture:!0}))};function AB(){const t=this,{params:e}=t;t.onTouchStart=_B.bind(t),t.onTouchMove=TB.bind(t),t.onTouchEnd=SB.bind(t),t.onDocumentTouchStart=CB.bind(t),e.cssMode&&(t.onScroll=bB.bind(t)),t.onClick=xB.bind(t),t.onLoad=IB.bind(t),iA(t,"on")}function PB(){iA(this,"off")}var RB={attachEvents:AB,detachEvents:PB};const GS=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function kB(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const l=ji(),c=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",u=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:l.querySelector(r.breakpointsBase),h=t.getBreakpoint(o,c,u);if(!h||t.currentBreakpoint===h)return;const g=(h in o?o[h]:void 0)||t.originalParams,w=GS(t,r),_=GS(t,g),x=t.params.grabCursor,A=g.grabCursor,C=r.enabled;w&&!_?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!w&&_&&(s.classList.add(`${r.containerModifierClass}grid`),(g.grid.fill&&g.grid.fill==="column"||!g.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),x&&!A?t.unsetGrabCursor():!x&&A&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(se=>{if(typeof g[se]>"u")return;const F=r[se]&&r[se].enabled,b=g[se]&&g[se].enabled;F&&!b&&t[se].disable(),!F&&b&&t[se].enable()});const P=g.direction&&g.direction!==r.direction,R=r.loop&&(g.slidesPerView!==r.slidesPerView||P),N=r.loop;P&&n&&t.changeDirection(),Fn(t.params,g);const j=t.params.enabled,q=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),C&&!j?t.disable():!C&&j&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",g),n&&(R?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!N&&q?(t.loopCreate(e),t.updateSlides()):N&&!q&&t.loopDestroy()),t.emit("breakpoint",g)}function NB(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=yn(),o=e==="window"?s.innerHeight:n.clientHeight,l=Object.keys(t).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const u=parseFloat(c.substr(1));return{value:o*u,point:c}}return{value:c,point:c}});l.sort((c,u)=>parseInt(c.value,10)-parseInt(u.value,10));for(let c=0;c<l.length;c+=1){const{point:u,value:h}=l[c];e==="window"?s.matchMedia(`(min-width: ${h}px)`).matches&&(r=u):h<=n.clientWidth&&(r=u)}return r||"max"}var DB={setBreakpoint:kB,getBreakpoint:NB};function MB(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function LB(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:o}=t,l=MB(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...l),s.classList.add(...e),t.emitContainerClasses()}function OB(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var VB={addClasses:LB,removeClasses:OB};function FB(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,o=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var UB={checkOverflow:FB},gy={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function BB(t,e){return function(r={}){const s=Object.keys(r)[0],o=r[s];if(typeof o!="object"||o===null){Fn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in o)){Fn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Fn(e,r)}}const tg={eventsEmitter:V9,update:K9,translate:eB,transition:sB,slide:hB,loop:gB,grabCursor:wB,events:RB,breakpoints:DB,checkOverflow:UB,classes:VB},ng={};let _0=class Ts{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Fn({},r),n&&!r.el&&(r.el=n);const s=ji();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const u=[];return s.querySelectorAll(r.el).forEach(h=>{const m=Fn({},r,{el:h});u.push(new Ts(m))}),u}const o=this;o.__swiper__=!0,o.support=tA(),o.device=nA({userAgent:r.userAgent}),o.browser=rA(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],r.modules&&Array.isArray(r.modules)&&o.modules.push(...r.modules);const l={};o.modules.forEach(u=>{u({params:r,swiper:o,extendParams:BB(r,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const c=Fn({},gy,l);return o.params=Fn({},c,ng,r),o.originalParams=Fn({},o.params),o.passedParams=Fn({},r),o.params&&o.params.on&&Object.keys(o.params.on).forEach(u=>{o.on(u,o.params.on[u])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=Sr(n,`.${r.slideClass}, swiper-slide`),o=ef(s[0]);return ef(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Sr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),l=(r.maxTranslate()-s)*e+s;r.translateTo(l,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:o,slidesGrid:l,slidesSizesGrid:c,size:u,activeIndex:h}=r;let m=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let g=o[h]?Math.ceil(o[h].swiperSlideSize):0,w;for(let _=h+1;_<o.length;_+=1)o[_]&&!w&&(g+=Math.ceil(o[_].swiperSlideSize),m+=1,g>u&&(w=!0));for(let _=h-1;_>=0;_-=1)o[_]&&!w&&(g+=o[_].swiperSlideSize,m+=1,g>u&&(w=!0))}else if(e==="current")for(let g=h+1;g<o.length;g+=1)(n?l[g]+c[g]-l[h]<u:l[g]-l[h]<u)&&(m+=1);else for(let g=h-1;g>=0;g-=1)l[h]-l[g]<u&&(m+=1);return m}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&Eh(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const l=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const l=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(l.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Sr(r,s())[0];return!l&&n.params.createElements&&(l=Zh("div",n.params.wrapperClass),r.append(l),Sr(r,`.${n.params.slideClass}`).forEach(c=>{l.append(c)})),Object.assign(n,{el:r,wrapperEl:l,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:l,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||wi(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||wi(r,"direction")==="rtl"),wrongRTL:wi(l,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?Eh(n,o):o.addEventListener("load",l=>{Eh(n,l.target)})}),my(n),n.initialized=!0,my(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:s,el:o,wrapperEl:l,slides:c}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),l&&l.removeAttribute("style"),c&&c.length&&c.forEach(u=>{u.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(u=>{r.off(u)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),x9(r)),r.destroyed=!0),null}static extendDefaults(e){Fn(ng,e)}static get extendedDefaults(){return ng}static get defaults(){return gy}static installModule(e){Ts.prototype.__modules__||(Ts.prototype.__modules__=[]);const n=Ts.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ts.installModule(n)),Ts):(Ts.installModule(e),Ts)}};Object.keys(tg).forEach(t=>{Object.keys(tg[t]).forEach(e=>{_0.prototype[e]=tg[t][e]})});_0.use([L9,O9]);const oA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Fo(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Za(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Fo(e[r])&&Fo(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Za(t[r],e[r]):t[r]=e[r]})}function aA(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function lA(t={}){return t.pagination&&typeof t.pagination.el>"u"}function uA(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function cA(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function zB(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function jB({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:l,paginationEl:c}){const u=r.filter(b=>b!=="children"&&b!=="direction"&&b!=="wrapperClass"),{params:h,pagination:m,navigation:g,scrollbar:w,virtual:_,thumbs:x}=t;let A,C,P,R,N,j,q,se;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&h.thumbs&&(!h.thumbs.swiper||h.thumbs.swiper.destroyed)&&(A=!0),r.includes("controller")&&n.controller&&n.controller.control&&h.controller&&!h.controller.control&&(C=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||c)&&(h.pagination||h.pagination===!1)&&m&&!m.el&&(P=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(h.scrollbar||h.scrollbar===!1)&&w&&!w.el&&(R=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||s)&&(h.navigation||h.navigation===!1)&&g&&!g.prevEl&&!g.nextEl&&(N=!0);const F=b=>{t[b]&&(t[b].destroy(),b==="navigation"?(t.isElement&&(t[b].prevEl.remove(),t[b].nextEl.remove()),h[b].prevEl=void 0,h[b].nextEl=void 0,t[b].prevEl=void 0,t[b].nextEl=void 0):(t.isElement&&t[b].el.remove(),h[b].el=void 0,t[b].el=void 0))};r.includes("loop")&&t.isElement&&(h.loop&&!n.loop?j=!0:!h.loop&&n.loop?q=!0:se=!0),u.forEach(b=>{if(Fo(h[b])&&Fo(n[b]))Object.assign(h[b],n[b]),(b==="navigation"||b==="pagination"||b==="scrollbar")&&"enabled"in n[b]&&!n[b].enabled&&F(b);else{const M=n[b];(M===!0||M===!1)&&(b==="navigation"||b==="pagination"||b==="scrollbar")?M===!1&&F(b):h[b]=n[b]}}),u.includes("controller")&&!C&&t.controller&&t.controller.control&&h.controller&&h.controller.control&&(t.controller.control=h.controller.control),r.includes("children")&&e&&_&&h.virtual.enabled?(_.slides=e,_.update(!0)):r.includes("virtual")&&_&&h.virtual.enabled&&(e&&(_.slides=e),_.update(!0)),r.includes("children")&&e&&h.loop&&(se=!0),A&&x.init()&&x.update(!0),C&&(t.controller.control=h.controller.control),P&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),t.el.appendChild(c)),c&&(h.pagination.el=c),m.init(),m.render(),m.update()),R&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(h.scrollbar.el=l),w.init(),w.updateSize(),w.setTranslate()),N&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),ic(s,t.navigation.arrowSvg),s.part.add("button-next"),t.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),ic(o,t.navigation.arrowSvg),o.part.add("button-prev"),t.el.appendChild(o))),s&&(h.navigation.nextEl=s),o&&(h.navigation.prevEl=o),g.init(),g.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(j||se)&&t.loopDestroy(),(q||se)&&t.loopCreate(),t.update()}function $B(t={},e=!0){const n={on:{}},r={},s={};Za(n,gy),n._emitClasses=!0,n.init=!1;const o={},l=oA.map(u=>u.replace(/_/,"")),c=Object.assign({},t);return Object.keys(c).forEach(u=>{typeof t[u]>"u"||(l.indexOf(u)>=0?Fo(t[u])?(n[u]={},s[u]={},Za(n[u],t[u]),Za(s[u],t[u])):(n[u]=t[u],s[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?e?r[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:o[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:s,rest:o,events:r}}function HB({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:o},l){aA(l)&&e&&n&&(o.params.navigation.nextEl=e,o.originalParams.navigation.nextEl=e,o.params.navigation.prevEl=n,o.originalParams.navigation.prevEl=n),lA(l)&&r&&(o.params.pagination.el=r,o.originalParams.pagination.el=r),uA(l)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(t)}function WB(t,e,n,r,s){const o=[];if(!e)return o;const l=u=>{o.indexOf(u)<0&&o.push(u)};if(n&&r){const u=r.map(s),h=n.map(s);u.join("")!==h.join("")&&l("children"),r.length!==n.length&&l("children")}return oA.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(Fo(t[u])&&Fo(e[u])){const h=Object.keys(t[u]),m=Object.keys(e[u]);h.length!==m.length?l(u):(h.forEach(g=>{t[u][g]!==e[u][g]&&l(u)}),m.forEach(g=>{t[u][g]!==e[u][g]&&l(u)}))}else t[u]!==e[u]&&l(u)}),o}const qB=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function tf(){return tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tf.apply(this,arguments)}function dA(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function hA(t){const e=[];return y.Children.toArray(t).forEach(n=>{dA(n)?e.push(n):n.props&&n.props.children&&hA(n.props.children).forEach(r=>e.push(r))}),e}function GB(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return y.Children.toArray(t).forEach(r=>{if(dA(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=hA(r.props.children);s.length>0?s.forEach(o=>e.push(o)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function KB(t,e,n){if(!n)return null;const r=m=>{let g=m;return m<0?g=e.length+m:g>=e.length&&(g=g-e.length),g},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:l}=n,c=t.params.loop?-e.length:0,u=t.params.loop?e.length*2:e.length,h=[];for(let m=c;m<u;m+=1)m>=o&&m<=l&&h.push(e[r(m)]);return h.map((m,g)=>y.cloneElement(m,{swiper:t,style:s,key:m.props.virtualIndex||m.key||`slide-${g}`}))}function Fu(t,e){return typeof window>"u"?k.useEffect(t,e):k.useLayoutEffect(t,e)}const KS=k.createContext(null),QB=k.createContext(null),yy=k.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:s,...o}={},l)=>{let c=!1;const[u,h]=k.useState("swiper"),[m,g]=k.useState(null),[w,_]=k.useState(!1),x=k.useRef(!1),A=k.useRef(null),C=k.useRef(null),P=k.useRef(null),R=k.useRef(null),N=k.useRef(null),j=k.useRef(null),q=k.useRef(null),se=k.useRef(null),{params:F,passedParams:b,rest:M,events:O}=$B(o),{slides:V,slots:B}=GB(r),L=()=>{_(!w)};Object.assign(F.on,{_containerClasses(z,Z){h(Z)}});const K=()=>{Object.assign(F.on,O),c=!0;const z={...F};if(delete z.wrapperClass,C.current=new _0(z),C.current.virtual&&C.current.params.virtual.enabled){C.current.virtual.slides=V;const Z={cache:!1,slides:V,renderExternal:g,renderExternalUpdate:!1};Za(C.current.params.virtual,Z),Za(C.current.originalParams.virtual,Z)}};A.current||K(),C.current&&C.current.on("_beforeBreakpoint",L);const G=()=>{c||!O||!C.current||Object.keys(O).forEach(z=>{C.current.on(z,O[z])})},ne=()=>{!O||!C.current||Object.keys(O).forEach(z=>{C.current.off(z,O[z])})};k.useEffect(()=>()=>{C.current&&C.current.off("_beforeBreakpoint",L)}),k.useEffect(()=>{!x.current&&C.current&&(C.current.emitSlidesClasses(),x.current=!0)}),Fu(()=>{if(l&&(l.current=A.current),!!A.current)return C.current.destroyed&&K(),HB({el:A.current,nextEl:N.current,prevEl:j.current,paginationEl:q.current,scrollbarEl:se.current,swiper:C.current},F),s&&!C.current.destroyed&&s(C.current),()=>{C.current&&!C.current.destroyed&&C.current.destroy(!0,!1)}},[]),Fu(()=>{G();const z=WB(b,P.current,V,R.current,Z=>Z.key);return P.current=b,R.current=V,z.length&&C.current&&!C.current.destroyed&&jB({swiper:C.current,slides:V,passedParams:b,changedParams:z,nextEl:N.current,prevEl:j.current,scrollbarEl:se.current,paginationEl:q.current}),()=>{ne()}}),Fu(()=>{qB(C.current)},[m]);function X(){return F.virtual?KB(C.current,V,m):V.map((z,Z)=>y.cloneElement(z,{swiper:C.current,swiperSlideIndex:Z}))}return y.createElement(e,tf({ref:A,className:cA(`${u}${t?` ${t}`:""}`)},M),y.createElement(QB.Provider,{value:C.current},B["container-start"],y.createElement(n,{className:zB(F.wrapperClass)},B["wrapper-start"],X(),B["wrapper-end"]),aA(F)&&y.createElement(y.Fragment,null,y.createElement("div",{ref:j,className:"swiper-button-prev"}),y.createElement("div",{ref:N,className:"swiper-button-next"})),uA(F)&&y.createElement("div",{ref:se,className:"swiper-scrollbar"}),lA(F)&&y.createElement("div",{ref:q,className:"swiper-pagination"}),B["container-end"]))});yy.displayName="Swiper";const vy=k.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:s,lazy:o,virtualIndex:l,swiperSlideIndex:c,...u}={},h)=>{const m=k.useRef(null),[g,w]=k.useState("swiper-slide"),[_,x]=k.useState(!1);function A(N,j,q){j===m.current&&w(q)}Fu(()=>{if(typeof c<"u"&&(m.current.swiperSlideIndex=c),h&&(h.current=m.current),!(!m.current||!r)){if(r.destroyed){g!=="swiper-slide"&&w("swiper-slide");return}return r.on("_slideClass",A),()=>{r&&r.off("_slideClass",A)}}}),Fu(()=>{r&&m.current&&!r.destroyed&&w(r.getSlideClasses(m.current))},[r]);const C={isActive:g.indexOf("swiper-slide-active")>=0,isVisible:g.indexOf("swiper-slide-visible")>=0,isPrev:g.indexOf("swiper-slide-prev")>=0,isNext:g.indexOf("swiper-slide-next")>=0},P=()=>typeof e=="function"?e(C):e,R=()=>{x(!0)};return y.createElement(t,tf({ref:m,className:cA(`${g}${n?` ${n}`:""}`),"data-swiper-slide-index":l,onLoad:R},u),s&&y.createElement(KS.Provider,{value:C},y.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},P(),o&&!_&&y.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&y.createElement(KS.Provider,{value:C},P(),o&&!_&&y.createElement("div",{className:"swiper-lazy-preloader"})))});vy.displayName="SwiperSlide";function fA(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let o=Sr(t.el,`.${r[s]}`)[0];o||(o=Zh("div",r[s]),o.className=r[s],t.el.append(o)),n[s]=o,e[s]=o}}),n}const QS='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function YB({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null,arrowSvg:QS};function s(_){let x;return _&&typeof _=="string"&&t.isElement&&(x=t.el.querySelector(_)||t.hostEl.querySelector(_),x)?x:(_&&(typeof _=="string"&&(x=[...document.querySelectorAll(_)]),t.params.uniqueNavElements&&typeof _=="string"&&x&&x.length>1&&t.el.querySelectorAll(_).length===1?x=t.el.querySelector(_):x&&x.length===1&&(x=x[0])),_&&!x?_:x)}function o(_,x){const A=t.params.navigation;_=Wt(_),_.forEach(C=>{C&&(C.classList[x?"add":"remove"](...A.disabledClass.split(" ")),C.tagName==="BUTTON"&&(C.disabled=x),t.params.watchOverflow&&t.enabled&&C.classList[t.isLocked?"add":"remove"](A.lockClass))})}function l(){const{nextEl:_,prevEl:x}=t.navigation;if(t.params.loop){o(x,!1),o(_,!1);return}o(x,t.isBeginning&&!t.params.rewind),o(_,t.isEnd&&!t.params.rewind)}function c(_){_.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function u(_){_.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function h(){const _=t.params.navigation;if(t.params.navigation=fA(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(_.nextEl||_.prevEl))return;let x=s(_.nextEl),A=s(_.prevEl);Object.assign(t.navigation,{nextEl:x,prevEl:A}),x=Wt(x),A=Wt(A);const C=(P,R)=>{if(P){if(_.addIcons&&P.matches(".swiper-button-next,.swiper-button-prev")&&!P.querySelector("svg")){const N=document.createElement("div");ic(N,QS),P.appendChild(N.querySelector("svg")),N.remove()}P.addEventListener("click",R==="next"?u:c)}!t.enabled&&P&&P.classList.add(..._.lockClass.split(" "))};x.forEach(P=>C(P,"next")),A.forEach(P=>C(P,"prev"))}function m(){let{nextEl:_,prevEl:x}=t.navigation;_=Wt(_),x=Wt(x);const A=(C,P)=>{C.removeEventListener("click",P==="next"?u:c),C.classList.remove(...t.params.navigation.disabledClass.split(" "))};_.forEach(C=>A(C,"next")),x.forEach(C=>A(C,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?w():(h(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{m()}),n("enable disable",()=>{let{nextEl:_,prevEl:x}=t.navigation;if(_=Wt(_),x=Wt(x),t.enabled){l();return}[..._,...x].filter(A=>!!A).forEach(A=>A.classList.add(t.params.navigation.lockClass))}),n("click",(_,x)=>{let{nextEl:A,prevEl:C}=t.navigation;A=Wt(A),C=Wt(C);const P=x.target;let R=C.includes(P)||A.includes(P);if(t.isElement&&!R){const N=x.path||x.composedPath&&x.composedPath();N&&(R=N.find(j=>A.includes(j)||C.includes(j)))}if(t.params.navigation.hideOnClick&&!R){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===P||t.pagination.el.contains(P)))return;let N;A.length?N=A[0].classList.contains(t.params.navigation.hiddenClass):C.length&&(N=C[0].classList.contains(t.params.navigation.hiddenClass)),r(N===!0?"navigationShow":"navigationHide"),[...A,...C].filter(j=>!!j).forEach(j=>j.classList.toggle(t.params.navigation.hiddenClass))}});const g=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),h(),l()},w=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),m()};Object.assign(t.navigation,{enable:g,disable:w,update:l,init:h,destroy:m})}function vu(t=""){return`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function XB({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:P=>P,formatFractionTotal:P=>P,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let o,l=0;function c(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function u(P,R){const{bulletActiveClass:N}=t.params.pagination;P&&(P=P[`${R==="prev"?"previous":"next"}ElementSibling`],P&&(P.classList.add(`${N}-${R}`),P=P[`${R==="prev"?"previous":"next"}ElementSibling`],P&&P.classList.add(`${N}-${R}-${R}`)))}function h(P,R,N){if(P=P%N,R=R%N,R===P+1)return"next";if(R===P-1)return"previous"}function m(P){const R=P.target.closest(vu(t.params.pagination.bulletClass));if(!R)return;P.preventDefault();const N=ef(R)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===N)return;const j=h(t.realIndex,N,t.slides.length);j==="next"?t.slideNext():j==="previous"?t.slidePrev():t.slideToLoop(N)}else t.slideTo(N)}function g(){const P=t.rtl,R=t.params.pagination;if(c())return;let N=t.pagination.el;N=Wt(N);let j,q;const se=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,F=t.params.loop?Math.ceil(se/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(q=t.previousRealIndex||0,j=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(j=t.snapIndex,q=t.previousSnapIndex):(q=t.previousIndex||0,j=t.activeIndex||0),R.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const b=t.pagination.bullets;let M,O,V;if(R.dynamicBullets&&(o=py(b[0],t.isHorizontal()?"width":"height"),N.forEach(B=>{B.style[t.isHorizontal()?"width":"height"]=`${o*(R.dynamicMainBullets+4)}px`}),R.dynamicMainBullets>1&&q!==void 0&&(l+=j-(q||0),l>R.dynamicMainBullets-1?l=R.dynamicMainBullets-1:l<0&&(l=0)),M=Math.max(j-l,0),O=M+(Math.min(b.length,R.dynamicMainBullets)-1),V=(O+M)/2),b.forEach(B=>{const L=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(K=>`${R.bulletActiveClass}${K}`)].map(K=>typeof K=="string"&&K.includes(" ")?K.split(" "):K).flat();B.classList.remove(...L)}),N.length>1)b.forEach(B=>{const L=ef(B);L===j?B.classList.add(...R.bulletActiveClass.split(" ")):t.isElement&&B.setAttribute("part","bullet"),R.dynamicBullets&&(L>=M&&L<=O&&B.classList.add(...`${R.bulletActiveClass}-main`.split(" ")),L===M&&u(B,"prev"),L===O&&u(B,"next"))});else{const B=b[j];if(B&&B.classList.add(...R.bulletActiveClass.split(" ")),t.isElement&&b.forEach((L,K)=>{L.setAttribute("part",K===j?"bullet-active":"bullet")}),R.dynamicBullets){const L=b[M],K=b[O];for(let G=M;G<=O;G+=1)b[G]&&b[G].classList.add(...`${R.bulletActiveClass}-main`.split(" "));u(L,"prev"),u(K,"next")}}if(R.dynamicBullets){const B=Math.min(b.length,R.dynamicMainBullets+4),L=(o*B-o)/2-V*o,K=P?"right":"left";b.forEach(G=>{G.style[t.isHorizontal()?K:"top"]=`${L}px`})}}N.forEach((b,M)=>{if(R.type==="fraction"&&(b.querySelectorAll(vu(R.currentClass)).forEach(O=>{O.textContent=R.formatFractionCurrent(j+1)}),b.querySelectorAll(vu(R.totalClass)).forEach(O=>{O.textContent=R.formatFractionTotal(F)})),R.type==="progressbar"){let O;R.progressbarOpposite?O=t.isHorizontal()?"vertical":"horizontal":O=t.isHorizontal()?"horizontal":"vertical";const V=(j+1)/F;let B=1,L=1;O==="horizontal"?B=V:L=V,b.querySelectorAll(vu(R.progressbarFillClass)).forEach(K=>{K.style.transform=`translate3d(0,0,0) scaleX(${B}) scaleY(${L})`,K.style.transitionDuration=`${t.params.speed}ms`})}R.type==="custom"&&R.renderCustom?(ic(b,R.renderCustom(t,j+1,F)),M===0&&r("paginationRender",b)):(M===0&&r("paginationRender",b),r("paginationUpdate",b)),t.params.watchOverflow&&t.enabled&&b.classList[t.isLocked?"add":"remove"](R.lockClass)})}function w(){const P=t.params.pagination;if(c())return;const R=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let N=t.pagination.el;N=Wt(N);let j="";if(P.type==="bullets"){let q=t.params.loop?Math.ceil(R/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&q>R&&(q=R);for(let se=0;se<q;se+=1)P.renderBullet?j+=P.renderBullet.call(t,se,P.bulletClass):j+=`<${P.bulletElement} ${t.isElement?'part="bullet"':""} class="${P.bulletClass}"></${P.bulletElement}>`}P.type==="fraction"&&(P.renderFraction?j=P.renderFraction.call(t,P.currentClass,P.totalClass):j=`<span class="${P.currentClass}"></span> / <span class="${P.totalClass}"></span>`),P.type==="progressbar"&&(P.renderProgressbar?j=P.renderProgressbar.call(t,P.progressbarFillClass):j=`<span class="${P.progressbarFillClass}"></span>`),t.pagination.bullets=[],N.forEach(q=>{P.type!=="custom"&&ic(q,j||""),P.type==="bullets"&&t.pagination.bullets.push(...q.querySelectorAll(vu(P.bulletClass)))}),P.type!=="custom"&&r("paginationRender",N[0])}function _(){t.params.pagination=fA(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const P=t.params.pagination;if(!P.el)return;let R;typeof P.el=="string"&&t.isElement&&(R=t.el.querySelector(P.el)),!R&&typeof P.el=="string"&&(R=[...document.querySelectorAll(P.el)]),R||(R=P.el),!(!R||R.length===0)&&(t.params.uniqueNavElements&&typeof P.el=="string"&&Array.isArray(R)&&R.length>1&&(R=[...t.el.querySelectorAll(P.el)],R.length>1&&(R=R.find(N=>eA(N,".swiper")[0]===t.el))),Array.isArray(R)&&R.length===1&&(R=R[0]),Object.assign(t.pagination,{el:R}),R=Wt(R),R.forEach(N=>{P.type==="bullets"&&P.clickable&&N.classList.add(...(P.clickableClass||"").split(" ")),N.classList.add(P.modifierClass+P.type),N.classList.add(t.isHorizontal()?P.horizontalClass:P.verticalClass),P.type==="bullets"&&P.dynamicBullets&&(N.classList.add(`${P.modifierClass}${P.type}-dynamic`),l=0,P.dynamicMainBullets<1&&(P.dynamicMainBullets=1)),P.type==="progressbar"&&P.progressbarOpposite&&N.classList.add(P.progressbarOppositeClass),P.clickable&&N.addEventListener("click",m),t.enabled||N.classList.add(P.lockClass)}))}function x(){const P=t.params.pagination;if(c())return;let R=t.pagination.el;R&&(R=Wt(R),R.forEach(N=>{N.classList.remove(P.hiddenClass),N.classList.remove(P.modifierClass+P.type),N.classList.remove(t.isHorizontal()?P.horizontalClass:P.verticalClass),P.clickable&&(N.classList.remove(...(P.clickableClass||"").split(" ")),N.removeEventListener("click",m))})),t.pagination.bullets&&t.pagination.bullets.forEach(N=>N.classList.remove(...P.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const P=t.params.pagination;let{el:R}=t.pagination;R=Wt(R),R.forEach(N=>{N.classList.remove(P.horizontalClass,P.verticalClass),N.classList.add(t.isHorizontal()?P.horizontalClass:P.verticalClass)})}),n("init",()=>{t.params.pagination.enabled===!1?C():(_(),w(),g())}),n("activeIndexChange",()=>{typeof t.snapIndex>"u"&&g()}),n("snapIndexChange",()=>{g()}),n("snapGridLengthChange",()=>{w(),g()}),n("destroy",()=>{x()}),n("enable disable",()=>{let{el:P}=t.pagination;P&&(P=Wt(P),P.forEach(R=>R.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{g()}),n("click",(P,R)=>{const N=R.target,j=Wt(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&j&&j.length>0&&!N.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&N===t.navigation.nextEl||t.navigation.prevEl&&N===t.navigation.prevEl))return;const q=j[0].classList.contains(t.params.pagination.hiddenClass);r(q===!0?"paginationShow":"paginationHide"),j.forEach(se=>se.classList.toggle(t.params.pagination.hiddenClass))}});const A=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:P}=t.pagination;P&&(P=Wt(P),P.forEach(R=>R.classList.remove(t.params.pagination.paginationDisabledClass))),_(),w(),g()},C=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:P}=t.pagination;P&&(P=Wt(P),P.forEach(R=>R.classList.add(t.params.pagination.paginationDisabledClass))),x()};Object.assign(t.pagination,{enable:A,disable:C,render:w,update:g,init:_,destroy:x})}function YS({swiper:t,extendParams:e,on:n}){e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,s=!1;t.thumbs={swiper:null};function o(){const u=t.thumbs.swiper;if(!u||u.destroyed)return;const h=u.clickedIndex,m=u.clickedSlide;if(m&&m.classList.contains(t.params.thumbs.slideThumbActiveClass)||typeof h>"u"||h===null)return;let g;u.params.loop?g=parseInt(u.clickedSlide.getAttribute("data-swiper-slide-index"),10):g=h,t.params.loop?t.slideToLoop(g):t.slideTo(g)}function l(){const{thumbs:u}=t.params;if(r)return!1;r=!0;const h=t.constructor;if(u.swiper instanceof h){if(u.swiper.destroyed)return r=!1,!1;t.thumbs.swiper=u.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update()}else if(Iu(u.swiper)){const m=Object.assign({},u.swiper);Object.assign(m,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new h(m),s=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",o),!0}function c(u){const h=t.thumbs.swiper;if(!h||h.destroyed)return;const m=h.params.slidesPerView==="auto"?h.slidesPerViewDynamic():h.params.slidesPerView;let g=1;const w=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(g=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(g=1),g=Math.floor(g),h.slides.forEach(A=>A.classList.remove(w)),h.params.loop||h.params.virtual&&h.params.virtual.enabled)for(let A=0;A<g;A+=1)Sr(h.slidesEl,`[data-swiper-slide-index="${t.realIndex+A}"]`).forEach(C=>{C.classList.add(w)});else for(let A=0;A<g;A+=1)h.slides[t.realIndex+A]&&h.slides[t.realIndex+A].classList.add(w);const _=t.params.thumbs.autoScrollOffset,x=_&&!h.params.loop;if(t.realIndex!==h.realIndex||x){const A=h.activeIndex;let C,P;if(h.params.loop){const R=h.slides.find(N=>N.getAttribute("data-swiper-slide-index")===`${t.realIndex}`);C=h.slides.indexOf(R),P=t.activeIndex>t.previousIndex?"next":"prev"}else C=t.realIndex,P=C>t.previousIndex?"next":"prev";x&&(C+=P==="next"?_:-1*_),h.visibleSlidesIndexes&&h.visibleSlidesIndexes.indexOf(C)<0&&(h.params.centeredSlides?C>A?C=C-Math.floor(m/2)+1:C=C+Math.floor(m/2)-1:C>A&&h.params.slidesPerGroup,h.slideTo(C,u?0:void 0))}}n("beforeInit",()=>{const{thumbs:u}=t.params;if(!(!u||!u.swiper))if(typeof u.swiper=="string"||u.swiper instanceof HTMLElement){const h=ji(),m=()=>{const w=typeof u.swiper=="string"?h.querySelector(u.swiper):u.swiper;if(w&&w.swiper)u.swiper=w.swiper,l(),c(!0);else if(w){const _=`${t.params.eventsPrefix}init`,x=A=>{u.swiper=A.detail[0],w.removeEventListener(_,x),l(),c(!0),u.swiper.update(),t.update()};w.addEventListener(_,x)}return w},g=()=>{if(t.destroyed)return;m()||requestAnimationFrame(g)};requestAnimationFrame(g)}else l(),c(!0)}),n("slideChange update resize observerUpdate",()=>{c()}),n("setTransition",(u,h)=>{const m=t.thumbs.swiper;!m||m.destroyed||m.setTransition(h)}),n("beforeDestroy",()=>{const u=t.thumbs.swiper;!u||u.destroyed||s&&u.destroy()}),Object.assign(t.thumbs,{init:l,update:c})}const JB=()=>{const{id:t}=by(),e=ir(),[n,r]=k.useState(null),[s,o]=k.useState([]),[l,c]=k.useState(!0),[u,h]=k.useState(!0),[m,g]=k.useState(!1),[w,_]=k.useState(null),[x,A]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const j=Ze(Re,"products",t),q=await ns(j);if(!q.exists()){lt.error("Product not found"),e("/browse");return}r({id:q.id,...q.data()})}catch{lt.error("Something went wrong"),e("/browse")}finally{c(!1)}})()},[t,e]),k.useEffect(()=>{if(!n?.category)return;(async()=>{h(!0);try{const j=Di(bt(Re,"products"),Ps("category","==",n.category)),q=await Zt(j);o(q.docs.map(se=>({id:se.id,...se.data()})).filter(se=>se.id!==t).slice(0,6))}catch{}finally{h(!1)}})()},[n,t]);const C=()=>{navigator.clipboard.writeText(`${window.location.origin}/product/${t}`),lt.success("Link copied"),g(!1)},P=async()=>{if(!Ge.currentUser){lt.error("Please login to chat"),e("/login");return}try{const N=await w9({productId:n.id,productTitle:n.title,productImage:n.imageUrls?.[0]||n.imageUrl||"",buyer:{uid:Ge.currentUser.uid,name:Ge.currentUser.displayName||"Buyer"},seller:{uid:n.userId,name:n.sellerName||"Seller"}});e(`/messages/${N}`)}catch(N){console.error(N),lt.error("Unable to start chat")}};if(l||!n)return y.createElement("div",{className:"p-4 text-center"},"Loading...");const R=n.imageUrls?.length?n.imageUrls:[n.imageUrl];return y.createElement(yi.div,{className:"px-4 py-6 min-h-screen bg-gray-50 max-w-6xl mx-auto"},y.createElement("button",{onClick:()=>e(-1),className:"mb-4 text-blue-600 text-sm"}," Back"),y.createElement("div",{className:"bg-white rounded-2xl shadow p-5 grid grid-cols-1 md:grid-cols-2 gap-6"},y.createElement("div",null,y.createElement(yy,{modules:[YB,XB,YS],navigation:!0,pagination:!0,thumbs:{swiper:w}},R.map((N,j)=>y.createElement(vy,{key:j},y.createElement("img",{src:N,alt:"",className:"w-full h-[350px] object-contain bg-gray-100"})))),y.createElement(yy,{modules:[YS],onSwiper:_,slidesPerView:4,spaceBetween:10,className:"mt-3"},R.map((N,j)=>y.createElement(vy,{key:j},y.createElement("img",{src:N,className:"w-full h-20 object-cover rounded-lg border"}))))),y.createElement("div",{className:"relative"},y.createElement("div",{className:"absolute top-4 right-4"},y.createElement("button",{onClick:()=>g(!m),className:"border p-2 rounded-full"},y.createElement(v9,null)),m&&y.createElement("div",{className:"absolute right-0 mt-2 bg-white border rounded shadow"},y.createElement("button",{onClick:C,className:"px-4 py-2 text-sm flex items-center"},y.createElement(g9,{className:"mr-2"})," Copy link"))),y.createElement("h1",{className:"text-2xl font-bold"},n.title),y.createElement("div",{className:`text-gray-700 mt-2 ${x?"":"max-h-24 overflow-hidden"}`},n.description),n.description?.length>120&&y.createElement("button",{onClick:()=>A(!x),className:"text-blue-600 text-sm"},x?"Read less":"Read more"),y.createElement("div",{className:"text-2xl text-green-600 font-bold mt-4"},"",n.price),y.createElement("div",{className:"flex gap-2 mt-3"},y.createElement("span",{className:"px-3 py-1 bg-yellow-100 rounded-full text-sm"},n.category),y.createElement("span",{className:"px-3 py-1 bg-pink-100 rounded-full text-sm flex items-center"},y.createElement(y9,{className:"mr-1"})," ",n.location)),y.createElement("button",{onClick:P,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl font-semibold"}," Chat with Seller (No phone number shared)"),(n.contact||n.sellerPhone)&&y.createElement("button",{onClick:()=>window.open(`https://wa.me/91${n.sellerPhone}`,"_blank"),className:"w-full border border-gray-300 text-gray-600 py-2 rounded-xl text-sm mt-2"},"Contact on WhatsApp"),y.createElement("div",{className:"mt-12"},y.createElement("h3",{className:"text-lg font-semibold mb-4"}," Similar Products"),u?y.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Array.from({length:3}).map((N,j)=>y.createElement("div",{key:j,className:"animate-pulse bg-white p-4 rounded-2xl shadow h-48"}))):s.length>0?y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},s.map(N=>y.createElement(yi.div,{key:N.id,whileHover:{scale:1.02},className:"bg-white rounded-2xl shadow p-3"},y.createElement(Le,{to:`/product/${N.id}`},y.createElement("img",{src:N.imageUrls?.[0]||N.imageUrl,className:"w-full h-36 object-cover rounded-xl",alt:N.title}),y.createElement("h4",{className:"text-sm font-semibold mt-2 line-clamp-2"},N.title),y.createElement("p",{className:"text-sm text-green-600 font-bold"},"",N.price),y.createElement("p",{className:"text-xs text-gray-500"}," ",N.location))))):y.createElement("p",{className:"text-sm text-gray-600"},"No similar products found.")))))},ZB=()=>y.createElement("div",{className:"max-w-4xl mx-auto p-6 text-gray-800"},y.createElement("h1",{className:"text-3xl font-bold mb-4"},"Terms and Conditions"),y.createElement("p",null,"Last updated: July 31, 2025"),y.createElement("p",{className:"mt-4"},"Welcome to ",y.createElement("strong",null,"MyAmravati Market"),". By accessing or using our platform, you agree to comply with and be bound by the following terms and conditions."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"1. Acceptance of Terms"),y.createElement("p",null,"By registering, listing products, or browsing MyAmravati Market, you agree to these Terms. If you do not agree, please do not use the platform."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"2. User Responsibilities"),y.createElement("ul",{className:"list-disc ml-6"},y.createElement("li",null,"You are responsible for the accuracy of the information you provide."),y.createElement("li",null,"You must not post illegal, fake, or misleading products."),y.createElement("li",null,"You must be located in or around Amravati District, Maharashtra.")),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"3. Posting Limits"),y.createElement("p",null,"Users can post up to 3 products per day. We may adjust these limits at our discretion."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"4. Prohibited Content"),y.createElement("p",null,"Users must not post items that are illegal, banned, harmful, or infringe intellectual property rights."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"5. Termination"),y.createElement("p",null,"We reserve the right to remove any listings or ban users who violate these terms without prior notice."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"6. Changes"),y.createElement("p",null,"These Terms may change from time to time. We'll update this page and notify users when major changes occur."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"7. Contact"),y.createElement("p",null,"For any queries, contact us at: ",y.createElement("strong",null,"sanidhyapethe@gmail.com"))),ez=()=>y.createElement("div",{className:"max-w-4xl mx-auto p-6 text-gray-800"},y.createElement("h1",{className:"text-3xl font-bold mb-4"},"Privacy Policy"),y.createElement("p",null,"Last updated: July 31, 2025"),y.createElement("p",{className:"mt-4"},"MyAmravati Market is committed to protecting your privacy. This policy outlines what information we collect and how we use it."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"1. Information We Collect"),y.createElement("ul",{className:"list-disc ml-6"},y.createElement("li",null,"Your name, email, and phone number (if provided)"),y.createElement("li",null,"Product listings, images, and location (if shared)"),y.createElement("li",null,"Technical data like IP address, device info")),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"2. How We Use Your Data"),y.createElement("ul",{className:"list-disc ml-6"},y.createElement("li",null,"To show your listings on the platform"),y.createElement("li",null,"To help other users contact you via WhatsApp"),y.createElement("li",null,"To improve the platform experience")),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"3. Data Sharing"),y.createElement("p",null,"We do not sell your personal data. We only show your data to buyers who view your listing (e.g., phone number on WhatsApp button)."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"4. Cookies"),y.createElement("p",null,"We may use cookies for analytics and improving user experience."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"5. Your Rights"),y.createElement("p",null,"You can request deletion of your data by contacting us."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"6. Contact"),y.createElement("p",null,"For any privacy-related questions, email: ",y.createElement("strong",null,"sanidhyapethe@gmail.com"))),tz=()=>React.createElement("div",{className:"text-center mt-5"},React.createElement("h2",null,"404  Page Not Found"),React.createElement("p",null,"Oops! This page doesn't exist."));/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),XS=t=>{const e=rz(t);return e.charAt(0).toUpperCase()+e.slice(1)},pA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),sz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...c},u)=>k.createElement("svg",{ref:u,...iz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pA("lucide",s),...!o&&!sz(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>k.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(t,e)=>{const n=k.forwardRef(({className:r,...s},o)=>k.createElement(oz,{ref:o,iconNode:e,className:pA(`lucide-${nz(XS(t))}`,`lucide-${t}`,r),...s}));return n.displayName=XS(t),n};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],lz=It("chart-column",az);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],T0=It("circle-check-big",uz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dz=It("circle-x",cz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],fz=It("clipboard-list",hz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bf=It("clock",pz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],gz=It("flame",mz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vz=It("layout-dashboard",yz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ez=It("log-out",wz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Tz=It("message-circle",_z);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],xz=It("package",Sz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Iz=It("shield",bz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Az=It("shopping-bag",Cz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Rz=It("shopping-cart",Pz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nz=It("star",kz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Mz=It("store",Dz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Oz=It("trash-2",Lz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],S0=It("triangle-alert",Vz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Uz=It("user-check",Fz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],zz=It("user-x",Bz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$z=It("user",jz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wz=It("users",Hz),mA=({activeTab:t,setActiveTab:e})=>{const n=async()=>{await Ge.signOut(),window.location.href="/"},r=({tab:s,icon:o,label:l})=>y.createElement("button",{onClick:()=>e(s),className:`flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition ${t===s?"bg-indigo-600 text-white":"text-gray-700 hover:bg-gray-100"}`},y.createElement(o,{size:18}),l);return y.createElement("aside",{className:"w-64 bg-white border-r min-h-screen flex flex-col"},y.createElement("div",{className:"p-5 border-b"},y.createElement("h2",{className:"text-xl font-bold text-indigo-600"},"Admin Panel"),y.createElement("p",{className:"text-xs text-gray-500 mt-1"},"MyAmravati Market")),y.createElement("div",{className:"flex-1 p-4 space-y-1"},y.createElement(r,{tab:"dashboard",icon:vz,label:"Dashboard"}),y.createElement(r,{tab:"products",icon:Az,label:"Products"}),y.createElement(r,{tab:"users",icon:Wz,label:"Users"}),y.createElement(r,{tab:"orders",icon:fz,label:"Orders"}),y.createElement(r,{tab:"seller-report",icon:S0,label:"Seller Reports"}),y.createElement(r,{tab:"analytics",icon:lz,label:"Analytics"})),y.createElement("div",{className:"p-4 border-t"},y.createElement("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm transition"},y.createElement(Ez,{size:16}),"Logout")))},gA=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),[s,o]=k.useState("");k.useEffect(()=>{(async()=>{try{const w=await Zt(bt(Re,"products"));e(w.docs.map(_=>({id:_.id,..._.data()})))}catch(w){console.error(w),Ie.error("Failed to load products")}finally{r(!1)}})()},[]);const l=async g=>{if(window.confirm(` Delete "${g.title}" permanently?
This action cannot be undone.`))try{await Oo(Ze(Re,"products",g.id)),e(_=>_.filter(x=>x.id!==g.id)),Ie.success(" Product deleted")}catch{Ie.error("Delete failed")}},c=async g=>{try{await sr(Ze(Re,"products",g.id),{approved:!g.approved}),e(w=>w.map(_=>_.id===g.id?{..._,approved:!g.approved}:_)),Ie.success(g.approved?"Product unpublished":"Product approved")}catch{Ie.error("Approval update failed")}},u=async g=>{try{await sr(Ze(Re,"products",g.id),{promoted:!g.promoted}),e(w=>w.map(_=>_.id===g.id?{..._,promoted:!g.promoted}:_)),Ie.success(g.promoted?"Promotion removed":"Product promoted")}catch{Ie.error("Promotion update failed")}},h=k.useMemo(()=>{if(!s)return t;const g=s.toLowerCase();return t.filter(w=>w.title?.toLowerCase().includes(g)||w.userEmail?.toLowerCase().includes(g)||w.location?.toLowerCase().includes(g))},[t,s]),m={total:t.length,pending:t.filter(g=>!g.approved).length,promoted:t.filter(g=>g.promoted).length};return n?y.createElement("p",{className:"text-gray-500"},"Loading products"):y.createElement("div",{className:"space-y-5"},y.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},y.createElement("h1",{className:"text-2xl font-bold"}," Products Management"),y.createElement("input",{value:s,onChange:g=>o(g.target.value),placeholder:"Search title / seller / location",className:"px-3 py-2 border rounded-lg text-sm w-full sm:w-64"})),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},y.createElement(rg,{label:"Total Products",value:m.total}),y.createElement(rg,{label:"Pending Approval",value:m.pending}),y.createElement(rg,{label:"Promoted",value:m.promoted})),y.createElement("div",{className:"overflow-x-auto bg-white rounded-2xl shadow"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",{className:"bg-gray-100"},y.createElement("tr",null,y.createElement("th",{className:"p-3 text-left"},"Product"),y.createElement("th",{className:"p-3"},"Seller"),y.createElement("th",{className:"p-3"},"Price"),y.createElement("th",{className:"p-3"},"Status"),y.createElement("th",{className:"p-3"},"Actions"))),y.createElement("tbody",null,h.map(g=>y.createElement("tr",{key:g.id,className:"border-t hover:bg-gray-50"},y.createElement("td",{className:"p-3"},y.createElement("p",{className:"font-semibold"},g.title),y.createElement("p",{className:"text-xs text-gray-500"},g.category,"  ",g.location)),y.createElement("td",{className:"p-3 text-xs"},g.userEmail||"N/A"),y.createElement("td",{className:"p-3 font-semibold text-green-600"},"",g.price),y.createElement("td",{className:"p-3 text-xs space-x-2"},!g.approved&&y.createElement(sg,{color:"yellow",icon:Bf,label:"Pending"}),g.approved&&y.createElement(sg,{color:"green",icon:T0,label:"Approved"}),g.promoted&&y.createElement(sg,{color:"blue",icon:Nz,label:"Promoted"})),y.createElement("td",{className:"p-3 flex gap-2 flex-wrap"},y.createElement("button",{onClick:()=>c(g),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded"},g.approved?"Unpublish":"Approve"),y.createElement("button",{onClick:()=>u(g),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded"},g.promoted?"Remove Promo":"Promote"),y.createElement("button",{onClick:()=>l(g),className:"px-2 py-1 text-xs bg-red-600 text-white rounded flex items-center gap-1"},y.createElement(Oz,{size:14})," Delete")))),h.length===0&&y.createElement("tr",null,y.createElement("td",{colSpan:"5",className:"p-6 text-center text-gray-500"},"No products found"))))))},rg=({label:t,value:e})=>y.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},y.createElement("p",{className:"text-xs text-gray-500"},t),y.createElement("p",{className:"text-2xl font-bold"},e)),sg=({color:t,icon:e,label:n})=>{const r={green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700",blue:"bg-blue-100 text-blue-700"};return y.createElement("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded ${r[t]}`},y.createElement(e,{size:12})," ",n)},yA=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),[s,o]=k.useState(""),l=Ge.currentUser?.uid;k.useEffect(()=>{(async()=>{try{const g=await Zt(bt(Re,"users"));e(g.docs.map(w=>({id:w.id,...w.data()})))}catch(g){console.error(g),Ie.error("Failed to load users")}finally{r(!1)}})()},[]);const c=async(m,g)=>{if(m===l){Ie.error("You cannot change your own role");return}try{await sr(Ze(Re,"users",m),{role:g}),e(w=>w.map(_=>_.id===m?{..._,role:g}:_)),Ie.success(`Role updated to ${g}`)}catch{Ie.error("Failed to update role")}},u=async m=>{if(m.id===l){Ie.error("You cannot block yourself");return}try{await sr(Ze(Re,"users",m.id),{isBlocked:!m.isBlocked}),e(g=>g.map(w=>w.id===m.id?{...w,isBlocked:!w.isBlocked}:w)),Ie.success(m.isBlocked?"User unblocked":"User blocked")}catch{Ie.error("Action failed")}},h=k.useMemo(()=>{if(!s)return t;const m=s.toLowerCase();return t.filter(g=>g.email?.toLowerCase().includes(m)||g.name?.toLowerCase().includes(m)||g.role?.toLowerCase().includes(m))},[t,s]);return n?y.createElement("p",{className:"text-gray-500"},"Loading users"):y.createElement("div",{className:"space-y-4"},y.createElement("div",{className:"flex items-center justify-between"},y.createElement("h1",{className:"text-2xl font-bold"}," Users"),y.createElement("input",{value:s,onChange:m=>o(m.target.value),placeholder:"Search name / email / role",className:"px-3 py-2 border rounded-lg text-sm w-64"})),y.createElement("div",{className:"overflow-x-auto bg-white rounded-xl shadow"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",{className:"bg-gray-100"},y.createElement("tr",null,y.createElement("th",{className:"p-3 text-left"},"User"),y.createElement("th",{className:"p-3"},"Role"),y.createElement("th",{className:"p-3"},"Status"),y.createElement("th",{className:"p-3"},"Actions"))),y.createElement("tbody",null,h.map(m=>y.createElement("tr",{key:m.id,className:"border-t"},y.createElement("td",{className:"p-3"},y.createElement("p",{className:"font-semibold"},m.name||""),y.createElement("p",{className:"text-xs text-gray-500"},m.email)),y.createElement("td",{className:"p-3 text-center"},y.createElement("span",{className:`px-2 py-1 text-xs rounded ${m.role==="admin"?"bg-indigo-100 text-indigo-700":m.role==="seller"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`},m.role||"user")),y.createElement("td",{className:"p-3 text-center text-xs"},m.isBlocked?y.createElement("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded"},"Blocked"):y.createElement("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded"},"Active")),y.createElement("td",{className:"p-3 flex gap-2 justify-center flex-wrap"},m.role!=="seller"&&y.createElement("button",{onClick:()=>c(m.id,"seller"),className:"px-2 py-1 text-xs bg-yellow-500 text-white rounded"},y.createElement(Mz,{size:14})," Seller"),m.role!=="admin"&&y.createElement("button",{onClick:()=>c(m.id,"admin"),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded"},y.createElement(Iz,{size:14})," Admin"),y.createElement("button",{onClick:()=>u(m),className:`px-2 py-1 text-xs rounded ${m.isBlocked?"bg-green-600 text-white":"bg-red-600 text-white"}`},m.isBlocked?y.createElement(y.Fragment,null,y.createElement(Uz,{size:14})," Unblock"):y.createElement(y.Fragment,null,y.createElement(zz,{size:14})," Block"))))),h.length===0&&y.createElement("tr",null,y.createElement("td",{colSpan:"4",className:"p-6 text-center text-gray-500"},"No users found"))))))},vA=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),[s,o]=k.useState("");k.useEffect(()=>{(async()=>{try{const u=await Zt(bt(Re,"orders"));e(u.docs.map(h=>({id:h.id,...h.data()})))}finally{r(!1)}})()},[]);const l=k.useMemo(()=>{if(!s)return t;const c=s.toLowerCase();return t.filter(u=>u.buyerEmail?.toLowerCase().includes(c)||u.productTitle?.toLowerCase().includes(c))},[t,s]);return n?y.createElement("p",{className:"text-gray-500"},"Loading orders"):y.createElement("div",{className:"space-y-5"},y.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},y.createElement("h1",{className:"text-2xl font-bold"}," Orders"),y.createElement("input",{value:s,onChange:c=>o(c.target.value),placeholder:"Search buyer / product",className:"px-3 py-2 border rounded-lg text-sm w-full sm:w-64"})),l.length===0?y.createElement("div",{className:"bg-white rounded-xl shadow p-6 text-center text-gray-500"},"No orders found."):y.createElement("div",{className:"space-y-3"},l.map(c=>y.createElement("div",{key:c.id,className:"bg-white rounded-xl shadow-sm p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},y.createElement("div",null,y.createElement("p",{className:"font-semibold"},c.productTitle||"Unknown product"),y.createElement("p",{className:"text-sm text-gray-500"},"Buyer: ",c.buyerEmail||"N/A")),y.createElement("div",{className:"flex items-center gap-3"},y.createElement(qz,{status:c.status}),c.createdAt?.toDate&&y.createElement("span",{className:"text-xs text-gray-400"},c.createdAt.toDate().toLocaleDateString()))))))},qz=({status:t})=>t==="completed"?y.createElement(ig,{icon:T0,color:"green",label:"Completed"}):t==="cancelled"?y.createElement(ig,{icon:dz,color:"red",label:"Cancelled"}):y.createElement(ig,{icon:Bf,color:"yellow",label:"Pending"}),ig=({icon:t,color:e,label:n})=>{const r={green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700",red:"bg-red-100 text-red-700"};return y.createElement("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${r[e]}`},y.createElement(t,{size:14}),n)},Gz=async()=>{const t=bt(Re,"conversations"),n=(await Zt(t)).docs.map(g=>({id:g.id,...g.data()})),r=n.length;let s=0,o=[];const l={},c=Date.now(),u=1440*60*1e3;n.forEach(g=>{const{createdAt:w,lastMessageAt:_,buyerUnread:x,sellerUnread:A,productId:C,productTitle:P,buyerId:R,sellerId:N}=g;if(_?.toMillis&&(x>0||A>0)&&c-_.toMillis()>u&&s++,w?.toMillis&&_?.toMillis&&A===0){const j=(_.toMillis()-w.toMillis())/6e4;j>0&&j<10080&&o.push(j)}C&&(l[C]?l[C].chatCount++:l[C]={productId:C,productTitle:P||"Unknown product",chatCount:1})});const h=o.length>0?Math.round(o.reduce((g,w)=>g+w,0)/o.length):0,m=Object.values(l).sort((g,w)=>w.chatCount-g.chatCount).slice(0,10);return{totalConversations:r,deadConversations:s,avgSellerResponseMinutes:h,topProducts:m}},x0=()=>{const[t,e]=k.useState(!0),[n,r]=k.useState(null);return k.useEffect(()=>{(async()=>{try{const o=await Gz();r(o)}catch(o){console.error("Analytics error:",o)}finally{e(!1)}})()},[]),t?y.createElement("div",{className:"p-8 text-center text-gray-500"}," Loading admin analytics"):n?y.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-8"},y.createElement("div",null,y.createElement("h1",{className:"text-3xl font-bold text-gray-900"}," Admin Analytics"),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Platform communication & engagement insights")),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-5"},y.createElement(og,{icon:Tz,title:"Total Conversations",value:n.totalConversations,description:"Chats initiated on platform",color:"blue"}),y.createElement(og,{icon:S0,title:"Dead Conversations",value:n.deadConversations,description:"No reply in last 24 hours",color:n.deadConversations>0?"red":"green"}),y.createElement(og,{icon:Bf,title:"Avg Seller Response",value:n.avgSellerResponseMinutes?`${n.avgSellerResponseMinutes} min`:"N/A",description:"Average first reply time",color:"indigo"})),y.createElement("div",{className:"bg-white rounded-2xl shadow-sm p-6"},y.createElement("div",{className:"flex items-center gap-2 mb-4"},y.createElement(gz,{className:"text-orange-500"}),y.createElement("h2",{className:"text-lg font-semibold"},"Top Products by Conversations")),n.topProducts.length===0?y.createElement("div",{className:"text-center py-8 text-gray-500"},"No chat activity data available yet."):y.createElement("div",{className:"overflow-x-auto"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",null,y.createElement("tr",{className:"border-b text-left text-gray-600"},y.createElement("th",{className:"py-3"},"Product"),y.createElement("th",{className:"py-3 text-right"},"Chats"))),y.createElement("tbody",null,n.topProducts.map((s,o)=>y.createElement("tr",{key:s.productId,className:"border-b last:border-none hover:bg-gray-50 transition"},y.createElement("td",{className:"py-3 font-medium text-gray-800"},y.createElement("div",{className:"flex items-center gap-2"},y.createElement("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded-full"},"#",o+1),s.productTitle||"Unnamed product")),y.createElement("td",{className:"py-3 text-right font-semibold"},s.chatCount))))))),y.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-sm text-blue-700"}," Tip: High chat but low conversions usually indicate pricing, trust, or seller response issues.")):y.createElement("div",{className:"p-8 text-center text-red-600"}," Failed to load analytics data.")},og=({icon:t,title:e,value:n,description:r,color:s})=>{const o={blue:"text-blue-600 bg-blue-50",red:"text-red-600 bg-red-50",green:"text-green-600 bg-green-50",indigo:"text-indigo-600 bg-indigo-50"};return y.createElement("div",{className:"bg-white rounded-2xl shadow-sm p-5"},y.createElement("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${o[s]}`},y.createElement(t,{size:20})),y.createElement("p",{className:"text-sm text-gray-500 mt-3"},e),y.createElement("p",{className:"text-3xl font-bold mt-1"},n),y.createElement("p",{className:"text-xs text-gray-400 mt-1"},r))},Kz=async()=>{const t=bt(Re,"conversations"),n=(await Zt(t)).docs.map(c=>({id:c.id,...c.data()})),r={},s=Date.now(),o=1440*60*1e3;n.forEach(c=>{const{sellerId:u,sellerName:h,lastMessageAt:m,buyerUnread:g}=c;u&&(r[u]||(r[u]={sellerId:u,sellerName:h||"Unknown seller",totalChats:0,deadChats:0}),r[u].totalChats+=1,g>0&&m?.toMillis&&s-m.toMillis()>o&&(r[u].deadChats+=1))});const l=Object.values(r).map(c=>{const u=c.totalChats>0?Math.round(c.deadChats/c.totalChats*100):0;let h="Good";return u>40?h="Very slow":u>=20&&(h="Needs improvement"),{...c,deadRatio:u,status:h}});return l.sort((c,u)=>u.deadRatio-c.deadRatio),l},Qz={Good:{label:"Good",color:"bg-green-100 text-green-700",icon:T0},"Needs improvement":{label:"Needs Improvement",color:"bg-yellow-100 text-yellow-800",icon:Bf},"Very slow":{label:"Very Slow",color:"bg-red-100 text-red-700",icon:S0}},b0=()=>{const[t,e]=k.useState(!0),[n,r]=k.useState([]);if(k.useEffect(()=>{(async()=>{try{const c=[...await Kz()].sort((u,h)=>h.deadRatio-u.deadRatio);r(c)}catch(l){console.error("Seller report error:",l)}finally{e(!1)}})()},[]),t)return y.createElement("div",{className:"p-8 text-center text-gray-500"}," Loading seller response report");if(n.length===0)return y.createElement("div",{className:"p-8 text-center text-gray-500"},"No seller response data available yet.");const s=n.filter(o=>o.status==="Very slow").length;return y.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6"},y.createElement("div",null,y.createElement("h1",{className:"text-3xl font-bold text-gray-900"}," Seller Response Report"),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Measure seller responsiveness & trust impact")),s>0&&y.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-sm text-red-700"}," ",s," seller(s) have ",y.createElement("strong",null,"very slow")," response. These sellers reduce buyer trust and platform retention."),y.createElement("div",{className:"overflow-x-auto bg-white rounded-2xl shadow-sm"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",null,y.createElement("tr",{className:"border-b text-left text-gray-600"},y.createElement("th",{className:"py-3 px-4"},"Seller"),y.createElement("th",{className:"py-3 px-4"},"Total Chats"),y.createElement("th",{className:"py-3 px-4"},"Dead Chats"),y.createElement("th",{className:"py-3 px-4"},"Dead %"),y.createElement("th",{className:"py-3 px-4"},"Status"))),y.createElement("tbody",null,n.map((o,l)=>{const c=Qz[o.status],u=c.icon;return y.createElement("tr",{key:o.sellerId,className:"border-b last:border-none hover:bg-gray-50 transition"},y.createElement("td",{className:"py-3 px-4 font-medium text-gray-900"},y.createElement("div",{className:"flex items-center gap-2"},y.createElement("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full"},"#",l+1),o.sellerName)),y.createElement("td",{className:"py-3 px-4"},o.totalChats),y.createElement("td",{className:"py-3 px-4"},o.deadChats),y.createElement("td",{className:"py-3 px-4"},y.createElement("div",{className:"flex items-center gap-2"},y.createElement("div",{className:"w-24 bg-gray-100 rounded-full h-2"},y.createElement("div",{className:`h-2 rounded-full ${o.deadRatio>50?"bg-red-500":o.deadRatio>25?"bg-yellow-400":"bg-green-500"}`,style:{width:`${o.deadRatio}%`}})),y.createElement("span",{className:"text-xs font-medium"},o.deadRatio,"%"))),y.createElement("td",{className:"py-3 px-4"},y.createElement("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${c.color}`},y.createElement(u,{size:14}),c.label)))})))),y.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-sm text-blue-700"}," Tip: Sellers with high dead chat ratio should be warned, guided, or temporarily restricted to maintain marketplace quality."))},wy=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(!0),[s,o]=k.useState("dashboard"),[l,c]=k.useState({totalProducts:0,totalUsers:0,totalOrders:0}),[u,h]=k.useState(!0);if(k.useEffect(()=>{(async()=>{try{const _=Ge.currentUser;if(!_){e("guest");return}const x=await ns(Ze(Re,"users",_.uid));e(x.exists()?x.data().role:"user")}catch(_){console.error("Role fetch failed:",_),e("user")}finally{r(!1)}})()},[]),k.useEffect(()=>{if(t!=="admin")return;(async()=>{try{h(!0);const[_,x,A]=await Promise.all([Zt(bt(Re,"products")),Zt(bt(Re,"users")),Zt(bt(Re,"orders"))]);c({totalProducts:_.size,totalUsers:x.size,totalOrders:A.size})}catch(_){console.error("Failed to load admin stats",_)}finally{h(!1)}})()},[t]),n)return y.createElement("div",{className:"h-screen flex items-center justify-center text-gray-500"}," Verifying admin access...");if(t!=="admin")return y.createElement("div",{className:"h-screen flex items-center justify-center text-red-600 font-semibold"}," Access Denied  Admins only");const m=()=>{switch(s){case"dashboard":return g();case"products":return y.createElement(gA,null);case"users":return y.createElement(yA,null);case"orders":return y.createElement(vA,null);case"analytics":return y.createElement(x0,null);case"seller-report":return y.createElement(b0,null);default:return g()}},g=()=>y.createElement(y.Fragment,null,y.createElement("h1",{className:"text-3xl font-bold mb-6 text-indigo-700"}," MyAmravati Market  Admin Dashboard"),u?y.createElement("div",{className:"flex items-center gap-2 text-gray-500"},y.createElement("div",{className:"animate-spin h-5 w-5 border-2 border-indigo-500 border-t-transparent rounded-full"}),"Loading statistics..."):y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8"},y.createElement(ag,{icon:xz,label:"Total Products",value:l.totalProducts,color:"text-indigo-600"}),y.createElement(ag,{icon:$z,label:"Total Users",value:l.totalUsers,color:"text-green-600"}),y.createElement(ag,{icon:Rz,label:"Total Orders",value:l.totalOrders,color:"text-pink-600"})));return y.createElement("div",{className:"flex h-screen bg-gray-50"},y.createElement(mA,{activeTab:s,setActiveTab:o}),y.createElement("main",{className:"flex-1 p-6 overflow-y-auto"},m()))},ag=({icon:t,label:e,value:n,color:r})=>y.createElement("div",{className:"bg-white p-5 rounded-xl shadow hover:shadow-lg transition"},y.createElement("div",{className:"flex items-center"},y.createElement(t,{className:`${r} mr-3`,size:26}),y.createElement("div",null,y.createElement("p",{className:"text-sm text-gray-500"},e),y.createElement("h2",{className:"text-2xl font-semibold"},n)))),Yz=()=>{const[t,e]=k.useState(!0),[n,r]=k.useState(null),[s,o]=k.useState(null),[l,c]=k.useState("dashboard");if(k.useEffect(()=>{const h=hf(Ge,async m=>{if(!m){r(null),o(null),e(!1);return}r(m);try{const g=await ns(Ze(Re,"users",m.uid));o(g.exists()?g.data().role:"user")}catch(g){console.error("Admin role fetch failed",g),o("user")}finally{e(!1)}});return()=>h()},[]),t)return y.createElement("div",{className:"min-h-screen flex items-center justify-center text-gray-500"},"Checking admin access");if(!n)return y.createElement(h1,{to:"/login"});if(s!=="admin")return y.createElement("div",{className:"min-h-screen flex items-center justify-center text-red-600"},"Access denied. Admins only.");const u=()=>{switch(l){case"dashboard":return y.createElement(wy,null);case"products":return y.createElement(gA,null);case"users":return y.createElement(yA,null);case"orders":return y.createElement(vA,null);case"analytics":return y.createElement(x0,null);case"seller-report":return y.createElement(b0,null);default:return y.createElement(wy,null)}};return y.createElement(yi.div,{className:"flex min-h-screen bg-gray-50",initial:{opacity:0},animate:{opacity:1}},y.createElement(mA,{activeTab:l,setActiveTab:c}),y.createElement("main",{className:"flex-1 p-6 overflow-y-auto"},u()))},Xz=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const c=await Zt(bt(Re,"featuredRequests"));e(c.docs.map(u=>({id:u.id,...u.data()})))}catch(c){console.error(c),Ie.error("Failed to load featured requests")}finally{r(!1)}})()},[]);const s=async l=>{try{const c=new Date;c.setDate(c.getDate()+(l.planDays||7)),await sr(Ze(Re,"products",l.productId),{featured:!0,featuredExpiresAt:Ye.fromDate(c)}),await Oo(Ze(Re,"featuredRequests",l.id)),e(u=>u.filter(h=>h.id!==l.id)),Ie.success("Product featured successfully")}catch(c){console.error(c),Ie.error("Failed to approve request")}},o=async l=>{try{await Oo(Ze(Re,"featuredRequests",l)),e(c=>c.filter(u=>u.id!==l)),Ie.success("Request rejected")}catch{Ie.error("Failed to reject request")}};return n?y.createElement("p",{className:"text-gray-500"},"Loading featured requests"):t.length===0?y.createElement("div",{className:"bg-white rounded-xl p-6 text-center shadow"},y.createElement("h3",{className:"font-semibold"},"No featured requests"),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"All requests have been processed.")):y.createElement("div",{className:"space-y-4"},y.createElement("h1",{className:"text-2xl font-bold"}," Featured Requests"),y.createElement("div",{className:"overflow-x-auto bg-white rounded-xl shadow"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",{className:"bg-gray-100"},y.createElement("tr",null,y.createElement("th",{className:"p-3 text-left"},"Product"),y.createElement("th",{className:"p-3"},"Seller"),y.createElement("th",{className:"p-3"},"Plan"),y.createElement("th",{className:"p-3"},"Requested"),y.createElement("th",{className:"p-3"},"Actions"))),y.createElement("tbody",null,t.map(l=>y.createElement("tr",{key:l.id,className:"border-t"},y.createElement("td",{className:"p-3"},y.createElement("p",{className:"font-semibold"},l.productTitle||"Product"),y.createElement("p",{className:"text-xs text-gray-500"},"ID: ",l.productId)),y.createElement("td",{className:"p-3 text-center"},y.createElement("p",{className:"text-sm"},l.sellerEmail||"")),y.createElement("td",{className:"p-3 text-center"},y.createElement("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded"},l.planDays||7," days")),y.createElement("td",{className:"p-3 text-center text-xs text-gray-500"},l.requestedAt?.toDate?l.requestedAt.toDate().toLocaleDateString():""),y.createElement("td",{className:"p-3 flex gap-2 justify-center"},y.createElement("button",{onClick:()=>s(l),className:"px-3 py-1 text-xs bg-green-600 text-white rounded"},"Approve"),y.createElement("button",{onClick:()=>o(l.id),className:"px-3 py-1 text-xs bg-red-600 text-white rounded"},"Reject"))))))))},Jz=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const c=await Zt(bt(Re,"promotionRequests"));e(c.docs.map(u=>({id:u.id,...u.data()})))}catch(c){console.error(c),Ie.error("Failed to load promotion requests")}finally{r(!1)}})()},[]);const s=async l=>{try{const c=new Date;c.setDate(c.getDate()+(l.planDays||7)),await sr(Ze(Re,"products",l.productId),{isPromoted:!0,promotionPlan:`${l.planDays||7} days`,promotionExpiresAt:Ye.fromDate(c)}),await Oo(Ze(Re,"promotionRequests",l.id)),e(u=>u.filter(h=>h.id!==l.id)),Ie.success("Product promoted successfully")}catch(c){console.error(c),Ie.error("Failed to approve promotion")}},o=async l=>{try{await Oo(Ze(Re,"promotionRequests",l)),e(c=>c.filter(u=>u.id!==l)),Ie.success("Promotion request rejected")}catch{Ie.error("Failed to reject request")}};return n?y.createElement("p",{className:"text-gray-500"},"Loading promotion requests"):t.length===0?y.createElement("div",{className:"bg-white rounded-xl p-6 text-center shadow"},y.createElement("h3",{className:"font-semibold"},"No promotion requests"),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"All promotion requests are handled.")):y.createElement("div",{className:"space-y-4"},y.createElement("h1",{className:"text-2xl font-bold"}," Promotion Requests"),y.createElement("div",{className:"overflow-x-auto bg-white rounded-xl shadow"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",{className:"bg-gray-100"},y.createElement("tr",null,y.createElement("th",{className:"p-3 text-left"},"Product"),y.createElement("th",{className:"p-3"},"Seller"),y.createElement("th",{className:"p-3"},"Plan"),y.createElement("th",{className:"p-3"},"Requested"),y.createElement("th",{className:"p-3"},"Actions"))),y.createElement("tbody",null,t.map(l=>y.createElement("tr",{key:l.id,className:"border-t"},y.createElement("td",{className:"p-3 flex items-center gap-3"},y.createElement("img",{src:l.productImage||"/placeholder.png",alt:"product",className:"w-12 h-12 rounded-lg object-cover bg-gray-100"}),y.createElement("div",null,y.createElement("p",{className:"font-semibold line-clamp-1"},l.productTitle||"Product"),y.createElement("p",{className:"text-xs text-gray-500"},"ID: ",l.productId))),y.createElement("td",{className:"p-3 text-center text-sm"},l.sellerEmail||""),y.createElement("td",{className:"p-3 text-center"},y.createElement("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded"},l.planDays||7," days")),y.createElement("td",{className:"p-3 text-center text-xs text-gray-500"},l.requestedAt?.toDate?l.requestedAt.toDate().toLocaleDateString():""),y.createElement("td",{className:"p-3 flex gap-2 justify-center"},y.createElement("button",{onClick:()=>s(l),className:"px-3 py-1 text-xs bg-green-600 text-white rounded"},"Approve"),y.createElement("button",{onClick:()=>o(l.id),className:"px-3 py-1 text-xs bg-red-600 text-white rounded"},"Reject"))))))))},Zz=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),s=ir();k.useEffect(()=>{let l=null;const c=hf(Ge,u=>{if(!u){s("/login");return}l=YC(u.uid,h=>{const m=[...h].sort((g,w)=>(w.lastMessageAt?.seconds||0)-(g.lastMessageAt?.seconds||0));e(m),r(!1)})});return()=>{c(),l&&l()}},[s]);const o=Ge.currentUser?.uid;return n?y.createElement("div",{className:"text-center py-20 text-gray-500"},"Loading conversations..."):y.createElement("main",{className:"max-w-4xl mx-auto px-4 py-8"},y.createElement("h1",{className:"text-2xl font-bold mb-6"}," Messages"),t.length===0?y.createElement("div",{className:"flex flex-col items-center justify-center mt-24 text-center"},y.createElement("div",{className:"bg-blue-50 p-6 rounded-full mb-5"},y.createElement("span",{className:"text-4xl"},"")),y.createElement("h2",{className:"text-lg font-semibold text-gray-800"},"No conversations yet"),y.createElement("p",{className:"text-gray-500 max-w-sm mt-2 text-sm"},"When you contact a seller or someone messages you about your product, conversations will appear here."),y.createElement(Le,{to:"/browse",className:"mt-6 inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition"},"Browse Products")):y.createElement("div",{className:"space-y-4"},t.map(l=>{const c=o===l.buyerId?l.buyerUnread>0:l.sellerUnread>0;return y.createElement(Le,{key:l.id,to:`/messages/${l.id}`,className:`block bg-white p-4 sm:p-5 rounded-xl border transition
                  ${c?"border-blue-200 shadow-sm":"border-gray-100"}`},y.createElement("div",{className:"flex items-center gap-4"},y.createElement("img",{src:l.productImage||"/placeholder.png",alt:"product",className:"w-16 h-16 rounded-lg object-cover bg-gray-100"}),y.createElement("div",{className:"flex-1 min-w-0"},y.createElement("p",{className:"font-semibold line-clamp-1"},l.productTitle),y.createElement("p",{className:"text-sm text-gray-500 line-clamp-1"},l.lastMessage||"Say hi ")),c&&y.createElement("span",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full"})))})))},ej=()=>{const{conversationId:t}=by(),e=ir(),[n,r]=k.useState([]),[s,o]=k.useState(""),[l,c]=k.useState(null),[u,h]=k.useState(!0),m=k.useRef(null),g=()=>{m.current?.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{g()},[n]),k.useEffect(()=>{const _=Ge.currentUser;if(!_){e("/login");return}(async()=>{try{const C=Ze(Re,"conversations",t),P=await ns(C);if(!P.exists()){e("/messages");return}const R=P.data();c(R),R.buyerId===_.uid&&R.buyerUnread>0&&await sr(C,{buyerUnread:0}),R.sellerId===_.uid&&R.sellerUnread>0&&await sr(C,{sellerUnread:0})}catch(C){console.error("Chat init error:",C)}finally{h(!1)}})();const A=_9(t,r);return()=>A&&A()},[t,e]);const w=async _=>{if(_.preventDefault(),!(!s.trim()||l?.isBlocked))try{await E9(t,Ge.currentUser.uid,s.trim()),o("")}catch(x){console.error("Send message failed:",x)}};return u?y.createElement("div",{className:"p-6 text-center text-gray-500"},"Loading chat"):y.createElement("div",{className:"max-w-4xl mx-auto h-[85vh] flex flex-col bg-white border rounded-xl shadow-sm mt-4"},y.createElement("div",{className:"border-b px-4 pb-3 pt-3 mb-1 flex items-center gap-3"},y.createElement("button",{onClick:()=>e(-1),className:"text-gray-500 hover:text-black mr-2"},""),y.createElement("img",{src:l?.productImage||"/placeholder.png",alt:"Product",className:"w-10 h-10 rounded-lg object-cover bg-gray-100"}),y.createElement("div",null,y.createElement("p",{className:"font-semibold text-sm line-clamp-1"},l?.productTitle||"Product Inquiry"),y.createElement("p",{className:"text-xs text-gray-500"}," Secure chat"))),l?.isBlocked&&y.createElement("div",{className:"bg-red-50 text-red-600 text-xs text-center py-2 mx-4 mb-2 rounded"},"This conversation has been blocked."),y.createElement("div",{className:"flex-1 overflow-y-auto px-4 py-2 space-y-3"},n.map(_=>{const x=_.senderId===Ge.currentUser.uid;return y.createElement("div",{key:_.id,className:`flex ${x?"justify-end":"justify-start"}`},y.createElement("div",{className:`px-4 py-2 rounded-2xl max-w-[75%] text-sm leading-relaxed shadow-sm ${x?"bg-blue-600 text-white rounded-br-sm":"bg-gray-100 text-gray-800 rounded-bl-sm"}`},y.createElement("p",null,_.text),y.createElement("span",{className:`block text-[10px] mt-1 text-right ${x?"text-blue-100":"text-gray-400"}`},_.createdAt?.toDate?_.createdAt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...")))}),y.createElement("div",{ref:m})),y.createElement("form",{onSubmit:w,className:"border-t px-4 py-3 flex gap-2"},y.createElement("input",{type:"text",value:s,onChange:_=>o(_.target.value),disabled:l?.isBlocked,placeholder:"Type a message...",className:"flex-1 border rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"}),y.createElement("button",{type:"submit",disabled:!s.trim()||l?.isBlocked,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white px-6 py-2 rounded-full text-sm font-semibold transition"},"Send")))},tj=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(null),[s,o]=k.useState(!1),[l,c]=k.useState(!1),[u,h]=k.useState(0),m=ir();k.useEffect(()=>{const w=hf(Ge,async _=>{if(e(_),_){const x=await ns(Ze(Re,"users",_.uid));x.exists()&&r(x.data().role||"user");const A=YC(_.uid,C=>{const P=C.filter(R=>R.buyerUnread>0||R.sellerUnread>0).length;h(P)});return()=>A&&A()}else r(null),h(0)});return()=>w()},[]);const g=async()=>{await xV(Ge),m("/"),o(!1)};return y.createElement("nav",{className:"bg-white sticky top-0 z-50 border-b"},y.createElement("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between"},y.createElement(Le,{to:"/",className:"flex items-center gap-2"},y.createElement("img",{src:"/logo192.png",alt:"MyAmravati",className:"h-8 w-8"}),y.createElement("span",{className:"font-bold text-blue-600 text-lg"},"MyAmravati")),y.createElement("div",{className:"hidden sm:flex items-center gap-6 text-sm"},y.createElement(Le,{to:"/browse",className:"hover:text-blue-600"},"Browse"),y.createElement(Le,{to:"/add-product",className:"bg-blue-600 text-white px-4 py-1.5 rounded-lg hover:bg-blue-700 transition"},"Sell")),y.createElement("div",{className:"flex items-center gap-4"},t&&y.createElement(Le,{to:"/messages",className:"relative text-sm hover:text-blue-600 hidden sm:block"},"Messages",u>0&&y.createElement("span",{className:"absolute -top-2 -right-3 bg-blue-600 text-white text-xs px-1.5 rounded-full"},u)),t?y.createElement("div",{className:"relative hidden sm:block"},y.createElement("button",{onClick:()=>c(!l),className:"w-9 h-9 rounded-full bg-gray-100 flex items-center justify-center text-sm font-semibold"},t.email?.charAt(0).toUpperCase()),l&&y.createElement("div",{className:"absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-md text-sm overflow-hidden"},y.createElement(Le,{to:"/dashboard",className:"block px-4 py-2 hover:bg-gray-100"},"Dashboard"),y.createElement(Le,{to:"/favorites",className:"block px-4 py-2 hover:bg-gray-100"},"Wishlist"),n==="admin"&&y.createElement(Le,{to:"/admin",className:"block px-4 py-2 hover:bg-gray-100"},"Admin"),y.createElement("button",{onClick:g,className:"w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100"},"Logout"))):y.createElement("div",{className:"hidden sm:flex items-center gap-3 text-sm"},y.createElement(Le,{to:"/login",className:"hover:text-blue-600"},"Login"),y.createElement(Le,{to:"/signup",className:"border border-blue-600 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-600 hover:text-white transition"},"Signup")),y.createElement("button",{onClick:()=>o(!s),className:"sm:hidden text-xl","aria-label":"Open menu"},""))),s&&y.createElement("div",{className:"sm:hidden bg-white border-t"},y.createElement("div",{className:"flex flex-col text-sm divide-y"},y.createElement(Le,{to:"/browse",onClick:()=>o(!1),className:"px-4 py-3"},"Browse"),y.createElement(Le,{to:"/add-product",onClick:()=>o(!1),className:"px-4 py-3"},"Sell"),t&&y.createElement(y.Fragment,null,y.createElement(Le,{to:"/messages",onClick:()=>o(!1),className:"px-4 py-3"},"Messages ",u>0&&`(${u})`),y.createElement(Le,{to:"/favorites",onClick:()=>o(!1),className:"px-4 py-3"},"Wishlist"),y.createElement(Le,{to:"/dashboard",onClick:()=>o(!1),className:"px-4 py-3"},"Dashboard"),n==="admin"&&y.createElement(Le,{to:"/admin",onClick:()=>o(!1),className:"px-4 py-3"},"Admin"),y.createElement("button",{onClick:g,className:"px-4 py-3 text-left text-red-600"},"Logout")),!t&&y.createElement(y.Fragment,null,y.createElement(Le,{to:"/login",onClick:()=>o(!1),className:"px-4 py-3"},"Login"),y.createElement(Le,{to:"/signup",onClick:()=>o(!1),className:"px-4 py-3"},"Signup")))))},nj=()=>y.createElement("footer",{className:"bg-gray-900 text-gray-300 mt-20"},y.createElement("div",{className:"max-w-7xl mx-auto px-6 py-12 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 text-sm"},y.createElement("div",null,y.createElement("h3",{className:"text-white font-bold text-lg mb-3"},"MyAmravati Market"),y.createElement("p",{className:"text-gray-400 leading-relaxed"},"Amravatis own local marketplace to buy and sell products safely. Built for students, shop owners, and home entrepreneurs.")),y.createElement("div",null,y.createElement("h4",{className:"text-white font-semibold mb-3"},"Explore"),y.createElement("ul",{className:"space-y-2"},y.createElement("li",null,y.createElement(Le,{to:"/browse",className:"hover:text-white"},"Browse Products")),y.createElement("li",null,y.createElement(Le,{to:"/add-product",className:"hover:text-white"},"Sell a Product")),y.createElement("li",null,y.createElement(Le,{to:"/favorites",className:"hover:text-white"},"Wishlist")))),y.createElement("div",null,y.createElement("h4",{className:"text-white font-semibold mb-3"},"Legal"),y.createElement("ul",{className:"space-y-2"},y.createElement("li",null,y.createElement(Le,{to:"/terms",className:"hover:text-white"},"Terms & Conditions")),y.createElement("li",null,y.createElement(Le,{to:"/privacy",className:"hover:text-white"},"Privacy Policy")))),y.createElement("div",null,y.createElement("h4",{className:"text-white font-semibold mb-3"},"Support"),y.createElement("p",{className:"text-gray-400"},"Email us for help or feedback"),y.createElement("a",{href:"mailto:myamravatimart007@gmail.com",className:"inline-block mt-2 text-blue-400 hover:underline"},"myamravatimart007@gmail.com"))),y.createElement("div",{className:"border-t border-gray-800 py-4 text-center text-xs text-gray-500"}," ",new Date().getFullYear()," MyAmravati Market. Built for Amravati."));function La({children:t}){const[e,n]=v0(Ge);return n?y.createElement("p",null,"Loading..."):e?t:y.createElement(h1,{to:"/login"})}const Oa=({children:t})=>{const[e,n]=k.useState(null);return k.useEffect(()=>{(async()=>{const s=Ge.currentUser;if(!s)return n(!1);const o=await ns(Ze(Re,"users",s.uid));o.exists()&&o.data().role==="admin"?n(!0):n(!1)})()},[]),e===null?y.createElement("div",{className:"flex h-screen justify-center items-center text-gray-600"},"Checking permissions..."):e?t:y.createElement("div",{className:"flex flex-col items-center justify-center h-screen"},y.createElement("p",{className:"text-2xl text-red-600 mb-2"}," Access Denied"),y.createElement("p",{className:"text-gray-700"},"Admin Only"))},rj=()=>{const{pathname:t}=Ar();return k.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[t]),null};function wA(t,e,n){return Math.max(t,Math.min(e,n))}class sj{advance(e){if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(r=this.value,s=this.to,o=60*this.lerp,l=e,(function(c,u,h){return(1-h)*c+h*u})(r,s,1-Math.exp(-o*l))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;const c=wA(0,this.currentTime/this.duration,1);n=c>=1;const u=n?1:this.easing(c);this.value=this.from+(this.to-this.from)*u}var r,s,o,l;this.onUpdate?.(this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(e,n,{lerp:r=.1,duration:s=1,easing:o=(u=>u),onStart:l,onUpdate:c}){this.from=this.value=e,this.to=n,this.lerp=r,this.duration=s,this.easing=o,this.currentTime=0,this.isRunning=!0,l?.(),this.onUpdate=c}}class ij{constructor({wrapper:e,content:n,autoResize:r=!0,debounce:s=250}={}){this.wrapper=e,this.content=n,r&&(this.debouncedResize=(function(o,l){let c;return function(){let u=arguments,h=this;clearTimeout(c),c=setTimeout((function(){o.apply(h,u)}),l)}})(this.resize,s),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class EA{constructor(){this.events={}}emit(e,...n){let r=this.events[e]||[];for(let s=0,o=r.length;s<o;s++)r[s](...n)}on(e,n){return this.events[e]?.push(n)||(this.events[e]=[n]),()=>{this.events[e]=this.events[e]?.filter((r=>n!==r))}}off(e,n){this.events[e]=this.events[e]?.filter((r=>n!==r))}destroy(){this.events={}}}const JS=100/6;class oj{constructor(e,{wheelMultiplier:n=1,touchMultiplier:r=1}){this.element=e,this.wheelMultiplier=n,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new EA,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,n){return this.emitter.on(e,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}onTouchStart=e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e,s=-(n-this.touchStart.x)*this.touchMultiplier,o=-(r-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:s,y:o},this.emitter.emit("scroll",{deltaX:s,deltaY:o,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:n,deltaY:r,deltaMode:s}=e;n*=s===1?JS:s===2?this.windowWidth:1,r*=s===1?JS:s===2?this.windowHeight:1,n*=this.wheelMultiplier,r*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:r,event:e})};onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}class aj{constructor({wrapper:e=window,content:n=document.documentElement,wheelEventsTarget:r=e,eventsTarget:s=r,smoothWheel:o=!0,syncTouch:l=!1,syncTouchLerp:c=.075,touchInertiaMultiplier:u=35,duration:h,easing:m=(N=>Math.min(1,1.001-Math.pow(2,-10*N))),lerp:g=!h&&.1,infinite:w=!1,orientation:_="vertical",gestureOrientation:x="vertical",touchMultiplier:A=1,wheelMultiplier:C=1,autoResize:P=!0,__experimental__naiveDimensions:R=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:N,deltaY:j,event:q})=>{if(q.ctrlKey)return;const se=q.type.includes("touch"),F=q.type.includes("wheel");if(this.options.syncTouch&&se&&q.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const b=N===0&&j===0,M=this.options.gestureOrientation==="vertical"&&j===0||this.options.gestureOrientation==="horizontal"&&N===0;if(b||M)return;let O=q.composedPath();if(O=O.slice(0,O.indexOf(this.rootElement)),O.find((K=>{var G,ne,X,z,Z;return((G=K.hasAttribute)===null||G===void 0?void 0:G.call(K,"data-lenis-prevent"))||se&&((ne=K.hasAttribute)===null||ne===void 0?void 0:ne.call(K,"data-lenis-prevent-touch"))||F&&((X=K.hasAttribute)===null||X===void 0?void 0:X.call(K,"data-lenis-prevent-wheel"))||((z=K.classList)===null||z===void 0?void 0:z.contains("lenis"))&&!(!((Z=K.classList)===null||Z===void 0)&&Z.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void q.preventDefault();if(this.isSmooth=this.options.syncTouch&&se||this.options.smoothWheel&&F,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();q.preventDefault();let V=j;this.options.gestureOrientation==="both"?V=Math.abs(j)>Math.abs(N)?j:N:this.options.gestureOrientation==="horizontal"&&(V=N);const B=se&&this.options.syncTouch,L=se&&q.type==="touchend"&&Math.abs(V)>5;L&&(V=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+V,Object.assign({programmatic:!1},B?{lerp:L?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const N=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-N),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:n,wheelEventsTarget:r,eventsTarget:s,smoothWheel:o,syncTouch:l,syncTouchLerp:c,touchInertiaMultiplier:u,duration:h,easing:m,lerp:g,infinite:w,gestureOrientation:x,orientation:_,touchMultiplier:A,wheelMultiplier:C,autoResize:P,__experimental__naiveDimensions:R},this.animate=new sj,this.emitter=new EA,this.dimensions=new ij({wrapper:e,content:n,autoResize:P}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=l||o,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new oj(s,{touchMultiplier:A,wheelMultiplier:C}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,n){return this.emitter.on(e,n)}off(e,n){return this.emitter.off(e,n)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const n=e-(this.time||e);this.time=e,this.animate.advance(.001*n)}scrollTo(e,{offset:n=0,immediate:r=!1,lock:s=!1,duration:o=this.options.duration,easing:l=this.options.easing,lerp:c=!o&&this.options.lerp,onComplete:u,force:h=!1,programmatic:m=!0}={}){if(!this.isStopped&&!this.isLocked||h){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let g;if(typeof e=="string"?g=document.querySelector(e):e?.nodeType&&(g=e),g){if(this.options.wrapper!==window){const _=this.options.wrapper.getBoundingClientRect();n-=this.isHorizontal?_.left:_.top}const w=g.getBoundingClientRect();e=(this.isHorizontal?w.left:w.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=n,e=Math.round(e),this.options.infinite?m&&(this.targetScroll=this.animatedScroll=this.scroll):e=wA(0,e,this.limit),r)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(u==null||u(this));if(!m){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:o,easing:l,lerp:c,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(g,w)=>{this.isScrolling=!0,this.velocity=g-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=g,this.setScroll(this.scroll),m&&(this.targetScroll=g),w||this.emit(),w&&(this.reset(),this.emit(),u?.(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,n=this.limit,(e%n+n)%n):this.animatedScroll;var e,n}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,n){this.rootElement.classList.toggle(e,n),this.emitter.emit("className change",this)}}function lj(){k.useEffect(()=>{const t=new aj({duration:1.2,easing:n=>Math.min(1,1.001-Math.pow(2,-10*n)),smooth:!0});function e(n){t.raf(n),requestAnimationFrame(e)}return requestAnimationFrame(e),()=>{t.destroy()}},[])}var lg={},ug={},cg={},ZS;function uj(){return ZS||(ZS=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];if(typeof window<"u"){var c;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(c=window).gtag.apply(c,o)}},n=e;t.default=n})(cg)),cg}var dg={},e1;function cj(){return e1||(e1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(c){return c.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(u,h,m){return h>0&&h+u.length!==m.length&&u.search(e)>-1&&m.charAt(h-2)!==":"&&(m.charAt(h+u.length)!=="-"||m.charAt(h-1)==="-")&&m.charAt(h-1).search(/[^\s-]/)<0?u.toLowerCase():u.substr(1).search(/[A-Z]|\../)>-1?u:u.charAt(0).toUpperCase()+u.substr(1)})}function r(c){return typeof c=="string"&&c.indexOf("@")!==-1}var s="REDACTED (Potential Email Address)";function o(c){return r(c)?(console.warn("This arg looks like an email address, redacting."),s):c}function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m=c||"";return u&&(m=n(c)),h&&(m=o(m)),m}})(dg)),dg}var t1;function dj(){return t1||(t1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=l(uj()),n=l(cj()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],s=["title","location"],o=["page","hitType"];function l(K){return K&&K.__esModule?K:{default:K}}function c(K,G){if(K==null)return{};var ne=u(K,G),X,z;if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(K);for(z=0;z<Z.length;z++)X=Z[z],!(G.indexOf(X)>=0)&&Object.prototype.propertyIsEnumerable.call(K,X)&&(ne[X]=K[X])}return ne}function u(K,G){if(K==null)return{};var ne={},X=Object.keys(K),z,Z;for(Z=0;Z<X.length;Z++)z=X[Z],!(G.indexOf(z)>=0)&&(ne[z]=K[z]);return ne}function h(K){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},h(K)}function m(K){return _(K)||w(K)||R(K)||g()}function g(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(K){if(typeof Symbol<"u"&&K[Symbol.iterator]!=null||K["@@iterator"]!=null)return Array.from(K)}function _(K){if(Array.isArray(K))return N(K)}function x(K,G){var ne=Object.keys(K);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(K);G&&(X=X.filter(function(z){return Object.getOwnPropertyDescriptor(K,z).enumerable})),ne.push.apply(ne,X)}return ne}function A(K){for(var G=1;G<arguments.length;G++){var ne=arguments[G]!=null?arguments[G]:{};G%2?x(Object(ne),!0).forEach(function(X){M(K,X,ne[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(ne)):x(Object(ne)).forEach(function(X){Object.defineProperty(K,X,Object.getOwnPropertyDescriptor(ne,X))})}return K}function C(K,G){return q(K)||j(K,G)||R(K,G)||P()}function P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(K,G){if(K){if(typeof K=="string")return N(K,G);var ne=Object.prototype.toString.call(K).slice(8,-1);if(ne==="Object"&&K.constructor&&(ne=K.constructor.name),ne==="Map"||ne==="Set")return Array.from(K);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return N(K,G)}}function N(K,G){(G==null||G>K.length)&&(G=K.length);for(var ne=0,X=new Array(G);ne<G;ne++)X[ne]=K[ne];return X}function j(K,G){var ne=K==null?null:typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(ne!=null){var X,z,Z,oe,H=[],re=!0,pe=!1;try{if(Z=(ne=ne.call(K)).next,G!==0)for(;!(re=(X=Z.call(ne)).done)&&(H.push(X.value),H.length!==G);re=!0);}catch(Te){pe=!0,z=Te}finally{try{if(!re&&ne.return!=null&&(oe=ne.return(),Object(oe)!==oe))return}finally{if(pe)throw z}}return H}}function q(K){if(Array.isArray(K))return K}function se(K,G){if(!(K instanceof G))throw new TypeError("Cannot call a class as a function")}function F(K,G){for(var ne=0;ne<G.length;ne++){var X=G[ne];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(K,O(X.key),X)}}function b(K,G,ne){return G&&F(K.prototype,G),Object.defineProperty(K,"prototype",{writable:!1}),K}function M(K,G,ne){return G=O(G),G in K?Object.defineProperty(K,G,{value:ne,enumerable:!0,configurable:!0,writable:!0}):K[G]=ne,K}function O(K){var G=V(K,"string");return h(G)==="symbol"?G:String(G)}function V(K,G){if(h(K)!=="object"||K===null)return K;var ne=K[Symbol.toPrimitive];if(ne!==void 0){var X=ne.call(K,G);if(h(X)!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(K)}var B=(function(){function K(){var G=this;se(this,K),M(this,"reset",function(){G.isInitialized=!1,G._testMode=!1,G._currentMeasurementId,G._hasLoadedGA=!1,G._isQueuing=!1,G._queueGtag=[]}),M(this,"_gtag",function(){for(var ne=arguments.length,X=new Array(ne),z=0;z<ne;z++)X[z]=arguments[z];G._testMode||G._isQueuing?G._queueGtag.push(X):e.default.apply(void 0,X)}),M(this,"_loadGA",function(ne,X){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!G._hasLoadedGA){var Z=document.createElement("script");Z.async=!0,Z.src="".concat(z,"?id=").concat(ne),X&&Z.setAttribute("nonce",X),document.body.appendChild(Z),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},G._hasLoadedGA=!0}}),M(this,"_toGtagOptions",function(ne){if(ne){var X={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},z=Object.entries(ne).reduce(function(Z,oe){var H=C(oe,2),re=H[0],pe=H[1];return X[re]?Z[X[re]]=pe:Z[re]=pe,Z},{});return z}}),M(this,"initialize",function(ne){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ne)throw new Error("Require GA_MEASUREMENT_ID");var z=typeof ne=="string"?[{trackingId:ne}]:ne;G._currentMeasurementId=z[0].trackingId;var Z=X.gaOptions,oe=X.gtagOptions,H=X.nonce,re=X.testMode,pe=re===void 0?!1:re,Te=X.gtagUrl;if(G._testMode=pe,pe||G._loadGA(G._currentMeasurementId,H,Te),G.isInitialized||(G._gtag("js",new Date),z.forEach(function(Ve){var je=A(A(A({},G._toGtagOptions(A(A({},Z),Ve.gaOptions))),oe),Ve.gtagOptions);Object.keys(je).length?G._gtag("config",Ve.trackingId,je):G._gtag("config",Ve.trackingId)})),G.isInitialized=!0,!pe){var De=m(G._queueGtag);for(G._queueGtag=[],G._isQueuing=!1;De.length;){var Oe=De.shift();G._gtag.apply(G,m(Oe)),Oe[0]==="get"&&(G._isQueuing=!0)}}}),M(this,"set",function(ne){if(!ne){console.warn("`fieldsObject` is required in .set()");return}if(h(ne)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(ne).length===0&&console.warn("empty `fieldsObject` given to .set()"),G._gaCommand("set",ne)}),M(this,"_gaCommandSendEvent",function(ne,X,z,Z,oe){G._gtag("event",X,A(A({event_category:ne,event_label:z,value:Z},oe&&{non_interaction:oe.nonInteraction}),G._toGtagOptions(oe)))}),M(this,"_gaCommandSendEventParameters",function(){for(var ne=arguments.length,X=new Array(ne),z=0;z<ne;z++)X[z]=arguments[z];if(typeof X[0]=="string")G._gaCommandSendEvent.apply(G,m(X.slice(1)));else{var Z=X[0],oe=Z.eventCategory,H=Z.eventAction,re=Z.eventLabel,pe=Z.eventValue;Z.hitType;var Te=c(Z,r);G._gaCommandSendEvent(oe,H,re,pe,Te)}}),M(this,"_gaCommandSendTiming",function(ne,X,z,Z){G._gtag("event","timing_complete",{name:X,value:z,event_category:ne,event_label:Z})}),M(this,"_gaCommandSendPageview",function(ne,X){if(X&&Object.keys(X).length){var z=G._toGtagOptions(X),Z=z.title,oe=z.location,H=c(z,s);G._gtag("event","page_view",A(A(A(A({},ne&&{page_path:ne}),Z&&{page_title:Z}),oe&&{page_location:oe}),H))}else ne?G._gtag("event","page_view",{page_path:ne}):G._gtag("event","page_view")}),M(this,"_gaCommandSendPageviewParameters",function(){for(var ne=arguments.length,X=new Array(ne),z=0;z<ne;z++)X[z]=arguments[z];if(typeof X[0]=="string")G._gaCommandSendPageview.apply(G,m(X.slice(1)));else{var Z=X[0],oe=Z.page;Z.hitType;var H=c(Z,o);G._gaCommandSendPageview(oe,H)}}),M(this,"_gaCommandSend",function(){for(var ne=arguments.length,X=new Array(ne),z=0;z<ne;z++)X[z]=arguments[z];var Z=typeof X[0]=="string"?X[0]:X[0].hitType;switch(Z){case"event":G._gaCommandSendEventParameters.apply(G,X);break;case"pageview":G._gaCommandSendPageviewParameters.apply(G,X);break;case"timing":G._gaCommandSendTiming.apply(G,m(X.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(Z));break;default:console.warn("Send command doesn't exist: ".concat(Z))}}),M(this,"_gaCommandSet",function(){for(var ne=arguments.length,X=new Array(ne),z=0;z<ne;z++)X[z]=arguments[z];typeof X[0]=="string"&&(X[0]=M({},X[0],X[1])),G._gtag("set",G._toGtagOptions(X[0]))}),M(this,"_gaCommand",function(ne){for(var X=arguments.length,z=new Array(X>1?X-1:0),Z=1;Z<X;Z++)z[Z-1]=arguments[Z];switch(ne){case"send":G._gaCommandSend.apply(G,z);break;case"set":G._gaCommandSet.apply(G,z);break;default:console.warn("Command doesn't exist: ".concat(ne))}}),M(this,"ga",function(){for(var ne=arguments.length,X=new Array(ne),z=0;z<ne;z++)X[z]=arguments[z];if(typeof X[0]=="string")G._gaCommand.apply(G,X);else{var Z=X[0];G._gtag("get",G._currentMeasurementId,"client_id",function(oe){G._isQueuing=!1;var H=G._queueGtag;for(Z({get:function(Te){return Te==="clientId"?oe:Te==="trackingId"?G._currentMeasurementId:Te==="apiVersion"?"1":void 0}});H.length;){var re=H.shift();G._gtag.apply(G,m(re))}}),G._isQueuing=!0}return G.ga}),M(this,"event",function(ne,X){if(typeof ne=="string")G._gtag("event",ne,G._toGtagOptions(X));else{var z=ne.action,Z=ne.category,oe=ne.label,H=ne.value,re=ne.nonInteraction,pe=ne.transport;if(!Z||!z){console.warn("args.category AND args.action are required in event()");return}var Te={hitType:"event",eventCategory:(0,n.default)(Z),eventAction:(0,n.default)(z)};oe&&(Te.eventLabel=(0,n.default)(oe)),typeof H<"u"&&(typeof H!="number"?console.warn("Expected `args.value` arg to be a Number."):Te.eventValue=H),typeof re<"u"&&(typeof re!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Te.nonInteraction=re),typeof pe<"u"&&(typeof pe!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(pe)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Te.transport=pe)),G._gaCommand("send",Te)}}),M(this,"send",function(ne){G._gaCommand("send",ne)}),this.reset()}return b(K,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),K})();t.GA4=B;var L=new B;t.default=L})(ug)),ug}var n1;function hj(){return n1||(n1=1,(function(t){function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var n=s(dj());function r(c){if(typeof WeakMap!="function")return null;var u=new WeakMap,h=new WeakMap;return(r=function(g){return g?h:u})(c)}function s(c,u){if(c&&c.__esModule)return c;if(c===null||e(c)!=="object"&&typeof c!="function")return{default:c};var h=r(u);if(h&&h.has(c))return h.get(c);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in c)if(w!=="default"&&Object.prototype.hasOwnProperty.call(c,w)){var _=g?Object.getOwnPropertyDescriptor(c,w):null;_&&(_.get||_.set)?Object.defineProperty(m,w,_):m[w]=c[w]}return m.default=c,h&&h.set(c,m),m}var o=n.GA4;t.ReactGAImplementation=o;var l=n.default;t.default=l})(lg)),lg}var fj=hj();const _A=Ey(fj);function pj(){const t=Ar();k.useEffect(()=>{t&&_A.send({hitType:"pageview",page:t.pathname+t.search})},[t])}_A.initialize("G-4PWTPFE8LR");function mj(){return pj(),null}function gj(){return lj(),y.createElement(qR,null,y.createElement(rj,null),y.createElement(mj,null),y.createElement(tj,null),y.createElement(HC,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:3e3,style:{background:"#1f2937",color:"#fff"},success:{iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),y.createElement(TR,null,y.createElement(Tt,{path:"/",element:y.createElement(VM,null)}),y.createElement(Tt,{path:"/browse",element:y.createElement(o9,null)}),y.createElement(Tt,{path:"/product/:id",element:y.createElement(JB,null)}),y.createElement(Tt,{path:"/terms",element:y.createElement(ZB,null)}),y.createElement(Tt,{path:"/privacy",element:y.createElement(ez,null)}),y.createElement(Tt,{path:"/login",element:y.createElement(H5,null)}),y.createElement(Tt,{path:"/signup",element:y.createElement(W5,null)}),y.createElement(Tt,{path:"/messages",element:y.createElement(La,null,y.createElement(Zz,null))}),y.createElement(Tt,{path:"/messages/:conversationId",element:y.createElement(La,null,y.createElement(ej,null))}),y.createElement(Tt,{path:"/dashboard",element:y.createElement(La,null,y.createElement(X5,null))}),y.createElement(Tt,{path:"/add-product",element:y.createElement(La,null,y.createElement(Z5,null))}),y.createElement(Tt,{path:"/edit/:id",element:y.createElement(La,null,y.createElement(a9,null))}),y.createElement(Tt,{path:"/favorites",element:y.createElement(La,null,y.createElement(l9,null))}),y.createElement(Tt,{path:"/admin",element:y.createElement(Oa,null,y.createElement(wy,null))}),y.createElement(Tt,{path:"/admin-page",element:y.createElement(Oa,null,y.createElement(Yz,null))}),y.createElement(Tt,{path:"/admin/analytics",element:y.createElement(Oa,null,y.createElement(x0,null))}),y.createElement(Tt,{path:"/admin/seller-report",element:y.createElement(Oa,null,y.createElement(b0,null))}),y.createElement(Tt,{path:"/featured-requests",element:y.createElement(Oa,null,y.createElement(Xz,null))}),y.createElement(Tt,{path:"/promote-requests",element:y.createElement(Oa,null,y.createElement(Jz,null))}),y.createElement(Tt,{path:"*",element:y.createElement(tz,null)})),y.createElement(nj,null))}NP.createRoot(document.getElementById("root")).render(y.createElement(y.StrictMode,null,y.createElement(gj,null),y.createElement(HC,{position:"top-right",reverseOrder:!1})));
