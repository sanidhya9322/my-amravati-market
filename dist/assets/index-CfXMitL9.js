(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bm={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function YP(){if(D0)return De;D0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),w=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function C(j,te,me){this.props=j,this.context=te,this.refs=D,this.updater=me||I}C.prototype.isReactComponent={},C.prototype.setState=function(j,te){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,te,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=C.prototype;function W(j,te,me){this.props=j,this.context=te,this.refs=D,this.updater=me||I}var $=W.prototype=new B;$.constructor=W,x($,C.prototype),$.isPureReactComponent=!0;var re=Array.isArray,se=Object.prototype.hasOwnProperty,he={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function P(j,te,me){var Te,Ne={},Le=null,Oe=null;if(te!=null)for(Te in te.ref!==void 0&&(Oe=te.ref),te.key!==void 0&&(Le=""+te.key),te)se.call(te,Te)&&!M.hasOwnProperty(Te)&&(Ne[Te]=te[Te]);var je=arguments.length-2;if(je===1)Ne.children=me;else if(1<je){for(var Ye=Array(je),Ot=0;Ot<je;Ot++)Ye[Ot]=arguments[Ot+2];Ne.children=Ye}if(j&&j.defaultProps)for(Te in je=j.defaultProps,je)Ne[Te]===void 0&&(Ne[Te]=je[Te]);return{$$typeof:t,type:j,key:Le,ref:Oe,props:Ne,_owner:he.current}}function b(j,te){return{$$typeof:t,type:j.type,key:te,ref:j.ref,props:j.props,_owner:j._owner}}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function U(j){var te={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(me){return te[me]})}var L=/\/+/g;function k(j,te){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):te.toString(36)}function J(j,te,me,Te,Ne){var Le=typeof j;(Le==="undefined"||Le==="boolean")&&(j=null);var Oe=!1;if(j===null)Oe=!0;else switch(Le){case"string":case"number":Oe=!0;break;case"object":switch(j.$$typeof){case t:case e:Oe=!0}}if(Oe)return Oe=j,Ne=Ne(Oe),j=Te===""?"."+k(Oe,0):Te,re(Ne)?(me="",j!=null&&(me=j.replace(L,"$&/")+"/"),J(Ne,te,me,"",function(Ot){return Ot})):Ne!=null&&(O(Ne)&&(Ne=b(Ne,me+(!Ne.key||Oe&&Oe.key===Ne.key?"":(""+Ne.key).replace(L,"$&/")+"/")+j)),te.push(Ne)),1;if(Oe=0,Te=Te===""?".":Te+":",re(j))for(var je=0;je<j.length;je++){Le=j[je];var Ye=Te+k(Le,je);Oe+=J(Le,te,me,Ye,Ne)}else if(Ye=E(j),typeof Ye=="function")for(j=Ye.call(j),je=0;!(Le=j.next()).done;)Le=Le.value,Ye=Te+k(Le,je++),Oe+=J(Le,te,me,Ye,Ne);else if(Le==="object")throw te=String(j),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Oe}function K(j,te,me){if(j==null)return j;var Te=[],Ne=0;return J(j,Te,"","",function(Le){return te.call(me,Le,Ne++)}),Te}function ee(j){if(j._status===-1){var te=j._result;te=te(),te.then(function(me){(j._status===0||j._status===-1)&&(j._status=1,j._result=me)},function(me){(j._status===0||j._status===-1)&&(j._status=2,j._result=me)}),j._status===-1&&(j._status=0,j._result=te)}if(j._status===1)return j._result.default;throw j._result}var Q={current:null},N={transition:null},G={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:N,ReactCurrentOwner:he};function ie(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:K,forEach:function(j,te,me){K(j,function(){te.apply(this,arguments)},me)},count:function(j){var te=0;return K(j,function(){te++}),te},toArray:function(j){return K(j,function(te){return te})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},De.Component=C,De.Fragment=n,De.Profiler=s,De.PureComponent=W,De.StrictMode=r,De.Suspense=d,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,De.act=ie,De.cloneElement=function(j,te,me){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Te=x({},j.props),Ne=j.key,Le=j.ref,Oe=j._owner;if(te!=null){if(te.ref!==void 0&&(Le=te.ref,Oe=he.current),te.key!==void 0&&(Ne=""+te.key),j.type&&j.type.defaultProps)var je=j.type.defaultProps;for(Ye in te)se.call(te,Ye)&&!M.hasOwnProperty(Ye)&&(Te[Ye]=te[Ye]===void 0&&je!==void 0?je[Ye]:te[Ye])}var Ye=arguments.length-2;if(Ye===1)Te.children=me;else if(1<Ye){je=Array(Ye);for(var Ot=0;Ot<Ye;Ot++)je[Ot]=arguments[Ot+2];Te.children=je}return{$$typeof:t,type:j.type,key:Ne,ref:Le,props:Te,_owner:Oe}},De.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},De.createElement=P,De.createFactory=function(j){var te=P.bind(null,j);return te.type=j,te},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:c,render:j}},De.isValidElement=O,De.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:ee}},De.memo=function(j,te){return{$$typeof:m,type:j,compare:te===void 0?null:te}},De.startTransition=function(j){var te=N.transition;N.transition={};try{j()}finally{N.transition=te}},De.unstable_act=ie,De.useCallback=function(j,te){return Q.current.useCallback(j,te)},De.useContext=function(j){return Q.current.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j){return Q.current.useDeferredValue(j)},De.useEffect=function(j,te){return Q.current.useEffect(j,te)},De.useId=function(){return Q.current.useId()},De.useImperativeHandle=function(j,te,me){return Q.current.useImperativeHandle(j,te,me)},De.useInsertionEffect=function(j,te){return Q.current.useInsertionEffect(j,te)},De.useLayoutEffect=function(j,te){return Q.current.useLayoutEffect(j,te)},De.useMemo=function(j,te){return Q.current.useMemo(j,te)},De.useReducer=function(j,te,me){return Q.current.useReducer(j,te,me)},De.useRef=function(j){return Q.current.useRef(j)},De.useState=function(j){return Q.current.useState(j)},De.useSyncExternalStore=function(j,te,me){return Q.current.useSyncExternalStore(j,te,me)},De.useTransition=function(){return Q.current.useTransition()},De.version="18.3.1",De}var V0;function Ng(){return V0||(V0=1,Bm.exports=YP()),Bm.exports}var R=Ng();const y=kg(R);var Ph={},jm={exports:{}},En={},zm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function XP(){return L0||(L0=1,(function(t){function e(N,G){var ie=N.length;N.push(G);e:for(;0<ie;){var j=ie-1>>>1,te=N[j];if(0<s(te,G))N[j]=G,N[ie]=te,ie=j;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var G=N[0],ie=N.pop();if(ie!==G){N[0]=ie;e:for(var j=0,te=N.length,me=te>>>1;j<me;){var Te=2*(j+1)-1,Ne=N[Te],Le=Te+1,Oe=N[Le];if(0>s(Ne,ie))Le<te&&0>s(Oe,Ne)?(N[j]=Oe,N[Le]=ie,j=Le):(N[j]=Ne,N[Te]=ie,j=Te);else if(Le<te&&0>s(Oe,ie))N[j]=Oe,N[Le]=ie,j=Le;else break e}}return G}function s(N,G){var ie=N.sortIndex-G.sortIndex;return ie!==0?ie:N.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],m=[],p=1,w=null,E=3,I=!1,x=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(N){for(var G=n(m);G!==null;){if(G.callback===null)r(m);else if(G.startTime<=N)r(m),G.sortIndex=G.expirationTime,e(d,G);else break;G=n(m)}}function re(N){if(D=!1,$(N),!x)if(n(d)!==null)x=!0,ee(se);else{var G=n(m);G!==null&&Q(re,G.startTime-N)}}function se(N,G){x=!1,D&&(D=!1,B(P),P=-1),I=!0;var ie=E;try{for($(G),w=n(d);w!==null&&(!(w.expirationTime>G)||N&&!U());){var j=w.callback;if(typeof j=="function"){w.callback=null,E=w.priorityLevel;var te=j(w.expirationTime<=G);G=t.unstable_now(),typeof te=="function"?w.callback=te:w===n(d)&&r(d),$(G)}else r(d);w=n(d)}if(w!==null)var me=!0;else{var Te=n(m);Te!==null&&Q(re,Te.startTime-G),me=!1}return me}finally{w=null,E=ie,I=!1}}var he=!1,M=null,P=-1,b=5,O=-1;function U(){return!(t.unstable_now()-O<b)}function L(){if(M!==null){var N=t.unstable_now();O=N;var G=!0;try{G=M(!0,N)}finally{G?k():(he=!1,M=null)}}else he=!1}var k;if(typeof W=="function")k=function(){W(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,K=J.port2;J.port1.onmessage=L,k=function(){K.postMessage(null)}}else k=function(){C(L,0)};function ee(N){M=N,he||(he=!0,k())}function Q(N,G){P=C(function(){N(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){x||I||(x=!0,ee(se))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(N){switch(E){case 1:case 2:case 3:var G=3;break;default:G=E}var ie=E;E=G;try{return N()}finally{E=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,G){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var ie=E;E=N;try{return G()}finally{E=ie}},t.unstable_scheduleCallback=function(N,G,ie){var j=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?j+ie:j):ie=j,N){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ie+te,N={id:p++,callback:G,priorityLevel:N,startTime:ie,expirationTime:te,sortIndex:-1},ie>j?(N.sortIndex=ie,e(m,N),n(d)===null&&N===n(m)&&(D?(B(P),P=-1):D=!0,Q(re,ie-j))):(N.sortIndex=te,e(d,N),x||I||(x=!0,ee(se))),N},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(N){var G=E;return function(){var ie=E;E=G;try{return N.apply(this,arguments)}finally{E=ie}}}})($m)),$m}var O0;function JP(){return O0||(O0=1,zm.exports=XP()),zm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function ZP(){if(M0)return En;M0=1;var t=Ng(),e=JP();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},w={};function E(i){return d.call(w,i)?!0:d.call(p,i)?!1:m.test(i)?w[i]=!0:(p[i]=!0,!1)}function I(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,o,u,f){if(o===null||typeof o>"u"||I(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,u,f,g,_,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function W(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(B,W);C[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(B,W);C[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(B,W);C[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function $(i,o,u,f){var g=C.hasOwnProperty(o)?C[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,u,g,f)&&(u=null),f||g===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var re=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),he=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),U=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),N=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Object.assign,j;function te(i){if(j===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return`
`+j+i}var me=!1;function Te(i,o){if(!i||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var f=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){f=X}i.call(o.prototype)}else{try{throw Error()}catch(X){f=X}i()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),_=f.stack.split(`
`),S=g.length-1,V=_.length-1;1<=S&&0<=V&&g[S]!==_[V];)V--;for(;1<=S&&0<=V;S--,V--)if(g[S]!==_[V]){if(S!==1||V!==1)do if(S--,V--,0>V||g[S]!==_[V]){var F=`
`+g[S].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=S&&0<=V);break}}}finally{me=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?te(i):""}function Ne(i){switch(i.tag){case 5:return te(i.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return i=Te(i.type,!1),i;case 11:return i=Te(i.type.render,!1),i;case 1:return i=Te(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case he:return"Portal";case b:return"Profiler";case P:return"StrictMode";case k:return"Suspense";case J:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case L:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return o=i.displayName||null,o!==null?o:Le(i.type)||"Memo";case ee:o=i._payload,i=i._init;try{return Le(i(o))}catch{}}return null}function Oe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ot(i){var o=Ye(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,_.call(this,S)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Xr(i){i._valueTracker||(i._valueTracker=Ot(i))}function ko(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Ye(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ks(i,o){var u=o.checked;return ie({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function No(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=je(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function al(i,o){o=o.checked,o!=null&&$(i,"checked",o,!1)}function ll(i,o){al(i,o);var u=je(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Do(i,o.type,u):o.hasOwnProperty("defaultValue")&&Do(i,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function dc(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Do(i,o,u){(o!=="number"||Ni(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Jr=Array.isArray;function Zr(i,o,u,f){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+je(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function ul(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Vo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Jr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:je(u)}}function Lo(i,o){var u=je(o.value),f=je(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function cl(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function bt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?bt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ei,hl=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ei.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Di(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ds=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(i){Ds.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ns[o]=Ns[i]})});function dl(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ns.hasOwnProperty(i)&&Ns[i]?(""+o).trim():o+"px"}function fl(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=dl(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,g):i[u]=g}}var ml=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pl(i,o){if(o){if(ml[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function gl(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vs=null;function Oo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mo=null,On=null,Tr=null;function Fo(i){if(i=Bl(i)){if(typeof Mo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=zc(o),Mo(i.stateNode,i.type,o))}}function Sr(i){On?Tr?Tr.push(i):Tr=[i]:On=i}function yl(){if(On){var i=On,o=Tr;if(Tr=On=null,Fo(i),o)for(i=0;i<o.length;i++)Fo(o[i])}}function Ls(i,o){return i(o)}function vl(){}var ti=!1;function _l(i,o,u){if(ti)return i(o,u);ti=!0;try{return Ls(i,o,u)}finally{ti=!1,(On!==null||Tr!==null)&&(vl(),yl())}}function vt(i,o){var u=i.stateNode;if(u===null)return null;var f=zc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Uo=!1;if(c)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{Uo=!1}function Os(i,o,u,f,g,_,S,V,F){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(le){this.onError(le)}}var Ms=!1,Bo=null,er=!1,wl=null,mf={onError:function(i){Ms=!0,Bo=i}};function jo(i,o,u,f,g,_,S,V,F){Ms=!1,Bo=null,Os.apply(mf,arguments)}function fc(i,o,u,f,g,_,S,V,F){if(jo.apply(this,arguments),Ms){if(Ms){var X=Bo;Ms=!1,Bo=null}else throw Error(n(198));er||(er=!0,wl=X)}}function tr(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Fs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function nr(i){if(tr(i)!==i)throw Error(n(188))}function mc(i){var o=i.alternate;if(!o){if(o=tr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return nr(g),i;if(_===f)return nr(g),o;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=_;else{for(var S=!1,V=g.child;V;){if(V===u){S=!0,u=g,f=_;break}if(V===f){S=!0,f=g,u=_;break}V=V.sibling}if(!S){for(V=_.child;V;){if(V===u){S=!0,u=_,f=g;break}if(V===f){S=!0,f=_,u=g;break}V=V.sibling}if(!S)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function El(i){return i=mc(i),i!==null?zo(i):null}function zo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=zo(i);if(o!==null)return o;i=i.sibling}return null}var $o=e.unstable_scheduleCallback,Tl=e.unstable_cancelCallback,pc=e.unstable_shouldYield,pf=e.unstable_requestPaint,Xe=e.unstable_now,gc=e.unstable_getCurrentPriorityLevel,Us=e.unstable_ImmediatePriority,Vi=e.unstable_UserBlockingPriority,Mn=e.unstable_NormalPriority,Sl=e.unstable_LowPriority,yc=e.unstable_IdlePriority,Bs=null,Pn=null;function vc(i){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Bs,i,void 0,(i.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:wc,Il=Math.log,_c=Math.LN2;function wc(i){return i>>>=0,i===0?32:31-(Il(i)/_c|0)|0}var Wo=64,Ho=4194304;function Li(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function js(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,_=i.pingedLanes,S=u&268435455;if(S!==0){var V=S&~g;V!==0?f=Li(V):(_&=S,_!==0&&(f=Li(_)))}else S=u&~g,S!==0?f=Li(S):_!==0&&(f=Li(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,_=o&-o,g>=_||g===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-on(o),g=1<<u,f|=i[u],o&=~g;return f}function gf(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ni(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes;0<_;){var S=31-on(_),V=1<<S,F=g[S];F===-1?((V&u)===0||(V&f)!==0)&&(g[S]=gf(V,o)):F<=o&&(i.expiredLanes|=V),_&=~V}}function Cn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function zs(){var i=Wo;return Wo<<=1,(Wo&4194240)===0&&(Wo=64),i}function Oi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Mi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-on(o),i[o]=u}function Ke(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-on(u),_=1<<g;o[g]=0,f[g]=-1,i[g]=-1,u&=~_}}function Fi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-on(u),g=1<<f;g&o|i[f]&o&&(i[f]|=o),u&=~g}}var Be=0;function Ui(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ec,qo,Tc,Sc,Ic,Al=!1,Ir=[],zt=null,rr=null,ir=null,Bi=new Map,Fn=new Map,Ar=[],yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ac(i,o){switch(i){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Bi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(o.pointerId)}}function mn(i,o,u,f,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Bl(o),o!==null&&qo(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function vf(i,o,u,f,g){switch(o){case"focusin":return zt=mn(zt,i,o,u,f,g),!0;case"dragenter":return rr=mn(rr,i,o,u,f,g),!0;case"mouseover":return ir=mn(ir,i,o,u,f,g),!0;case"pointerover":var _=g.pointerId;return Bi.set(_,mn(Bi.get(_)||null,i,o,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,Fn.set(_,mn(Fn.get(_)||null,i,o,u,f,g)),!0}return!1}function xc(i){var o=Gs(i.target);if(o!==null){var u=tr(o);if(u!==null){if(o=u.tag,o===13){if(o=Fs(u),o!==null){i.blockedOn=o,Ic(i.priority,function(){Tc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ri(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Go(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Vs=f,u.target.dispatchEvent(f),Vs=null}else return o=Bl(u),o!==null&&qo(o),i.blockedOn=u,!1;o.shift()}return!0}function $s(i,o,u){ri(i)&&u.delete(o)}function Pc(){Al=!1,zt!==null&&ri(zt)&&(zt=null),rr!==null&&ri(rr)&&(rr=null),ir!==null&&ri(ir)&&(ir=null),Bi.forEach($s),Fn.forEach($s)}function sr(i,o){i.blockedOn===o&&(i.blockedOn=null,Al||(Al=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pc)))}function or(i){function o(g){return sr(g,i)}if(0<Ir.length){sr(Ir[0],i);for(var u=1;u<Ir.length;u++){var f=Ir[u];f.blockedOn===i&&(f.blockedOn=null)}}for(zt!==null&&sr(zt,i),rr!==null&&sr(rr,i),ir!==null&&sr(ir,i),Bi.forEach(o),Fn.forEach(o),u=0;u<Ar.length;u++)f=Ar[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<Ar.length&&(u=Ar[0],u.blockedOn===null);)xc(u),u.blockedOn===null&&Ar.shift()}var ii=re.ReactCurrentBatchConfig,ji=!0;function nt(i,o,u,f){var g=Be,_=ii.transition;ii.transition=null;try{Be=1,xl(i,o,u,f)}finally{Be=g,ii.transition=_}}function _f(i,o,u,f){var g=Be,_=ii.transition;ii.transition=null;try{Be=4,xl(i,o,u,f)}finally{Be=g,ii.transition=_}}function xl(i,o,u,f){if(ji){var g=Go(i,o,u,f);if(g===null)bf(i,o,f,Ws,u),Ac(i,f);else if(vf(g,i,o,u,f))f.stopPropagation();else if(Ac(i,f),o&4&&-1<yf.indexOf(i)){for(;g!==null;){var _=Bl(g);if(_!==null&&Ec(_),_=Go(i,o,u,f),_===null&&bf(i,o,f,Ws,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else bf(i,o,f,null,u)}}var Ws=null;function Go(i,o,u,f){if(Ws=null,i=Oo(f),i=Gs(i),i!==null)if(o=tr(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Fs(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ws=i,null}function Pl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gc()){case Us:return 1;case Vi:return 4;case Mn:case Sl:return 16;case yc:return 536870912;default:return 16}default:return 16}}var Rn=null,Ko=null,pn=null;function Cl(){if(pn)return pn;var i,o=Ko,u=o.length,f,g="value"in Rn?Rn.value:Rn.textContent,_=g.length;for(i=0;i<u&&o[i]===g[i];i++);var S=u-i;for(f=1;f<=S&&o[u-f]===g[_-f];f++);return pn=g.slice(i,1<f?1-f:void 0)}function Qo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function xr(){return!0}function Rl(){return!1}function $t(i){function o(u,f,g,_,S){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(u=i[V],this[V]=u?u(_):_[V]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?xr:Rl,this.isPropagationStopped=Rl,this}return ie(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),o}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=$t(ar),Pr=ie({},ar,{view:0,detail:0}),wf=$t(Pr),Xo,si,zi,Hs=ie({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zi&&(zi&&i.type==="mousemove"?(Xo=i.screenX-zi.screenX,si=i.screenY-zi.screenY):si=Xo=0,zi=i),Xo)},movementY:function(i){return"movementY"in i?i.movementY:si}}),Jo=$t(Hs),bl=ie({},Hs,{dataTransfer:0}),Cc=$t(bl),Zo=ie({},Pr,{relatedTarget:0}),ea=$t(Zo),Rc=ie({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),oi=$t(Rc),bc=ie({},ar,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),kc=$t(bc),Nc=ie({},ar,{data:0}),kl=$t(Nc),ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Dc[i])?!!o[i]:!1}function Cr(){return Vc}var h=ie({},Pr,{key:function(i){if(i.key){var o=ta[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Qo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?an[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(i){return i.type==="keypress"?Qo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=$t(h),T=ie({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=$t(T),H=ie({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),Z=$t(H),de=ie({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=$t(de),Nt=ie({},Hs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=$t(Nt),Mt=[9,13,27,32],St=c&&"CompositionEvent"in window,Un=null;c&&"documentMode"in document&&(Un=document.documentMode);var bn=c&&"TextEvent"in window&&!Un,qs=c&&(!St||Un&&8<Un&&11>=Un),na=" ",Pv=!1;function Cv(i,o){switch(i){case"keyup":return Mt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ra=!1;function Gx(i,o){switch(i){case"compositionend":return Rv(o);case"keypress":return o.which!==32?null:(Pv=!0,na);case"textInput":return i=o.data,i===na&&Pv?null:i;default:return null}}function Kx(i,o){if(ra)return i==="compositionend"||!St&&Cv(i,o)?(i=Cl(),pn=Ko=Rn=null,ra=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return qs&&o.locale!=="ko"?null:o.data;default:return null}}var Qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Qx[i.type]:o==="textarea"}function kv(i,o,u,f){Sr(f),o=Uc(o,"onChange"),0<o.length&&(u=new Yo("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var Nl=null,Dl=null;function Yx(i){Qv(i,0)}function Lc(i){var o=la(i);if(ko(o))return i}function Xx(i,o){if(i==="change")return o}var Nv=!1;if(c){var Ef;if(c){var Tf="oninput"in document;if(!Tf){var Dv=document.createElement("div");Dv.setAttribute("oninput","return;"),Tf=typeof Dv.oninput=="function"}Ef=Tf}else Ef=!1;Nv=Ef&&(!document.documentMode||9<document.documentMode)}function Vv(){Nl&&(Nl.detachEvent("onpropertychange",Lv),Dl=Nl=null)}function Lv(i){if(i.propertyName==="value"&&Lc(Dl)){var o=[];kv(o,Dl,i,Oo(i)),_l(Yx,o)}}function Jx(i,o,u){i==="focusin"?(Vv(),Nl=o,Dl=u,Nl.attachEvent("onpropertychange",Lv)):i==="focusout"&&Vv()}function Zx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lc(Dl)}function eP(i,o){if(i==="click")return Lc(o)}function tP(i,o){if(i==="input"||i==="change")return Lc(o)}function nP(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var lr=typeof Object.is=="function"?Object.is:nP;function Vl(i,o){if(lr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!d.call(o,g)||!lr(i[g],o[g]))return!1}return!0}function Ov(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Mv(i,o){var u=Ov(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ov(u)}}function Fv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Fv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Uv(){for(var i=window,o=Ni();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ni(i.document)}return o}function Sf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function rP(i){var o=Uv(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Fv(u.ownerDocument.documentElement,u)){if(f!==null&&Sf(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!i.extend&&_>f&&(g=f,f=_,_=g),g=Mv(u,_);var S=Mv(u,f);g&&S&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),_>f?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var iP=c&&"documentMode"in document&&11>=document.documentMode,ia=null,If=null,Ll=null,Af=!1;function Bv(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Af||ia==null||ia!==Ni(f)||(f=ia,"selectionStart"in f&&Sf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ll&&Vl(Ll,f)||(Ll=f,f=Uc(If,"onSelect"),0<f.length&&(o=new Yo("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=ia)))}function Oc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var sa={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionend:Oc("Transition","TransitionEnd")},xf={},jv={};c&&(jv=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Mc(i){if(xf[i])return xf[i];if(!sa[i])return i;var o=sa[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in jv)return xf[i]=o[u];return i}var zv=Mc("animationend"),$v=Mc("animationiteration"),Wv=Mc("animationstart"),Hv=Mc("transitionend"),qv=new Map,Gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(i,o){qv.set(i,o),a(o,[i])}for(var Pf=0;Pf<Gv.length;Pf++){var Cf=Gv[Pf],sP=Cf.toLowerCase(),oP=Cf[0].toUpperCase()+Cf.slice(1);$i(sP,"on"+oP)}$i(zv,"onAnimationEnd"),$i($v,"onAnimationIteration"),$i(Wv,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(Hv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function Kv(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,fc(f,o,void 0,i),i.currentTarget=null}function Qv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var S=f.length-1;0<=S;S--){var V=f[S],F=V.instance,X=V.currentTarget;if(V=V.listener,F!==_&&g.isPropagationStopped())break e;Kv(g,V,X),_=F}else for(S=0;S<f.length;S++){if(V=f[S],F=V.instance,X=V.currentTarget,V=V.listener,F!==_&&g.isPropagationStopped())break e;Kv(g,V,X),_=F}}}if(er)throw i=wl,er=!1,wl=null,i}function et(i,o){var u=o[Of];u===void 0&&(u=o[Of]=new Set);var f=i+"__bubble";u.has(f)||(Yv(o,i,2,!1),u.add(f))}function Rf(i,o,u){var f=0;o&&(f|=4),Yv(u,i,f,o)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Ml(i){if(!i[Fc]){i[Fc]=!0,r.forEach(function(u){u!=="selectionchange"&&(aP.has(u)||Rf(u,!1,i),Rf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Fc]||(o[Fc]=!0,Rf("selectionchange",!1,o))}}function Yv(i,o,u,f){switch(Pl(o)){case 1:var g=nt;break;case 4:g=_f;break;default:g=xl}u=g.bind(null,o,u,i),g=void 0,!Uo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function bf(i,o,u,f,g){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var V=f.stateNode.containerInfo;if(V===g||V.nodeType===8&&V.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var F=S.tag;if((F===3||F===4)&&(F=S.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;S=S.return}for(;V!==null;){if(S=Gs(V),S===null)return;if(F=S.tag,F===5||F===6){f=_=S;continue e}V=V.parentNode}}f=f.return}_l(function(){var X=_,le=Oo(u),ue=[];e:{var ae=qv.get(i);if(ae!==void 0){var pe=Yo,ve=i;switch(i){case"keypress":if(Qo(u)===0)break e;case"keydown":case"keyup":pe=v;break;case"focusin":ve="focus",pe=ea;break;case"focusout":ve="blur",pe=ea;break;case"beforeblur":case"afterblur":pe=ea;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Z;break;case zv:case $v:case Wv:pe=oi;break;case Hv:pe=Ge;break;case"scroll":pe=wf;break;case"wheel":pe=ze;break;case"copy":case"cut":case"paste":pe=kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=A}var _e=(o&4)!==0,_t=!_e&&i==="scroll",q=_e?ae!==null?ae+"Capture":null:ae;_e=[];for(var z=X,Y;z!==null;){Y=z;var ce=Y.stateNode;if(Y.tag===5&&ce!==null&&(Y=ce,q!==null&&(ce=vt(z,q),ce!=null&&_e.push(Fl(z,ce,Y)))),_t)break;z=z.return}0<_e.length&&(ae=new pe(ae,ve,null,u,le),ue.push({event:ae,listeners:_e}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",ae&&u!==Vs&&(ve=u.relatedTarget||u.fromElement)&&(Gs(ve)||ve[ai]))break e;if((pe||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,pe?(ve=u.relatedTarget||u.toElement,pe=X,ve=ve?Gs(ve):null,ve!==null&&(_t=tr(ve),ve!==_t||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=X),pe!==ve)){if(_e=Jo,ce="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(_e=A,ce="onPointerLeave",q="onPointerEnter",z="pointer"),_t=pe==null?ae:la(pe),Y=ve==null?ae:la(ve),ae=new _e(ce,z+"leave",pe,u,le),ae.target=_t,ae.relatedTarget=Y,ce=null,Gs(le)===X&&(_e=new _e(q,z+"enter",ve,u,le),_e.target=Y,_e.relatedTarget=_t,ce=_e),_t=ce,pe&&ve)t:{for(_e=pe,q=ve,z=0,Y=_e;Y;Y=oa(Y))z++;for(Y=0,ce=q;ce;ce=oa(ce))Y++;for(;0<z-Y;)_e=oa(_e),z--;for(;0<Y-z;)q=oa(q),Y--;for(;z--;){if(_e===q||q!==null&&_e===q.alternate)break t;_e=oa(_e),q=oa(q)}_e=null}else _e=null;pe!==null&&Xv(ue,ae,pe,_e,!1),ve!==null&&_t!==null&&Xv(ue,_t,ve,_e,!0)}}e:{if(ae=X?la(X):window,pe=ae.nodeName&&ae.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ae.type==="file")var we=Xx;else if(bv(ae))if(Nv)we=tP;else{we=Zx;var Se=Jx}else(pe=ae.nodeName)&&pe.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(we=eP);if(we&&(we=we(i,X))){kv(ue,we,u,le);break e}Se&&Se(i,ae,X),i==="focusout"&&(Se=ae._wrapperState)&&Se.controlled&&ae.type==="number"&&Do(ae,"number",ae.value)}switch(Se=X?la(X):window,i){case"focusin":(bv(Se)||Se.contentEditable==="true")&&(ia=Se,If=X,Ll=null);break;case"focusout":Ll=If=ia=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Bv(ue,u,le);break;case"selectionchange":if(iP)break;case"keydown":case"keyup":Bv(ue,u,le)}var Ie;if(St)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ra?Cv(i,u)&&(Re="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(qs&&u.locale!=="ko"&&(ra||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ra&&(Ie=Cl()):(Rn=le,Ko="value"in Rn?Rn.value:Rn.textContent,ra=!0)),Se=Uc(X,Re),0<Se.length&&(Re=new kl(Re,i,null,u,le),ue.push({event:Re,listeners:Se}),Ie?Re.data=Ie:(Ie=Rv(u),Ie!==null&&(Re.data=Ie)))),(Ie=bn?Gx(i,u):Kx(i,u))&&(X=Uc(X,"onBeforeInput"),0<X.length&&(le=new kl("onBeforeInput","beforeinput",null,u,le),ue.push({event:le,listeners:X}),le.data=Ie))}Qv(ue,o)})}function Fl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Uc(i,o){for(var u=o+"Capture",f=[];i!==null;){var g=i,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=vt(i,u),_!=null&&f.unshift(Fl(i,_,g)),_=vt(i,o),_!=null&&f.push(Fl(i,_,g))),i=i.return}return f}function oa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Xv(i,o,u,f,g){for(var _=o._reactName,S=[];u!==null&&u!==f;){var V=u,F=V.alternate,X=V.stateNode;if(F!==null&&F===f)break;V.tag===5&&X!==null&&(V=X,g?(F=vt(u,_),F!=null&&S.unshift(Fl(u,F,V))):g||(F=vt(u,_),F!=null&&S.push(Fl(u,F,V)))),u=u.return}S.length!==0&&i.push({event:o,listeners:S})}var lP=/\r\n?/g,uP=/\u0000|\uFFFD/g;function Jv(i){return(typeof i=="string"?i:""+i).replace(lP,`
`).replace(uP,"")}function Bc(i,o,u){if(o=Jv(o),Jv(i)!==o&&u)throw Error(n(425))}function jc(){}var kf=null,Nf=null;function Df(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,cP=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,hP=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(i){return Zv.resolve(null).then(i).catch(dP)}:Vf;function dP(i){setTimeout(function(){throw i})}function Lf(i,o){var u=o,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){i.removeChild(g),or(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);or(o)}function Wi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function e_(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var aa=Math.random().toString(36).slice(2),Rr="__reactFiber$"+aa,Ul="__reactProps$"+aa,ai="__reactContainer$"+aa,Of="__reactEvents$"+aa,fP="__reactListeners$"+aa,mP="__reactHandles$"+aa;function Gs(i){var o=i[Rr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ai]||u[Rr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=e_(i);i!==null;){if(u=i[Rr])return u;i=e_(i)}return o}i=u,u=i.parentNode}return null}function Bl(i){return i=i[Rr]||i[ai],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function la(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function zc(i){return i[Ul]||null}var Mf=[],ua=-1;function Hi(i){return{current:i}}function tt(i){0>ua||(i.current=Mf[ua],Mf[ua]=null,ua--)}function Je(i,o){ua++,Mf[ua]=i.current,i.current=o}var qi={},Yt=Hi(qi),gn=Hi(!1),Ks=qi;function ca(i,o){var u=i.type.contextTypes;if(!u)return qi;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=o[_];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function yn(i){return i=i.childContextTypes,i!=null}function $c(){tt(gn),tt(Yt)}function t_(i,o,u){if(Yt.current!==qi)throw Error(n(168));Je(Yt,o),Je(gn,u)}function n_(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,Oe(i)||"Unknown",g));return ie({},u,f)}function Wc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||qi,Ks=Yt.current,Je(Yt,i),Je(gn,gn.current),!0}function r_(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=n_(i,o,Ks),f.__reactInternalMemoizedMergedChildContext=i,tt(gn),tt(Yt),Je(Yt,i)):tt(gn),Je(gn,u)}var li=null,Hc=!1,Ff=!1;function i_(i){li===null?li=[i]:li.push(i)}function pP(i){Hc=!0,i_(i)}function Gi(){if(!Ff&&li!==null){Ff=!0;var i=0,o=Be;try{var u=li;for(Be=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}li=null,Hc=!1}catch(g){throw li!==null&&(li=li.slice(i+1)),$o(Us,Gi),g}finally{Be=o,Ff=!1}}return null}var ha=[],da=0,qc=null,Gc=0,Bn=[],jn=0,Qs=null,ui=1,ci="";function Ys(i,o){ha[da++]=Gc,ha[da++]=qc,qc=i,Gc=o}function s_(i,o,u){Bn[jn++]=ui,Bn[jn++]=ci,Bn[jn++]=Qs,Qs=i;var f=ui;i=ci;var g=32-on(f)-1;f&=~(1<<g),u+=1;var _=32-on(o)+g;if(30<_){var S=g-g%5;_=(f&(1<<S)-1).toString(32),f>>=S,g-=S,ui=1<<32-on(o)+g|u<<g|f,ci=_+i}else ui=1<<_|u<<g|f,ci=i}function Uf(i){i.return!==null&&(Ys(i,1),s_(i,1,0))}function Bf(i){for(;i===qc;)qc=ha[--da],ha[da]=null,Gc=ha[--da],ha[da]=null;for(;i===Qs;)Qs=Bn[--jn],Bn[jn]=null,ci=Bn[--jn],Bn[jn]=null,ui=Bn[--jn],Bn[jn]=null}var kn=null,Nn=null,rt=!1,ur=null;function o_(i,o){var u=Hn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function a_(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,kn=i,Nn=Wi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,kn=i,Nn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Qs!==null?{id:ui,overflow:ci}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Hn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,kn=i,Nn=null,!0):!1;default:return!1}}function jf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function zf(i){if(rt){var o=Nn;if(o){var u=o;if(!a_(i,o)){if(jf(i))throw Error(n(418));o=Wi(u.nextSibling);var f=kn;o&&a_(i,o)?o_(f,u):(i.flags=i.flags&-4097|2,rt=!1,kn=i)}}else{if(jf(i))throw Error(n(418));i.flags=i.flags&-4097|2,rt=!1,kn=i}}}function l_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;kn=i}function Kc(i){if(i!==kn)return!1;if(!rt)return l_(i),rt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Df(i.type,i.memoizedProps)),o&&(o=Nn)){if(jf(i))throw u_(),Error(n(418));for(;o;)o_(i,o),o=Wi(o.nextSibling)}if(l_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Nn=Wi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Nn=null}}else Nn=kn?Wi(i.stateNode.nextSibling):null;return!0}function u_(){for(var i=Nn;i;)i=Wi(i.nextSibling)}function fa(){Nn=kn=null,rt=!1}function $f(i){ur===null?ur=[i]:ur.push(i)}var gP=re.ReactCurrentBatchConfig;function jl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var g=f,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(S){var V=g.refs;S===null?delete V[_]:V[_]=S},o._stringRef=_,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Qc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function c_(i){var o=i._init;return o(i._payload)}function h_(i){function o(q,z){if(i){var Y=q.deletions;Y===null?(q.deletions=[z],q.flags|=16):Y.push(z)}}function u(q,z){if(!i)return null;for(;z!==null;)o(q,z),z=z.sibling;return null}function f(q,z){for(q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function g(q,z){return q=ts(q,z),q.index=0,q.sibling=null,q}function _(q,z,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<z?(q.flags|=2,z):Y):(q.flags|=2,z)):(q.flags|=1048576,z)}function S(q){return i&&q.alternate===null&&(q.flags|=2),q}function V(q,z,Y,ce){return z===null||z.tag!==6?(z=Vm(Y,q.mode,ce),z.return=q,z):(z=g(z,Y),z.return=q,z)}function F(q,z,Y,ce){var we=Y.type;return we===M?le(q,z,Y.props.children,ce,Y.key):z!==null&&(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ee&&c_(we)===z.type)?(ce=g(z,Y.props),ce.ref=jl(q,z,Y),ce.return=q,ce):(ce=_h(Y.type,Y.key,Y.props,null,q.mode,ce),ce.ref=jl(q,z,Y),ce.return=q,ce)}function X(q,z,Y,ce){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=Lm(Y,q.mode,ce),z.return=q,z):(z=g(z,Y.children||[]),z.return=q,z)}function le(q,z,Y,ce,we){return z===null||z.tag!==7?(z=io(Y,q.mode,ce,we),z.return=q,z):(z=g(z,Y),z.return=q,z)}function ue(q,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Vm(""+z,q.mode,Y),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case se:return Y=_h(z.type,z.key,z.props,null,q.mode,Y),Y.ref=jl(q,null,z),Y.return=q,Y;case he:return z=Lm(z,q.mode,Y),z.return=q,z;case ee:var ce=z._init;return ue(q,ce(z._payload),Y)}if(Jr(z)||G(z))return z=io(z,q.mode,Y,null),z.return=q,z;Qc(q,z)}return null}function ae(q,z,Y,ce){var we=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return we!==null?null:V(q,z,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case se:return Y.key===we?F(q,z,Y,ce):null;case he:return Y.key===we?X(q,z,Y,ce):null;case ee:return we=Y._init,ae(q,z,we(Y._payload),ce)}if(Jr(Y)||G(Y))return we!==null?null:le(q,z,Y,ce,null);Qc(q,Y)}return null}function pe(q,z,Y,ce,we){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return q=q.get(Y)||null,V(z,q,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case se:return q=q.get(ce.key===null?Y:ce.key)||null,F(z,q,ce,we);case he:return q=q.get(ce.key===null?Y:ce.key)||null,X(z,q,ce,we);case ee:var Se=ce._init;return pe(q,z,Y,Se(ce._payload),we)}if(Jr(ce)||G(ce))return q=q.get(Y)||null,le(z,q,ce,we,null);Qc(z,ce)}return null}function ve(q,z,Y,ce){for(var we=null,Se=null,Ie=z,Re=z=0,Bt=null;Ie!==null&&Re<Y.length;Re++){Ie.index>Re?(Bt=Ie,Ie=null):Bt=Ie.sibling;var He=ae(q,Ie,Y[Re],ce);if(He===null){Ie===null&&(Ie=Bt);break}i&&Ie&&He.alternate===null&&o(q,Ie),z=_(He,z,Re),Se===null?we=He:Se.sibling=He,Se=He,Ie=Bt}if(Re===Y.length)return u(q,Ie),rt&&Ys(q,Re),we;if(Ie===null){for(;Re<Y.length;Re++)Ie=ue(q,Y[Re],ce),Ie!==null&&(z=_(Ie,z,Re),Se===null?we=Ie:Se.sibling=Ie,Se=Ie);return rt&&Ys(q,Re),we}for(Ie=f(q,Ie);Re<Y.length;Re++)Bt=pe(Ie,q,Re,Y[Re],ce),Bt!==null&&(i&&Bt.alternate!==null&&Ie.delete(Bt.key===null?Re:Bt.key),z=_(Bt,z,Re),Se===null?we=Bt:Se.sibling=Bt,Se=Bt);return i&&Ie.forEach(function(ns){return o(q,ns)}),rt&&Ys(q,Re),we}function _e(q,z,Y,ce){var we=G(Y);if(typeof we!="function")throw Error(n(150));if(Y=we.call(Y),Y==null)throw Error(n(151));for(var Se=we=null,Ie=z,Re=z=0,Bt=null,He=Y.next();Ie!==null&&!He.done;Re++,He=Y.next()){Ie.index>Re?(Bt=Ie,Ie=null):Bt=Ie.sibling;var ns=ae(q,Ie,He.value,ce);if(ns===null){Ie===null&&(Ie=Bt);break}i&&Ie&&ns.alternate===null&&o(q,Ie),z=_(ns,z,Re),Se===null?we=ns:Se.sibling=ns,Se=ns,Ie=Bt}if(He.done)return u(q,Ie),rt&&Ys(q,Re),we;if(Ie===null){for(;!He.done;Re++,He=Y.next())He=ue(q,He.value,ce),He!==null&&(z=_(He,z,Re),Se===null?we=He:Se.sibling=He,Se=He);return rt&&Ys(q,Re),we}for(Ie=f(q,Ie);!He.done;Re++,He=Y.next())He=pe(Ie,q,Re,He.value,ce),He!==null&&(i&&He.alternate!==null&&Ie.delete(He.key===null?Re:He.key),z=_(He,z,Re),Se===null?we=He:Se.sibling=He,Se=He);return i&&Ie.forEach(function(QP){return o(q,QP)}),rt&&Ys(q,Re),we}function _t(q,z,Y,ce){if(typeof Y=="object"&&Y!==null&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case se:e:{for(var we=Y.key,Se=z;Se!==null;){if(Se.key===we){if(we=Y.type,we===M){if(Se.tag===7){u(q,Se.sibling),z=g(Se,Y.props.children),z.return=q,q=z;break e}}else if(Se.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ee&&c_(we)===Se.type){u(q,Se.sibling),z=g(Se,Y.props),z.ref=jl(q,Se,Y),z.return=q,q=z;break e}u(q,Se);break}else o(q,Se);Se=Se.sibling}Y.type===M?(z=io(Y.props.children,q.mode,ce,Y.key),z.return=q,q=z):(ce=_h(Y.type,Y.key,Y.props,null,q.mode,ce),ce.ref=jl(q,z,Y),ce.return=q,q=ce)}return S(q);case he:e:{for(Se=Y.key;z!==null;){if(z.key===Se)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){u(q,z.sibling),z=g(z,Y.children||[]),z.return=q,q=z;break e}else{u(q,z);break}else o(q,z);z=z.sibling}z=Lm(Y,q.mode,ce),z.return=q,q=z}return S(q);case ee:return Se=Y._init,_t(q,z,Se(Y._payload),ce)}if(Jr(Y))return ve(q,z,Y,ce);if(G(Y))return _e(q,z,Y,ce);Qc(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,z!==null&&z.tag===6?(u(q,z.sibling),z=g(z,Y),z.return=q,q=z):(u(q,z),z=Vm(Y,q.mode,ce),z.return=q,q=z),S(q)):u(q,z)}return _t}var ma=h_(!0),d_=h_(!1),Yc=Hi(null),Xc=null,pa=null,Wf=null;function Hf(){Wf=pa=Xc=null}function qf(i){var o=Yc.current;tt(Yc),i._currentValue=o}function Gf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function ga(i,o){Xc=i,Wf=pa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(vn=!0),i.firstContext=null)}function zn(i){var o=i._currentValue;if(Wf!==i)if(i={context:i,memoizedValue:o,next:null},pa===null){if(Xc===null)throw Error(n(308));pa=i,Xc.dependencies={lanes:0,firstContext:i}}else pa=pa.next=i;return o}var Xs=null;function Kf(i){Xs===null?Xs=[i]:Xs.push(i)}function f_(i,o,u,f){var g=o.interleaved;return g===null?(u.next=u,Kf(o)):(u.next=g.next,g.next=u),o.interleaved=u,hi(i,f)}function hi(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ki=!1;function Qf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m_(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function di(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Qi(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(We&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,hi(i,u)}return g=f.interleaved,g===null?(o.next=o,Kf(f)):(o.next=g.next,g.next=o),f.interleaved=o,hi(i,u)}function Jc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Fi(i,u)}}function p_(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=S:_=_.next=S,u=u.next}while(u!==null);_===null?g=_=o:_=_.next=o}else g=_=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Zc(i,o,u,f){var g=i.updateQueue;Ki=!1;var _=g.firstBaseUpdate,S=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var F=V,X=F.next;F.next=null,S===null?_=X:S.next=X,S=F;var le=i.alternate;le!==null&&(le=le.updateQueue,V=le.lastBaseUpdate,V!==S&&(V===null?le.firstBaseUpdate=X:V.next=X,le.lastBaseUpdate=F))}if(_!==null){var ue=g.baseState;S=0,le=X=F=null,V=_;do{var ae=V.lane,pe=V.eventTime;if((f&ae)===ae){le!==null&&(le=le.next={eventTime:pe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ve=i,_e=V;switch(ae=o,pe=u,_e.tag){case 1:if(ve=_e.payload,typeof ve=="function"){ue=ve.call(pe,ue,ae);break e}ue=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=_e.payload,ae=typeof ve=="function"?ve.call(pe,ue,ae):ve,ae==null)break e;ue=ie({},ue,ae);break e;case 2:Ki=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,ae=g.effects,ae===null?g.effects=[V]:ae.push(V))}else pe={eventTime:pe,lane:ae,tag:V.tag,payload:V.payload,callback:V.callback,next:null},le===null?(X=le=pe,F=ue):le=le.next=pe,S|=ae;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;ae=V,V=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);if(le===null&&(F=ue),g.baseState=F,g.firstBaseUpdate=X,g.lastBaseUpdate=le,o=g.shared.interleaved,o!==null){g=o;do S|=g.lane,g=g.next;while(g!==o)}else _===null&&(g.shared.lanes=0);eo|=S,i.lanes=S,i.memoizedState=ue}}function g_(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var zl={},br=Hi(zl),$l=Hi(zl),Wl=Hi(zl);function Js(i){if(i===zl)throw Error(n(174));return i}function Yf(i,o){switch(Je(Wl,o),Je($l,i),Je(br,zl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:kt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=kt(o,i)}tt(br),Je(br,o)}function ya(){tt(br),tt($l),tt(Wl)}function y_(i){Js(Wl.current);var o=Js(br.current),u=kt(o,i.type);o!==u&&(Je($l,i),Je(br,u))}function Xf(i){$l.current===i&&(tt(br),tt($l))}var ut=Hi(0);function eh(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Jf=[];function Zf(){for(var i=0;i<Jf.length;i++)Jf[i]._workInProgressVersionPrimary=null;Jf.length=0}var th=re.ReactCurrentDispatcher,em=re.ReactCurrentBatchConfig,Zs=0,ct=null,Dt=null,Ft=null,nh=!1,Hl=!1,ql=0,yP=0;function Xt(){throw Error(n(321))}function tm(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!lr(i[u],o[u]))return!1;return!0}function nm(i,o,u,f,g,_){if(Zs=_,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,th.current=i===null||i.memoizedState===null?EP:TP,i=u(f,g),Hl){_=0;do{if(Hl=!1,ql=0,25<=_)throw Error(n(301));_+=1,Ft=Dt=null,o.updateQueue=null,th.current=SP,i=u(f,g)}while(Hl)}if(th.current=sh,o=Dt!==null&&Dt.next!==null,Zs=0,Ft=Dt=ct=null,nh=!1,o)throw Error(n(300));return i}function rm(){var i=ql!==0;return ql=0,i}function kr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ct.memoizedState=Ft=i:Ft=Ft.next=i,Ft}function $n(){if(Dt===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=Dt.next;var o=Ft===null?ct.memoizedState:Ft.next;if(o!==null)Ft=o,Dt=i;else{if(i===null)throw Error(n(310));Dt=i,i={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ft===null?ct.memoizedState=Ft=i:Ft=Ft.next=i}return Ft}function Gl(i,o){return typeof o=="function"?o(i):o}function im(i){var o=$n(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=Dt,g=f.baseQueue,_=u.pending;if(_!==null){if(g!==null){var S=g.next;g.next=_.next,_.next=S}f.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,f=f.baseState;var V=S=null,F=null,X=_;do{var le=X.lane;if((Zs&le)===le)F!==null&&(F=F.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:i(f,X.action);else{var ue={lane:le,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};F===null?(V=F=ue,S=f):F=F.next=ue,ct.lanes|=le,eo|=le}X=X.next}while(X!==null&&X!==_);F===null?S=f:F.next=V,lr(f,o.memoizedState)||(vn=!0),o.memoizedState=f,o.baseState=S,o.baseQueue=F,u.lastRenderedState=f}if(i=u.interleaved,i!==null){g=i;do _=g.lane,ct.lanes|=_,eo|=_,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function sm(i){var o=$n(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,_=o.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do _=i(_,S.action),S=S.next;while(S!==g);lr(_,o.memoizedState)||(vn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function v_(){}function __(i,o){var u=ct,f=$n(),g=o(),_=!lr(f.memoizedState,g);if(_&&(f.memoizedState=g,vn=!0),f=f.queue,om(T_.bind(null,u,f,i),[i]),f.getSnapshot!==o||_||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,Kl(9,E_.bind(null,u,f,g,o),void 0,null),Ut===null)throw Error(n(349));(Zs&30)!==0||w_(u,o,g)}return g}function w_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function E_(i,o,u,f){o.value=u,o.getSnapshot=f,S_(o)&&I_(i)}function T_(i,o,u){return u(function(){S_(o)&&I_(i)})}function S_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!lr(i,u)}catch{return!0}}function I_(i){var o=hi(i,1);o!==null&&fr(o,i,1,-1)}function A_(i){var o=kr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:i},o.queue=i,i=i.dispatch=wP.bind(null,ct,i),[o.memoizedState,i]}function Kl(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function x_(){return $n().memoizedState}function rh(i,o,u,f){var g=kr();ct.flags|=i,g.memoizedState=Kl(1|o,u,void 0,f===void 0?null:f)}function ih(i,o,u,f){var g=$n();f=f===void 0?null:f;var _=void 0;if(Dt!==null){var S=Dt.memoizedState;if(_=S.destroy,f!==null&&tm(f,S.deps)){g.memoizedState=Kl(o,u,_,f);return}}ct.flags|=i,g.memoizedState=Kl(1|o,u,_,f)}function P_(i,o){return rh(8390656,8,i,o)}function om(i,o){return ih(2048,8,i,o)}function C_(i,o){return ih(4,2,i,o)}function R_(i,o){return ih(4,4,i,o)}function b_(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function k_(i,o,u){return u=u!=null?u.concat([i]):null,ih(4,4,b_.bind(null,o,i),u)}function am(){}function N_(i,o){var u=$n();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&tm(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function D_(i,o){var u=$n();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&tm(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function V_(i,o,u){return(Zs&21)===0?(i.baseState&&(i.baseState=!1,vn=!0),i.memoizedState=u):(lr(u,o)||(u=zs(),ct.lanes|=u,eo|=u,i.baseState=!0),o)}function vP(i,o){var u=Be;Be=u!==0&&4>u?u:4,i(!0);var f=em.transition;em.transition={};try{i(!1),o()}finally{Be=u,em.transition=f}}function L_(){return $n().memoizedState}function _P(i,o,u){var f=Zi(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},O_(i))M_(o,u);else if(u=f_(i,o,u,f),u!==null){var g=un();fr(u,i,f,g),F_(u,o,f)}}function wP(i,o,u){var f=Zi(i),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(O_(i))M_(o,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var S=o.lastRenderedState,V=_(S,u);if(g.hasEagerState=!0,g.eagerState=V,lr(V,S)){var F=o.interleaved;F===null?(g.next=g,Kf(o)):(g.next=F.next,F.next=g),o.interleaved=g;return}}catch{}finally{}u=f_(i,o,g,f),u!==null&&(g=un(),fr(u,i,f,g),F_(u,o,f))}}function O_(i){var o=i.alternate;return i===ct||o!==null&&o===ct}function M_(i,o){Hl=nh=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function F_(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Fi(i,u)}}var sh={readContext:zn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},EP={readContext:zn,useCallback:function(i,o){return kr().memoizedState=[i,o===void 0?null:o],i},useContext:zn,useEffect:P_,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,rh(4194308,4,b_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return rh(4194308,4,i,o)},useInsertionEffect:function(i,o){return rh(4,2,i,o)},useMemo:function(i,o){var u=kr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=kr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=_P.bind(null,ct,i),[f.memoizedState,i]},useRef:function(i){var o=kr();return i={current:i},o.memoizedState=i},useState:A_,useDebugValue:am,useDeferredValue:function(i){return kr().memoizedState=i},useTransition:function(){var i=A_(!1),o=i[0];return i=vP.bind(null,i[1]),kr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=ct,g=kr();if(rt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Ut===null)throw Error(n(349));(Zs&30)!==0||w_(f,o,u)}g.memoizedState=u;var _={value:u,getSnapshot:o};return g.queue=_,P_(T_.bind(null,f,_,i),[i]),f.flags|=2048,Kl(9,E_.bind(null,f,_,u,o),void 0,null),u},useId:function(){var i=kr(),o=Ut.identifierPrefix;if(rt){var u=ci,f=ui;u=(f&~(1<<32-on(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=ql++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=yP++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},TP={readContext:zn,useCallback:N_,useContext:zn,useEffect:om,useImperativeHandle:k_,useInsertionEffect:C_,useLayoutEffect:R_,useMemo:D_,useReducer:im,useRef:x_,useState:function(){return im(Gl)},useDebugValue:am,useDeferredValue:function(i){var o=$n();return V_(o,Dt.memoizedState,i)},useTransition:function(){var i=im(Gl)[0],o=$n().memoizedState;return[i,o]},useMutableSource:v_,useSyncExternalStore:__,useId:L_,unstable_isNewReconciler:!1},SP={readContext:zn,useCallback:N_,useContext:zn,useEffect:om,useImperativeHandle:k_,useInsertionEffect:C_,useLayoutEffect:R_,useMemo:D_,useReducer:sm,useRef:x_,useState:function(){return sm(Gl)},useDebugValue:am,useDeferredValue:function(i){var o=$n();return Dt===null?o.memoizedState=i:V_(o,Dt.memoizedState,i)},useTransition:function(){var i=sm(Gl)[0],o=$n().memoizedState;return[i,o]},useMutableSource:v_,useSyncExternalStore:__,useId:L_,unstable_isNewReconciler:!1};function cr(i,o){if(i&&i.defaultProps){o=ie({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function lm(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ie({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var oh={isMounted:function(i){return(i=i._reactInternals)?tr(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=un(),g=Zi(i),_=di(f,g);_.payload=o,u!=null&&(_.callback=u),o=Qi(i,_,g),o!==null&&(fr(o,i,g,f),Jc(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=un(),g=Zi(i),_=di(f,g);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Qi(i,_,g),o!==null&&(fr(o,i,g,f),Jc(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=un(),f=Zi(i),g=di(u,f);g.tag=2,o!=null&&(g.callback=o),o=Qi(i,g,f),o!==null&&(fr(o,i,f,u),Jc(o,i,f))}};function U_(i,o,u,f,g,_,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,_,S):o.prototype&&o.prototype.isPureReactComponent?!Vl(u,f)||!Vl(g,_):!0}function B_(i,o,u){var f=!1,g=qi,_=o.contextType;return typeof _=="object"&&_!==null?_=zn(_):(g=yn(o)?Ks:Yt.current,f=o.contextTypes,_=(f=f!=null)?ca(i,g):qi),o=new o(u,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=oh,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=_),o}function j_(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&oh.enqueueReplaceState(o,o.state,null)}function um(i,o,u,f){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Qf(i);var _=o.contextType;typeof _=="object"&&_!==null?g.context=zn(_):(_=yn(o)?Ks:Yt.current,g.context=ca(i,_)),g.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(lm(i,o,_,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&oh.enqueueReplaceState(g,g.state,null),Zc(i,u,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function va(i,o){try{var u="",f=o;do u+=Ne(f),f=f.return;while(f);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:g,digest:null}}function cm(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function hm(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var IP=typeof WeakMap=="function"?WeakMap:Map;function z_(i,o,u){u=di(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){fh||(fh=!0,xm=f),hm(i,o)},u}function $_(i,o,u){u=di(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){hm(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){hm(i,o),typeof f!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function W_(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new IP;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),i=FP.bind(null,i,o,u),o.then(i,i))}function H_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function q_(i,o,u,f,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=di(-1,1),o.tag=2,Qi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var AP=re.ReactCurrentOwner,vn=!1;function ln(i,o,u,f){o.child=i===null?d_(o,null,u,f):ma(o,i.child,u,f)}function G_(i,o,u,f,g){u=u.render;var _=o.ref;return ga(o,g),f=nm(i,o,u,f,_,g),u=rm(),i!==null&&!vn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,fi(i,o,g)):(rt&&u&&Uf(o),o.flags|=1,ln(i,o,f,g),o.child)}function K_(i,o,u,f,g){if(i===null){var _=u.type;return typeof _=="function"&&!Dm(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,Q_(i,o,_,f,g)):(i=_h(u.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,(i.lanes&g)===0){var S=_.memoizedProps;if(u=u.compare,u=u!==null?u:Vl,u(S,f)&&i.ref===o.ref)return fi(i,o,g)}return o.flags|=1,i=ts(_,f),i.ref=o.ref,i.return=o,o.child=i}function Q_(i,o,u,f,g){if(i!==null){var _=i.memoizedProps;if(Vl(_,f)&&i.ref===o.ref)if(vn=!1,o.pendingProps=f=_,(i.lanes&g)!==0)(i.flags&131072)!==0&&(vn=!0);else return o.lanes=i.lanes,fi(i,o,g)}return dm(i,o,u,f,g)}function Y_(i,o,u){var f=o.pendingProps,g=f.children,_=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(wa,Dn),Dn|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Je(wa,Dn),Dn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,Je(wa,Dn),Dn|=f}else _!==null?(f=_.baseLanes|u,o.memoizedState=null):f=u,Je(wa,Dn),Dn|=f;return ln(i,o,g,u),o.child}function X_(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function dm(i,o,u,f,g){var _=yn(u)?Ks:Yt.current;return _=ca(o,_),ga(o,g),u=nm(i,o,u,f,_,g),f=rm(),i!==null&&!vn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,fi(i,o,g)):(rt&&f&&Uf(o),o.flags|=1,ln(i,o,u,g),o.child)}function J_(i,o,u,f,g){if(yn(u)){var _=!0;Wc(o)}else _=!1;if(ga(o,g),o.stateNode===null)lh(i,o),B_(o,u,f),um(o,u,f,g),f=!0;else if(i===null){var S=o.stateNode,V=o.memoizedProps;S.props=V;var F=S.context,X=u.contextType;typeof X=="object"&&X!==null?X=zn(X):(X=yn(u)?Ks:Yt.current,X=ca(o,X));var le=u.getDerivedStateFromProps,ue=typeof le=="function"||typeof S.getSnapshotBeforeUpdate=="function";ue||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==f||F!==X)&&j_(o,S,f,X),Ki=!1;var ae=o.memoizedState;S.state=ae,Zc(o,f,S,g),F=o.memoizedState,V!==f||ae!==F||gn.current||Ki?(typeof le=="function"&&(lm(o,u,le,f),F=o.memoizedState),(V=Ki||U_(o,u,V,f,ae,F,X))?(ue||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=F),S.props=f,S.state=F,S.context=X,f=V):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{S=o.stateNode,m_(i,o),V=o.memoizedProps,X=o.type===o.elementType?V:cr(o.type,V),S.props=X,ue=o.pendingProps,ae=S.context,F=u.contextType,typeof F=="object"&&F!==null?F=zn(F):(F=yn(u)?Ks:Yt.current,F=ca(o,F));var pe=u.getDerivedStateFromProps;(le=typeof pe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==ue||ae!==F)&&j_(o,S,f,F),Ki=!1,ae=o.memoizedState,S.state=ae,Zc(o,f,S,g);var ve=o.memoizedState;V!==ue||ae!==ve||gn.current||Ki?(typeof pe=="function"&&(lm(o,u,pe,f),ve=o.memoizedState),(X=Ki||U_(o,u,X,f,ae,ve,F)||!1)?(le||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,ve,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,ve,F)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ve),S.props=f,S.state=ve,S.context=F,f=X):(typeof S.componentDidUpdate!="function"||V===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),f=!1)}return fm(i,o,u,f,_,g)}function fm(i,o,u,f,g,_){X_(i,o);var S=(o.flags&128)!==0;if(!f&&!S)return g&&r_(o,u,!1),fi(i,o,_);f=o.stateNode,AP.current=o;var V=S&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&S?(o.child=ma(o,i.child,null,_),o.child=ma(o,null,V,_)):ln(i,o,V,_),o.memoizedState=f.state,g&&r_(o,u,!0),o.child}function Z_(i){var o=i.stateNode;o.pendingContext?t_(i,o.pendingContext,o.pendingContext!==o.context):o.context&&t_(i,o.context,!1),Yf(i,o.containerInfo)}function e0(i,o,u,f,g){return fa(),$f(g),o.flags|=256,ln(i,o,u,f),o.child}var mm={dehydrated:null,treeContext:null,retryLane:0};function pm(i){return{baseLanes:i,cachePool:null,transitions:null}}function t0(i,o,u){var f=o.pendingProps,g=ut.current,_=!1,S=(o.flags&128)!==0,V;if((V=S)||(V=i!==null&&i.memoizedState===null?!1:(g&2)!==0),V?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Je(ut,g&1),i===null)return zf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=f.children,i=f.fallback,_?(f=o.mode,_=o.child,S={mode:"hidden",children:S},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=S):_=wh(S,f,0,null),i=io(i,f,u,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=pm(u),o.memoizedState=mm,i):gm(o,S));if(g=i.memoizedState,g!==null&&(V=g.dehydrated,V!==null))return xP(i,o,S,f,V,g,u);if(_){_=f.fallback,S=o.mode,g=i.child,V=g.sibling;var F={mode:"hidden",children:f.children};return(S&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=F,o.deletions=null):(f=ts(g,F),f.subtreeFlags=g.subtreeFlags&14680064),V!==null?_=ts(V,_):(_=io(_,S,u,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,S=i.child.memoizedState,S=S===null?pm(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},_.memoizedState=S,_.childLanes=i.childLanes&~u,o.memoizedState=mm,f}return _=i.child,i=_.sibling,f=ts(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function gm(i,o){return o=wh({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ah(i,o,u,f){return f!==null&&$f(f),ma(o,i.child,null,u),i=gm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function xP(i,o,u,f,g,_,S){if(u)return o.flags&256?(o.flags&=-257,f=cm(Error(n(422))),ah(i,o,S,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=f.fallback,g=o.mode,f=wh({mode:"visible",children:f.children},g,0,null),_=io(_,g,S,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&ma(o,i.child,null,S),o.child.memoizedState=pm(S),o.memoizedState=mm,_);if((o.mode&1)===0)return ah(i,o,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var V=f.dgst;return f=V,_=Error(n(419)),f=cm(_,f,void 0),ah(i,o,S,f)}if(V=(S&i.childLanes)!==0,vn||V){if(f=Ut,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,hi(i,g),fr(f,i,g,-1))}return Nm(),f=cm(Error(n(421))),ah(i,o,S,f)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=UP.bind(null,i),g._reactRetry=o,null):(i=_.treeContext,Nn=Wi(g.nextSibling),kn=o,rt=!0,ur=null,i!==null&&(Bn[jn++]=ui,Bn[jn++]=ci,Bn[jn++]=Qs,ui=i.id,ci=i.overflow,Qs=o),o=gm(o,f.children),o.flags|=4096,o)}function n0(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Gf(i.return,o,u)}function ym(i,o,u,f,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function r0(i,o,u){var f=o.pendingProps,g=f.revealOrder,_=f.tail;if(ln(i,o,f.children,u),f=ut.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&n0(i,u,o);else if(i.tag===19)n0(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Je(ut,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&eh(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),ym(o,!1,g,u,_);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&eh(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}ym(o,!0,u,null,_);break;case"together":ym(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function lh(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function fi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),eo|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=ts(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ts(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function PP(i,o,u){switch(o.tag){case 3:Z_(o),fa();break;case 5:y_(o);break;case 1:yn(o.type)&&Wc(o);break;case 4:Yf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;Je(Yc,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Je(ut,ut.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?t0(i,o,u):(Je(ut,ut.current&1),i=fi(i,o,u),i!==null?i.sibling:null);Je(ut,ut.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return r0(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(ut,ut.current),f)break;return null;case 22:case 23:return o.lanes=0,Y_(i,o,u)}return fi(i,o,u)}var i0,vm,s0,o0;i0=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},vm=function(){},s0=function(i,o,u,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,Js(br.current);var _=null;switch(u){case"input":g=ks(i,g),f=ks(i,f),_=[];break;case"select":g=ie({},g,{value:void 0}),f=ie({},f,{value:void 0}),_=[];break;case"textarea":g=ul(i,g),f=ul(i,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=jc)}pl(u,f);var S;u=null;for(X in g)if(!f.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var V=g[X];for(S in V)V.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?_||(_=[]):(_=_||[]).push(X,null));for(X in f){var F=f[X];if(V=g?.[X],f.hasOwnProperty(X)&&F!==V&&(F!=null||V!=null))if(X==="style")if(V){for(S in V)!V.hasOwnProperty(S)||F&&F.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in F)F.hasOwnProperty(S)&&V[S]!==F[S]&&(u||(u={}),u[S]=F[S])}else u||(_||(_=[]),_.push(X,u)),u=F;else X==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,V=V?V.__html:void 0,F!=null&&V!==F&&(_=_||[]).push(X,F)):X==="children"?typeof F!="string"&&typeof F!="number"||(_=_||[]).push(X,""+F):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(F!=null&&X==="onScroll"&&et("scroll",i),_||V===F||(_=[])):(_=_||[]).push(X,F))}u&&(_=_||[]).push("style",u);var X=_;(o.updateQueue=X)&&(o.flags|=4)}},o0=function(i,o,u,f){u!==f&&(o.flags|=4)};function Ql(i,o){if(!rt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Jt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function CP(i,o,u){var f=o.pendingProps;switch(Bf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return yn(o.type)&&$c(),Jt(o),null;case 3:return f=o.stateNode,ya(),tt(gn),tt(Yt),Zf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Kc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ur!==null&&(Rm(ur),ur=null))),vm(i,o),Jt(o),null;case 5:Xf(o);var g=Js(Wl.current);if(u=o.type,i!==null&&o.stateNode!=null)s0(i,o,u,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Jt(o),null}if(i=Js(br.current),Kc(o)){f=o.stateNode,u=o.type;var _=o.memoizedProps;switch(f[Rr]=o,f[Ul]=_,i=(o.mode&1)!==0,u){case"dialog":et("cancel",f),et("close",f);break;case"iframe":case"object":case"embed":et("load",f);break;case"video":case"audio":for(g=0;g<Ol.length;g++)et(Ol[g],f);break;case"source":et("error",f);break;case"img":case"image":case"link":et("error",f),et("load",f);break;case"details":et("toggle",f);break;case"input":No(f,_),et("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},et("invalid",f);break;case"textarea":Vo(f,_),et("invalid",f)}pl(u,_),g=null;for(var S in _)if(_.hasOwnProperty(S)){var V=_[S];S==="children"?typeof V=="string"?f.textContent!==V&&(_.suppressHydrationWarning!==!0&&Bc(f.textContent,V,i),g=["children",V]):typeof V=="number"&&f.textContent!==""+V&&(_.suppressHydrationWarning!==!0&&Bc(f.textContent,V,i),g=["children",""+V]):s.hasOwnProperty(S)&&V!=null&&S==="onScroll"&&et("scroll",f)}switch(u){case"input":Xr(f),dc(f,_,!0);break;case"textarea":Xr(f),cl(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=jc)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=bt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=S.createElement(u,{is:f.is}):(i=S.createElement(u),u==="select"&&(S=i,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):i=S.createElementNS(i,u),i[Rr]=o,i[Ul]=f,i0(i,o,!1,!1),o.stateNode=i;e:{switch(S=gl(u,f),u){case"dialog":et("cancel",i),et("close",i),g=f;break;case"iframe":case"object":case"embed":et("load",i),g=f;break;case"video":case"audio":for(g=0;g<Ol.length;g++)et(Ol[g],i);g=f;break;case"source":et("error",i),g=f;break;case"img":case"image":case"link":et("error",i),et("load",i),g=f;break;case"details":et("toggle",i),g=f;break;case"input":No(i,f),g=ks(i,f),et("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=ie({},f,{value:void 0}),et("invalid",i);break;case"textarea":Vo(i,f),g=ul(i,f),et("invalid",i);break;default:g=f}pl(u,g),V=g;for(_ in V)if(V.hasOwnProperty(_)){var F=V[_];_==="style"?fl(i,F):_==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&hl(i,F)):_==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&Di(i,F):typeof F=="number"&&Di(i,""+F):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?F!=null&&_==="onScroll"&&et("scroll",i):F!=null&&$(i,_,F,S))}switch(u){case"input":Xr(i),dc(i,f,!1);break;case"textarea":Xr(i),cl(i);break;case"option":f.value!=null&&i.setAttribute("value",""+je(f.value));break;case"select":i.multiple=!!f.multiple,_=f.value,_!=null?Zr(i,!!f.multiple,_,!1):f.defaultValue!=null&&Zr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=jc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(i&&o.stateNode!=null)o0(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=Js(Wl.current),Js(br.current),Kc(o)){if(f=o.stateNode,u=o.memoizedProps,f[Rr]=o,(_=f.nodeValue!==u)&&(i=kn,i!==null))switch(i.tag){case 3:Bc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Bc(f.nodeValue,u,(i.mode&1)!==0)}_&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Rr]=o,o.stateNode=f}return Jt(o),null;case 13:if(tt(ut),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(rt&&Nn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)u_(),fa(),o.flags|=98560,_=!1;else if(_=Kc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Rr]=o}else fa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),_=!1}else ur!==null&&(Rm(ur),ur=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ut.current&1)!==0?Vt===0&&(Vt=3):Nm())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return ya(),vm(i,o),i===null&&Ml(o.stateNode.containerInfo),Jt(o),null;case 10:return qf(o.type._context),Jt(o),null;case 17:return yn(o.type)&&$c(),Jt(o),null;case 19:if(tt(ut),_=o.memoizedState,_===null)return Jt(o),null;if(f=(o.flags&128)!==0,S=_.rendering,S===null)if(f)Ql(_,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=eh(i),S!==null){for(o.flags|=128,Ql(_,!1),f=S.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)_=u,i=f,_.flags&=14680066,S=_.alternate,S===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=S.childLanes,_.lanes=S.lanes,_.child=S.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=S.memoizedProps,_.memoizedState=S.memoizedState,_.updateQueue=S.updateQueue,_.type=S.type,i=S.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Je(ut,ut.current&1|2),o.child}i=i.sibling}_.tail!==null&&Xe()>Ea&&(o.flags|=128,f=!0,Ql(_,!1),o.lanes=4194304)}else{if(!f)if(i=eh(S),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Ql(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!rt)return Jt(o),null}else 2*Xe()-_.renderingStartTime>Ea&&u!==1073741824&&(o.flags|=128,f=!0,Ql(_,!1),o.lanes=4194304);_.isBackwards?(S.sibling=o.child,o.child=S):(u=_.last,u!==null?u.sibling=S:o.child=S,_.last=S)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Xe(),o.sibling=null,u=ut.current,Je(ut,f?u&1|2:u&1),o):(Jt(o),null);case 22:case 23:return km(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Dn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function RP(i,o){switch(Bf(o),o.tag){case 1:return yn(o.type)&&$c(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ya(),tt(gn),tt(Yt),Zf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Xf(o),null;case 13:if(tt(ut),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));fa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return tt(ut),null;case 4:return ya(),null;case 10:return qf(o.type._context),null;case 22:case 23:return km(),null;case 24:return null;default:return null}}var uh=!1,Zt=!1,bP=typeof WeakSet=="function"?WeakSet:Set,ye=null;function _a(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){mt(i,o,f)}else u.current=null}function _m(i,o,u){try{u()}catch(f){mt(i,o,f)}}var a0=!1;function kP(i,o){if(kf=ji,i=Uv(),Sf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var S=0,V=-1,F=-1,X=0,le=0,ue=i,ae=null;t:for(;;){for(var pe;ue!==u||g!==0&&ue.nodeType!==3||(V=S+g),ue!==_||f!==0&&ue.nodeType!==3||(F=S+f),ue.nodeType===3&&(S+=ue.nodeValue.length),(pe=ue.firstChild)!==null;)ae=ue,ue=pe;for(;;){if(ue===i)break t;if(ae===u&&++X===g&&(V=S),ae===_&&++le===f&&(F=S),(pe=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=pe}u=V===-1||F===-1?null:{start:V,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Nf={focusedElem:i,selectionRange:u},ji=!1,ye=o;ye!==null;)if(o=ye,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ye=i;else for(;ye!==null;){o=ye;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var _e=ve.memoizedProps,_t=ve.memoizedState,q=o.stateNode,z=q.getSnapshotBeforeUpdate(o.elementType===o.type?_e:cr(o.type,_e),_t);q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Y=o.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){mt(o,o.return,ce)}if(i=o.sibling,i!==null){i.return=o.return,ye=i;break}ye=o.return}return ve=a0,a0=!1,ve}function Yl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var _=g.destroy;g.destroy=void 0,_!==void 0&&_m(o,u,_)}g=g.next}while(g!==f)}}function ch(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function wm(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function l0(i){var o=i.alternate;o!==null&&(i.alternate=null,l0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Rr],delete o[Ul],delete o[Of],delete o[fP],delete o[mP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function u0(i){return i.tag===5||i.tag===3||i.tag===4}function c0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||u0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Em(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=jc));else if(f!==4&&(i=i.child,i!==null))for(Em(i,o,u),i=i.sibling;i!==null;)Em(i,o,u),i=i.sibling}function Tm(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Tm(i,o,u),i=i.sibling;i!==null;)Tm(i,o,u),i=i.sibling}var Wt=null,hr=!1;function Yi(i,o,u){for(u=u.child;u!==null;)h0(i,o,u),u=u.sibling}function h0(i,o,u){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Bs,u)}catch{}switch(u.tag){case 5:Zt||_a(u,o);case 6:var f=Wt,g=hr;Wt=null,Yi(i,o,u),Wt=f,hr=g,Wt!==null&&(hr?(i=Wt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Wt.removeChild(u.stateNode));break;case 18:Wt!==null&&(hr?(i=Wt,u=u.stateNode,i.nodeType===8?Lf(i.parentNode,u):i.nodeType===1&&Lf(i,u),or(i)):Lf(Wt,u.stateNode));break;case 4:f=Wt,g=hr,Wt=u.stateNode.containerInfo,hr=!0,Yi(i,o,u),Wt=f,hr=g;break;case 0:case 11:case 14:case 15:if(!Zt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,S=_.destroy;_=_.tag,S!==void 0&&((_&2)!==0||(_&4)!==0)&&_m(u,o,S),g=g.next}while(g!==f)}Yi(i,o,u);break;case 1:if(!Zt&&(_a(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(V){mt(u,o,V)}Yi(i,o,u);break;case 21:Yi(i,o,u);break;case 22:u.mode&1?(Zt=(f=Zt)||u.memoizedState!==null,Yi(i,o,u),Zt=f):Yi(i,o,u);break;default:Yi(i,o,u)}}function d0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new bP),o.forEach(function(f){var g=BP.bind(null,i,f);u.has(f)||(u.add(f),f.then(g,g))})}}function dr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var _=i,S=o,V=S;e:for(;V!==null;){switch(V.tag){case 5:Wt=V.stateNode,hr=!1;break e;case 3:Wt=V.stateNode.containerInfo,hr=!0;break e;case 4:Wt=V.stateNode.containerInfo,hr=!0;break e}V=V.return}if(Wt===null)throw Error(n(160));h0(_,S,g),Wt=null,hr=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(X){mt(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)f0(o,i),o=o.sibling}function f0(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dr(o,i),Nr(i),f&4){try{Yl(3,i,i.return),ch(3,i)}catch(_e){mt(i,i.return,_e)}try{Yl(5,i,i.return)}catch(_e){mt(i,i.return,_e)}}break;case 1:dr(o,i),Nr(i),f&512&&u!==null&&_a(u,u.return);break;case 5:if(dr(o,i),Nr(i),f&512&&u!==null&&_a(u,u.return),i.flags&32){var g=i.stateNode;try{Di(g,"")}catch(_e){mt(i,i.return,_e)}}if(f&4&&(g=i.stateNode,g!=null)){var _=i.memoizedProps,S=u!==null?u.memoizedProps:_,V=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{V==="input"&&_.type==="radio"&&_.name!=null&&al(g,_),gl(V,S);var X=gl(V,_);for(S=0;S<F.length;S+=2){var le=F[S],ue=F[S+1];le==="style"?fl(g,ue):le==="dangerouslySetInnerHTML"?hl(g,ue):le==="children"?Di(g,ue):$(g,le,ue,X)}switch(V){case"input":ll(g,_);break;case"textarea":Lo(g,_);break;case"select":var ae=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var pe=_.value;pe!=null?Zr(g,!!_.multiple,pe,!1):ae!==!!_.multiple&&(_.defaultValue!=null?Zr(g,!!_.multiple,_.defaultValue,!0):Zr(g,!!_.multiple,_.multiple?[]:"",!1))}g[Ul]=_}catch(_e){mt(i,i.return,_e)}}break;case 6:if(dr(o,i),Nr(i),f&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,_=i.memoizedProps;try{g.nodeValue=_}catch(_e){mt(i,i.return,_e)}}break;case 3:if(dr(o,i),Nr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{or(o.containerInfo)}catch(_e){mt(i,i.return,_e)}break;case 4:dr(o,i),Nr(i);break;case 13:dr(o,i),Nr(i),g=i.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(Am=Xe())),f&4&&d0(i);break;case 22:if(le=u!==null&&u.memoizedState!==null,i.mode&1?(Zt=(X=Zt)||le,dr(o,i),Zt=X):dr(o,i),Nr(i),f&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!le&&(i.mode&1)!==0)for(ye=i,le=i.child;le!==null;){for(ue=ye=le;ye!==null;){switch(ae=ye,pe=ae.child,ae.tag){case 0:case 11:case 14:case 15:Yl(4,ae,ae.return);break;case 1:_a(ae,ae.return);var ve=ae.stateNode;if(typeof ve.componentWillUnmount=="function"){f=ae,u=ae.return;try{o=f,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(_e){mt(f,u,_e)}}break;case 5:_a(ae,ae.return);break;case 22:if(ae.memoizedState!==null){g0(ue);continue}}pe!==null?(pe.return=ae,ye=pe):g0(ue)}le=le.sibling}e:for(le=null,ue=i;;){if(ue.tag===5){if(le===null){le=ue;try{g=ue.stateNode,X?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(V=ue.stateNode,F=ue.memoizedProps.style,S=F!=null&&F.hasOwnProperty("display")?F.display:null,V.style.display=dl("display",S))}catch(_e){mt(i,i.return,_e)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=X?"":ue.memoizedProps}catch(_e){mt(i,i.return,_e)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===i)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===i)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===i)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:dr(o,i),Nr(i),f&4&&d0(i);break;case 21:break;default:dr(o,i),Nr(i)}}function Nr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(u0(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Di(g,""),f.flags&=-33);var _=c0(i);Tm(i,_,g);break;case 3:case 4:var S=f.stateNode.containerInfo,V=c0(i);Em(i,V,S);break;default:throw Error(n(161))}}catch(F){mt(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function NP(i,o,u){ye=i,m0(i)}function m0(i,o,u){for(var f=(i.mode&1)!==0;ye!==null;){var g=ye,_=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||uh;if(!S){var V=g.alternate,F=V!==null&&V.memoizedState!==null||Zt;V=uh;var X=Zt;if(uh=S,(Zt=F)&&!X)for(ye=g;ye!==null;)S=ye,F=S.child,S.tag===22&&S.memoizedState!==null?y0(g):F!==null?(F.return=S,ye=F):y0(g);for(;_!==null;)ye=_,m0(_),_=_.sibling;ye=g,uh=V,Zt=X}p0(i)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,ye=_):p0(i)}}function p0(i){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Zt||ch(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Zt)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:cr(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&g_(o,_,f);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}g_(o,S,u)}break;case 5:var V=o.stateNode;if(u===null&&o.flags&4){u=V;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var le=X.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&or(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zt||o.flags&512&&wm(o)}catch(ae){mt(o,o.return,ae)}}if(o===i){ye=null;break}if(u=o.sibling,u!==null){u.return=o.return,ye=u;break}ye=o.return}}function g0(i){for(;ye!==null;){var o=ye;if(o===i){ye=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ye=u;break}ye=o.return}}function y0(i){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{ch(4,o)}catch(F){mt(o,u,F)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(F){mt(o,g,F)}}var _=o.return;try{wm(o)}catch(F){mt(o,_,F)}break;case 5:var S=o.return;try{wm(o)}catch(F){mt(o,S,F)}}}catch(F){mt(o,o.return,F)}if(o===i){ye=null;break}var V=o.sibling;if(V!==null){V.return=o.return,ye=V;break}ye=o.return}}var DP=Math.ceil,hh=re.ReactCurrentDispatcher,Sm=re.ReactCurrentOwner,Wn=re.ReactCurrentBatchConfig,We=0,Ut=null,It=null,Ht=0,Dn=0,wa=Hi(0),Vt=0,Xl=null,eo=0,dh=0,Im=0,Jl=null,_n=null,Am=0,Ea=1/0,mi=null,fh=!1,xm=null,Xi=null,mh=!1,Ji=null,ph=0,Zl=0,Pm=null,gh=-1,yh=0;function un(){return(We&6)!==0?Xe():gh!==-1?gh:gh=Xe()}function Zi(i){return(i.mode&1)===0?1:(We&2)!==0&&Ht!==0?Ht&-Ht:gP.transition!==null?(yh===0&&(yh=zs()),yh):(i=Be,i!==0||(i=window.event,i=i===void 0?16:Pl(i.type)),i)}function fr(i,o,u,f){if(50<Zl)throw Zl=0,Pm=null,Error(n(185));Mi(i,u,f),((We&2)===0||i!==Ut)&&(i===Ut&&((We&2)===0&&(dh|=u),Vt===4&&es(i,Ht)),wn(i,f),u===1&&We===0&&(o.mode&1)===0&&(Ea=Xe()+500,Hc&&Gi()))}function wn(i,o){var u=i.callbackNode;ni(i,o);var f=js(i,i===Ut?Ht:0);if(f===0)u!==null&&Tl(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&Tl(u),o===1)i.tag===0?pP(_0.bind(null,i)):i_(_0.bind(null,i)),hP(function(){(We&6)===0&&Gi()}),u=null;else{switch(Ui(f)){case 1:u=Us;break;case 4:u=Vi;break;case 16:u=Mn;break;case 536870912:u=yc;break;default:u=Mn}u=P0(u,v0.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function v0(i,o){if(gh=-1,yh=0,(We&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Ta()&&i.callbackNode!==u)return null;var f=js(i,i===Ut?Ht:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=vh(i,f);else{o=f;var g=We;We|=2;var _=E0();(Ut!==i||Ht!==o)&&(mi=null,Ea=Xe()+500,no(i,o));do try{OP();break}catch(V){w0(i,V)}while(!0);Hf(),hh.current=_,We=g,It!==null?o=0:(Ut=null,Ht=0,o=Vt)}if(o!==0){if(o===2&&(g=Cn(i),g!==0&&(f=g,o=Cm(i,g))),o===1)throw u=Xl,no(i,0),es(i,f),wn(i,Xe()),u;if(o===6)es(i,f);else{if(g=i.current.alternate,(f&30)===0&&!VP(g)&&(o=vh(i,f),o===2&&(_=Cn(i),_!==0&&(f=_,o=Cm(i,_))),o===1))throw u=Xl,no(i,0),es(i,f),wn(i,Xe()),u;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:ro(i,_n,mi);break;case 3:if(es(i,f),(f&130023424)===f&&(o=Am+500-Xe(),10<o)){if(js(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){un(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Vf(ro.bind(null,i,_n,mi),o);break}ro(i,_n,mi);break;case 4:if(es(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var S=31-on(f);_=1<<S,S=o[S],S>g&&(g=S),f&=~_}if(f=g,f=Xe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*DP(f/1960))-f,10<f){i.timeoutHandle=Vf(ro.bind(null,i,_n,mi),f);break}ro(i,_n,mi);break;case 5:ro(i,_n,mi);break;default:throw Error(n(329))}}}return wn(i,Xe()),i.callbackNode===u?v0.bind(null,i):null}function Cm(i,o){var u=Jl;return i.current.memoizedState.isDehydrated&&(no(i,o).flags|=256),i=vh(i,o),i!==2&&(o=_n,_n=u,o!==null&&Rm(o)),i}function Rm(i){_n===null?_n=i:_n.push.apply(_n,i)}function VP(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!lr(_(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function es(i,o){for(o&=~Im,o&=~dh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-on(o),f=1<<u;i[u]=-1,o&=~f}}function _0(i){if((We&6)!==0)throw Error(n(327));Ta();var o=js(i,0);if((o&1)===0)return wn(i,Xe()),null;var u=vh(i,o);if(i.tag!==0&&u===2){var f=Cn(i);f!==0&&(o=f,u=Cm(i,f))}if(u===1)throw u=Xl,no(i,0),es(i,o),wn(i,Xe()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ro(i,_n,mi),wn(i,Xe()),null}function bm(i,o){var u=We;We|=1;try{return i(o)}finally{We=u,We===0&&(Ea=Xe()+500,Hc&&Gi())}}function to(i){Ji!==null&&Ji.tag===0&&(We&6)===0&&Ta();var o=We;We|=1;var u=Wn.transition,f=Be;try{if(Wn.transition=null,Be=1,i)return i()}finally{Be=f,Wn.transition=u,We=o,(We&6)===0&&Gi()}}function km(){Dn=wa.current,tt(wa)}function no(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,cP(u)),It!==null)for(u=It.return;u!==null;){var f=u;switch(Bf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&$c();break;case 3:ya(),tt(gn),tt(Yt),Zf();break;case 5:Xf(f);break;case 4:ya();break;case 13:tt(ut);break;case 19:tt(ut);break;case 10:qf(f.type._context);break;case 22:case 23:km()}u=u.return}if(Ut=i,It=i=ts(i.current,null),Ht=Dn=o,Vt=0,Xl=null,Im=dh=eo=0,_n=Jl=null,Xs!==null){for(o=0;o<Xs.length;o++)if(u=Xs[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,_=u.pending;if(_!==null){var S=_.next;_.next=g,f.next=S}u.pending=f}Xs=null}return i}function w0(i,o){do{var u=It;try{if(Hf(),th.current=sh,nh){for(var f=ct.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}nh=!1}if(Zs=0,Ft=Dt=ct=null,Hl=!1,ql=0,Sm.current=null,u===null||u.return===null){Vt=1,Xl=o,It=null;break}e:{var _=i,S=u.return,V=u,F=o;if(o=Ht,V.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var X=F,le=V,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var pe=H_(S);if(pe!==null){pe.flags&=-257,q_(pe,S,V,_,o),pe.mode&1&&W_(_,X,o),o=pe,F=X;var ve=o.updateQueue;if(ve===null){var _e=new Set;_e.add(F),o.updateQueue=_e}else ve.add(F);break e}else{if((o&1)===0){W_(_,X,o),Nm();break e}F=Error(n(426))}}else if(rt&&V.mode&1){var _t=H_(S);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),q_(_t,S,V,_,o),$f(va(F,V));break e}}_=F=va(F,V),Vt!==4&&(Vt=2),Jl===null?Jl=[_]:Jl.push(_),_=S;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var q=z_(_,F,o);p_(_,q);break e;case 1:V=F;var z=_.type,Y=_.stateNode;if((_.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Xi===null||!Xi.has(Y)))){_.flags|=65536,o&=-o,_.lanes|=o;var ce=$_(_,V,o);p_(_,ce);break e}}_=_.return}while(_!==null)}S0(u)}catch(we){o=we,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function E0(){var i=hh.current;return hh.current=sh,i===null?sh:i}function Nm(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ut===null||(eo&268435455)===0&&(dh&268435455)===0||es(Ut,Ht)}function vh(i,o){var u=We;We|=2;var f=E0();(Ut!==i||Ht!==o)&&(mi=null,no(i,o));do try{LP();break}catch(g){w0(i,g)}while(!0);if(Hf(),We=u,hh.current=f,It!==null)throw Error(n(261));return Ut=null,Ht=0,Vt}function LP(){for(;It!==null;)T0(It)}function OP(){for(;It!==null&&!pc();)T0(It)}function T0(i){var o=x0(i.alternate,i,Dn);i.memoizedProps=i.pendingProps,o===null?S0(i):It=o,Sm.current=null}function S0(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=CP(u,o,Dn),u!==null){It=u;return}}else{if(u=RP(u,o),u!==null){u.flags&=32767,It=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Vt=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=i}while(o!==null);Vt===0&&(Vt=5)}function ro(i,o,u){var f=Be,g=Wn.transition;try{Wn.transition=null,Be=1,MP(i,o,u,f)}finally{Wn.transition=g,Be=f}return null}function MP(i,o,u,f){do Ta();while(Ji!==null);if((We&6)!==0)throw Error(n(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(Ke(i,_),i===Ut&&(It=Ut=null,Ht=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||mh||(mh=!0,P0(Mn,function(){return Ta(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Wn.transition,Wn.transition=null;var S=Be;Be=1;var V=We;We|=4,Sm.current=null,kP(i,u),f0(u,i),rP(Nf),ji=!!kf,Nf=kf=null,i.current=u,NP(u),pf(),We=V,Be=S,Wn.transition=_}else i.current=u;if(mh&&(mh=!1,Ji=i,ph=g),_=i.pendingLanes,_===0&&(Xi=null),vc(u.stateNode),wn(i,Xe()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(fh)throw fh=!1,i=xm,xm=null,i;return(ph&1)!==0&&i.tag!==0&&Ta(),_=i.pendingLanes,(_&1)!==0?i===Pm?Zl++:(Zl=0,Pm=i):Zl=0,Gi(),null}function Ta(){if(Ji!==null){var i=Ui(ph),o=Wn.transition,u=Be;try{if(Wn.transition=null,Be=16>i?16:i,Ji===null)var f=!1;else{if(i=Ji,Ji=null,ph=0,(We&6)!==0)throw Error(n(331));var g=We;for(We|=4,ye=i.current;ye!==null;){var _=ye,S=_.child;if((ye.flags&16)!==0){var V=_.deletions;if(V!==null){for(var F=0;F<V.length;F++){var X=V[F];for(ye=X;ye!==null;){var le=ye;switch(le.tag){case 0:case 11:case 15:Yl(8,le,_)}var ue=le.child;if(ue!==null)ue.return=le,ye=ue;else for(;ye!==null;){le=ye;var ae=le.sibling,pe=le.return;if(l0(le),le===X){ye=null;break}if(ae!==null){ae.return=pe,ye=ae;break}ye=pe}}}var ve=_.alternate;if(ve!==null){var _e=ve.child;if(_e!==null){ve.child=null;do{var _t=_e.sibling;_e.sibling=null,_e=_t}while(_e!==null)}}ye=_}}if((_.subtreeFlags&2064)!==0&&S!==null)S.return=_,ye=S;else e:for(;ye!==null;){if(_=ye,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Yl(9,_,_.return)}var q=_.sibling;if(q!==null){q.return=_.return,ye=q;break e}ye=_.return}}var z=i.current;for(ye=z;ye!==null;){S=ye;var Y=S.child;if((S.subtreeFlags&2064)!==0&&Y!==null)Y.return=S,ye=Y;else e:for(S=z;ye!==null;){if(V=ye,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:ch(9,V)}}catch(we){mt(V,V.return,we)}if(V===S){ye=null;break e}var ce=V.sibling;if(ce!==null){ce.return=V.return,ye=ce;break e}ye=V.return}}if(We=g,Gi(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Bs,i)}catch{}f=!0}return f}finally{Be=u,Wn.transition=o}}return!1}function I0(i,o,u){o=va(u,o),o=z_(i,o,1),i=Qi(i,o,1),o=un(),i!==null&&(Mi(i,1,o),wn(i,o))}function mt(i,o,u){if(i.tag===3)I0(i,i,u);else for(;o!==null;){if(o.tag===3){I0(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xi===null||!Xi.has(f))){i=va(u,i),i=$_(o,i,1),o=Qi(o,i,1),i=un(),o!==null&&(Mi(o,1,i),wn(o,i));break}}o=o.return}}function FP(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=un(),i.pingedLanes|=i.suspendedLanes&u,Ut===i&&(Ht&u)===u&&(Vt===4||Vt===3&&(Ht&130023424)===Ht&&500>Xe()-Am?no(i,0):Im|=u),wn(i,o)}function A0(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ho,Ho<<=1,(Ho&130023424)===0&&(Ho=4194304)));var u=un();i=hi(i,o),i!==null&&(Mi(i,o,u),wn(i,u))}function UP(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),A0(i,u)}function BP(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),A0(i,u)}var x0;x0=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||gn.current)vn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return vn=!1,PP(i,o,u);vn=(i.flags&131072)!==0}else vn=!1,rt&&(o.flags&1048576)!==0&&s_(o,Gc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;lh(i,o),i=o.pendingProps;var g=ca(o,Yt.current);ga(o,u),g=nm(null,o,f,i,g,u);var _=rm();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,yn(f)?(_=!0,Wc(o)):_=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Qf(o),g.updater=oh,o.stateNode=g,g._reactInternals=o,um(o,f,i,u),o=fm(null,o,f,!0,_,u)):(o.tag=0,rt&&_&&Uf(o),ln(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(lh(i,o),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=zP(f),i=cr(f,i),g){case 0:o=dm(null,o,f,i,u);break e;case 1:o=J_(null,o,f,i,u);break e;case 11:o=G_(null,o,f,i,u);break e;case 14:o=K_(null,o,f,cr(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:cr(f,g),dm(i,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:cr(f,g),J_(i,o,f,g,u);case 3:e:{if(Z_(o),i===null)throw Error(n(387));f=o.pendingProps,_=o.memoizedState,g=_.element,m_(i,o),Zc(o,f,null,u);var S=o.memoizedState;if(f=S.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){g=va(Error(n(423)),o),o=e0(i,o,f,u,g);break e}else if(f!==g){g=va(Error(n(424)),o),o=e0(i,o,f,u,g);break e}else for(Nn=Wi(o.stateNode.containerInfo.firstChild),kn=o,rt=!0,ur=null,u=d_(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(fa(),f===g){o=fi(i,o,u);break e}ln(i,o,f,u)}o=o.child}return o;case 5:return y_(o),i===null&&zf(o),f=o.type,g=o.pendingProps,_=i!==null?i.memoizedProps:null,S=g.children,Df(f,g)?S=null:_!==null&&Df(f,_)&&(o.flags|=32),X_(i,o),ln(i,o,S,u),o.child;case 6:return i===null&&zf(o),null;case 13:return t0(i,o,u);case 4:return Yf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=ma(o,null,f,u):ln(i,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:cr(f,g),G_(i,o,f,g,u);case 7:return ln(i,o,o.pendingProps,u),o.child;case 8:return ln(i,o,o.pendingProps.children,u),o.child;case 12:return ln(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,_=o.memoizedProps,S=g.value,Je(Yc,f._currentValue),f._currentValue=S,_!==null)if(lr(_.value,S)){if(_.children===g.children&&!gn.current){o=fi(i,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var V=_.dependencies;if(V!==null){S=_.child;for(var F=V.firstContext;F!==null;){if(F.context===f){if(_.tag===1){F=di(-1,u&-u),F.tag=2;var X=_.updateQueue;if(X!==null){X=X.shared;var le=X.pending;le===null?F.next=F:(F.next=le.next,le.next=F),X.pending=F}}_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),Gf(_.return,u,o),V.lanes|=u;break}F=F.next}}else if(_.tag===10)S=_.type===o.type?null:_.child;else if(_.tag===18){if(S=_.return,S===null)throw Error(n(341));S.lanes|=u,V=S.alternate,V!==null&&(V.lanes|=u),Gf(S,u,o),S=_.sibling}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===o){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}ln(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,ga(o,u),g=zn(g),f=f(g),o.flags|=1,ln(i,o,f,u),o.child;case 14:return f=o.type,g=cr(f,o.pendingProps),g=cr(f.type,g),K_(i,o,f,g,u);case 15:return Q_(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:cr(f,g),lh(i,o),o.tag=1,yn(f)?(i=!0,Wc(o)):i=!1,ga(o,u),B_(o,f,g),um(o,f,g,u),fm(null,o,f,!0,i,u);case 19:return r0(i,o,u);case 22:return Y_(i,o,u)}throw Error(n(156,o.tag))};function P0(i,o){return $o(i,o)}function jP(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(i,o,u,f){return new jP(i,o,u,f)}function Dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zP(i){if(typeof i=="function")return Dm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===L)return 11;if(i===K)return 14}return 2}function ts(i,o){var u=i.alternate;return u===null?(u=Hn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function _h(i,o,u,f,g,_){var S=2;if(f=i,typeof i=="function")Dm(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case M:return io(u.children,g,_,o);case P:S=8,g|=8;break;case b:return i=Hn(12,u,o,g|2),i.elementType=b,i.lanes=_,i;case k:return i=Hn(13,u,o,g),i.elementType=k,i.lanes=_,i;case J:return i=Hn(19,u,o,g),i.elementType=J,i.lanes=_,i;case Q:return wh(u,g,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:S=10;break e;case U:S=9;break e;case L:S=11;break e;case K:S=14;break e;case ee:S=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Hn(S,u,o,g),o.elementType=i,o.type=f,o.lanes=_,o}function io(i,o,u,f){return i=Hn(7,i,f,o),i.lanes=u,i}function wh(i,o,u,f){return i=Hn(22,i,f,o),i.elementType=Q,i.lanes=u,i.stateNode={isHidden:!1},i}function Vm(i,o,u){return i=Hn(6,i,null,o),i.lanes=u,i}function Lm(i,o,u){return o=Hn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function $P(i,o,u,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Om(i,o,u,f,g,_,S,V,F){return i=new $P(i,o,u,V,F),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Hn(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qf(_),i}function WP(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:he,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function C0(i){if(!i)return qi;i=i._reactInternals;e:{if(tr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(yn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(yn(u))return n_(i,u,o)}return o}function R0(i,o,u,f,g,_,S,V,F){return i=Om(u,f,!0,i,g,_,S,V,F),i.context=C0(null),u=i.current,f=un(),g=Zi(u),_=di(f,g),_.callback=o??null,Qi(u,_,g),i.current.lanes=g,Mi(i,g,f),wn(i,f),i}function Eh(i,o,u,f){var g=o.current,_=un(),S=Zi(g);return u=C0(u),o.context===null?o.context=u:o.pendingContext=u,o=di(_,S),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Qi(g,o,S),i!==null&&(fr(i,g,S,_),Jc(i,g,S)),S}function Th(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function b0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Mm(i,o){b0(i,o),(i=i.alternate)&&b0(i,o)}function HP(){return null}var k0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Fm(i){this._internalRoot=i}Sh.prototype.render=Fm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Eh(i,o,null,null)},Sh.prototype.unmount=Fm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;to(function(){Eh(null,i,null,null)}),o[ai]=null}};function Sh(i){this._internalRoot=i}Sh.prototype.unstable_scheduleHydration=function(i){if(i){var o=Sc();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ar.length&&o!==0&&o<Ar[u].priority;u++);Ar.splice(u,0,i),u===0&&xc(i)}};function Um(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ih(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function N0(){}function qP(i,o,u,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var X=Th(S);_.call(X)}}var S=R0(o,f,i,0,null,!1,!1,"",N0);return i._reactRootContainer=S,i[ai]=S.current,Ml(i.nodeType===8?i.parentNode:i),to(),S}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var V=f;f=function(){var X=Th(F);V.call(X)}}var F=Om(i,0,!1,null,null,!1,!1,"",N0);return i._reactRootContainer=F,i[ai]=F.current,Ml(i.nodeType===8?i.parentNode:i),to(function(){Eh(o,F,u,f)}),F}function Ah(i,o,u,f,g){var _=u._reactRootContainer;if(_){var S=_;if(typeof g=="function"){var V=g;g=function(){var F=Th(S);V.call(F)}}Eh(o,S,i,g)}else S=qP(u,o,i,g,f);return Th(S)}Ec=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Li(o.pendingLanes);u!==0&&(Fi(o,u|1),wn(o,Xe()),(We&6)===0&&(Ea=Xe()+500,Gi()))}break;case 13:to(function(){var f=hi(i,1);if(f!==null){var g=un();fr(f,i,1,g)}}),Mm(i,1)}},qo=function(i){if(i.tag===13){var o=hi(i,134217728);if(o!==null){var u=un();fr(o,i,134217728,u)}Mm(i,134217728)}},Tc=function(i){if(i.tag===13){var o=Zi(i),u=hi(i,o);if(u!==null){var f=un();fr(u,i,o,f)}Mm(i,o)}},Sc=function(){return Be},Ic=function(i,o){var u=Be;try{return Be=i,o()}finally{Be=u}},Mo=function(i,o,u){switch(o){case"input":if(ll(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var g=zc(f);if(!g)throw Error(n(90));ko(f),ll(f,g)}}}break;case"textarea":Lo(i,u);break;case"select":o=u.value,o!=null&&Zr(i,!!u.multiple,o,!1)}},Ls=bm,vl=to;var GP={usingClientEntryPoint:!1,Events:[Bl,la,zc,Sr,yl,bm]},eu={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KP={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=El(i),i===null?null:i.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||HP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Bs=xh.inject(KP),Pn=xh}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GP,En.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Um(o))throw Error(n(200));return WP(i,o,null,u)},En.createRoot=function(i,o){if(!Um(i))throw Error(n(299));var u=!1,f="",g=k0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Om(i,1,!1,null,null,u,!1,f,g),i[ai]=o.current,Ml(i.nodeType===8?i.parentNode:i),new Fm(o)},En.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=El(o),i=i===null?null:i.stateNode,i},En.flushSync=function(i){return to(i)},En.hydrate=function(i,o,u){if(!Ih(o))throw Error(n(200));return Ah(null,i,o,!0,u)},En.hydrateRoot=function(i,o,u){if(!Um(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,g=!1,_="",S=k0;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=R0(o,null,i,1,u??null,g,!1,_,S),i[ai]=o.current,Ml(i),f)for(i=0;i<f.length;i++)u=f[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new Sh(o)},En.render=function(i,o,u){if(!Ih(o))throw Error(n(200));return Ah(null,i,o,!1,u)},En.unmountComponentAtNode=function(i){if(!Ih(i))throw Error(n(40));return i._reactRootContainer?(to(function(){Ah(null,null,i,!1,function(){i._reactRootContainer=null,i[ai]=null})}),!0):!1},En.unstable_batchedUpdates=bm,En.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Ih(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Ah(i,o,u,!1,f)},En.version="18.3.1-next-f1338f8080-20240426",En}var F0;function eC(){if(F0)return jm.exports;F0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jm.exports=ZP(),jm.exports}var U0;function tC(){if(U0)return Ph;U0=1;var t=eC();return Ph.createRoot=t.createRoot,Ph.hydrateRoot=t.hydrateRoot,Ph}var nC=tC();const rC=kg(nC);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B0="popstate";function iC(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Cp("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Su(s)}return oC(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sC(){return Math.random().toString(36).substring(2,10)}function j0(t,e){return{usr:t.state,key:t.key,idx:e}}function Cp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ya(e):e,state:n,key:e&&e.key||r||sC()}}function Su({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function oC(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",d=null,m=p();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function p(){return(l.state||{idx:null}).idx}function w(){c="POP";let C=p(),B=C==null?null:C-m;m=C,d&&d({action:c,location:D.location,delta:B})}function E(C,B){c="PUSH";let W=Cp(D.location,C,B);m=p()+1;let $=j0(W,m),re=D.createHref(W);try{l.pushState($,"",re)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;s.location.assign(re)}a&&d&&d({action:c,location:D.location,delta:1})}function I(C,B){c="REPLACE";let W=Cp(D.location,C,B);m=p();let $=j0(W,m),re=D.createHref(W);l.replaceState($,"",re),a&&d&&d({action:c,location:D.location,delta:0})}function x(C){return aC(C)}let D={get action(){return c},get location(){return t(s,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(B0,w),d=C,()=>{s.removeEventListener(B0,w),d=null}},createHref(C){return e(s,C)},createURL:x,encodeLocation(C){let B=x(C);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:I,go(C){return l.go(C)}};return D}function aC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Su(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function XT(t,e,n="/"){return lC(t,e,n,!1)}function lC(t,e,n,r){let s=typeof e=="string"?Ya(e):e,a=Ti(s.pathname||"/",n);if(a==null)return null;let l=JT(t);uC(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let m=wC(a);c=vC(l[d],m,r)}return c}function JT(t,e=[],n=[],r="",s=!1){let a=(l,c,d=s,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;at(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let w=_i([r,p.relativePath]),E=n.concat(p);l.children&&l.children.length>0&&(at(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),JT(l.children,e,E,w,d)),!(l.path==null&&!l.index)&&e.push({path:w,score:gC(w,l.index),routesMeta:E})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of ZT(l.path))a(l,c,!0,d)}),e}function ZT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=ZT(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function uC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cC=/^:[\w-]+$/,hC=3,dC=2,fC=1,mC=10,pC=-2,z0=t=>t==="*";function gC(t,e){let n=t.split("/"),r=n.length;return n.some(z0)&&(r+=pC),e&&(r+=dC),n.filter(s=>!z0(s)).reduce((s,a)=>s+(cC.test(a)?hC:a===""?fC:mC),r)}function yC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vC(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],m=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",w=sd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},p),E=d.route;if(!w&&m&&n&&!r[r.length-1].route.index&&(w=sd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!w)return null;Object.assign(s,w.params),l.push({params:s,pathname:_i([a,w.pathname]),pathnameBase:IC(_i([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=_i([a,w.pathnameBase]))}return l}function sd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_C(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((m,{paramName:p,isOptional:w},E)=>{if(p==="*"){let x=c[E]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const I=c[E];return w&&!I?m[p]=void 0:m[p]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function _C(t,e=!1,n=!0){Xn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function wC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EC(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ya(t):t;return{pathname:n?n.startsWith("/")?n:TC(n,e):e,search:AC(r),hash:xC(s)}}function TC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Wm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dg(t){let e=SC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Vg(t,e,n,r=!1){let s;typeof t=="string"?s=Ya(t):(s={...t},at(!s.pathname||!s.pathname.includes("?"),Wm("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Wm("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Wm("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let w=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}c=w>=0?e[w]:"/"}let d=EC(s,c),m=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||p)&&(d.pathname+="/"),d}var _i=t=>t.join("/").replace(/\/\/+/g,"/"),IC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var e1=["POST","PUT","PATCH","DELETE"];new Set(e1);var CC=["GET",...e1];new Set(CC);var Xa=R.createContext(null);Xa.displayName="DataRouter";var Nd=R.createContext(null);Nd.displayName="DataRouterState";R.createContext(!1);var t1=R.createContext({isTransitioning:!1});t1.displayName="ViewTransition";var RC=R.createContext(new Map);RC.displayName="Fetchers";var bC=R.createContext(null);bC.displayName="Await";var wr=R.createContext(null);wr.displayName="Navigation";var Hu=R.createContext(null);Hu.displayName="Location";var Er=R.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var Lg=R.createContext(null);Lg.displayName="RouteError";function kC(t,{relative:e}={}){at(Ja(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(wr),{hash:s,pathname:a,search:l}=qu(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:_i([n,a])),r.createHref({pathname:c,search:l,hash:s})}function Ja(){return R.useContext(Hu)!=null}function Kr(){return at(Ja(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Hu).location}var n1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r1(t){R.useContext(wr).static||R.useLayoutEffect(t)}function Qr(){let{isDataRoute:t}=R.useContext(Er);return t?WC():NC()}function NC(){at(Ja(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Xa),{basename:e,navigator:n}=R.useContext(wr),{matches:r}=R.useContext(Er),{pathname:s}=Kr(),a=JSON.stringify(Dg(r)),l=R.useRef(!1);return r1(()=>{l.current=!0}),R.useCallback((d,m={})=>{if(Xn(l.current,n1),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=Vg(d,JSON.parse(a),s,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:_i([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,a,s,t])}R.createContext(null);function i1(){let{matches:t}=R.useContext(Er),e=t[t.length-1];return e?e.params:{}}function qu(t,{relative:e}={}){let{matches:n}=R.useContext(Er),{pathname:r}=Kr(),s=JSON.stringify(Dg(n));return R.useMemo(()=>Vg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function DC(t,e){return s1(t,e)}function s1(t,e,n,r,s){at(Ja(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=R.useContext(wr),{matches:l}=R.useContext(Er),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",w=c&&c.route;{let W=w&&w.path||"";o1(m,!w||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let E=Kr(),I;if(e){let W=typeof e=="string"?Ya(e):e;at(p==="/"||W.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${W.pathname}" was given in the \`location\` prop.`),I=W}else I=E;let x=I.pathname||"/",D=x;if(p!=="/"){let W=p.replace(/^\//,"").split("/");D="/"+x.replace(/^\//,"").split("/").slice(W.length).join("/")}let C=XT(t,{pathname:D});Xn(w||C!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Xn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=FC(C&&C.map(W=>Object.assign({},W,{params:Object.assign({},d,W.params),pathname:_i([p,a.encodeLocation?a.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?p:_i([p,a.encodeLocation?a.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),l,n,r,s);return e&&B?R.createElement(Hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},B):B}function VC(){let t=$C(),e=PC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:s},n):null,l)}var LC=R.createElement(VC,null),OC=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(Er.Provider,{value:this.props.routeContext},R.createElement(Lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MC({routeContext:t,match:e,children:n}){let r=R.useContext(Xa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Er.Provider,{value:t},n)}function FC(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);at(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:w,errors:E}=n,I=p.route.loader&&!w.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||I){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,w)=>{let E,I=!1,x=null,D=null;n&&(E=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||LC,c&&(d<0&&w===0?(o1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,D=null):d===w&&(I=!0,D=p.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,w+1)),B=()=>{let W;return E?W=x:I?W=D:p.route.Component?W=R.createElement(p.route.Component,null):p.route.element?W=p.route.element:W=m,R.createElement(MC,{match:p,routeContext:{outlet:m,matches:C,isDataRoute:n!=null},children:W})};return n&&(p.route.ErrorBoundary||p.route.errorElement||w===0)?R.createElement(OC,{location:n.location,revalidation:n.revalidation,component:x,error:E,children:B(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):B()},null)}function Og(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UC(t){let e=R.useContext(Xa);return at(e,Og(t)),e}function BC(t){let e=R.useContext(Nd);return at(e,Og(t)),e}function jC(t){let e=R.useContext(Er);return at(e,Og(t)),e}function Mg(t){let e=jC(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zC(){return Mg("useRouteId")}function $C(){let t=R.useContext(Lg),e=BC("useRouteError"),n=Mg("useRouteError");return t!==void 0?t:e.errors?.[n]}function WC(){let{router:t}=UC("useNavigate"),e=Mg("useNavigate"),n=R.useRef(!1);return r1(()=>{n.current=!0}),R.useCallback(async(s,a={})=>{Xn(n.current,n1),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var $0={};function o1(t,e,n){!e&&!$0[t]&&($0[t]=!0,Xn(!1,n))}R.memo(HC);function HC({routes:t,future:e,state:n,unstable_onError:r}){return s1(t,void 0,n,r,e)}function qC({to:t,replace:e,state:n,relative:r}){at(Ja(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=R.useContext(wr);Xn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext(Er),{pathname:l}=Kr(),c=Qr(),d=Vg(t,Dg(a),l,r==="path"),m=JSON.stringify(d);return R.useEffect(()=>{c(JSON.parse(m),{replace:e,state:n,relative:r})},[c,m,r,e,n]),null}function hn(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){at(!Ja(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Ya(n));let{pathname:d="/",search:m="",hash:p="",state:w=null,key:E="default"}=n,I=R.useMemo(()=>{let x=Ti(d,l);return x==null?null:{location:{pathname:x,search:m,hash:p,state:w,key:E},navigationType:r}},[l,d,m,p,w,E,r]);return Xn(I!=null,`<Router basename="${l}"> is not able to match the URL "${d}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:R.createElement(wr.Provider,{value:c},R.createElement(Hu.Provider,{children:e,value:I}))}function KC({children:t,location:e}){return DC(Rp(t),e)}function Rp(t,e=[]){let n=[];return R.Children.forEach(t,(r,s)=>{if(!R.isValidElement(r))return;let a=[...e,s];if(r.type===R.Fragment){n.push.apply(n,Rp(r.props.children,a));return}at(r.type===hn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Rp(r.props.children,a)),n.push(l)}),n}var zh="get",$h="application/x-www-form-urlencoded";function Dd(t){return t!=null&&typeof t.tagName=="string"}function QC(t){return Dd(t)&&t.tagName.toLowerCase()==="button"}function YC(t){return Dd(t)&&t.tagName.toLowerCase()==="form"}function XC(t){return Dd(t)&&t.tagName.toLowerCase()==="input"}function JC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZC(t,e){return t.button===0&&(!e||e==="_self")&&!JC(t)}function bp(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function eR(t,e){let n=bp(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(a=>{n.append(s,a)})}),n}var Ch=null;function tR(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var nR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(t){return t!=null&&!nR.has(t)?(Xn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$h}"`),null):t}function rR(t,e){let n,r,s,a,l;if(YC(t)){let c=t.getAttribute("action");r=c?Ti(c,e):null,n=t.getAttribute("method")||zh,s=Hm(t.getAttribute("enctype"))||$h,a=new FormData(t)}else if(QC(t)||XC(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ti(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||zh,s=Hm(t.getAttribute("formenctype"))||Hm(c.getAttribute("enctype"))||$h,a=new FormData(c,t),!tR()){let{name:m,type:p,value:w}=t;if(p==="image"){let E=m?`${m}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else m&&a.append(m,w)}}else{if(Dd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zh,r=null,s=$h,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ti(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function sR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aR(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await sR(a,n);return l.links?l.links():[]}return[]}));return hR(r.flat(1).filter(oR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function W0(t,e,n,r,s,a){let l=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,c=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,m)=>l(d,m)||c(d,m)):a==="data"?e.filter((d,m)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,m)||c(d,m))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function lR(t,e,{includeHydrateFallback:n}={}){return uR(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function uR(t){return[...new Set(t)]}function cR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function hR(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(cR(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function a1(){let t=R.useContext(Xa);return Fg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dR(){let t=R.useContext(Nd);return Fg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ug=R.createContext(void 0);Ug.displayName="FrameworkContext";function l1(){let t=R.useContext(Ug);return Fg(t,"You must render this element inside a <HydratedRouter> element"),t}function fR(t,e){let n=R.useContext(Ug),[r,s]=R.useState(!1),[a,l]=R.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:m,onMouseLeave:p,onTouchStart:w}=e,E=R.useRef(null);R.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let D=B=>{B.forEach(W=>{l(W.isIntersecting)})},C=new IntersectionObserver(D,{threshold:.5});return E.current&&C.observe(E.current),()=>{C.disconnect()}}},[t]),R.useEffect(()=>{if(r){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[r]);let I=()=>{s(!0)},x=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:tu(c,I),onBlur:tu(d,x),onMouseEnter:tu(m,I),onMouseLeave:tu(p,x),onTouchStart:tu(w,I)}]:[!1,E,{}]}function tu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mR({page:t,...e}){let{router:n}=a1(),r=R.useMemo(()=>XT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(gR,{page:t,matches:r,...e}):null}function pR(t){let{manifest:e,routeModules:n}=l1(),[r,s]=R.useState([]);return R.useEffect(()=>{let a=!1;return aR(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function gR({page:t,matches:e,...n}){let r=Kr(),{manifest:s,routeModules:a}=l1(),{basename:l}=a1(),{loaderData:c,matches:d}=dR(),m=R.useMemo(()=>W0(t,e,d,s,r,"data"),[t,e,d,s,r]),p=R.useMemo(()=>W0(t,e,d,s,r,"assets"),[t,e,d,s,r]),w=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,D=!1;if(e.forEach(B=>{let W=s.routes[B.route.id];!W||!W.hasLoader||(!m.some($=>$.route.id===B.route.id)&&B.route.id in c&&a[B.route.id]?.shouldRevalidate||W.hasClientLoader?D=!0:x.add(B.route.id))}),x.size===0)return[];let C=iR(t,l,"data");return D&&x.size>0&&C.searchParams.set("_routes",e.filter(B=>x.has(B.route.id)).map(B=>B.route.id).join(",")),[C.pathname+C.search]},[l,c,r,s,m,e,t,a]),E=R.useMemo(()=>lR(p,s),[p,s]),I=pR(p);return R.createElement(R.Fragment,null,w.map(x=>R.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),E.map(x=>R.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),I.map(({key:x,link:D})=>R.createElement("link",{key:x,nonce:n.nonce,...D})))}function yR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u1&&(window.__reactRouterVersion="7.9.1")}catch{}function vR({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=iC({window:n,v5Compat:!0}));let s=r.current,[a,l]=R.useState({action:s.action,location:s.location}),c=R.useCallback(d=>{R.startTransition(()=>l(d))},[l]);return R.useLayoutEffect(()=>s.listen(c),[s,c]),R.createElement(GC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var c1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:d,to:m,preventScrollReset:p,viewTransition:w,...E},I){let{basename:x}=R.useContext(wr),D=typeof m=="string"&&c1.test(m),C,B=!1;if(typeof m=="string"&&D&&(C=m,u1))try{let b=new URL(window.location.href),O=m.startsWith("//")?new URL(b.protocol+m):new URL(m),U=Ti(O.pathname,x);O.origin===b.origin&&U!=null?m=U+O.search+O.hash:B=!0}catch{Xn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=kC(m,{relative:s}),[$,re,se]=fR(r,E),he=TR(m,{replace:l,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:w});function M(b){e&&e(b),b.defaultPrevented||he(b)}let P=R.createElement("a",{...E,...se,href:C||W,onClick:B||a?e:M,ref:yR(I,re),target:d,"data-discover":!D&&n==="render"?"true":void 0});return $&&!D?R.createElement(R.Fragment,null,P,R.createElement(mR,{page:W})):P});ht.displayName="Link";var _R=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:d,...m},p){let w=qu(l,{relative:m.relative}),E=Kr(),I=R.useContext(Nd),{navigator:x,basename:D}=R.useContext(wr),C=I!=null&&CR(w)&&c===!0,B=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,W=E.pathname,$=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(W=W.toLowerCase(),$=$?$.toLowerCase():null,B=B.toLowerCase()),$&&D&&($=Ti($,D)||$);const re=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let se=W===B||!s&&W.startsWith(B)&&W.charAt(re)==="/",he=$!=null&&($===B||!s&&$.startsWith(B)&&$.charAt(B.length)==="/"),M={isActive:se,isPending:he,isTransitioning:C},P=se?e:void 0,b;typeof r=="function"?b=r(M):b=[r,se?"active":null,he?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(M):a;return R.createElement(ht,{...m,"aria-current":P,className:b,ref:p,style:O,to:l,viewTransition:c},typeof d=="function"?d(M):d)});_R.displayName="NavLink";var wR=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=zh,action:c,onSubmit:d,relative:m,preventScrollReset:p,viewTransition:w,...E},I)=>{let x=xR(),D=PR(c,{relative:m}),C=l.toLowerCase()==="get"?"get":"post",B=typeof c=="string"&&c1.test(c),W=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let re=$.nativeEvent.submitter,se=re?.getAttribute("formmethod")||l;x(re||$.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:s,state:a,relative:m,preventScrollReset:p,viewTransition:w})};return R.createElement("form",{ref:I,method:C,action:D,onSubmit:r?d:W,...E,"data-discover":!B&&t==="render"?"true":void 0})});wR.displayName="Form";function ER(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(t){let e=R.useContext(Xa);return at(e,ER(t)),e}function TR(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Qr(),d=Kr(),m=qu(t,{relative:a});return R.useCallback(p=>{if(ZC(p,e)){p.preventDefault();let w=n!==void 0?n:Su(d)===Su(m);c(t,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,c,m,n,r,e,t,s,a,l])}function SR(t){Xn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(bp(t)),n=R.useRef(!1),r=Kr(),s=R.useMemo(()=>eR(r.search,n.current?null:e.current),[r.search]),a=Qr(),l=R.useCallback((c,d)=>{const m=bp(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,a("?"+m,d)},[a,s]);return[s,l]}var IR=0,AR=()=>`__${String(++IR)}__`;function xR(){let{router:t}=h1("useSubmit"),{basename:e}=R.useContext(wr),n=zC();return R.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:d,body:m}=rR(r,e);if(s.navigate===!1){let p=s.fetcherKey||AR();await t.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function PR(t,{relative:e}={}){let{basename:n}=R.useContext(wr),r=R.useContext(Er);at(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...qu(t||".",{relative:e})},l=Kr();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(w=>w).forEach(w=>c.append("index",w));let p=c.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:_i([n,a.pathname])),Su(a)}function CR(t,{relative:e}={}){let n=R.useContext(t1);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=h1("useViewTransitionState"),s=qu(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sd(s.pathname,l)!=null||sd(s.pathname,a)!=null}var qm={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function RR(){if(H0)return nu;H0=1;var t=Ng(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,m){var p,w={},E=null,I=null;m!==void 0&&(E=""+m),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(I=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(w[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)w[p]===void 0&&(w[p]=d[p]);return{$$typeof:e,type:c,key:E,ref:I,props:w,_owner:s.current}}return nu.Fragment=n,nu.jsx=l,nu.jsxs=l,nu}var q0;function bR(){return q0||(q0=1,qm.exports=RR()),qm.exports}var kp=bR();const d1=R.createContext({});function kR(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bg=typeof window<"u",NR=Bg?R.useLayoutEffect:R.useEffect,jg=R.createContext(null);function zg(t,e){t.indexOf(e)===-1&&t.push(e)}function $g(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Si=(t,e,n)=>n>e?e:n<t?t:n;let Wg=()=>{};const Ii={},f1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function m1(t){return typeof t=="object"&&t!==null}const p1=t=>/^0[^.\s]+$/u.test(t);function Hg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qn=t=>t,DR=(t,e)=>n=>e(t(n)),Gu=(...t)=>t.reduce(DR),Iu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class qg{constructor(){this.subscriptions=[]}add(e){return zg(this.subscriptions,e),()=>$g(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fr=t=>t*1e3,Ur=t=>t/1e3;function g1(t,e){return e?t*(1e3/e):0}const y1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,VR=1e-7,LR=12;function OR(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=y1(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>VR&&++c<LR);return l}function Ku(t,e,n,r){if(t===e&&n===r)return Qn;const s=a=>OR(a,0,1,t,n);return a=>a===0||a===1?a:y1(s(a),e,r)}const v1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_1=t=>e=>1-t(1-e),w1=Ku(.33,1.53,.69,.99),Gg=_1(w1),E1=v1(Gg),T1=t=>(t*=2)<1?.5*Gg(t):.5*(2-Math.pow(2,-10*(t-1))),Kg=t=>1-Math.sin(Math.acos(t)),S1=_1(Kg),I1=v1(Kg),MR=Ku(.42,0,1,1),FR=Ku(0,0,.58,1),A1=Ku(.42,0,.58,1),UR=t=>Array.isArray(t)&&typeof t[0]!="number",x1=t=>Array.isArray(t)&&typeof t[0]=="number",BR={linear:Qn,easeIn:MR,easeInOut:A1,easeOut:FR,circIn:Kg,circInOut:I1,circOut:S1,backIn:Gg,backInOut:E1,backOut:w1,anticipate:T1},jR=t=>typeof t=="string",G0=t=>{if(x1(t)){Wg(t.length===4);const[e,n,r,s]=t;return Ku(e,n,r,s)}else if(jR(t))return BR[t];return t},Rh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zR(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(m.schedule(p),t()),p(c)}const m={schedule:(p,w=!1,E=!1)=>{const x=E&&s?n:r;return w&&l.add(p),x.has(p)||x.add(p),p},cancel:p=>{r.delete(p),l.delete(p)},process:p=>{if(c=p,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,a&&(a=!1,m.process(p))}};return m}const $R=40;function P1(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Rh.reduce(($,re)=>($[re]=zR(a),$),{}),{setup:c,read:d,resolveKeyframes:m,preUpdate:p,update:w,preRender:E,render:I,postRender:x}=l,D=()=>{const $=Ii.useManualTiming?s.timestamp:performance.now();n=!1,Ii.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min($-s.timestamp,$R),1)),s.timestamp=$,s.isProcessing=!0,c.process(s),d.process(s),m.process(s),p.process(s),w.process(s),E.process(s),I.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(D))},C=()=>{n=!0,r=!0,s.isProcessing||t(D)};return{schedule:Rh.reduce(($,re)=>{const se=l[re];return $[re]=(he,M=!1,P=!1)=>(n||C(),se.schedule(he,M,P)),$},{}),cancel:$=>{for(let re=0;re<Rh.length;re++)l[Rh[re]].cancel($)},state:s,steps:l}}const{schedule:ot,cancel:ms,state:qt,steps:Gm}=P1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);let Wh;function WR(){Wh=void 0}const An={now:()=>(Wh===void 0&&An.set(qt.isProcessing||Ii.useManualTiming?qt.timestamp:performance.now()),Wh),set:t=>{Wh=t,queueMicrotask(WR)}},C1=t=>e=>typeof e=="string"&&e.startsWith(t),Qg=C1("--"),HR=C1("var(--"),Yg=t=>HR(t)?qR.test(t.split("/*")[0].trim()):!1,qR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Za={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Au={...Za,transform:t=>Si(0,1,t)},bh={...Za,default:1},du=t=>Math.round(t*1e5)/1e5,Xg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GR(t){return t==null}const KR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jg=(t,e)=>n=>!!(typeof n=="string"&&KR.test(n)&&n.startsWith(t)||e&&!GR(n)&&Object.prototype.hasOwnProperty.call(n,e)),R1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(Xg);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},QR=t=>Si(0,255,t),Km={...Za,transform:t=>Math.round(QR(t))},lo={test:Jg("rgb","red"),parse:R1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Km.transform(t)+", "+Km.transform(e)+", "+Km.transform(n)+", "+du(Au.transform(r))+")"};function YR(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Np={test:Jg("#"),parse:YR,transform:lo.transform},Qu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),is=Qu("deg"),Br=Qu("%"),Pe=Qu("px"),XR=Qu("vh"),JR=Qu("vw"),K0={...Br,parse:t=>Br.parse(t)/100,transform:t=>Br.transform(t*100)},Pa={test:Jg("hsl","hue"),parse:R1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Br.transform(du(e))+", "+Br.transform(du(n))+", "+du(Au.transform(r))+")"},xt={test:t=>lo.test(t)||Np.test(t)||Pa.test(t),parse:t=>lo.test(t)?lo.parse(t):Pa.test(t)?Pa.parse(t):Np.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?lo.transform(t):Pa.transform(t),getAnimatableNone:t=>{const e=xt.parse(t);return e.alpha=0,xt.transform(e)}},ZR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eb(t){return isNaN(t)&&typeof t=="string"&&(t.match(Xg)?.length||0)+(t.match(ZR)?.length||0)>0}const b1="number",k1="color",tb="var",nb="var(",Q0="${}",rb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(rb,d=>(xt.test(d)?(r.color.push(a),s.push(k1),n.push(xt.parse(d))):d.startsWith(nb)?(r.var.push(a),s.push(tb),n.push(d)):(r.number.push(a),s.push(b1),n.push(parseFloat(d))),++a,Q0)).split(Q0);return{values:n,split:c,indexes:r,types:s}}function N1(t){return xu(t).values}function D1(t){const{split:e,types:n}=xu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===b1?a+=du(s[l]):c===k1?a+=xt.transform(s[l]):a+=s[l]}return a}}const ib=t=>typeof t=="number"?0:xt.test(t)?xt.getAnimatableNone(t):t;function sb(t){const e=N1(t);return D1(t)(e.map(ib))}const ps={test:eb,parse:N1,createTransformer:D1,getAnimatableNone:sb};function Qm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ob({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=Qm(d,c,t+1/3),a=Qm(d,c,t),l=Qm(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function od(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,Ym=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},ab=[Np,lo,Pa],lb=t=>ab.find(e=>e.test(t));function Y0(t){const e=lb(t);if(!e)return!1;let n=e.parse(t);return e===Pa&&(n=ob(n)),n}const X0=(t,e)=>{const n=Y0(t),r=Y0(e);if(!n||!r)return od(t,e);const s={...n};return a=>(s.red=Ym(n.red,r.red,a),s.green=Ym(n.green,r.green,a),s.blue=Ym(n.blue,r.blue,a),s.alpha=dt(n.alpha,r.alpha,a),lo.transform(s))},Dp=new Set(["none","hidden"]);function ub(t,e){return Dp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function cb(t,e){return n=>dt(t,e,n)}function Zg(t){return typeof t=="number"?cb:typeof t=="string"?Yg(t)?od:xt.test(t)?X0:fb:Array.isArray(t)?V1:typeof t=="object"?xt.test(t)?X0:hb:od}function V1(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Zg(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function hb(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Zg(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function db(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],c=t.values[l]??0;n[s]=c,r[a]++}return n}const fb=(t,e)=>{const n=ps.createTransformer(e),r=xu(t),s=xu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Dp.has(t)&&!s.values.length||Dp.has(e)&&!r.values.length?ub(t,e):Gu(V1(db(r,s),s.values),n):od(t,e)};function L1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):Zg(t)(t,e)}const mb=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ot.update(e,n),stop:()=>ms(e),now:()=>qt.isProcessing?qt.timestamp:An.now()}},O1=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ad=2e4;function ey(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ad;)e+=n,r=t.next(e);return e>=ad?1/0:e}function pb(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(ey(r),ad);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Ur(s)}}const gb=5;function M1(t,e,n){const r=Math.max(e-gb,0);return g1(n-t(r),e-r)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xm=.001;function yb({duration:t=pt.duration,bounce:e=pt.bounce,velocity:n=pt.velocity,mass:r=pt.mass}){let s,a,l=1-e;l=Si(pt.minDamping,pt.maxDamping,l),t=Si(pt.minDuration,pt.maxDuration,Ur(t)),l<1?(s=m=>{const p=m*l,w=p*t,E=p-n,I=Vp(m,l),x=Math.exp(-w);return Xm-E/I*x},a=m=>{const w=m*l*t,E=w*n+n,I=Math.pow(l,2)*Math.pow(m,2)*t,x=Math.exp(-w),D=Vp(Math.pow(m,2),l);return(-s(m)+Xm>0?-1:1)*((E-I)*x)/D}):(s=m=>{const p=Math.exp(-m*t),w=(m-n)*t+1;return-Xm+p*w},a=m=>{const p=Math.exp(-m*t),w=(n-m)*(t*t);return p*w});const c=5/t,d=_b(s,a,c);if(t=Fr(t),isNaN(d))return{stiffness:pt.stiffness,damping:pt.damping,duration:t};{const m=Math.pow(d,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:t}}}const vb=12;function _b(t,e,n){let r=n;for(let s=1;s<vb;s++)r=r-t(r)/e(r);return r}function Vp(t,e){return t*Math.sqrt(1-e*e)}const wb=["duration","bounce"],Eb=["stiffness","damping","mass"];function J0(t,e){return e.some(n=>t[n]!==void 0)}function Tb(t){let e={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...t};if(!J0(t,Eb)&&J0(t,wb))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Si(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:pt.mass,stiffness:s,damping:a}}else{const n=yb(t);e={...e,...n,mass:pt.mass},e.isResolvedFromDuration=!0}return e}function ld(t=pt.visualDuration,e=pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:m,mass:p,duration:w,velocity:E,isResolvedFromDuration:I}=Tb({...n,velocity:-Ur(n.velocity||0)}),x=E||0,D=m/(2*Math.sqrt(d*p)),C=l-a,B=Ur(Math.sqrt(d/p)),W=Math.abs(C)<5;r||(r=W?pt.restSpeed.granular:pt.restSpeed.default),s||(s=W?pt.restDelta.granular:pt.restDelta.default);let $;if(D<1){const se=Vp(B,D);$=he=>{const M=Math.exp(-D*B*he);return l-M*((x+D*B*C)/se*Math.sin(se*he)+C*Math.cos(se*he))}}else if(D===1)$=se=>l-Math.exp(-B*se)*(C+(x+B*C)*se);else{const se=B*Math.sqrt(D*D-1);$=he=>{const M=Math.exp(-D*B*he),P=Math.min(se*he,300);return l-M*((x+D*B*C)*Math.sinh(P)+se*C*Math.cosh(P))/se}}const re={calculatedDuration:I&&w||null,next:se=>{const he=$(se);if(I)c.done=se>=w;else{let M=se===0?x:0;D<1&&(M=se===0?Fr(x):M1($,se,he));const P=Math.abs(M)<=r,b=Math.abs(l-he)<=s;c.done=P&&b}return c.value=c.done?l:he,c},toString:()=>{const se=Math.min(ey(re),ad),he=O1(M=>re.next(se*M).value,se,30);return se+"ms "+he},toTransition:()=>{}};return re}ld.applyToOptions=t=>{const e=pb(t,100,ld);return t.ease=e.ease,t.duration=Fr(e.duration),t.type="keyframes",t};function Lp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:m=.5,restSpeed:p}){const w=t[0],E={done:!1,value:w},I=P=>c!==void 0&&P<c||d!==void 0&&P>d,x=P=>c===void 0?d:d===void 0||Math.abs(c-P)<Math.abs(d-P)?c:d;let D=n*e;const C=w+D,B=l===void 0?C:l(C);B!==C&&(D=B-w);const W=P=>-D*Math.exp(-P/r),$=P=>B+W(P),re=P=>{const b=W(P),O=$(P);E.done=Math.abs(b)<=m,E.value=E.done?B:O};let se,he;const M=P=>{I(E.value)&&(se=P,he=ld({keyframes:[E.value,x(E.value)],velocity:M1($,P,E.value),damping:s,stiffness:a,restDelta:m,restSpeed:p}))};return M(0),{calculatedDuration:null,next:P=>{let b=!1;return!he&&se===void 0&&(b=!0,re(P),M(P)),se!==void 0&&P>=se?he.next(P-se):(!b&&re(P),E)}}}function Sb(t,e,n){const r=[],s=n||Ii.mix||L1,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Qn:e;c=Gu(d,c)}r.push(c)}return r}function Ib(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Wg(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Sb(e,r,s),d=c.length,m=p=>{if(l&&p<t[0])return e[0];let w=0;if(d>1)for(;w<t.length-2&&!(p<t[w+1]);w++);const E=Iu(t[w],t[w+1],p);return c[w](E)};return n?p=>m(Si(t[0],t[a-1],p)):m}function Ab(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Iu(0,e,r);t.push(dt(n,1,s))}}function xb(t){const e=[0];return Ab(e,t.length-1),e}function Pb(t,e){return t.map(n=>n*e)}function Cb(t,e){return t.map(()=>e||A1).splice(0,t.length-1)}function fu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=UR(r)?r.map(G0):G0(r),a={done:!1,value:e[0]},l=Pb(n&&n.length===e.length?n:xb(e),t),c=Ib(l,e,{ease:Array.isArray(s)?s:Cb(e,s)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const Rb=t=>t!==null;function ty(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(Rb),c=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const bb={decay:Lp,inertia:Lp,tween:fu,keyframes:fu,spring:ld};function F1(t){typeof t.type=="string"&&(t.type=bb[t.type])}class ny{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const kb=t=>t/100;class ry extends ny{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;F1(e);const{type:n=fu,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const d=n||fu;d!==fu&&typeof c[0]!="number"&&(this.mixKeyframes=Gu(kb,L1(c[0],c[1])),c=[0,100]);const m=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=ey(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:p,repeat:w,repeatType:E,repeatDelay:I,type:x,onUpdate:D,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-m*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?B<0:B>s;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let $=this.currentTime,re=r;if(w){const P=Math.min(this.currentTime,s)/c;let b=Math.floor(P),O=P%1;!O&&P>=1&&(O=1),O===1&&b--,b=Math.min(b,w+1),!!(b%2)&&(E==="reverse"?(O=1-O,I&&(O-=I/c)):E==="mirror"&&(re=l)),$=Si(0,1,O)*c}const se=W?{done:!1,value:p[0]}:re.next($);a&&(se.value=a(se.value));let{done:he}=se;!W&&d!==null&&(he=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&he);return M&&x!==Lp&&(se.value=ty(p,this.options,C,this.speed)),D&&D(se.value),M&&this.finish(),se}then(e,n){return this.finished.then(e,n)}get duration(){return Ur(this.calculatedDuration)}get time(){return Ur(this.currentTime)}set time(e){e=Fr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(An.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ur(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=mb,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Nb(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const uo=t=>t*180/Math.PI,Op=t=>{const e=uo(Math.atan2(t[1],t[0]));return Mp(e)},Db={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Op,rotateZ:Op,skewX:t=>uo(Math.atan(t[1])),skewY:t=>uo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Mp=t=>(t=t%360,t<0&&(t+=360),t),Z0=Op,ew=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),tw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Vb={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ew,scaleY:tw,scale:t=>(ew(t)+tw(t))/2,rotateX:t=>Mp(uo(Math.atan2(t[6],t[5]))),rotateY:t=>Mp(uo(Math.atan2(-t[2],t[0]))),rotateZ:Z0,rotate:Z0,skewX:t=>uo(Math.atan(t[4])),skewY:t=>uo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Fp(t){return t.includes("scale")?1:0}function Up(t,e){if(!t||t==="none")return Fp(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Vb,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Db,s=c}if(!s)return Fp(e);const a=r[e],l=s[1].split(",").map(Ob);return typeof a=="function"?a(l):l[a]}const Lb=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Up(n,e)};function Ob(t){return parseFloat(t.trim())}const el=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tl=new Set(el),nw=t=>t===Za||t===Pe,Mb=new Set(["x","y","z"]),Fb=el.filter(t=>!Mb.has(t));function Ub(t){const e=[];return Fb.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const fo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Up(e,"x"),y:(t,{transform:e})=>Up(e,"y")};fo.translateX=fo.x;fo.translateY=fo.y;const mo=new Set;let Bp=!1,jp=!1,zp=!1;function U1(){if(jp){const t=Array.from(mo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Ub(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jp=!1,Bp=!1,mo.forEach(t=>t.complete(zp)),mo.clear()}function B1(){mo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jp=!0)})}function Bb(){zp=!0,B1(),U1(),zp=!1}class iy{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(mo.add(this),Bp||(Bp=!0,ot.read(B1),ot.resolveKeyframes(U1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}Nb(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),mo.delete(this)}cancel(){this.state==="scheduled"&&(mo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jb=t=>t.startsWith("--");function zb(t,e,n){jb(e)?t.style.setProperty(e,n):t.style[e]=n}const $b=Hg(()=>window.ScrollTimeline!==void 0),Wb={};function Hb(t,e){const n=Hg(t);return()=>Wb[e]??n()}const j1=Hb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),su=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,rw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:su([0,.65,.55,1]),circOut:su([.55,0,1,.45]),backIn:su([.31,.01,.66,-.59]),backOut:su([.33,1.53,.69,.99])};function z1(t,e){if(t)return typeof t=="function"?j1()?O1(t,e):"ease-out":x1(t)?su(t):Array.isArray(t)?t.map(n=>z1(n,e)||rw.easeOut):rw[t]}function qb(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:d}={},m=void 0){const p={[e]:n};d&&(p.offset=d);const w=z1(c,s);Array.isArray(w)&&(p.easing=w);const E={delay:r,duration:s,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),t.animate(p,E)}function $1(t){return typeof t=="function"&&"applyToOptions"in t}function Gb({type:t,...e}){return $1(t)&&j1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Kb extends ny{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Wg(typeof e.type!="string");const m=Gb(e);this.animation=qb(n,r,s,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=ty(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):zb(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ur(Number(e))}get time(){return Ur(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Fr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&$b()?(this.animation.timeline=e,Qn):n(this)}}const W1={anticipate:T1,backInOut:E1,circInOut:I1};function Qb(t){return t in W1}function Yb(t){typeof t.ease=="string"&&Qb(t.ease)&&(t.ease=W1[t.ease])}const iw=10;class Xb extends Kb{constructor(e){Yb(e),F1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new ry({...l,autoplay:!1}),d=Fr(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-iw).value,c.sample(d).value,iw),c.stop()}}const sw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ps.test(t)||t==="0")&&!t.startsWith("url("));function Jb(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Zb(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=sw(s,e),c=sw(a,e);return!l||!c?!1:Jb(t)||(n==="spring"||$1(n))&&r}function $p(t){t.duration=0,t.type}const ek=new Set(["opacity","clipPath","filter","transform"]),tk=Hg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nk(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return tk()&&n&&ek.has(n)&&(n!=="transform"||!m)&&!d&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const rk=40;class ik extends ny{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:d,motionValue:m,element:p,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const E={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:d,motionValue:m,element:p,...w},I=p?.KeyframeResolver||iy;this.keyframeResolver=new I(c,(x,D,C)=>this.onKeyframesResolved(x,D,E,!C),d,m,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:d,isHandoff:m,onUpdate:p}=r;this.resolvedAt=An.now(),Zb(e,a,l,c)||((Ii.instantAnimations||!d)&&p?.(ty(e,r,n)),e[0]=e[e.length-1],$p(r),r.repeat=0);const E={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>rk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},I=!m&&nk(E)?new Xb({...E,element:E.motionValue.owner.current}):new ry(E);I.finished.then(()=>this.notifyFinished()).catch(Qn),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Bb()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const sk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ok(t){const e=sk.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function H1(t,e,n=1){const[r,s]=ok(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return f1(l)?parseFloat(l):l}return Yg(s)?H1(s,e,n+1):s}function sy(t,e){return t?.[e]??t?.default??t}const q1=new Set(["width","height","top","left","right","bottom",...el]),ak={test:t=>t==="auto",parse:t=>t},G1=t=>e=>e.test(t),K1=[Za,Pe,Br,is,JR,XR,ak],ow=t=>K1.find(G1(t));function lk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||p1(t):!0}const uk=new Set(["brightness","contrast","saturate","opacity"]);function ck(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Xg)||[];if(!r)return t;const s=n.replace(r,"");let a=uk.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const hk=/\b([a-z-]*)\(.*?\)/gu,Wp={...ps,getAnimatableNone:t=>{const e=t.match(hk);return e?e.map(ck).join(" "):t}},aw={...Za,transform:Math.round},dk={rotate:is,rotateX:is,rotateY:is,rotateZ:is,scale:bh,scaleX:bh,scaleY:bh,scaleZ:bh,skew:is,skewX:is,skewY:is,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Au,originX:K0,originY:K0,originZ:Pe},oy={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...dk,zIndex:aw,fillOpacity:Au,strokeOpacity:Au,numOctaves:aw},fk={...oy,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:Wp,WebkitFilter:Wp},Q1=t=>fk[t];function Y1(t,e){let n=Q1(t);return n!==Wp&&(n=ps),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const mk=new Set(["auto","none","0"]);function pk(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!mk.has(a)&&xu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=Y1(n,s)}class gk extends iy{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),Yg(m))){const p=H1(m,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!q1.has(r)||e.length!==2)return;const[s,a]=e,l=ow(s),c=ow(a);if(l!==c)if(nw(l)&&nw(c))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else fo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||lk(e[s]))&&r.push(s);r.length&&pk(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=fo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function X1(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const J1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function yk(t){return m1(t)&&"offsetHeight"in t}const lw=30,vk=t=>!isNaN(parseFloat(t));class _k{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=An.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qg);const r=this.events[e].add(n);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lw);return g1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ja(t,e){return new _k(t,e)}const{schedule:ay}=P1(queueMicrotask,!1),mr={x:!1,y:!1};function Z1(){return mr.x||mr.y}function wk(t){return t==="x"||t==="y"?mr[t]?null:(mr[t]=!0,()=>{mr[t]=!1}):mr.x||mr.y?null:(mr.x=mr.y=!0,()=>{mr.x=mr.y=!1})}function eS(t,e){const n=X1(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function uw(t){return!(t.pointerType==="touch"||Z1())}function Ek(t,e,n={}){const[r,s,a]=eS(t,n),l=c=>{if(!uw(c))return;const{target:d}=c,m=e(d,c);if(typeof m!="function"||!d)return;const p=w=>{uw(w)&&(m(w),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const tS=(t,e)=>e?t===e?!0:tS(t,e.parentElement):!1,ly=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Tk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Sk(t){return Tk.has(t.tagName)||t.tabIndex!==-1}const Hh=new WeakSet;function cw(t){return e=>{e.key==="Enter"&&t(e)}}function Jm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ik=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=cw(()=>{if(Hh.has(n))return;Jm(n,"down");const s=cw(()=>{Jm(n,"up")}),a=()=>Jm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function hw(t){return ly(t)&&!Z1()}function Ak(t,e,n={}){const[r,s,a]=eS(t,n),l=c=>{const d=c.currentTarget;if(!hw(c))return;Hh.add(d);const m=e(d,c),p=(I,x)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),Hh.has(d)&&Hh.delete(d),hw(I)&&typeof m=="function"&&m(I,{success:x})},w=I=>{p(I,d===window||d===document||n.useGlobalTarget||tS(d,I.target))},E=I=>{p(I,!1)};window.addEventListener("pointerup",w,s),window.addEventListener("pointercancel",E,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),yk(c)&&(c.addEventListener("focus",m=>Ik(m,s)),!Sk(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function nS(t){return m1(t)&&"ownerSVGElement"in t}function xk(t){return nS(t)&&t.tagName==="svg"}const rn=t=>!!(t&&t.getVelocity),Pk=[...K1,xt,ps],Ck=t=>Pk.find(G1(t)),rS=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Rk(t=!0){const e=R.useContext(jg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=R.useId();R.useEffect(()=>{if(t)return s(a)},[t]);const l=R.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const iS=R.createContext({strict:!1}),dw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},za={};for(const t in dw)za[t]={isEnabled:e=>dw[t].some(n=>!!e[n])};function bk(t){for(const e in t)za[e]={...za[e],...t[e]}}const kk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ud(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kk.has(t)}let sS=t=>!ud(t);function Nk(t){typeof t=="function"&&(sS=e=>e.startsWith("on")?!ud(e):t(e))}try{Nk(require("@emotion/is-prop-valid").default)}catch{}function Dk(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(sS(s)||n===!0&&ud(s)||!e&&!ud(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Vd=R.createContext({});function Ld(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Pu(t){return typeof t=="string"||Array.isArray(t)}const uy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cy=["initial",...uy];function Od(t){return Ld(t.animate)||cy.some(e=>Pu(t[e]))}function oS(t){return!!(Od(t)||t.variants)}function Vk(t,e){if(Od(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Pu(n)?n:void 0,animate:Pu(r)?r:void 0}}return t.inherit!==!1?e:{}}function Lk(t){const{initial:e,animate:n}=Vk(t,R.useContext(Vd));return R.useMemo(()=>({initial:e,animate:n}),[fw(e),fw(n)])}function fw(t){return Array.isArray(t)?t.join(" "):t}const Cu={};function Ok(t){for(const e in t)Cu[e]=t[e],Qg(e)&&(Cu[e].isCSSVariable=!0)}function aS(t,{layout:e,layoutId:n}){return tl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cu[t]||t==="opacity")}const Mk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fk=el.length;function Uk(t,e,n){let r="",s=!0;for(let a=0;a<Fk;a++){const l=el[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const m=J1(c,oy[l]);if(!d){s=!1;const p=Mk[l]||l;r+=`${p}(${m}) `}n&&(e[l]=m)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function hy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const m=e[d];if(tl.has(d)){l=!0;continue}else if(Qg(d)){s[d]=m;continue}else{const p=J1(m,oy[d]);d.startsWith("origin")?(c=!0,a[d]=p):r[d]=p}}if(e.transform||(l||n?r.transform=Uk(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:m="50%",originZ:p=0}=a;r.transformOrigin=`${d} ${m} ${p}`}}const dy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lS(t,e,n){for(const r in e)!rn(e[r])&&!aS(r,n)&&(t[r]=e[r])}function Bk({transformTemplate:t},e){return R.useMemo(()=>{const n=dy();return hy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function jk(t,e){const n=t.style||{},r={};return lS(r,n,t),Object.assign(r,Bk(t,e)),r}function zk(t,e){const n={},r=jk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const $k={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wk={offset:"strokeDashoffset",array:"strokeDasharray"};function Hk(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?$k:Wk;t[a.offset]=Pe.transform(-r);const l=Pe.transform(e),c=Pe.transform(n);t[a.array]=`${l} ${c}`}function uS(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,m,p){if(hy(t,c,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:E}=t;w.transform&&(E.transform=w.transform,delete w.transform),(E.transform||w.transformOrigin)&&(E.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),E.transform&&(E.transformBox=p?.transformBox??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),s!==void 0&&Hk(w,s,a,l,!1)}const cS=()=>({...dy(),attrs:{}}),hS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qk(t,e,n,r){const s=R.useMemo(()=>{const a=cS();return uS(a,e,hS(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};lS(a,t.style,t),s.style={...a,...s.style}}return s}const Gk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fy(t){return typeof t!="string"||t.includes("-")?!1:!!(Gk.indexOf(t)>-1||/[A-Z]/u.test(t))}function Kk(t,e,n,{latestValues:r},s,a=!1){const c=(fy(t)?qk:zk)(e,r,s,t),d=Dk(e,typeof t=="string",a),m=t!==R.Fragment?{...d,...c,ref:n}:{},{children:p}=e,w=R.useMemo(()=>rn(p)?p.get():p,[p]);return R.createElement(t,{...m,children:w})}function mw(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function my(t,e,n,r){if(typeof e=="function"){const[s,a]=mw(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=mw(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function qh(t){return rn(t)?t.get():t}function Qk({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Yk(n,r,s,t),renderState:e()}}function Yk(t,e,n,r){const s={},a=r(t,{});for(const E in a)s[E]=qh(a[E]);let{initial:l,animate:c}=t;const d=Od(t),m=oS(t);e&&m&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const w=p?c:l;if(w&&typeof w!="boolean"&&!Ld(w)){const E=Array.isArray(w)?w:[w];for(let I=0;I<E.length;I++){const x=my(t,E[I]);if(x){const{transitionEnd:D,transition:C,...B}=x;for(const W in B){let $=B[W];if(Array.isArray($)){const re=p?$.length-1:0;$=$[re]}$!==null&&(s[W]=$)}for(const W in D)s[W]=D[W]}}}return s}const dS=t=>(e,n)=>{const r=R.useContext(Vd),s=R.useContext(jg),a=()=>Qk(t,e,r,s);return n?a():kR(a)};function py(t,e,n){const{style:r}=t,s={};for(const a in r)(rn(r[a])||e.style&&rn(e.style[a])||aS(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}const Xk=dS({scrapeMotionValuesFromProps:py,createRenderState:dy});function fS(t,e,n){const r=py(t,e,n);for(const s in t)if(rn(t[s])||rn(e[s])){const a=el.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const Jk=dS({scrapeMotionValuesFromProps:fS,createRenderState:cS}),Zk=Symbol.for("motionComponentSymbol");function Ca(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function e2(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ca(n)&&(n.current=r))},[e])}const gy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),t2="framerAppearId",mS="data-"+gy(t2),pS=R.createContext({});function n2(t,e,n,r,s){const{visualElement:a}=R.useContext(Vd),l=R.useContext(iS),c=R.useContext(jg),d=R.useContext(rS).reducedMotion,m=R.useRef(null);r=r||l.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=m.current,w=R.useContext(pS);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&r2(m.current,n,s,w);const E=R.useRef(!1);R.useInsertionEffect(()=>{p&&E.current&&p.update(n,c)});const I=n[mS],x=R.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return NR(()=>{p&&(E.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),x.current&&p.animationState&&p.animationState.animateChanges())}),R.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),x.current=!1),p.enteringChildren=void 0)}),p}function r2(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:m,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:gS(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&Ca(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:m})}function gS(t){if(t)return t.options.allowProjection!==!1?t.projection:gS(t.parent)}function Zm(t,{forwardMotionProps:e=!1}={},n,r){n&&bk(n);const s=fy(t)?Jk:Xk;function a(c,d){let m;const p={...R.useContext(rS),...c,layoutId:i2(c)},{isStatic:w}=p,E=Lk(c),I=s(c,w);if(!w&&Bg){s2();const x=o2(p);m=x.MeasureLayout,E.visualElement=n2(t,I,p,r,x.ProjectionNode)}return kp.jsxs(Vd.Provider,{value:E,children:[m&&E.visualElement?kp.jsx(m,{visualElement:E.visualElement,...p}):null,Kk(t,c,e2(I,E.visualElement,d),I,w,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=R.forwardRef(a);return l[Zk]=t,l}function i2({layoutId:t}){const e=R.useContext(d1).id;return e&&t!==void 0?e+"-"+t:t}function s2(t,e){R.useContext(iS).strict}function o2(t){const{drag:e,layout:n}=za;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function a2(t,e){if(typeof Proxy>"u")return Zm;const n=new Map,r=(a,l)=>Zm(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Zm(l,void 0,t,e)),n.get(l))})}function yS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function l2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function u2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ep(t){return t===void 0||t===1}function Hp({scale:t,scaleX:e,scaleY:n}){return!ep(t)||!ep(e)||!ep(n)}function oo(t){return Hp(t)||vS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vS(t){return pw(t.x)||pw(t.y)}function pw(t){return t&&t!=="0%"}function cd(t,e,n){const r=t-n,s=e*r;return n+s}function gw(t,e,n,r,s){return s!==void 0&&(t=cd(t,s,r)),cd(t,n,r)+e}function qp(t,e=0,n=1,r,s){t.min=gw(t.min,e,n,r,s),t.max=gw(t.max,e,n,r,s)}function _S(t,{x:e,y:n}){qp(t.x,e.translate,e.scale,e.originPoint),qp(t.y,n.translate,n.scale,n.originPoint)}const yw=.999999999999,vw=1.0000000000001;function c2(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ba(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,_S(t,l)),r&&oo(a.latestValues)&&ba(t,a.latestValues))}e.x<vw&&e.x>yw&&(e.x=1),e.y<vw&&e.y>yw&&(e.y=1)}function Ra(t,e){t.min=t.min+e,t.max=t.max+e}function _w(t,e,n,r,s=.5){const a=dt(t.min,t.max,s);qp(t,e,n,a,r)}function ba(t,e){_w(t.x,e.x,e.scaleX,e.scale,e.originX),_w(t.y,e.y,e.scaleY,e.scale,e.originY)}function wS(t,e){return yS(u2(t.getBoundingClientRect(),e))}function h2(t,e,n){const r=wS(t,n),{scroll:s}=e;return s&&(Ra(r.x,s.offset.x),Ra(r.y,s.offset.y)),r}const ww=()=>({translate:0,scale:1,origin:0,originPoint:0}),ka=()=>({x:ww(),y:ww()}),Ew=()=>({min:0,max:0}),wt=()=>({x:Ew(),y:Ew()}),Gp={current:null},ES={current:!1};function d2(){if(ES.current=!0,!!Bg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gp.current=t.matches;t.addEventListener("change",e),e()}else Gp.current=!1}const f2=new WeakMap;function m2(t,e,n){for(const r in e){const s=e[r],a=n[r];if(rn(s))t.addValue(r,s);else if(rn(a))t.addValue(r,ja(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,ja(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Tw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class p2{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=An.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ot.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Od(n),this.isVariantNode=oS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in w){const I=w[E];d[E]!==void 0&&rn(I)&&I.set(d[E])}}mount(e){this.current=e,f2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ES.current||d2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ms(this.notifyUpdate),ms(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=tl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in za){const n=za[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Tw.length;r++){const s=Tw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=m2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ja(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(f1(r)||p1(r))?r=parseFloat(r):!Ck(r)&&ps.test(n)&&(r=Y1(e,n)),this.setBaseTarget(e,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=my(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!rn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ay.render(this.render)}}class TS extends p2{constructor(){super(...arguments),this.KeyframeResolver=gk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function SS(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function g2(t){return window.getComputedStyle(t)}class y2 extends TS{constructor(){super(...arguments),this.type="html",this.renderInstance=SS}readValueFromInstance(e,n){if(tl.has(n))return this.projection?.isProjecting?Fp(n):Lb(e,n);{const r=g2(e),s=(Qg(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wS(e,n)}build(e,n,r){hy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return py(e,n,r)}}const IS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v2(t,e,n,r){SS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(IS.has(s)?s:gy(s),e.attrs[s])}class _2 extends TS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(tl.has(n)){const r=Q1(n);return r&&r.default||0}return n=IS.has(n)?n:gy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return fS(e,n,r)}build(e,n,r){uS(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){v2(e,n,r,s)}mount(e){this.isSVGTag=hS(e.tagName),super.mount(e)}}const w2=(t,e)=>fy(t)?new _2(e):new y2(e,{allowProjection:t!==R.Fragment});function Da(t,e,n){const r=t.getProps();return my(r,e,n!==void 0?n:r.custom,t)}const Kp=t=>Array.isArray(t);function E2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ja(n))}function T2(t){return Kp(t)?t[t.length-1]||0:t}function S2(t,e){const n=Da(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=T2(a[l]);E2(t,l,c)}}function I2(t){return!!(rn(t)&&t.add)}function Qp(t,e){const n=t.getValue("willChange");if(I2(n))return n.add(e);if(!n&&Ii.WillChange){const r=new Ii.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function AS(t){return t.props[mS]}const A2=t=>t!==null;function x2(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(A2),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const P2={type:"spring",stiffness:500,damping:25,restSpeed:10},C2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),R2={type:"keyframes",duration:.8},b2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k2=(t,{keyframes:e})=>e.length>2?R2:tl.has(t)?t.startsWith("scale")?C2(e[1]):P2:b2;function N2({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:m,...p}){return!!Object.keys(p).length}const yy=(t,e,n,r={},s,a)=>l=>{const c=sy(r,t)||{},d=c.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Fr(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-m,onUpdate:E=>{e.set(E),c.onUpdate&&c.onUpdate(E)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};N2(c)||Object.assign(p,k2(t,p)),p.duration&&(p.duration=Fr(p.duration)),p.repeatDelay&&(p.repeatDelay=Fr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let w=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&($p(p),p.delay===0&&(w=!0)),(Ii.instantAnimations||Ii.skipAnimations)&&(w=!0,$p(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,w&&!a&&e.get()!==void 0){const E=x2(p.keyframes,c);if(E!==void 0){ot.update(()=>{p.onUpdate(E),p.onComplete()});return}}return c.isSync?new ry(p):new ik(p)};function D2({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function xS(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const d=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const p in c){const w=t.getValue(p,t.latestValues[p]??null),E=c[p];if(E===void 0||m&&D2(m,p))continue;const I={delay:n,...sy(a||{},p)},x=w.get();if(x!==void 0&&!w.isAnimating&&!Array.isArray(E)&&E===x&&!I.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const B=AS(t);if(B){const W=window.MotionHandoffAnimation(B,p,ot);W!==null&&(I.startTime=W,D=!0)}}Qp(t,p),w.start(yy(p,w,E,t.shouldReduceMotion&&q1.has(p)?{type:!1}:I,t,D));const C=w.animation;C&&d.push(C)}return l&&Promise.all(d).then(()=>{ot.update(()=>{l&&S2(t,l)})}),d}function PS(t,e,n,r=0,s=1){const a=Array.from(t).sort((m,p)=>m.sortNodePosition(p)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:c-a*r}function Yp(t,e,n={}){const r=Da(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(xS(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:w}=s;return V2(t,e,d,m,p,w,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,m]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function V2(t,e,n=0,r=0,s=0,a=1,l){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(Yp(d,e,{...l,delay:n+(typeof r=="function"?0:r)+PS(t.variantChildren,d,r,s,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function L2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Yp(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Yp(t,e,n);else{const s=typeof e=="function"?Da(t,e,n.custom):e;r=Promise.all(xS(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function CS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const O2=cy.length;function RS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?RS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<O2;n++){const r=cy[n],s=t.props[r];(Pu(s)||s===!1)&&(e[r]=s)}return e}const M2=[...uy].reverse(),F2=uy.length;function U2(t){return e=>Promise.all(e.map(({animation:n,options:r})=>L2(t,n,r)))}function B2(t){let e=U2(t),n=Sw(),r=!0;const s=d=>(m,p)=>{const w=Da(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(w){const{transition:E,transitionEnd:I,...x}=w;m={...m,...x,...I}}return m};function a(d){e=d(t)}function l(d){const{props:m}=t,p=RS(t.parent)||{},w=[],E=new Set;let I={},x=1/0;for(let C=0;C<F2;C++){const B=M2[C],W=n[B],$=m[B]!==void 0?m[B]:p[B],re=Pu($),se=B===d?W.isActive:null;se===!1&&(x=C);let he=$===p[B]&&$!==m[B]&&re;if(he&&r&&t.manuallyAnimateOnMount&&(he=!1),W.protectedKeys={...I},!W.isActive&&se===null||!$&&!W.prevProp||Ld($)||typeof $=="boolean")continue;const M=j2(W.prevProp,$);let P=M||B===d&&W.isActive&&!he&&re||C>x&&re,b=!1;const O=Array.isArray($)?$:[$];let U=O.reduce(s(B),{});se===!1&&(U={});const{prevResolvedValues:L={}}=W,k={...L,...U},J=Q=>{P=!0,E.has(Q)&&(b=!0,E.delete(Q)),W.needsAnimating[Q]=!0;const N=t.getValue(Q);N&&(N.liveStyle=!1)};for(const Q in k){const N=U[Q],G=L[Q];if(I.hasOwnProperty(Q))continue;let ie=!1;Kp(N)&&Kp(G)?ie=!CS(N,G):ie=N!==G,ie?N!=null?J(Q):E.add(Q):N!==void 0&&E.has(Q)?J(Q):W.protectedKeys[Q]=!0}W.prevProp=$,W.prevResolvedValues=U,W.isActive&&(I={...I,...U}),r&&t.blockInitialAnimation&&(P=!1);const K=he&&M;P&&(!K||b)&&w.push(...O.map(Q=>{const N={type:B};if(typeof Q=="string"&&r&&!K&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,ie=Da(G,Q);if(G.enteringChildren&&ie){const{delayChildren:j}=ie.transition||{};N.delay=PS(G.enteringChildren,t,j)}}return{animation:Q,options:N}}))}if(E.size){const C={};if(typeof m.initial!="boolean"){const B=Da(t,Array.isArray(m.initial)?m.initial[0]:m.initial);B&&B.transition&&(C.transition=B.transition)}E.forEach(B=>{const W=t.getBaseTarget(B),$=t.getValue(B);$&&($.liveStyle=!0),C[B]=W??null}),w.push({animation:C})}let D=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(w):Promise.resolve()}function c(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(w=>w.animationState?.setActive(d,m)),n[d].isActive=m;const p=l(d);for(const w in n)n[w].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Sw(),r=!0}}}function j2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CS(e,t):!1}function so(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sw(){return{animate:so(!0),whileInView:so(),whileHover:so(),whileTap:so(),whileDrag:so(),whileFocus:so(),exit:so()}}class Ss{constructor(e){this.isMounted=!1,this.node=e}update(){}}class z2 extends Ss{constructor(e){super(e),e.animationState||(e.animationState=B2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ld(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $2=0;class W2 extends Ss{constructor(){super(...arguments),this.id=$2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const H2={animation:{Feature:z2},exit:{Feature:W2}};function Ru(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Yu(t){return{point:{x:t.pageX,y:t.pageY}}}const q2=t=>e=>ly(e)&&t(e,Yu(e));function mu(t,e,n,r){return Ru(t,e,q2(n),r)}const bS=1e-4,G2=1-bS,K2=1+bS,kS=.01,Q2=0-kS,Y2=0+kS;function dn(t){return t.max-t.min}function X2(t,e,n){return Math.abs(t-e)<=n}function Iw(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=dn(n)/dn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=G2&&t.scale<=K2||isNaN(t.scale))&&(t.scale=1),(t.translate>=Q2&&t.translate<=Y2||isNaN(t.translate))&&(t.translate=0)}function pu(t,e,n,r){Iw(t.x,e.x,n.x,r?r.originX:void 0),Iw(t.y,e.y,n.y,r?r.originY:void 0)}function Aw(t,e,n){t.min=n.min+e.min,t.max=t.min+dn(e)}function J2(t,e,n){Aw(t.x,e.x,n.x),Aw(t.y,e.y,n.y)}function xw(t,e,n){t.min=e.min-n.min,t.max=t.min+dn(e)}function gu(t,e,n){xw(t.x,e.x,n.x),xw(t.y,e.y,n.y)}function Gn(t){return[t("x"),t("y")]}const NS=({current:t})=>t?t.ownerDocument.defaultView:null,Pw=(t,e)=>Math.abs(t-e);function Z2(t,e){const n=Pw(t.x,e.x),r=Pw(t.y,e.y);return Math.sqrt(n**2+r**2)}class DS{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=np(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,x=Z2(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!x)return;const{point:D}=E,{timestamp:C}=qt;this.history.push({...D,timestamp:C});const{onStart:B,onMove:W}=this.handlers;I||(B&&B(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,E)},this.handlePointerMove=(E,I)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=tp(I,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(E,I)=>{this.end();const{onEnd:x,onSessionEnd:D,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=np(E.type==="pointercancel"?this.lastMoveEventInfo:tp(I,this.transformPagePoint),this.history);this.startEvent&&x&&x(E,B),D&&D(E,B)},!ly(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const c=Yu(e),d=tp(c,this.transformPagePoint),{point:m}=d,{timestamp:p}=qt;this.history=[{...m,timestamp:p}];const{onSessionStart:w}=n;w&&w(e,np(d,this.history)),this.removeListeners=Gu(mu(this.contextWindow,"pointermove",this.handlePointerMove),mu(this.contextWindow,"pointerup",this.handlePointerUp),mu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ms(this.updatePoint)}}function tp(t,e){return e?{point:e(t.point)}:t}function Cw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function np({point:t},e){return{point:t,delta:Cw(t,VS(e)),offset:Cw(t,eN(e)),velocity:tN(e,.1)}}function eN(t){return t[0]}function VS(t){return t[t.length-1]}function tN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=VS(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Fr(e)));)n--;if(!r)return{x:0,y:0};const a=Ur(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function nN(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function Rw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rN(t,{top:e,left:n,bottom:r,right:s}){return{x:Rw(t.x,n,s),y:Rw(t.y,e,r)}}function bw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function iN(t,e){return{x:bw(t.x,e.x),y:bw(t.y,e.y)}}function sN(t,e){let n=.5;const r=dn(t),s=dn(e);return s>r?n=Iu(e.min,e.max-r,t.min):r>s&&(n=Iu(t.min,t.max-s,e.min)),Si(0,1,n)}function oN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xp=.35;function aN(t=Xp){return t===!1?t=0:t===!0&&(t=Xp),{x:kw(t,"left","right"),y:kw(t,"top","bottom")}}function kw(t,e,n){return{min:Nw(t,e),max:Nw(t,n)}}function Nw(t,e){return typeof t=="number"?t:t[e]||0}const lN=new WeakMap;class uN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yu(w).point)},l=(w,E)=>{const{drag:I,dragPropagation:x,onDragStart:D}=this.getProps();if(I&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wk(I),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(B=>{let W=this.getAxisMotionValue(B).get()||0;if(Br.test(W)){const{projection:$}=this.visualElement;if($&&$.layout){const re=$.layout.layoutBox[B];re&&(W=dn(re)*(parseFloat(W)/100))}}this.originPoint[B]=W}),D&&ot.postRender(()=>D(w,E)),Qp(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E;const{dragPropagation:I,dragDirectionLock:x,onDirectionLock:D,onDrag:C}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:B}=E;if(x&&this.currentDirection===null){this.currentDirection=cN(B),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",E.point,B),this.updateAxis("y",E.point,B),this.visualElement.render(),C&&C(w,E)},d=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E,this.stop(w,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Gn(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new DS(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:NS(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&ot.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!kh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=nN(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Ca(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=rN(r.layoutBox,e):this.constraints=!1,this.elastic=aN(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=oN(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ca(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=h2(r,s.root,this.visualElement.getTransformPagePoint());let l=iN(s.layout.layoutBox,a);if(n){const c=n(l2(l));this.hasMutatedConstraints=!!c,c&&(l=yS(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},m=Gn(p=>{if(!kh(p,n,this.currentDirection))return;let w=d&&d[p]||{};l&&(w={min:0,max:0});const E=s?200:1e6,I=s?40:1e7,x={type:"inertia",velocity:r?e[p]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(p,x)});return Promise.all(m).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Qp(this.visualElement,e),r.start(yy(e,r,0,n,this.visualElement,!1))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gn(n=>{const{drag:r}=this.getProps();if(!kh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-dt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ca(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Gn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=sN({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(l=>{if(!kh(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:m}=this.constraints[l];c.set(dt(d,m,s[l]))})}addListeners(){if(!this.visualElement.current)return;lN.set(this.visualElement,this);const e=this.visualElement.current,n=mu(e,"pointerdown",d=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Ca(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ot.read(r);const l=Ru(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(Gn(p=>{const w=this.getAxisMotionValue(p);w&&(this.originPoint[p]+=d[p].translate,w.set(w.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Xp,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function kh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function cN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hN extends Ss{constructor(e){super(e),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new uN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dw=t=>(e,n)=>{t&&ot.postRender(()=>t(e,n))};class dN extends Ss{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(e){this.session=new DS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Dw(e),onStart:Dw(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&ot.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=mu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ru={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=Vw(t,e.target.x),r=Vw(t,e.target.y);return`${n}% ${r}%`}},fN={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ps.parse(t);if(s.length>5)return r;const a=ps.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const m=dt(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=m),typeof s[3+l]=="number"&&(s[3+l]/=m),a(s)}};let rp=!1;class mN extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;Ok(pN),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),rp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Gh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,rp=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ot.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ay.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;rp=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LS(t){const[e,n]=Rk(),r=R.useContext(d1);return kp.jsx(mN,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(pS),isPresent:e,safeToRemove:n})}const pN={borderRadius:{...ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ru,borderTopRightRadius:ru,borderBottomLeftRadius:ru,borderBottomRightRadius:ru,boxShadow:fN};function gN(t,e,n){const r=rn(t)?t:ja(t);return r.start(yy("",r,e,n)),r.animation}const yN=(t,e)=>t.depth-e.depth;class vN{constructor(){this.children=[],this.isDirty=!1}add(e){zg(this.children,e),this.isDirty=!0}remove(e){$g(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yN),this.isDirty=!1,this.children.forEach(e)}}function _N(t,e){const n=An.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(ms(r),t(a-e))};return ot.setup(r,!0),()=>ms(r)}const OS=["TopLeft","TopRight","BottomLeft","BottomRight"],wN=OS.length,Lw=t=>typeof t=="string"?parseFloat(t):t,Ow=t=>typeof t=="number"||Pe.test(t);function EN(t,e,n,r,s,a){s?(t.opacity=dt(0,n.opacity??1,TN(r)),t.opacityExit=dt(e.opacity??1,0,SN(r))):a&&(t.opacity=dt(e.opacity??1,n.opacity??1,r));for(let l=0;l<wN;l++){const c=`border${OS[l]}Radius`;let d=Mw(e,c),m=Mw(n,c);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||Ow(d)===Ow(m)?(t[c]=Math.max(dt(Lw(d),Lw(m),r),0),(Br.test(m)||Br.test(d))&&(t[c]+="%")):t[c]=m}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function Mw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const TN=MS(0,.5,S1),SN=MS(.5,.95,Qn);function MS(t,e,n){return r=>r<t?0:r>e?1:n(Iu(t,e,r))}function Fw(t,e){t.min=e.min,t.max=e.max}function qn(t,e){Fw(t.x,e.x),Fw(t.y,e.y)}function Uw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Bw(t,e,n,r,s){return t-=e,t=cd(t,1/n,r),s!==void 0&&(t=cd(t,1/s,r)),t}function IN(t,e=0,n=1,r=.5,s,a=t,l=t){if(Br.test(e)&&(e=parseFloat(e),e=dt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=dt(a.min,a.max,r);t===a&&(c-=e),t.min=Bw(t.min,e,n,c,s),t.max=Bw(t.max,e,n,c,s)}function jw(t,e,[n,r,s],a,l){IN(t,e[n],e[r],e[s],e.scale,a,l)}const AN=["x","scaleX","originX"],xN=["y","scaleY","originY"];function zw(t,e,n,r){jw(t.x,e,AN,n?n.x:void 0,r?r.x:void 0),jw(t.y,e,xN,n?n.y:void 0,r?r.y:void 0)}function $w(t){return t.translate===0&&t.scale===1}function FS(t){return $w(t.x)&&$w(t.y)}function Ww(t,e){return t.min===e.min&&t.max===e.max}function PN(t,e){return Ww(t.x,e.x)&&Ww(t.y,e.y)}function Hw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function US(t,e){return Hw(t.x,e.x)&&Hw(t.y,e.y)}function qw(t){return dn(t.x)/dn(t.y)}function Gw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class CN{constructor(){this.members=[]}add(e){zg(this.members,e),e.scheduleRender()}remove(e){if($g(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RN(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:w,rotateY:E,skewX:I,skewY:x}=n;m&&(r=`perspective(${m}px) ${r}`),p&&(r+=`rotate(${p}deg) `),w&&(r+=`rotateX(${w}deg) `),E&&(r+=`rotateY(${E}deg) `),I&&(r+=`skewX(${I}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const ip=["","X","Y","Z"],bN=1e3;let kN=0;function sp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function BS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=AS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ot,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&BS(r)}function jS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=kN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VN),this.nodes.forEach(FN),this.nodes.forEach(UN),this.nodes.forEach(LN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new vN)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new qg),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=nS(l)&&!xk(l),this.instance=l;const{layoutId:c,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,w=0;const E=()=>this.root.updateBlockedByResize=!1;ot.read(()=>{w=window.innerWidth}),t(l,()=>{const I=window.innerWidth;I!==w&&(w=I,this.root.updateBlockedByResize=!0,p&&p(),p=_N(E,250),Gh.hasAnimatedSinceResize&&(Gh.hasAnimatedSinceResize=!1,this.nodes.forEach(Yw)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:w,hasRelativeLayoutChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||m.getDefaultTransition()||WN,{onLayoutAnimationStart:D,onLayoutAnimationComplete:C}=m.getProps(),B=!this.targetLayout||!US(this.targetLayout,I),W=!w&&E;if(this.options.layoutRoot||this.resumeFrom||W||w&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...sy(x,"layout"),onPlay:D,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(p,W)}else w||Yw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BN),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const w=this.path[p];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(MN),this.nodes.forEach(NN),this.nodes.forEach(DN)):this.nodes.forEach(Qw),this.clearAllSnapshots();const c=An.now();qt.delta=Si(0,1e3/60,c-qt.timestamp),qt.timestamp=c,qt.isProcessing=!0,Gm.update.process(qt),Gm.preRender.process(qt),Gm.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ay.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ON),this.sharedNodes.forEach(jN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!FS(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;l&&this.instance&&(c||oo(this.latestValues)||p)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),HN(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return wt();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(qN))){const{scroll:m}=this.root;m&&(Ra(c.x,m.offset.x),Ra(c.y,m.offset.y))}return c}removeElementScroll(l){const c=wt();if(qn(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:p,options:w}=m;m!==this.root&&p&&w.layoutScroll&&(p.wasRoot&&qn(c,l),Ra(c.x,p.offset.x),Ra(c.y,p.offset.y))}return c}applyTransform(l,c=!1){const d=wt();qn(d,l);for(let m=0;m<this.path.length;m++){const p=this.path[m];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ba(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),oo(p.latestValues)&&ba(d,p.latestValues)}return oo(this.latestValues)&&ba(d,this.latestValues),d}removeTransform(l){const c=wt();qn(c,l);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!oo(m.latestValues))continue;Hp(m.latestValues)&&m.updateSnapshot();const p=wt(),w=m.measurePageBox();qn(p,w),zw(c,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return oo(this.latestValues)&&zw(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:w}=this.options;if(!(!this.layout||!(p||w))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),gu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),_S(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),gu(this.relativeTargetOrigin,this.target,E.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Hp(this.parent.latestValues)||vS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(d=!1),d)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;qn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,E=this.treeScale.y;c2(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=wt());const{target:I}=l;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Uw(this.prevProjectionDelta.x,this.projectionDelta.x),Uw(this.prevProjectionDelta.y,this.projectionDelta.y)),pu(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==E||!Gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ka(),this.projectionDelta=ka(),this.projectionDeltaWithTransform=ka()}setAnimationOrigin(l,c=!1){const d=this.snapshot,m=d?d.latestValues:{},p={...this.latestValues},w=ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const E=wt(),I=d?d.source:void 0,x=this.layout?this.layout.source:void 0,D=I!==x,C=this.getStack(),B=!C||C.members.length<=1,W=!!(D&&!B&&this.options.crossfade===!0&&!this.path.some($N));this.animationProgress=0;let $;this.mixTargetDelta=re=>{const se=re/1e3;Xw(w.x,l.x,se),Xw(w.y,l.y,se),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zN(this.relativeTarget,this.relativeTargetOrigin,E,se),$&&PN(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=wt()),qn($,this.relativeTarget)),D&&(this.animationValues=p,EN(p,m,this.latestValues,se,W,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Gh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ja(0)),this.currentAnimation=gN(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:m,latestValues:p}=l;if(!(!c||!d||!m)){if(this!==l&&this.layout&&m&&zS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||wt();const w=dn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+w;const E=dn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+E}qn(c,d),ba(c,p),pu(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new CN),this.sharedNodes.get(l).add(c);const m=c.options.initialPromotionConfig;c.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const m={};d.z&&sp("z",l,m,this.animationValues);for(let p=0;p<ip.length;p++)sp(`rotate${ip[p]}`,l,m,this.animationValues),sp(`skew${ip[p]}`,l,m,this.animationValues);l.render();for(const p in m)l.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=qh(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=qh(c?.pointerEvents)||""),this.hasProjected&&!oo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let w=RN(this.projectionDeltaWithTransform,this.treeScale,p);d&&(w=d(p,w)),l.transform=w;const{x:E,y:I}=this.projectionDelta;l.transformOrigin=`${E.origin*100}% ${I.origin*100}% 0`,m.animationValues?l.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in Cu){if(p[x]===void 0)continue;const{correct:D,applyTo:C,isCSSVariable:B}=Cu[x],W=w==="none"?p[x]:D(p[x],m);if(C){const $=C.length;for(let re=0;re<$;re++)l[C[re]]=W}else B?this.options.visualElement.renderState.vars[x]=W:l[x]=W}this.options.layoutId&&(l.pointerEvents=m===this?qh(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Kw),this.root.sharedNodes.clear()}}}function NN(t){t.updateLayout()}function DN(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?Gn(p=>{const w=a?e.measuredBox[p]:e.layoutBox[p],E=dn(w);w.min=n[p].min,w.max=w.min+E}):zS(s,e.layoutBox,n)&&Gn(p=>{const w=a?e.measuredBox[p]:e.layoutBox[p],E=dn(n[p]);w.max=w.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+E)});const l=ka();pu(l,n,e.layoutBox);const c=ka();a?pu(c,t.applyTransform(r,!0),e.measuredBox):pu(c,n,e.layoutBox);const d=!FS(l);let m=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:w,layout:E}=p;if(w&&E){const I=wt();gu(I,e.layoutBox,w.layoutBox);const x=wt();gu(x,n,E.layoutBox),US(I,x)||(m=!0),p.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=I,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function VN(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function LN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ON(t){t.clearSnapshot()}function Kw(t){t.clearMeasurements()}function Qw(t){t.isLayoutDirty=!1}function MN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Yw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function FN(t){t.resolveTargetDelta()}function UN(t){t.calcProjection()}function BN(t){t.resetSkewAndRotation()}function jN(t){t.removeLeadSnapshot()}function Xw(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Jw(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function zN(t,e,n,r){Jw(t.x,e.x,n.x,r),Jw(t.y,e.y,n.y,r)}function $N(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WN={duration:.45,ease:[.4,0,.1,1]},Zw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eE=Zw("applewebkit/")&&!Zw("chrome/")?Math.round:Qn;function tE(t){t.min=eE(t.min),t.max=eE(t.max)}function HN(t){tE(t.x),tE(t.y)}function zS(t,e,n){return t==="position"||t==="preserve-aspect"&&!X2(qw(e),qw(n),.2)}function qN(t){return t!==t.root&&t.scroll?.wasRoot}const GN=jS({attachResizeListener:(t,e)=>Ru(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),op={current:void 0},$S=jS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!op.current){const t=new GN({});t.mount(window),t.setOptions({layoutScroll:!0}),op.current=t}return op.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),KN={pan:{Feature:dN},drag:{Feature:hN,ProjectionNode:$S,MeasureLayout:LS}};function nE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&ot.postRender(()=>a(e,Yu(e)))}class QN extends Ss{mount(){const{current:e}=this.node;e&&(this.unmount=Ek(e,(n,r)=>(nE(this.node,r,"Start"),s=>nE(this.node,s,"End"))))}unmount(){}}class YN extends Ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(Ru(this.node.current,"focus",()=>this.onFocus()),Ru(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&ot.postRender(()=>a(e,Yu(e)))}class XN extends Ss{mount(){const{current:e}=this.node;e&&(this.unmount=Ak(e,(n,r)=>(rE(this.node,r,"Start"),(s,{success:a})=>rE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jp=new WeakMap,ap=new WeakMap,JN=t=>{const e=Jp.get(t.target);e&&e(t)},ZN=t=>{t.forEach(JN)};function eD({root:t,...e}){const n=t||document;ap.has(n)||ap.set(n,{});const r=ap.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(ZN,{root:t,...e})),r[s]}function tD(t,e,n){const r=eD(e);return Jp.set(t,n),r.observe(t),()=>{Jp.delete(t),r.unobserve(t)}}const nD={some:0,all:1};class rD extends Ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:nD[s]},c=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:w}=this.node.getProps(),E=m?p:w;E&&E(d)};return tD(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(iD(e,n))&&this.startObserver()}unmount(){}}function iD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sD={inView:{Feature:rD},tap:{Feature:XN},focus:{Feature:YN},hover:{Feature:QN}},oD={layout:{ProjectionNode:$S,MeasureLayout:LS}},aD={...H2,...sD,...KN,...oD},pr=a2(aD,w2),lD={some:0,all:1};function uD(t,e,{root:n,margin:r,amount:s="some"}={}){const a=X1(t),l=new WeakMap,c=m=>{m.forEach(p=>{const w=l.get(p.target);if(p.isIntersecting!==!!w)if(p.isIntersecting){const E=e(p.target,p);typeof E=="function"?l.set(p.target,E):d.unobserve(p.target)}else typeof w=="function"&&(w(p),l.delete(p.target))})},d=new IntersectionObserver(c,{root:n,rootMargin:r,threshold:typeof s=="number"?s:lD[s]});return a.forEach(m=>d.observe(m)),()=>d.disconnect()}function lp(t,{root:e,margin:n,amount:r,once:s=!1,initial:a=!1}={}){const[l,c]=R.useState(a);return R.useEffect(()=>{if(!t.current||s&&l)return;const d=()=>(c(!0),s?void 0:()=>c(!1)),m={root:e&&e.current||void 0,margin:n,amount:r};return uD(t.current,d,m)},[e,t,n,s,r]),l}function cD(){const t=R.useRef(null),e=R.useRef(null),n=R.useRef(null),r=lp(t,{once:!0}),s=lp(e,{once:!0}),a=lp(n,{once:!0});return y.createElement(y.Fragment,null,y.createElement(pr.header,{initial:{y:-80,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"bg-gray-900 text-white flex justify-between items-center px-6 py-3 shadow-md"},y.createElement("span",{className:"font-bold text-lg sm:text-xl"},"MyAmravati Market"),y.createElement("nav",{className:"space-x-4 text-sm sm:text-base"},y.createElement(ht,{to:"/",className:"hover:text-blue-400 transition"},"Home"),y.createElement(ht,{to:"/browse",className:"hover:text-blue-400 transition"},"Browse"),y.createElement(ht,{to:"/add-product",className:"hover:text-blue-400 transition"},"Sell"))),y.createElement(pr.section,{className:"text-center px-4 py-16 bg-gradient-to-r from-blue-50 to-green-50",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.7}},y.createElement("h1",{className:"font-bold text-3xl sm:text-5xl mb-4 leading-tight"}," Welcome to ",y.createElement("br",{className:"sm:hidden"})," ",y.createElement("span",{className:"text-blue-600"},"MyAmravati Market ")),y.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto mb-6 text-base sm:text-lg"},"A digital bazaar for students, home entrepreneurs, and locals of the Amravati district. Buy and sell books, crafts, handmade food, second-hand items, and more."),y.createElement("div",{className:"flex flex-wrap justify-center gap-4"},y.createElement(ht,{to:"/browse",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-md transition"},"Browse Products"),y.createElement(ht,{to:"/add-product",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-md transition"},"Add Your Product"))),y.createElement("section",{className:"bg-gray-100 py-16 px-6"},y.createElement("h2",{className:"text-3xl sm:text-4xl font-bold text-center text-gray-800 mb-12"},"How MyAmravati Market Works"),y.createElement("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8"},y.createElement(pr.div,{ref:t,initial:{opacity:0,y:50},animate:r?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut"},className:"bg-white shadow-lg rounded-2xl p-6 text-center hover:scale-105 transform transition duration-300"},y.createElement("div",{className:"text-5xl mb-4"},""),y.createElement("h3",{className:"text-xl font-semibold mb-2"},"List Your Product"),y.createElement("p",{className:"text-gray-600"},"Upload a photo, set your price, write details, and share your WhatsApp number.")),y.createElement(pr.div,{ref:e,initial:{opacity:0,y:50},animate:s?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut",delay:.1},className:"bg-white shadow-lg rounded-2xl p-6 text-center hover:scale-105 transform transition duration-300"},y.createElement("div",{className:"text-5xl mb-4"},""),y.createElement("h3",{className:"text-xl font-semibold mb-2"},"Browse & Contact"),y.createElement("p",{className:"text-gray-600"},"Buyers search local listings and chat directly with sellers via WhatsApp.")),y.createElement(pr.div,{ref:n,initial:{opacity:0,y:50},animate:a?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut",delay:.2},className:"bg-white shadow-lg rounded-2xl p-6 text-center hover:scale-105 transform transition duration-300"},y.createElement("div",{className:"text-5xl mb-4"},""),y.createElement("h3",{className:"text-xl font-semibold mb-2"},"Deal & Deliver"),y.createElement("p",{className:"text-gray-600"},"Meet nearby, confirm the deal, and exchange items securely and quickly."))),y.createElement("div",{className:"text-center mt-12"},y.createElement(ht,{to:"/add-product"},y.createElement(pr.button,{whileHover:{scale:1.05},className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-xl shadow-md transition"},"Start Selling Now")))),y.createElement(pr.section,{className:"bg-white py-16 px-6 border-t border-gray-200",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0}},y.createElement("div",{className:"max-w-3xl mx-auto text-center"},y.createElement("h3",{className:"text-2xl font-bold text-gray-800 mb-4"},"Need Help?"),y.createElement("p",{className:"text-gray-600 mb-6"},"Facing issues or have questions? Were here to help you 24/7."),y.createElement("a",{href:"mailto:myamravatimart007@gmail.com?subject=Support Request  MyAmravati Market",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-xl shadow-md transition"},"Email Us: myamravatimart007@gmail.com"))),y.createElement("footer",{className:"bg-gray-900 text-gray-300 text-center py-6"},y.createElement("p",{className:"mb-2"}," 2025 MyAmravati Market  Made with  for Amravati"),y.createElement("div",{className:"space-x-3 text-sm"},y.createElement(ht,{to:"/terms",className:"hover:underline"},"Terms & Conditions"),y.createElement(ht,{to:"/privacy",className:"hover:underline"},"Privacy Policy")),y.createElement("p",{className:"mt-2 text-xs"},"Built for Amravati |"," ",y.createElement("a",{href:"#",className:"text-blue-400 hover:underline"},"Powered by you"))))}const hD=()=>{};var iE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},HS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,m=d?t[s+2]:0,p=a>>2,w=(a&3)<<4|c>>4;let E=(c&15)<<2|m>>6,I=m&63;d||(I=64,l||(E=64)),r.push(n[p],n[w],n[E],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const w=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||m==null||w==null)throw new fD;const E=a<<2|c>>4;if(r.push(E),m!==64){const I=c<<4&240|m>>2;if(r.push(I),w!==64){const x=m<<6&192|w;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mD=function(t){const e=WS(t);return HS.encodeByteArray(e,!0)},hd=function(t){return mD(t).replace(/\./g,"")},qS=function(t){try{return HS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=()=>pD().__FIREBASE_DEFAULTS__,yD=()=>{if(typeof process>"u"||typeof iE>"u")return;const t=iE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qS(t[1]);return e&&JSON.parse(e)},Md=()=>{try{return hD()||gD()||yD()||vD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GS=t=>Md()?.emulatorHosts?.[t],KS=t=>{const e=GS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QS=()=>Md()?.config,YS=t=>Md()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[hd(JSON.stringify(n)),hd(JSON.stringify(l)),""].join(".")}const yu={};function wD(){const t={prod:[],emulator:[]};for(const e of Object.keys(yu))yu[e]?t.emulator.push(e):t.prod.push(e);return t}function ED(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sE=!1;function _y(t,e){if(typeof window>"u"||typeof document>"u"||!Is(window.location.host)||yu[t]===e||yu[t]||sE)return;yu[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=wD().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function c(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{sE=!0,l()},E}function p(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=ED(r),I=n("text"),x=document.getElementById(I)||document.createElement("span"),D=n("learnmore"),C=document.getElementById(D)||document.createElement("a"),B=n("preprendIcon"),W=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const $=E.element;c($),p(C,D);const re=m();d(W,B),$.append(W,x,C,re),document.body.appendChild($)}a?(x.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function SD(){const t=Md()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ID(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PD(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CD(){return!SD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RD(){try{return typeof indexedDB=="object"}catch{return!1}}function bD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kD,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?ND(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Yr(s,c,r)}}function ND(t,e){return t.replace(DD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const DD=/\{\$([^}]+)}/g;function VD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(oE(a)&&oE(l)){if(!yo(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function oE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ou(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function au(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LD(t,e){const n=new OD(t,e);return n.subscribe.bind(n)}class OD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=up),s.error===void 0&&(s.error=up),s.complete===void 0&&(s.complete=up);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _D;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BD(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UD(t){return t===ao?void 0:t}function BD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const zD={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},$D=Me.INFO,WD={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},HD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wy{constructor(e){this.name=e,this._logLevel=$D,this._logHandler=HD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const qD=(t,e)=>e.some(n=>t instanceof n);let aE,lE;function GD(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KD(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JS=new WeakMap,Zp=new WeakMap,ZS=new WeakMap,cp=new WeakMap,Ey=new WeakMap;function QD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(cs(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&JS.set(n,t)}).catch(()=>{}),Ey.set(e,t),e}function YD(t){if(Zp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Zp.set(t,e)}let eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XD(t){eg=t(eg)}function JD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hp(this),e,...n);return ZS.set(r,e.sort?e.sort():[e]),cs(r)}:KD().includes(t)?function(...e){return t.apply(hp(this),e),cs(JS.get(this))}:function(...e){return cs(t.apply(hp(this),e))}}function ZD(t){return typeof t=="function"?JD(t):(t instanceof IDBTransaction&&YD(t),qD(t,GD())?new Proxy(t,eg):t)}function cs(t){if(t instanceof IDBRequest)return QD(t);if(cp.has(t))return cp.get(t);const e=ZD(t);return e!==t&&(cp.set(t,e),Ey.set(e,t)),e}const hp=t=>Ey.get(t);function eV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=cs(l);return r&&l.addEventListener("upgradeneeded",d=>{r(cs(l.result),d.oldVersion,d.newVersion,cs(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}const tV=["get","getKey","getAll","getAllKeys","count"],nV=["put","add","delete","clear"],dp=new Map;function uE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=nV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tV.includes(n)))return;const a=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(c.shift())),(await Promise.all([m[n](...c),s&&d.done]))[0]};return dp.set(e,a),a}XD(t=>({...t,get:(e,n,r)=>uE(e,n)||t.get(e,n,r),has:(e,n)=>!!uE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iV(t){return t.getComponent()?.type==="VERSION"}const tg="@firebase/app",cE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new wy("@firebase/app"),sV="@firebase/app-compat",oV="@firebase/analytics-compat",aV="@firebase/analytics",lV="@firebase/app-check-compat",uV="@firebase/app-check",cV="@firebase/auth",hV="@firebase/auth-compat",dV="@firebase/database",fV="@firebase/data-connect",mV="@firebase/database-compat",pV="@firebase/functions",gV="@firebase/functions-compat",yV="@firebase/installations",vV="@firebase/installations-compat",_V="@firebase/messaging",wV="@firebase/messaging-compat",EV="@firebase/performance",TV="@firebase/performance-compat",SV="@firebase/remote-config",IV="@firebase/remote-config-compat",AV="@firebase/storage",xV="@firebase/storage-compat",PV="@firebase/firestore",CV="@firebase/ai",RV="@firebase/firestore-compat",bV="firebase",kV="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="[DEFAULT]",NV={[tg]:"fire-core",[sV]:"fire-core-compat",[aV]:"fire-analytics",[oV]:"fire-analytics-compat",[uV]:"fire-app-check",[lV]:"fire-app-check-compat",[cV]:"fire-auth",[hV]:"fire-auth-compat",[dV]:"fire-rtdb",[fV]:"fire-data-connect",[mV]:"fire-rtdb-compat",[pV]:"fire-fn",[gV]:"fire-fn-compat",[yV]:"fire-iid",[vV]:"fire-iid-compat",[_V]:"fire-fcm",[wV]:"fire-fcm-compat",[EV]:"fire-perf",[TV]:"fire-perf-compat",[SV]:"fire-rc",[IV]:"fire-rc-compat",[AV]:"fire-gcs",[xV]:"fire-gcs-compat",[PV]:"fire-fst",[RV]:"fire-fst-compat",[CV]:"fire-vertex","fire-js":"fire-js",[bV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Map,DV=new Map,rg=new Map;function hE(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vo(t){const e=t.name;if(rg.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,t);for(const n of bu.values())hE(n,t);for(const n of DV.values())hE(n,t);return!0}function Fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new Xu("app","Firebase",VV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=kV;function eI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ng,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw hs.create("bad-app-name",{appName:String(s)});if(n||(n=QS()),!n)throw hs.create("no-options");const a=bu.get(s);if(a){if(yo(n,a.options)&&yo(r,a.config))return a;throw hs.create("duplicate-app",{appName:s})}const l=new jD(s);for(const d of rg.values())l.addComponent(d);const c=new LV(n,r,l);return bu.set(s,c),c}function Ud(t=ng){const e=bu.get(t);if(!e&&t===ng&&QS())return eI();if(!e)throw hs.create("no-app",{appName:t});return e}function OV(){return Array.from(bu.values())}function jr(t,e,n){let r=NV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(l.join(" "));return}vo(new gs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="firebase-heartbeat-database",FV=1,ku="firebase-heartbeat-store";let fp=null;function tI(){return fp||(fp=eV(MV,FV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw hs.create("idb-open",{originalErrorMessage:t.message})})),fp}async function UV(t){try{const n=(await tI()).transaction(ku),r=await n.objectStore(ku).get(nI(t));return await n.done,r}catch(e){if(e instanceof Yr)Ai.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e?.message});Ai.warn(n.message)}}}async function dE(t,e){try{const r=(await tI()).transaction(ku,"readwrite");await r.objectStore(ku).put(e,nI(t)),await r.done}catch(n){if(n instanceof Yr)Ai.warn(n.message);else{const r=hs.create("idb-set",{originalErrorMessage:n?.message});Ai.warn(r.message)}}}function nI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=1024,jV=30;class zV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>jV){const s=HV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fE(),{heartbeatsToSend:n,unsentEntries:r}=$V(this._heartbeatsCache.heartbeats),s=hd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ai.warn(e),""}}}function fE(){return new Date().toISOString().substring(0,10)}function $V(t,e=BV){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),mE(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),mE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RD()?bD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mE(t){return hd(JSON.stringify({version:2,heartbeats:t})).length}function HV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){vo(new gs("platform-logger",e=>new rV(e),"PRIVATE")),vo(new gs("heartbeat",e=>new zV(e),"PRIVATE")),jr(tg,cE,t),jr(tg,cE,"esm2020"),jr("fire-js","")}qV("");var GV="firebase",KV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(GV,KV,"app");function rI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QV=rI,iI=new Xu("auth","Firebase",rI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new wy("@firebase/auth");function YV(t,...e){dd.logLevel<=Me.WARN&&dd.warn(`Auth (${Ao}): ${t}`,...e)}function Kh(t,...e){dd.logLevel<=Me.ERROR&&dd.error(`Auth (${Ao}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw Sy(t,...e)}function yr(t,...e){return Sy(t,...e)}function Ty(t,e,n){const r={...QV(),[e]:n};return new Xu("auth","Firebase",r).create(e,{appName:t.name})}function wi(t){return Ty(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jn(t,"argument-error"),Ty(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iI.create(t,...e)}function Ae(t,e,...n){if(!t)throw Sy(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kh(e),new Error(e)}function xi(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){return typeof self<"u"&&self.location?.href||""}function JV(){return pE()==="http:"||pE()==="https:"}function pE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JV()||AD()||"connection"in navigator)?navigator.onLine:!0}function eL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=TD()||xD()}get(){return ZV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rL=new Zu(3e4,6e4);function As(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function xs(t,e,n,r,s={}){return oI(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Ju({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...a};return ID()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Is(t.emulatorConfig.host)&&(m.credentials="include"),sI.fetch()(await aI(t,t.config.apiHost,n,c),m)})}async function oI(t,e,n){t._canInitEmulator=!1;const r={...tL,...e};try{const s=new sL(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Nh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,m]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Nh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Nh(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ty(t,p,m);Jn(t,p)}}catch(s){if(s instanceof Yr)throw s;Jn(t,"network-request-failed",{message:String(s)})}}async function ec(t,e,n,r,s={}){const a=await xs(t,e,n,r,s);return"mfaPendingCredential"in a&&Jn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function aI(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?Iy(t.config,s):`${t.config.apiScheme}://${s}`;return nL.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function iL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),rL.get())})}}function Nh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=yr(t,e,r);return s.customData._tokenResponse=n,s}function gE(t){return t!==void 0&&t.enterprise!==void 0}class oL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aL(t,e){return xs(t,"GET","/v2/recaptchaConfig",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function fd(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uL(t,e=!1){const n=lt(t),r=await n.getIdToken(e),s=Ay(r);Ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:vu(mp(s.auth_time)),issuedAtTime:vu(mp(s.iat)),expirationTime:vu(mp(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function mp(t){return Number(t)*1e3}function Ay(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{const s=qS(n);return s?JSON.parse(s):(Kh("Failed to decode base64 JWT payload"),null)}catch(s){return Kh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function yE(t){const e=Ay(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yr&&cL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){const e=t.auth,n=await t.getIdToken(),r=await Nu(t,fd(e,{idToken:n}));Ae(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?lI(s.providerUserInfo):[],l=fL(t.providerData,a),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!l?.length,m=c?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new sg(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function dL(t){const e=lt(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e){const n=await oI(t,{},async()=>{const r=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await aI(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Is(t.emulatorConfig.host)&&(d.credentials="include"),sI.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pL(t,e){return xs(t,"POST","/v2/accounts:revokeToken",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=yE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await mL(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new Va;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ae(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Va,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new hL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uL(this,e)}reload(){return dL(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await Nu(this,lL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:I,providerData:x,stsTokenManager:D}=n;Ae(w&&D,e,"internal-error");const C=Va.fromJSON(this.name,D);Ae(typeof w=="string",e,"internal-error"),rs(r,e.name),rs(s,e.name),Ae(typeof E=="boolean",e,"internal-error"),Ae(typeof I=="boolean",e,"internal-error"),rs(a,e.name),rs(l,e.name),rs(c,e.name),rs(d,e.name),rs(m,e.name),rs(p,e.name);const B=new gr({uid:w,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:C,createdAt:m,lastLoginAt:p});return x&&Array.isArray(x)&&(B.providerData=x.map(W=>({...W}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(e,n,r=!1){const s=new Va;s.updateFromServerResponse(n);const a=new gr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await md(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ae(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?lI(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new Va;c.updateFromIdToken(r);const d=new gr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;function vi(t){xi(t instanceof Function,"Expected a class definition");let e=vE.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uI.type="NONE";const _E=uI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}class La{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Qh(this.userKey,s.apiKey,a),this.fullPersistenceKey=Qh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fd(this.auth,{idToken:e}).catch(()=>{});return n?gr._fromGetAccountInfoResponse(this.auth,n,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new La(vi(_E),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||vi(_E);const l=Qh(r,e.config.apiKey,e.name);let c=null;for(const m of n)try{const p=await m._get(l);if(p){let w;if(typeof p=="string"){const E=await fd(e,{idToken:p}).catch(()=>{});if(!E)break;w=await gr._fromGetAccountInfoResponse(e,E,p)}else w=gr._fromJSON(e,p);m!==a&&(c=w),a=m;break}}catch{}const d=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new La(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new La(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pI(e))return"Blackberry";if(gI(e))return"Webos";if(hI(e))return"Safari";if((e.includes("chrome/")||dI(e))&&!e.includes("edge/"))return"Chrome";if(mI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function cI(t=sn()){return/firefox\//i.test(t)}function hI(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dI(t=sn()){return/crios\//i.test(t)}function fI(t=sn()){return/iemobile/i.test(t)}function mI(t=sn()){return/android/i.test(t)}function pI(t=sn()){return/blackberry/i.test(t)}function gI(t=sn()){return/webos/i.test(t)}function xy(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gL(t=sn()){return xy(t)&&!!window.navigator?.standalone}function yL(){return PD()&&document.documentMode===10}function yI(t=sn()){return xy(t)||mI(t)||gI(t)||pI(t)||/windows phone/i.test(t)||fI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e=[]){let n;switch(t){case"Browser":n=wE(sn());break;case"Worker":n=`${wE(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e={}){return xs(t,"GET","/v2/passwordPolicy",As(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=6;class EL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new vL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await La.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fd(this,{idToken:e}),r=await gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(wi(this));const n=e?lt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _L(this),n=new EL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ps(t){return lt(t)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=LD(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SL(t){Bd=t}function _I(t){return Bd.loadJS(t)}function IL(){return Bd.recaptchaEnterpriseScript}function AL(){return Bd.gapiScript}function xL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class PL{constructor(){this.enterprise=new CL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class CL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RL="recaptcha-enterprise",wI="NO_RECAPTCHA";class bL{constructor(e){this.type=RL,this.auth=Ps(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{aL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const m=new oL(d);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(d=>{c(d)})})}function s(a,l,c){const d=window.grecaptcha;gE(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(wI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PL().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&gE(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=IL();d.length!==0&&(d+=c),_I(d).then(()=>{s(c,a,l)}).catch(m=>{l(m)})}}).catch(c=>{l(c)})})}}async function TE(t,e,n,r=!1,s=!1){const a=new bL(t);let l;if(s)l=wI;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,m=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function og(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await TE(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await TE(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t,e){const n=Fd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(yo(a,e??{}))return s;Jn(s,"already-initialized")}return n.initialize({options:e})}function NL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function DL(t,e,n){const r=Ps(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=EI(e),{host:l,port:c}=VL(e),d=c===null?"":`:${c}`,m={url:`${a}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(yo(m,r.config.emulator)&&yo(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Is(l)?(vy(`${a}//${l}${d}`),_y("Auth",!0)):LL()}function EI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VL(t){const e=EI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:SE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:SE(l)}}}function SE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function OL(t,e){return xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e){return ec(t,"POST","/v1/accounts:signInWithPassword",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e){return ec(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}async function UL(t,e){return ec(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Py{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Du(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Du(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,n,"signInWithPassword",ML);case"emailLink":return FL(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,r,"signUpPassword",OL);case"emailLink":return UL(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t,e){return ec(t,"POST","/v1/accounts:signInWithIdp",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="http://localhost";class _o extends Py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new _o(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oa(e,n)}buildRequest(){const e={requestUri:BL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zL(t){const e=ou(au(t)).link,n=e?ou(au(e)).deep_link_id:null,r=ou(au(t)).deep_link_id;return(r?ou(au(r)).link:null)||r||n||e||t}class Cy{constructor(e){const n=ou(au(e)),r=n.apiKey??null,s=n.oobCode??null,a=jL(n.mode??null);Ae(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zL(e);try{return new Cy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(e,n){return Du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cy.parseLink(n);return Ae(r,"argument-error"),Du._fromEmailAndCode(e,r.code,r.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends Ry{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends tc{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends tc{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends tc{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return os.credential(n,r)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(t,e){return ec(t,"POST","/v1/accounts:signUp",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await gr._fromIdTokenResponse(e,r,s),l=IE(r);return new wo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=IE(r);return new wo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function IE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends Yr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new pd(e,n,r,s)}}function TI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?pd._fromErrorAndOperation(t,a,e,r):a})}async function WL(t,e,n=!1){const r=await Nu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e,n=!1){const{auth:r}=t;if(Sn(r.app))return Promise.reject(wi(r));const s="reauthenticate";try{const a=await Nu(t,TI(r,s,e,t),n);Ae(a.idToken,r,"internal-error");const l=Ay(a.idToken);Ae(l,r,"internal-error");const{sub:c}=l;return Ae(t.uid===c,r,"user-mismatch"),wo._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Jn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(t,e,n=!1){if(Sn(t.app))return Promise.reject(wi(t));const r="signIn",s=await TI(t,r,e),a=await wo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function qL(t,e){return SI(Ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(t){const e=Ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GL(t,e,n){if(Sn(t.app))return Promise.reject(wi(t));const r=Ps(t),l=await og(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$L).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&II(t),d}),c=await wo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function KL(t,e,n){return Sn(t.app)?Promise.reject(wi(t)):qL(lt(t),nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&II(t),r})}function QL(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function YL(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function by(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function XL(t){return lt(t).signOut()}const gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=1e3,ZL=10;class xI extends AI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);yL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ZL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},JL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xI.type="LOCAL";const eO=xI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI extends AI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PI.type="SESSION";const CI=PI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new jd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async m=>m(n.origin,a)),d=await tO(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const m=ky("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(E.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function rO(t){zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function iO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sO(){return navigator?.serviceWorker?.controller||null}function oO(){return RI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebaseLocalStorageDb",aO=1,yd="firebaseLocalStorage",kI="fbase_key";class nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zd(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function lO(){const t=indexedDB.deleteDatabase(bI);return new nc(t).toPromise()}function ag(){const t=indexedDB.open(bI,aO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yd,{keyPath:kI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),await lO(),e(await ag()))})})}async function AE(t,e,n){const r=zd(t,!0).put({[kI]:e,value:n});return new nc(r).toPromise()}async function uO(t,e){const n=zd(t,!1).get(e),r=await new nc(n).toPromise();return r===void 0?null:r.value}function xE(t,e){const n=zd(t,!0).delete(e);return new nc(n).toPromise()}const cO=800,hO=3;class NI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ag(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jd._getInstance(oO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iO(),!this.activeServiceWorker)return;this.sender=new nO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ag();return await AE(e,gd,"1"),await xE(e,gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=zd(s,!1).getAll();return new nc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NI.type="LOCAL";const dO=NI;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e){return e?vi(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends Py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fO(t){return SI(t.auth,new Ny(t),t.bypassAuthState)}function mO(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),HL(n,new Ny(t),t.bypassAuthState)}async function pO(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),WL(n,new Ny(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fO;case"linkViaPopup":case"linkViaRedirect":return pO;case"reauthViaPopup":case"reauthViaRedirect":return mO;default:Jn(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Zu(2e3,1e4);async function lg(t,e,n){if(Sn(t.app))return Promise.reject(yr(t,"operation-not-supported-in-this-environment"));const r=Ps(t);XV(t,e,Ry);const s=DI(r,n);return new co(r,"signInViaPopup",e,s).executeNotNull()}class co extends VI{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gO.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="pendingRedirect",Yh=new Map;class vO extends VI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{const r=await _O(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _O(t,e){const n=TO(e),r=EO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function wO(t,e){Yh.set(t._key(),e)}function EO(t){return vi(t._redirectPersistence)}function TO(t){return Qh(yO,t.config.apiKey,t.name)}async function SO(t,e,n=!1){if(Sn(t.app))return Promise.reject(wi(t));const r=Ps(t),s=DI(r,e),l=await new vO(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=600*1e3;class AO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!LI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(yr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IO&&this.cachedEventUids.clear(),this.cachedEventUids.has(PE(e))}saveEventToCache(e){this.cachedEventUids.add(PE(e)),this.lastProcessedEventTime=Date.now()}}function PE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e={}){return xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RO=/^https?/;async function bO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PO(t);for(const n of e)try{if(kO(n))return}catch{}Jn(t,"unauthorized-domain")}function kO(t){const e=ig(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!RO.test(n))return!1;if(CO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new Zu(3e4,6e4);function CE(){const t=zr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DO(t){return new Promise((e,n)=>{function r(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),n(yr(t,"network-request-failed"))},timeout:NO.get()})}if(zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zr().gapi?.load)r();else{const s=xL("iframefcb");return zr()[s]=()=>{gapi.load?r():n(yr(t,"network-request-failed"))},_I(`${AL()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function VO(t){return Xh=Xh||DO(t),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Zu(5e3,15e3),OO="__/auth/iframe",MO="emulator/auth/iframe",FO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BO(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iy(e,MO):`https://${t.config.authDomain}/${OO}`,r={apiKey:e.apiKey,appName:t.name,v:Ao},s=UO.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ju(r).slice(1)}`}async function jO(t){const e=await VO(t),n=zr().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:BO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FO,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=yr(t,"network-request-failed"),c=zr().setTimeout(()=>{a(l)},LO.get());function d(){zr().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$O=500,WO=600,HO="_blank",qO="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GO(t,e,n,r=$O,s=WO){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...zO,width:r.toString(),height:s.toString(),top:a,left:l},m=sn().toLowerCase();n&&(c=dI(m)?HO:n),cI(m)&&(e=e||qO,d.scrollbars="yes");const p=Object.entries(d).reduce((E,[I,x])=>`${E}${I}=${x},`,"");if(gL(m)&&c!=="_self")return KO(e||"",c),new RE(null);const w=window.open(e||"",c,p);Ae(w,t,"popup-blocked");try{w.focus()}catch{}return new RE(w)}function KO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="__/auth/handler",YO="emulator/auth/handler",XO=encodeURIComponent("fac");async function bE(t,e,n,r,s,a){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ao,eventId:s};if(e instanceof Ry){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",VD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,w]of Object.entries({}))l[p]=w}if(e instanceof tc){const p=e.getScopes().filter(w=>w!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),m=d?`#${XO}=${encodeURIComponent(d)}`:"";return`${JO(t)}?${Ju(c).slice(1)}${m}`}function JO({config:t}){return t.emulator?Iy(t,YO):`https://${t.authDomain}/${QO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="webStorageSupport";class ZO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CI,this._completeRedirectFn=SO,this._overrideRedirectResult=wO}async _openPopup(e,n,r,s){xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await bE(e,n,r,ig(),s);return GO(e,a,ky())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await bE(e,n,r,ig(),s);return rO(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(xi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jO(e),r=new AO(e);return n.register("authEvent",s=>(Ae(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pp,{type:pp},s=>{const a=s?.[0]?.[pp];a!==void 0&&n(!!a),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yI()||hI()||xy()}}const eM=ZO;var kE="@firebase/auth",NE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rM(t){vo(new gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vI(t)},m=new TL(r,s,a,d);return NL(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vo(new gs("auth-internal",e=>{const n=Ps(e.getProvider("auth").getImmediate());return(r=>new tM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(kE,NE,nM(t)),jr(kE,NE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=300,sM=YS("authIdTokenMaxAge")||iM;let DE=null;const oM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sM)return;const s=n?.token;DE!==s&&(DE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aM(t=Ud()){const e=Fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kL(t,{popupRedirectResolver:eM,persistence:[dO,eO,CI]}),r=YS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=oM(a.toString());YL(n,l,()=>l(n.currentUser)),QL(n,c=>l(c))}}const s=GS("auth");return s&&DL(n,`http://${s}`),n}function lM(){return document.getElementsByTagName("head")?.[0]??document}SL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=yr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",lM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rM("Browser");var VE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,OI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,P){function b(){}b.prototype=P.prototype,M.D=P.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(O,U,L){for(var k=Array(arguments.length-2),J=2;J<arguments.length;J++)k[J-2]=arguments[J];return P.prototype[U].apply(O,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,P,b){b||(b=0);var O=Array(16);if(typeof P=="string")for(var U=0;16>U;++U)O[U]=P.charCodeAt(b++)|P.charCodeAt(b++)<<8|P.charCodeAt(b++)<<16|P.charCodeAt(b++)<<24;else for(U=0;16>U;++U)O[U]=P[b++]|P[b++]<<8|P[b++]<<16|P[b++]<<24;P=M.g[0],b=M.g[1],U=M.g[2];var L=M.g[3],k=P+(L^b&(U^L))+O[0]+3614090360&4294967295;P=b+(k<<7&4294967295|k>>>25),k=L+(U^P&(b^U))+O[1]+3905402710&4294967295,L=P+(k<<12&4294967295|k>>>20),k=U+(b^L&(P^b))+O[2]+606105819&4294967295,U=L+(k<<17&4294967295|k>>>15),k=b+(P^U&(L^P))+O[3]+3250441966&4294967295,b=U+(k<<22&4294967295|k>>>10),k=P+(L^b&(U^L))+O[4]+4118548399&4294967295,P=b+(k<<7&4294967295|k>>>25),k=L+(U^P&(b^U))+O[5]+1200080426&4294967295,L=P+(k<<12&4294967295|k>>>20),k=U+(b^L&(P^b))+O[6]+2821735955&4294967295,U=L+(k<<17&4294967295|k>>>15),k=b+(P^U&(L^P))+O[7]+4249261313&4294967295,b=U+(k<<22&4294967295|k>>>10),k=P+(L^b&(U^L))+O[8]+1770035416&4294967295,P=b+(k<<7&4294967295|k>>>25),k=L+(U^P&(b^U))+O[9]+2336552879&4294967295,L=P+(k<<12&4294967295|k>>>20),k=U+(b^L&(P^b))+O[10]+4294925233&4294967295,U=L+(k<<17&4294967295|k>>>15),k=b+(P^U&(L^P))+O[11]+2304563134&4294967295,b=U+(k<<22&4294967295|k>>>10),k=P+(L^b&(U^L))+O[12]+1804603682&4294967295,P=b+(k<<7&4294967295|k>>>25),k=L+(U^P&(b^U))+O[13]+4254626195&4294967295,L=P+(k<<12&4294967295|k>>>20),k=U+(b^L&(P^b))+O[14]+2792965006&4294967295,U=L+(k<<17&4294967295|k>>>15),k=b+(P^U&(L^P))+O[15]+1236535329&4294967295,b=U+(k<<22&4294967295|k>>>10),k=P+(U^L&(b^U))+O[1]+4129170786&4294967295,P=b+(k<<5&4294967295|k>>>27),k=L+(b^U&(P^b))+O[6]+3225465664&4294967295,L=P+(k<<9&4294967295|k>>>23),k=U+(P^b&(L^P))+O[11]+643717713&4294967295,U=L+(k<<14&4294967295|k>>>18),k=b+(L^P&(U^L))+O[0]+3921069994&4294967295,b=U+(k<<20&4294967295|k>>>12),k=P+(U^L&(b^U))+O[5]+3593408605&4294967295,P=b+(k<<5&4294967295|k>>>27),k=L+(b^U&(P^b))+O[10]+38016083&4294967295,L=P+(k<<9&4294967295|k>>>23),k=U+(P^b&(L^P))+O[15]+3634488961&4294967295,U=L+(k<<14&4294967295|k>>>18),k=b+(L^P&(U^L))+O[4]+3889429448&4294967295,b=U+(k<<20&4294967295|k>>>12),k=P+(U^L&(b^U))+O[9]+568446438&4294967295,P=b+(k<<5&4294967295|k>>>27),k=L+(b^U&(P^b))+O[14]+3275163606&4294967295,L=P+(k<<9&4294967295|k>>>23),k=U+(P^b&(L^P))+O[3]+4107603335&4294967295,U=L+(k<<14&4294967295|k>>>18),k=b+(L^P&(U^L))+O[8]+1163531501&4294967295,b=U+(k<<20&4294967295|k>>>12),k=P+(U^L&(b^U))+O[13]+2850285829&4294967295,P=b+(k<<5&4294967295|k>>>27),k=L+(b^U&(P^b))+O[2]+4243563512&4294967295,L=P+(k<<9&4294967295|k>>>23),k=U+(P^b&(L^P))+O[7]+1735328473&4294967295,U=L+(k<<14&4294967295|k>>>18),k=b+(L^P&(U^L))+O[12]+2368359562&4294967295,b=U+(k<<20&4294967295|k>>>12),k=P+(b^U^L)+O[5]+4294588738&4294967295,P=b+(k<<4&4294967295|k>>>28),k=L+(P^b^U)+O[8]+2272392833&4294967295,L=P+(k<<11&4294967295|k>>>21),k=U+(L^P^b)+O[11]+1839030562&4294967295,U=L+(k<<16&4294967295|k>>>16),k=b+(U^L^P)+O[14]+4259657740&4294967295,b=U+(k<<23&4294967295|k>>>9),k=P+(b^U^L)+O[1]+2763975236&4294967295,P=b+(k<<4&4294967295|k>>>28),k=L+(P^b^U)+O[4]+1272893353&4294967295,L=P+(k<<11&4294967295|k>>>21),k=U+(L^P^b)+O[7]+4139469664&4294967295,U=L+(k<<16&4294967295|k>>>16),k=b+(U^L^P)+O[10]+3200236656&4294967295,b=U+(k<<23&4294967295|k>>>9),k=P+(b^U^L)+O[13]+681279174&4294967295,P=b+(k<<4&4294967295|k>>>28),k=L+(P^b^U)+O[0]+3936430074&4294967295,L=P+(k<<11&4294967295|k>>>21),k=U+(L^P^b)+O[3]+3572445317&4294967295,U=L+(k<<16&4294967295|k>>>16),k=b+(U^L^P)+O[6]+76029189&4294967295,b=U+(k<<23&4294967295|k>>>9),k=P+(b^U^L)+O[9]+3654602809&4294967295,P=b+(k<<4&4294967295|k>>>28),k=L+(P^b^U)+O[12]+3873151461&4294967295,L=P+(k<<11&4294967295|k>>>21),k=U+(L^P^b)+O[15]+530742520&4294967295,U=L+(k<<16&4294967295|k>>>16),k=b+(U^L^P)+O[2]+3299628645&4294967295,b=U+(k<<23&4294967295|k>>>9),k=P+(U^(b|~L))+O[0]+4096336452&4294967295,P=b+(k<<6&4294967295|k>>>26),k=L+(b^(P|~U))+O[7]+1126891415&4294967295,L=P+(k<<10&4294967295|k>>>22),k=U+(P^(L|~b))+O[14]+2878612391&4294967295,U=L+(k<<15&4294967295|k>>>17),k=b+(L^(U|~P))+O[5]+4237533241&4294967295,b=U+(k<<21&4294967295|k>>>11),k=P+(U^(b|~L))+O[12]+1700485571&4294967295,P=b+(k<<6&4294967295|k>>>26),k=L+(b^(P|~U))+O[3]+2399980690&4294967295,L=P+(k<<10&4294967295|k>>>22),k=U+(P^(L|~b))+O[10]+4293915773&4294967295,U=L+(k<<15&4294967295|k>>>17),k=b+(L^(U|~P))+O[1]+2240044497&4294967295,b=U+(k<<21&4294967295|k>>>11),k=P+(U^(b|~L))+O[8]+1873313359&4294967295,P=b+(k<<6&4294967295|k>>>26),k=L+(b^(P|~U))+O[15]+4264355552&4294967295,L=P+(k<<10&4294967295|k>>>22),k=U+(P^(L|~b))+O[6]+2734768916&4294967295,U=L+(k<<15&4294967295|k>>>17),k=b+(L^(U|~P))+O[13]+1309151649&4294967295,b=U+(k<<21&4294967295|k>>>11),k=P+(U^(b|~L))+O[4]+4149444226&4294967295,P=b+(k<<6&4294967295|k>>>26),k=L+(b^(P|~U))+O[11]+3174756917&4294967295,L=P+(k<<10&4294967295|k>>>22),k=U+(P^(L|~b))+O[2]+718787259&4294967295,U=L+(k<<15&4294967295|k>>>17),k=b+(L^(U|~P))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+P&4294967295,M.g[1]=M.g[1]+(U+(k<<21&4294967295|k>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+L&4294967295}r.prototype.u=function(M,P){P===void 0&&(P=M.length);for(var b=P-this.blockSize,O=this.B,U=this.h,L=0;L<P;){if(U==0)for(;L<=b;)s(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<P;)if(O[U++]=M.charCodeAt(L++),U==this.blockSize){s(this,O),U=0;break}}else for(;L<P;)if(O[U++]=M[L++],U==this.blockSize){s(this,O),U=0;break}}this.h=U,this.o+=P},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var P=1;P<M.length-8;++P)M[P]=0;var b=8*this.o;for(P=M.length-8;P<M.length;++P)M[P]=b&255,b/=256;for(this.u(M),M=Array(16),P=b=0;4>P;++P)for(var O=0;32>O;O+=8)M[b++]=this.g[P]>>>O&255;return M};function a(M,P){var b=c;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=P(M)}function l(M,P){this.h=P;for(var b=[],O=!0,U=M.length-1;0<=U;U--){var L=M[U]|0;O&&L==P||(b[U]=L,O=!1)}this.g=b}var c={};function d(M){return-128<=M&&128>M?a(M,function(P){return new l([P|0],0>P?-1:0)}):new l([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return C(m(-M));for(var P=[],b=1,O=0;M>=b;O++)P[O]=M/b|0,b*=4294967296;return new l(P,0)}function p(M,P){if(M.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M.charAt(0)=="-")return C(p(M.substring(1),P));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=m(Math.pow(P,8)),O=w,U=0;U<M.length;U+=8){var L=Math.min(8,M.length-U),k=parseInt(M.substring(U,U+L),P);8>L?(L=m(Math.pow(P,L)),O=O.j(L).add(m(k))):(O=O.j(b),O=O.add(m(k)))}return O}var w=d(0),E=d(1),I=d(16777216);t=l.prototype,t.m=function(){if(D(this))return-C(this).m();for(var M=0,P=1,b=0;b<this.g.length;b++){var O=this.i(b);M+=(0<=O?O:4294967296+O)*P,P*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(D(this))return"-"+C(this).toString(M);for(var P=m(Math.pow(M,6)),b=this,O="";;){var U=re(b,P).g;b=B(b,U.j(P));var L=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=U,x(b))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var P=0;P<M.g.length;P++)if(M.g[P]!=0)return!1;return!0}function D(M){return M.h==-1}t.l=function(M){return M=B(this,M),D(M)?-1:x(M)?0:1};function C(M){for(var P=M.g.length,b=[],O=0;O<P;O++)b[O]=~M.g[O];return new l(b,~M.h).add(E)}t.abs=function(){return D(this)?C(this):this},t.add=function(M){for(var P=Math.max(this.g.length,M.g.length),b=[],O=0,U=0;U<=P;U++){var L=O+(this.i(U)&65535)+(M.i(U)&65535),k=(L>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);O=k>>>16,L&=65535,k&=65535,b[U]=k<<16|L}return new l(b,b[b.length-1]&-2147483648?-1:0)};function B(M,P){return M.add(C(P))}t.j=function(M){if(x(this)||x(M))return w;if(D(this))return D(M)?C(this).j(C(M)):C(C(this).j(M));if(D(M))return C(this.j(C(M)));if(0>this.l(I)&&0>M.l(I))return m(this.m()*M.m());for(var P=this.g.length+M.g.length,b=[],O=0;O<2*P;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var U=0;U<M.g.length;U++){var L=this.i(O)>>>16,k=this.i(O)&65535,J=M.i(U)>>>16,K=M.i(U)&65535;b[2*O+2*U]+=k*K,W(b,2*O+2*U),b[2*O+2*U+1]+=L*K,W(b,2*O+2*U+1),b[2*O+2*U+1]+=k*J,W(b,2*O+2*U+1),b[2*O+2*U+2]+=L*J,W(b,2*O+2*U+2)}for(O=0;O<P;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=P;O<2*P;O++)b[O]=0;return new l(b,0)};function W(M,P){for(;(M[P]&65535)!=M[P];)M[P+1]+=M[P]>>>16,M[P]&=65535,P++}function $(M,P){this.g=M,this.h=P}function re(M,P){if(x(P))throw Error("division by zero");if(x(M))return new $(w,w);if(D(M))return P=re(C(M),P),new $(C(P.g),C(P.h));if(D(P))return P=re(M,C(P)),new $(C(P.g),P.h);if(30<M.g.length){if(D(M)||D(P))throw Error("slowDivide_ only works with positive integers.");for(var b=E,O=P;0>=O.l(M);)b=se(b),O=se(O);var U=he(b,1),L=he(O,1);for(O=he(O,2),b=he(b,2);!x(O);){var k=L.add(O);0>=k.l(M)&&(U=U.add(b),L=k),O=he(O,1),b=he(b,1)}return P=B(M,U.j(P)),new $(U,P)}for(U=w;0<=M.l(P);){for(b=Math.max(1,Math.floor(M.m()/P.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=m(b),k=L.j(P);D(k)||0<k.l(M);)b-=O,L=m(b),k=L.j(P);x(L)&&(L=E),U=U.add(L),M=B(M,k)}return new $(U,M)}t.A=function(M){return re(this,M).h},t.and=function(M){for(var P=Math.max(this.g.length,M.g.length),b=[],O=0;O<P;O++)b[O]=this.i(O)&M.i(O);return new l(b,this.h&M.h)},t.or=function(M){for(var P=Math.max(this.g.length,M.g.length),b=[],O=0;O<P;O++)b[O]=this.i(O)|M.i(O);return new l(b,this.h|M.h)},t.xor=function(M){for(var P=Math.max(this.g.length,M.g.length),b=[],O=0;O<P;O++)b[O]=this.i(O)^M.i(O);return new l(b,this.h^M.h)};function se(M){for(var P=M.g.length+1,b=[],O=0;O<P;O++)b[O]=M.i(O)<<1|M.i(O-1)>>>31;return new l(b,M.h)}function he(M,P){var b=P>>5;P%=32;for(var O=M.g.length-b,U=[],L=0;L<O;L++)U[L]=0<P?M.i(L+b)>>>P|M.i(L+b+1)<<32-P:M.i(L+b);return new l(U,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=p,ds=l}).apply(typeof VE<"u"?VE:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MI,lu,FI,Jh,ug,UI,BI,jI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)e:{var T=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in T))break e;T=T[H]}h=h[h.length-1],A=T[h],v=v(A),v!=A&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function a(h,v){h instanceof String&&(h+="");var T=0,A=!1,H={next:function(){if(!A&&T<h.length){var Z=T++;return{value:v(Z,h[Z]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(h){return h||function(){return a(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,T){return h.call.apply(h.bind,arguments)}function w(h,v,T){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function E(h,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:w,E.apply(null,arguments)}function I(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function x(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(A,H,Z){for(var de=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)de[Ge-2]=arguments[Ge];return v.prototype[H].apply(A,de)}}function D(h){const v=h.length;if(0<v){const T=Array(v);for(let A=0;A<v;A++)T[A]=h[A];return T}return[]}function C(h,v){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(d(A)){const H=h.length||0,Z=A.length||0;h.length=H+Z;for(let de=0;de<Z;de++)h[H+de]=A[de]}else h.push(A)}}class B{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function W(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function re(h){return re[" "](h),h}re[" "]=function(){};var se=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function he(h,v,T){for(const A in h)v.call(T,h[A],A,h)}function M(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function P(h){const v={};for(const T in h)v[T]=h[T];return v}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,v){let T,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(T in A)h[T]=A[T];for(let Z=0;Z<b.length;Z++)T=b[Z],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function U(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function L(h){c.setTimeout(()=>{throw h},0)}function k(){var h=G;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class J{constructor(){this.h=this.g=null}add(v,T){const A=K.get();A.set(v,T),this.h?this.h.next=A:this.g=A,this.h=A}}var K=new B(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,N=!1,G=new J,ie=()=>{const h=c.Promise.resolve(void 0);Q=()=>{h.then(j)}};var j=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(T){L(T)}var v=K;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}N=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Te=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return h})();function Ne(h,v){if(me.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(se){e:{try{re(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Le[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}x(Ne,me);var Le={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ye(h,v,T,A,H){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!A,this.ha=H,this.key=++je,this.da=this.fa=!1}function Ot(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Xr(h){this.src=h,this.g={},this.h=0}Xr.prototype.add=function(h,v,T,A,H){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var de=Ni(h,v,A,H);return-1<de?(v=h[de],T||(v.fa=!1)):(v=new Ye(v,this.src,Z,!!A,H),v.fa=T,h.push(v)),v};function ko(h,v){var T=v.type;if(T in h.g){var A=h.g[T],H=Array.prototype.indexOf.call(A,v,void 0),Z;(Z=0<=H)&&Array.prototype.splice.call(A,H,1),Z&&(Ot(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ni(h,v,T,A){for(var H=0;H<h.length;++H){var Z=h[H];if(!Z.da&&Z.listener==v&&Z.capture==!!T&&Z.ha==A)return H}return-1}var ks="closure_lm_"+(1e6*Math.random()|0),No={};function al(h,v,T,A,H){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)al(h,v[Z],T,A,H);return null}return T=cl(T),h&&h[Oe]?h.K(v,T,m(A)?!!A.capture:!1,H):ll(h,v,T,!1,A,H)}function ll(h,v,T,A,H,Z){if(!v)throw Error("Invalid event type");var de=m(H)?!!H.capture:!!H,Ge=Vo(h);if(Ge||(h[ks]=Ge=new Xr(h)),T=Ge.add(v,T,A,de,Z),T.proxy)return T;if(A=dc(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)Te||(H=de),H===void 0&&(H=!1),h.addEventListener(v.toString(),A,H);else if(h.attachEvent)h.attachEvent(Zr(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function dc(){function h(T){return v.call(h.src,h.listener,T)}const v=ul;return h}function Do(h,v,T,A,H){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Do(h,v[Z],T,A,H);else A=m(A)?!!A.capture:!!A,T=cl(T),h&&h[Oe]?(h=h.i,v=String(v).toString(),v in h.g&&(Z=h.g[v],T=Ni(Z,T,A,H),-1<T&&(Ot(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete h.g[v],h.h--)))):h&&(h=Vo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ni(v,T,A,H)),(T=-1<h?v[h]:null)&&Jr(T))}function Jr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Oe])ko(v.i,h);else{var T=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(T,A,h.capture):v.detachEvent?v.detachEvent(Zr(T),A):v.addListener&&v.removeListener&&v.removeListener(A),(T=Vo(v))?(ko(T,h),T.h==0&&(T.src=null,v[ks]=null)):Ot(h)}}}function Zr(h){return h in No?No[h]:No[h]="on"+h}function ul(h,v){if(h.da)h=!0;else{v=new Ne(v,this);var T=h.listener,A=h.ha||h.src;h.fa&&Jr(h),h=T.call(A,v)}return h}function Vo(h){return h=h[ks],h instanceof Xr?h:null}var Lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function cl(h){return typeof h=="function"?h:(h[Lo]||(h[Lo]=function(v){return h.handleEvent(v)}),h[Lo])}function bt(){te.call(this),this.i=new Xr(this),this.M=this,this.F=null}x(bt,te),bt.prototype[Oe]=!0,bt.prototype.removeEventListener=function(h,v,T,A){Do(this,h,v,T,A)};function kt(h,v){var T,A=h.F;if(A)for(T=[];A;A=A.F)T.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new me(v,h);else if(v instanceof me)v.target=v.target||h;else{var H=v;v=new me(A,h),O(v,H)}if(H=!0,T)for(var Z=T.length-1;0<=Z;Z--){var de=v.g=T[Z];H=ei(de,A,!0,v)&&H}if(de=v.g=h,H=ei(de,A,!0,v)&&H,H=ei(de,A,!1,v)&&H,T)for(Z=0;Z<T.length;Z++)de=v.g=T[Z],H=ei(de,A,!1,v)&&H}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],A=0;A<T.length;A++)Ot(T[A]);delete h.g[v],h.h--}}this.F=null},bt.prototype.K=function(h,v,T,A){return this.i.add(String(h),v,!1,T,A)},bt.prototype.L=function(h,v,T,A){return this.i.add(String(h),v,!0,T,A)};function ei(h,v,T,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Z=0;Z<v.length;++Z){var de=v[Z];if(de&&!de.da&&de.capture==T){var Ge=de.listener,Nt=de.ha||de.src;de.fa&&ko(h.i,de),H=Ge.call(Nt,A)!==!1&&H}}return H&&!A.defaultPrevented}function hl(h,v,T){if(typeof h=="function")T&&(h=E(h,T));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(h,v||0)}function Di(h){h.g=hl(()=>{h.g=null,h.i&&(h.i=!1,Di(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Ns extends te{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Di(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(h){te.call(this),this.h=h,this.g={}}x(Ds,te);var dl=[];function fl(h){he(h.g,function(v,T){this.g.hasOwnProperty(T)&&Jr(v)},h),h.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),fl(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ml=c.JSON.stringify,pl=c.JSON.parse,gl=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Vs(){}Vs.prototype.h=null;function Oo(h){return h.h||(h.h=h.i())}function Mo(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){me.call(this,"d")}x(Tr,me);function Fo(){me.call(this,"c")}x(Fo,me);var Sr={},yl=null;function Ls(){return yl=yl||new bt}Sr.La="serverreachability";function vl(h){me.call(this,Sr.La,h)}x(vl,me);function ti(h){const v=Ls();kt(v,new vl(v))}Sr.STAT_EVENT="statevent";function _l(h,v){me.call(this,Sr.STAT_EVENT,h),this.stat=v}x(_l,me);function vt(h){const v=Ls();kt(v,new _l(v,h))}Sr.Ma="timingevent";function Uo(h,v){me.call(this,Sr.Ma,h),this.size=v}x(Uo,me);function Zn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Os(){this.g=!0}Os.prototype.xa=function(){this.g=!1};function Ms(h,v,T,A,H,Z){h.info(function(){if(h.g)if(Z)for(var de="",Ge=Z.split("&"),Nt=0;Nt<Ge.length;Nt++){var ze=Ge[Nt].split("=");if(1<ze.length){var Mt=ze[0];ze=ze[1];var St=Mt.split("_");de=2<=St.length&&St[1]=="type"?de+(Mt+"="+ze+"&"):de+(Mt+"=redacted&")}}else de=null;else de=Z;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+v+`
`+T+`
`+de})}function Bo(h,v,T,A,H,Z,de){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+v+`
`+T+`
`+Z+" "+de})}function er(h,v,T,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+mf(h,T)+(A?" "+A:"")})}function wl(h,v){h.info(function(){return"TIMEOUT: "+v})}Os.prototype.info=function(){};function mf(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var A=T[h];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var Z=H[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var de=1;de<H.length;de++)H[de]=""}}}}return ml(T)}catch{return v}}var jo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tr;function Fs(){}x(Fs,Vs),Fs.prototype.g=function(){return new XMLHttpRequest},Fs.prototype.i=function(){return{}},tr=new Fs;function nr(h,v,T,A){this.j=h,this.i=v,this.l=T,this.R=A||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mc}function mc(){this.i=null,this.g="",this.h=!1}var El={},zo={};function $o(h,v,T){h.L=1,h.v=Fi(Cn(v)),h.m=T,h.P=!0,Tl(h,null)}function Tl(h,v){h.F=Date.now(),Xe(h),h.A=Cn(h.v);var T=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Bi(T.i,"t",A),h.C=0,T=h.j.J,h.h=new mc,h.g=Nc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new Ns(E(h.Y,h,h.g),h.O)),v=h.U,T=h.g,A=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(dl[0]=H.toString()),H=dl);for(var Z=0;Z<H.length;Z++){var de=al(T,H[Z],A||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=h.H?P(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),ti(),Ms(h.i,h.u,h.A,h.l,h.R,h.m)}nr.prototype.ca=function(h){h=h.target;const v=this.M;v&&pn(h)==3?v.j():this.Y(h)},nr.prototype.Y=function(h){try{if(h==this.g)e:{const St=pn(this.g);var v=this.g.Ba();const Un=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Cl(this.g)))){this.J||St!=4||v==7||(v==8||0>=Un?ti(3):ti(2)),Us(this);var T=this.g.Z();this.X=T;t:if(pc(this)){var A=Cl(this.g);h="";var H=A.length,Z=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Vi(this);var de="";break t}this.h.i=new c.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(Z&&v==H-1)});A.length=0,this.h.g+=h,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=T==200,Bo(this.i,this.u,this.A,this.l,this.R,St,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Nt=this.g;if((Ge=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ge)){var ze=Ge;break t}}ze=null}if(T=ze)er(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sl(this,T);else{this.o=!1,this.s=3,vt(12),Mn(this),Vi(this);break e}}if(this.P){T=!0;let bn;for(;!this.J&&this.C<de.length;)if(bn=pf(this,de),bn==zo){St==4&&(this.s=4,vt(14),T=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==El){this.s=4,vt(15),er(this.i,this.l,de,"[Invalid Chunk]"),T=!1;break}else er(this.i,this.l,bn,null),Sl(this,bn);if(pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||de.length!=0||this.h.h||(this.s=1,vt(16),T=!1),this.o=this.o&&T,!T)er(this.i,this.l,de,"[Invalid Chunked Response]"),Mn(this),Vi(this);else if(0<de.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),bl(Mt),Mt.M=!0,vt(11))}}else er(this.i,this.l,de,null),Sl(this,de);St==4&&Mn(this),this.o&&!this.J&&(St==4?ea(this.j,this):(this.o=!1,Xe(this)))}else Qo(this.g),T==400&&0<de.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Mn(this),Vi(this)}}}catch{}finally{}};function pc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function pf(h,v){var T=h.C,A=v.indexOf(`
`,T);return A==-1?zo:(T=Number(v.substring(T,A)),isNaN(T)?El:(A+=1,A+T>v.length?zo:(v=v.slice(A,A+T),h.C=A+T,v)))}nr.prototype.cancel=function(){this.J=!0,Mn(this)};function Xe(h){h.S=Date.now()+h.I,gc(h,h.I)}function gc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Zn(E(h.ba,h),v)}function Us(h){h.B&&(c.clearTimeout(h.B),h.B=null)}nr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(wl(this.i,this.A),this.L!=2&&(ti(),vt(17)),Mn(this),this.s=2,Vi(this)):gc(this,this.S-h)};function Vi(h){h.j.G==0||h.J||ea(h.j,h)}function Mn(h){Us(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,fl(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Sl(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||on(T.h,h))){if(!h.K&&on(T.h,h)&&T.G==3){try{var A=T.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Zo(T),ar(T);else break e;Jo(T),vt(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=Zn(E(T.Za,T),6e3));if(1>=vc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else oi(T,11)}else if((h.K||T.g==h)&&Zo(T),!W(v))for(H=T.Da.g.parse(v),v=0;v<H.length;v++){let ze=H[v];if(T.T=ze[0],ze=ze[1],T.G==2)if(ze[0]=="c"){T.K=ze[1],T.ia=ze[2];const Mt=ze[3];Mt!=null&&(T.la=Mt,T.j.info("VER="+T.la));const St=ze[4];St!=null&&(T.Aa=St,T.j.info("SVER="+T.Aa));const Un=ze[5];Un!=null&&typeof Un=="number"&&0<Un&&(A=1.5*Un,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const bn=h.g;if(bn){const qs=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var Z=A.h;Z.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Il(Z,Z.h),Z.h=null))}if(A.D){const na=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;na&&(A.ya=na,Ke(A.I,A.D,na))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var de=h;if(A.qa=kc(A,A.J?A.ia:null,A.W),de.K){_c(A.h,de);var Ge=de,Nt=A.L;Nt&&(Ge.I=Nt),Ge.B&&(Us(Ge),Xe(Ge)),A.g=de}else Hs(A);0<T.i.length&&Pr(T)}else ze[0]!="stop"&&ze[0]!="close"||oi(T,7);else T.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?oi(T,7):$t(T):ze[0]!="noop"&&T.l&&T.l.ta(ze),T.v=0)}}ti(4)}catch{}}var yc=class{constructor(h,v){this.g=h,this.map=v}};function Bs(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function vc(h){return h.h?1:h.g?h.g.size:0}function on(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Il(h,v){h.g?h.g.add(v):h.h=v}function _c(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Bs.prototype.cancel=function(){if(this.i=wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return D(h.i)}function Wo(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],T=h.length,A=0;A<T;A++)v.push(h[A]);return v}v=[],T=0;for(A in h)v[T++]=h[A];return v}function Ho(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const A in h)v[T++]=A;return v}}}function Li(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=Ho(h),A=Wo(h),H=A.length,Z=0;Z<H;Z++)v.call(void 0,A[Z],T&&T[Z],h)}var js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gf(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var A=h[T].indexOf("="),H=null;if(0<=A){var Z=h[T].substring(0,A);H=h[T].substring(A+1)}else Z=h[T];v(Z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ni(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ni){this.h=h.h,zs(this,h.j),this.o=h.o,this.g=h.g,Oi(this,h.s),this.l=h.l;var v=h.i,T=new Ir;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Mi(this,T),this.m=h.m}else h&&(v=String(h).match(js))?(this.h=!1,zs(this,v[1]||"",!0),this.o=Be(v[2]||""),this.g=Be(v[3]||"",!0),Oi(this,v[4]),this.l=Be(v[5]||"",!0),Mi(this,v[6]||"",!0),this.m=Be(v[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}ni.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ui(v,qo,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ui(v,qo,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ui(T,T.charAt(0)=="/"?Sc:Tc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ui(T,Al)),h.join("")};function Cn(h){return new ni(h)}function zs(h,v,T){h.j=T?Be(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Oi(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Mi(h,v,T){v instanceof Ir?(h.i=v,Ar(h.i,h.h)):(T||(v=Ui(v,Ic)),h.i=new Ir(v,h.h))}function Ke(h,v,T){h.i.set(v,T)}function Fi(h){return Ke(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Be(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ui(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Ec),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ec(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qo=/[#\/\?@]/g,Tc=/[#\?:]/g,Sc=/[#\?]/g,Ic=/[#\?@]/g,Al=/#/g;function Ir(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function zt(h){h.g||(h.g=new Map,h.h=0,h.i&&gf(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Ir.prototype,t.add=function(h,v){zt(this),this.i=null,h=Fn(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function rr(h,v){zt(h),v=Fn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ir(h,v){return zt(h),v=Fn(h,v),h.g.has(v)}t.forEach=function(h,v){zt(this),this.g.forEach(function(T,A){T.forEach(function(H){h.call(v,H,A,this)},this)},this)},t.na=function(){zt(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let A=0;A<v.length;A++){const H=h[A];for(let Z=0;Z<H.length;Z++)T.push(v[A])}return T},t.V=function(h){zt(this);let v=[];if(typeof h=="string")ir(this,h)&&(v=v.concat(this.g.get(Fn(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},t.set=function(h,v){return zt(this),this.i=null,h=Fn(this,h),ir(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Bi(h,v,T){rr(h,v),0<T.length&&(h.i=null,h.g.set(Fn(h,v),D(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var A=v[T];const Z=encodeURIComponent(String(A)),de=this.V(A);for(A=0;A<de.length;A++){var H=Z;de[A]!==""&&(H+="="+encodeURIComponent(String(de[A]))),h.push(H)}}return this.i=h.join("&")};function Fn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ar(h,v){v&&!h.j&&(zt(h),h.i=null,h.g.forEach(function(T,A){var H=A.toLowerCase();A!=H&&(rr(this,A),Bi(this,H,T))},h)),h.j=v}function yf(h,v){const T=new Os;if(c.Image){const A=new Image;A.onload=I(mn,T,"TestLoadImage: loaded",!0,v,A),A.onerror=I(mn,T,"TestLoadImage: error",!1,v,A),A.onabort=I(mn,T,"TestLoadImage: abort",!1,v,A),A.ontimeout=I(mn,T,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Ac(h,v){const T=new Os,A=new AbortController,H=setTimeout(()=>{A.abort(),mn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Z=>{clearTimeout(H),Z.ok?mn(T,"TestPingServer: ok",!0,v):mn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),mn(T,"TestPingServer: error",!1,v)})}function mn(h,v,T,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(T)}catch{}}function vf(){this.g=new gl}function xc(h,v,T){const A=T||"";try{Li(h,function(H,Z){let de=H;m(H)&&(de=ml(H)),v.push(A+Z+"="+encodeURIComponent(de))})}catch(H){throw v.push(A+"type="+encodeURIComponent("_badmap")),H}}function ri(h){this.l=h.Ub||null,this.j=h.eb||!1}x(ri,Vs),ri.prototype.g=function(){return new $s(this.l,this.j)},ri.prototype.i=(function(h){return function(){return h}})({});function $s(h,v){bt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x($s,bt),t=$s.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,or(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?sr(this):or(this),this.readyState==3&&Pc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,sr(this))},t.Qa=function(h){this.g&&(this.response=h,sr(this))},t.ga=function(){this.g&&sr(this)};function sr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,or(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function or(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ii(h){let v="";return he(h,function(T,A){v+=A,v+=":",v+=T,v+=`\r
`}),v}function ji(h,v,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=ii(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Ke(h,v,T))}function nt(h){bt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(nt,bt);var _f=/^https?$/i,xl=["POST","PUT"];t=nt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tr.g(),this.v=this.o?Oo(this.o):Oo(tr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){Ws(this,Z);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)T.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Z of A.keys())T.set(Z,A.get(Z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(xl,v,void 0))||A||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,de]of T)this.g.setRequestHeader(Z,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ko(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){Ws(this,Z)}};function Ws(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Go(h),Rn(h)}function Go(h){h.A||(h.A=!0,kt(h,"complete"),kt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,kt(this,"complete"),kt(this,"abort"),Rn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rn(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pl(this):this.bb())},t.bb=function(){Pl(this)};function Pl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||pn(h)!=4||h.Z()!=2)){if(h.u&&pn(h)==4)hl(h.Ea,0,h);else if(kt(h,"readystatechange"),pn(h)==4){h.h=!1;try{const de=h.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var A;if(A=de===0){var H=String(h.D).match(js)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),A=!_f.test(H?H.toLowerCase():"")}T=A}if(T)kt(h,"complete"),kt(h,"success");else{h.m=6;try{var Z=2<pn(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",Go(h)}}finally{Rn(h)}}}}function Rn(h,v){if(h.g){Ko(h);const T=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||kt(h,"ready");try{T.onreadystatechange=A}catch{}}}function Ko(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function pn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),pl(v)}};function Cl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Qo(h){const v={};h=(h.g&&2<=pn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(W(h[A]))continue;var T=U(h[A]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=v[H]||[];v[H]=Z,Z.push(T)}M(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Rl(h){this.Aa=0,this.i=[],this.j=new Os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xr("baseRetryDelayMs",5e3,h),this.cb=xr("retryDelaySeedMs",1e4,h),this.Wa=xr("forwardChannelMaxRetries",2,h),this.wa=xr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bs(h&&h.concurrentRequestLimit),this.Da=new vf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Rl.prototype,t.la=8,t.G=1,t.connect=function(h,v,T,A){vt(0),this.W=h,this.H=v||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=kc(this,null,this.W),Pr(this)};function $t(h){if(Yo(h),h.G==3){var v=h.U++,T=Cn(h.I);if(Ke(T,"SID",h.K),Ke(T,"RID",v),Ke(T,"TYPE","terminate"),si(h,T),v=new nr(h,h.j,v),v.L=2,v.v=Fi(Cn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.v,T=!0),T||(v.g=Nc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xe(v)}bc(h)}function ar(h){h.g&&(bl(h),h.g.cancel(),h.g=null)}function Yo(h){ar(h),h.u&&(c.clearTimeout(h.u),h.u=null),Zo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function Pr(h){if(!Pn(h.h)&&!h.s){h.s=!0;var v=h.Ga;Q||ie(),N||(Q(),N=!0),G.add(v,h),h.B=0}}function wf(h,v){return vc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Zn(E(h.Ga,h,v),Rc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new nr(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=P(Z),O(Z,this.S)):Z=this.S),this.m!==null||this.O||(H.H=Z,Z=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=zi(this,H,v),T=Cn(this.I),Ke(T,"RID",h),Ke(T,"CVER",22),this.D&&Ke(T,"X-HTTP-Session-Id",this.D),si(this,T),Z&&(this.O?v="headers="+encodeURIComponent(String(ii(Z)))+"&"+v:this.m&&ji(T,this.m,Z)),Il(this.h,H),this.Ua&&Ke(T,"TYPE","init"),this.P?(Ke(T,"$req",v),Ke(T,"SID","null"),H.T=!0,$o(H,T,null)):$o(H,T,v),this.G=2}}else this.G==3&&(h?Xo(this,h):this.i.length==0||Pn(this.h)||Xo(this))};function Xo(h,v){var T;v?T=v.l:T=h.U++;const A=Cn(h.I);Ke(A,"SID",h.K),Ke(A,"RID",T),Ke(A,"AID",h.T),si(h,A),h.m&&h.o&&ji(A,h.m,h.o),T=new nr(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=zi(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Il(h.h,T),$o(T,A,v)}function si(h,v){h.H&&he(h.H,function(T,A){Ke(v,A,T)}),h.l&&Li({},function(T,A){Ke(v,A,T)})}function zi(h,v,T){T=Math.min(h.i.length,T);var A=h.l?E(h.l.Na,h.l,h):null;e:{var H=h.i;let Z=-1;for(;;){const de=["count="+T];Z==-1?0<T?(Z=H[0].g,de.push("ofs="+Z)):Z=0:de.push("ofs="+Z);let Ge=!0;for(let Nt=0;Nt<T;Nt++){let ze=H[Nt].g;const Mt=H[Nt].map;if(ze-=Z,0>ze)Z=Math.max(0,H[Nt].g-100),Ge=!1;else try{xc(Mt,de,"req"+ze+"_")}catch{A&&A(Mt)}}if(Ge){A=de.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,A}function Hs(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;Q||ie(),N||(Q(),N=!0),G.add(v,h),h.v=0}}function Jo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Zn(E(h.Fa,h),Rc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Zn(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),ar(this),Cc(this))};function bl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Cc(h){h.g=new nr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Cn(h.qa);Ke(v,"RID","rpc"),Ke(v,"SID",h.K),Ke(v,"AID",h.T),Ke(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ke(v,"TO",h.ja),Ke(v,"TYPE","xmlhttp"),si(h,v),h.m&&h.o&&ji(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Fi(Cn(v)),T.m=null,T.P=!0,Tl(T,h)}t.Za=function(){this.C!=null&&(this.C=null,ar(this),Jo(this),vt(19))};function Zo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ea(h,v){var T=null;if(h.g==v){Zo(h),bl(h),h.g=null;var A=2}else if(on(h.h,v))T=v.D,_c(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;A=Ls(),kt(A,new Uo(A,T)),Pr(h)}else Hs(h);else if(H=v.s,H==3||H==0&&0<v.X||!(A==1&&wf(h,v)||A==2&&Jo(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),H){case 1:oi(h,5);break;case 4:oi(h,10);break;case 3:oi(h,6);break;default:oi(h,2)}}}function Rc(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function oi(h,v){if(h.j.info("Error code "+v),v==2){var T=E(h.fb,h),A=h.Xa;const H=!A;A=new ni(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zs(A,"https"),Fi(A),H?yf(A.toString(),T):Ac(A.toString(),T)}else vt(2);h.G=0,h.l&&h.l.sa(v),bc(h),Yo(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function bc(h){if(h.G=0,h.ka=[],h.l){const v=wc(h.h);(v.length!=0||h.i.length!=0)&&(C(h.ka,v),C(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function kc(h,v,T){var A=T instanceof ni?Cn(T):new ni(T);if(A.g!="")v&&(A.g=v+"."+A.g),Oi(A,A.s);else{var H=c.location;A=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Z=new ni(null);A&&zs(Z,A),v&&(Z.g=v),H&&Oi(Z,H),T&&(Z.l=T),A=Z}return T=h.D,v=h.ya,T&&v&&Ke(A,T,v),Ke(A,"VER",h.la),si(h,A),A}function Nc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new nt(new ri({eb:T})):new nt(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kl(){}t=kl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ta(){}ta.prototype.g=function(h,v){return new an(h,v)};function an(h,v){bt.call(this),this.g=new Rl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!W(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!W(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Cr(this)}x(an,bt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){$t(this.g)},an.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=ml(h),h=T);v.i.push(new yc(v.Ya++,h)),v.G==3&&Pr(v)},an.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,an.aa.N.call(this)};function Dc(h){Tr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x(Dc,Tr);function Vc(){Fo.call(this),this.status=1}x(Vc,Fo);function Cr(h){this.g=h}x(Cr,kl),Cr.prototype.ua=function(){kt(this.g,"a")},Cr.prototype.ta=function(h){kt(this.g,new Dc(h))},Cr.prototype.sa=function(h){kt(this.g,new Vc)},Cr.prototype.ra=function(){kt(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,jI=function(){return new ta},BI=function(){return Ls()},UI=Sr,ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jo.NO_ERROR=0,jo.TIMEOUT=8,jo.HTTP_ERROR=6,Jh=jo,fc.COMPLETE="complete",FI=fc,Mo.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",bt.prototype.listen=bt.prototype.K,lu=Mo,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,MI=nt}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const LE="@firebase/firestore",OE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new wy("@firebase/firestore");function Sa(){return Eo.logLevel}function ge(t,...e){if(Eo.logLevel<=Me.DEBUG){const n=e.map(Dy);Eo.debug(`Firestore (${rl}): ${t}`,...n)}}function Pi(t,...e){if(Eo.logLevel<=Me.ERROR){const n=e.map(Dy);Eo.error(`Firestore (${rl}): ${t}`,...n)}}function $a(t,...e){if(Eo.logLevel<=Me.WARN){const n=e.map(Dy);Eo.warn(`Firestore (${rl}): ${t}`,...n)}}function Dy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zI(t,r,n)}function zI(t,e,n){let r=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pi(r),new Error(r)}function qe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||zI(e,s,r)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class cM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hM{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ei,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},c=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ei)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new $I(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class dM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=pM(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function cg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return gp(s)===gp(a)?Fe(s,a):gp(s)?1:-1}return Fe(t.length,e.length)}const gM=55296,yM=57343;function gp(t){const e=t.charCodeAt(0);return e>=gM&&e<=yM}function Wa(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="__name__";class Dr{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Dr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Dr.isNumericId(e),s=Dr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Dr.extractNumericId(e).compare(Dr.extractNumericId(n)):cg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class Qe extends Dr{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Qe(n)}static emptyPath(){return new Qe([])}}const vM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Dr{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return vM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FE}static keyField(){return new Kt([FE])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Qe.fromString(e))}static fromName(e){return new Ee(Qe.fromString(e).popFirst(5))}static empty(){return new Ee(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _M(t,e,n,r){if(e===!0&&r===!0)throw new fe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UE(t){if(!Ee.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BE(t){if(Ee.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$d(t);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t,e){const n={typeString:t};return e&&(n.value=e),n}function rc(t,e){if(!HI(t))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new fe(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=-62135596800,zE=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zE);return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jE)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rc(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:Rt("string",Ze._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Ze(0,0))}static max(){return new be(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;function wM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new ys(s,Ee.empty(),e)}function EM(t){return new ys(t.readTime,t.key,Vu)}class ys{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ys(be.min(),Ee.empty(),Vu)}static max(){return new ys(be.max(),Ee.empty(),Vu)}}function TM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==SM)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let s=0,a=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++a,l&&a===s&&n()}),(d=>r(d)))})),l=!0,a===s&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((s=>s?oe.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const m=d;n(e[m]).next((p=>{l[m]=p,++c,c===a&&r(l)}),(p=>s(p)))}}))}static doWhile(e,n){return new oe(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function AM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-1;function Hd(t){return t==null}function vd(t){return t===0&&1/t==-1/0}function xM(t){return typeof t=="number"&&Number.isInteger(t)&&!vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="";function PM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$E(e)),e=CM(t.get(n),e);return $E(e)}function CM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case qI:n+="";break;default:n+=a}}return n}function $E(t){return t+qI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=s??Gt.EMPTY,this.right=a??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Gt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Lt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new KI("Invalid base64 string: "+a):a}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const RM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=RM.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _s(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="server_timestamp",YI="__type__",XI="__previous_value__",JI="__local_write_time__";function qd(t){return(t?.mapValue?.fields||{})[YI]?.stringValue===QI}function Gd(t){const e=t.mapValue.fields[XI];return qd(e)?Gd(e):e}function Lu(t){const e=vs(t.mapValue.fields[JI].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r,s,a,l,c,d,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=p}}const _d="(default)";class Ou{constructor(e,n){this.projectId=e,this.database=n||_d}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database===_d}isEqual(e){return e instanceof Ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="__type__",kM="__max__",Lh={mapValue:{}},eA="__vector__",wd="value";function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qd(t)?4:DM(t)?9007199254740991:NM(t)?10:11:xe(28295,{value:t})}function Gr(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lu(t).isEqual(Lu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=vs(s.timestampValue),c=vs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return _s(s.bytesValue).isEqual(_s(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return Et(s.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Et(s.integerValue)===Et(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Et(s.doubleValue),c=Et(a.doubleValue);return l===c?vd(l)===vd(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(WE(l)!==WE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Gr(l[d],c[d])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function Mu(t,e){return(t.values||[]).find((n=>Gr(n,e)))!==void 0}function Ha(t,e){if(t===e)return 0;const n=ws(t),r=ws(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Et(a.integerValue||a.doubleValue),d=Et(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return qE(t.timestampValue,e.timestampValue);case 4:return qE(Lu(t),Lu(e));case 5:return cg(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=_s(a),d=_s(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),d=l.split("/");for(let m=0;m<c.length&&m<d.length;m++){const p=Fe(c[m],d[m]);if(p!==0)return p}return Fe(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Fe(Et(a.latitude),Et(l.latitude));return c!==0?c:Fe(Et(a.longitude),Et(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return GE(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},d=l.fields||{},m=c[wd]?.arrayValue,p=d[wd]?.arrayValue,w=Fe(m?.values?.length||0,p?.values?.length||0);return w!==0?w:GE(m,p)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Lh.mapValue&&l===Lh.mapValue)return 0;if(a===Lh.mapValue)return 1;if(l===Lh.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),m=l.fields||{},p=Object.keys(m);d.sort(),p.sort();for(let w=0;w<d.length&&w<p.length;++w){const E=cg(d[w],p[w]);if(E!==0)return E;const I=Ha(c[d[w]],m[p[w]]);if(I!==0)return I}return Fe(d.length,p.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function qE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=vs(t),r=vs(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function GE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ha(n[s],r[s]);if(a)return a}return Fe(n.length,r.length)}function qa(t){return hg(t)}function hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=vs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _s(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=hg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${hg(n.fields[l])}`;return s+"}"})(t.mapValue):xe(61005,{value:t})}function Zh(t){switch(ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gd(t);return e?16+Zh(e):16;case 5:return 2*t.stringValue.length;case 6:return _s(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Zh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Cs(r.fields,((a,l)=>{s+=a.length+Zh(l)})),s})(t.mapValue);default:throw xe(13486,{value:t})}}function Ed(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dg(t){return!!t&&"integerValue"in t}function Oy(t){return!!t&&"arrayValue"in t}function KE(t){return!!t&&"nullValue"in t}function QE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ed(t){return!!t&&"mapValue"in t}function NM(t){return(t?.mapValue?.fields||{})[ZI]?.stringValue===eA}function _u(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=_u(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_u(t.arrayValue.values[n]);return e}return{...t}}function DM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ed(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_u(n)}setAll(e){let n=Kt.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=_u(l):s.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());ed(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ed(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new In(_u(this.value))}}function tA(t){const e=[];return Cs(t.fields,((n,r)=>{const s=new Kt([n]);if(ed(r)){const a=tA(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new nn(e,0,be.min(),be.min(),be.min(),In.empty(),0)}static newFoundDocument(e,n,r,s){return new nn(e,1,n,be.min(),r,s,0)}static newNoDocument(e,n){return new nn(e,2,n,be.min(),be.min(),In.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,be.min(),be.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.position=e,this.inclusive=n}}function YE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),n.key):r=Ha(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function XE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function VM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{}class Pt extends nA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OM(e,n,r):n==="array-contains"?new UM(e,r):n==="in"?new BM(e,r):n==="not-in"?new jM(e,r):n==="array-contains-any"?new zM(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MM(e,r):new FM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ha(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends nA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return rA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rA(t){return t.op==="and"}function iA(t){return LM(t)&&rA(t)}function LM(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function fg(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+qa(t.value);if(iA(t))return t.filters.map((e=>fg(e))).join(",");{const e=t.filters.map((n=>fg(n))).join(",");return`${t.op}(${e})`}}function sA(t,e){return t instanceof Pt?(function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&Gr(r.value,s.value)})(t,e):t instanceof _r?(function(r,s){return s instanceof _r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,c)=>a&&sA(l,s.filters[c])),!0):!1})(t,e):void xe(19439)}function oA(t){return t instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${qa(n.value)}`})(t):t instanceof _r?(function(n){return n.op.toString()+" {"+n.getFilters().map(oA).join(" ,")+"}"})(t):"Filter"}class OM extends Pt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class MM extends Pt{constructor(e,n){super(e,"in",n),this.keys=aA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class FM extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=aA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function aA(t,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class UM extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Oy(n)&&Mu(n.arrayValue,this.value)}}class BM extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mu(this.value.arrayValue,n)}}class jM extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mu(this.value.arrayValue,n)}}class zM extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Oy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Mu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function JE(t,e=null,n=[],r=[],s=null,a=null,l=null){return new $M(t,e,n,r,s,a,l)}function My(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>fg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>qa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>qa(r))).join(",")),e.Te=n}return e.Te}function Fy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XE(t.startAt,e.startAt)&&XE(t.endAt,e.endAt)}function mg(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WM(t,e,n,r,s,a,l,c){return new xo(t,e,n,r,s,a,l,c)}function Uy(t){return new xo(t)}function ZE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function By(t){return t.collectionGroup!==null}function Ma(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Lt(Kt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(c=c.add(m.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Fu(a,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Fu(Kt.keyField(),r))}return e.Ie}function $r(t){const e=ke(t);return e.Ee||(e.Ee=HM(e,Ma(t))),e.Ee}function HM(t,e){if(t.limitType==="F")return JE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Fu(s.field,a)}));const n=t.endAt?new Ga(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ga(t.startAt.position,t.startAt.inclusive):null;return JE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pg(t,e){const n=t.filters.concat([e]);return new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Td(t,e,n){return new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kd(t,e){return Fy($r(t),$r(e))&&t.limitType===e.limitType}function lA(t){return`${My($r(t))}|lt:${t.limitType}`}function Ia(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>oA(s))).join(", ")}]`),Hd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>qa(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>qa(s))).join(",")),`Target(${r})`})($r(t))}; limitType=${t.limitType})`}function Qd(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of Ma(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,d){const m=YE(l,c,d);return l.inclusive?m<=0:m<0})(r.startAt,Ma(r),s)||r.endAt&&!(function(l,c,d){const m=YE(l,c,d);return l.inclusive?m>=0:m>0})(r.endAt,Ma(r),s))})(t,e)}function qM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uA(t){return(e,n)=>{let r=!1;for(const s of Ma(t)){const a=GM(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function GM(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(a,l,c){const d=l.data.field(a),m=c.data.field(a);return d!==null&&m!==null?Ha(d,m):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return GI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new ft(Ee.comparator);function Ci(){return KM}const cA=new ft(Ee.comparator);function uu(...t){let e=cA;for(const n of t)e=e.insert(n.key,n);return e}function hA(t){let e=cA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ho(){return wu()}function dA(){return wu()}function wu(){return new Po((t=>t.toString()),((t,e)=>t.isEqual(e)))}const QM=new ft(Ee.comparator),YM=new Lt(Ee.comparator);function Ue(...t){let e=YM;for(const n of t)e=e.add(n);return e}const XM=new Lt(Fe);function JM(){return XM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function fA(t){return{integerValue:""+t}}function ZM(t,e){return xM(e)?fA(e):jy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this._=void 0}}function e4(t,e,n){return t instanceof Uu?(function(s,a){const l={fields:{[YI]:{stringValue:QI},[JI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&qd(a)&&(a=Gd(a)),a&&(l.fields[XI]=a),{mapValue:l}})(n,e):t instanceof Bu?pA(t,e):t instanceof ju?gA(t,e):(function(s,a){const l=mA(s,a),c=eT(l)+eT(s.Ae);return dg(l)&&dg(s.Ae)?fA(c):jy(s.serializer,c)})(t,e)}function t4(t,e,n){return t instanceof Bu?pA(t,e):t instanceof ju?gA(t,e):n}function mA(t,e){return t instanceof Sd?(function(r){return dg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Uu extends Yd{}class Bu extends Yd{constructor(e){super(),this.elements=e}}function pA(t,e){const n=yA(e);for(const r of t.elements)n.some((s=>Gr(s,r)))||n.push(r);return{arrayValue:{values:n}}}class ju extends Yd{constructor(e){super(),this.elements=e}}function gA(t,e){let n=yA(e);for(const r of t.elements)n=n.filter((s=>!Gr(s,r)));return{arrayValue:{values:n}}}class Sd extends Yd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eT(t){return Et(t.integerValue||t.doubleValue)}function yA(t){return Oy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.field=e,this.transform=n}}function r4(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Bu&&s instanceof Bu||r instanceof ju&&s instanceof ju?Wa(r.elements,s.elements,Gr):r instanceof Sd&&s instanceof Sd?Gr(r.Ae,s.Ae):r instanceof Uu&&s instanceof Uu})(t.transform,e.transform)}class i4{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xd{}function vA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zy(t.key,Yn.none()):new ic(t.key,t.data,Yn.none());{const n=t.data,r=In.empty();let s=new Lt(Kt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Rs(t.key,r,new Vn(s.toArray()),Yn.none())}}function s4(t,e,n){t instanceof ic?(function(s,a,l){const c=s.value.clone(),d=nT(s.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Rs?(function(s,a,l){if(!td(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=nT(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(_A(s)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Eu(t,e,n,r){return t instanceof ic?(function(a,l,c,d){if(!td(a.precondition,l))return c;const m=a.value.clone(),p=rT(a.fieldTransforms,d,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Rs?(function(a,l,c,d){if(!td(a.precondition,l))return c;const m=rT(a.fieldTransforms,d,l),p=l.data;return p.setAll(_A(a)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(t,e,n,r):(function(a,l,c){return td(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function o4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=mA(r.transform,s||null);a!=null&&(n===null&&(n=In.empty()),n.set(r.field,a))}return n||null}function tT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wa(r,s,((a,l)=>r4(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ic extends Xd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rs extends Xd{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _A(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function nT(t,e,n){const r=new Map;qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,t4(l,c,n[s]))}return r}function rT(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,e4(a,l,e))}return r}class zy extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a4 extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&s4(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dA();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const d=vA(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,((n,r)=>tT(n,r)))&&Wa(this.baseMutations,e.baseMutations,((n,r)=>tT(n,r)))}}class $y{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return QM})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new $y(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,$e;function h4(t){switch(t){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function wA(t){if(t===void 0)return Pi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case At.OK:return ne.OK;case At.CANCELLED:return ne.CANCELLED;case At.UNKNOWN:return ne.UNKNOWN;case At.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case At.INTERNAL:return ne.INTERNAL;case At.UNAVAILABLE:return ne.UNAVAILABLE;case At.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case At.NOT_FOUND:return ne.NOT_FOUND;case At.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case At.ABORTED:return ne.ABORTED;case At.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case At.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:t})}}($e=At||(At={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new ds([4294967295,4294967295],0);function iT(t){const e=d4().encode(t),n=new OI;return n.update(e),new Uint8Array(n.digest())}function sT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ds([n,r],0),new ds([s,a],0)]}class Wy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(r<0)throw new cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ds.fromNumber(r)));return s.compare(f4)===1&&(s=new ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iT(e),[r,s]=sT(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Wy(a,s,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=iT(e),[r,s]=sT(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,sc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jd(be.min(),s,new ft(Fe),Ci(),Ue())}}class sc{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sc(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class EA{constructor(e,n){this.targetId=e,this.Ce=n}}class TA{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class oT{constructor(){this.ve=0,this.Fe=aT(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe(38017,{changeType:a})}})),new sc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=aT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class m4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ci(),this.Je=Oh(),this.He=Oh(),this.Ye=new ft(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(mg(a))if(r===0){const l=new Ee(a.path);this.et(n,l,nn.newNoDocument(l,be.min()))}else qe(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=_s(r).toUint8Array()}catch(d){if(d instanceof KI)return $a("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Wy(l,s,a)}catch(d){return $a(d instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&mg(c.target)){const d=new Ee(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,nn.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Ue();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new Jd(e,n,this.Ye,this.je,r);return this.je=Ci(),this.Je=Oh(),this.He=Oh(),this.Ye=new ft(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Oh(){return new ft(Ee.comparator)}function aT(){return new ft(Ee.comparator)}const p4={asc:"ASCENDING",desc:"DESCENDING"},g4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y4={and:"AND",or:"OR"};class v4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gg(t,e){return t.useProto3Json||Hd(e)?e:{value:e}}function Id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _4(t,e){return Id(t,e.toTimestamp())}function Wr(t){return qe(!!t,49232),be.fromTimestamp((function(n){const r=vs(n);return new Ze(r.seconds,r.nanos)})(t))}function Hy(t,e){return yg(t,e).canonicalString()}function yg(t,e){const n=(function(s){return new Qe(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function IA(t){const e=Qe.fromString(t);return qe(RA(e),10190,{key:e.toString()}),e}function vg(t,e){return Hy(t.databaseId,e.path)}function yp(t,e){const n=IA(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(xA(n))}function AA(t,e){return Hy(t.databaseId,e)}function w4(t){const e=IA(t);return e.length===4?Qe.emptyPath():xA(e)}function _g(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xA(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lT(t,e,n){return{name:vg(t,e),fields:n.value.mapValue.fields}}function E4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,p){return m.useProto3Json?(qe(p===void 0||typeof p=="string",58123),Qt.fromBase64String(p||"")):(qe(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Qt.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(m){const p=m.code===void 0?ne.UNKNOWN:wA(m.code);return new fe(p,m.message||"")})(l);n=new TA(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=yp(t,r.document.name),a=Wr(r.document.updateTime),l=r.document.createTime?Wr(r.document.createTime):be.min(),c=new In({mapValue:{fields:r.document.fields}}),d=nn.newFoundDocument(s,a,l,c),m=r.targetIds||[],p=r.removedTargetIds||[];n=new nd(m,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=yp(t,r.document),a=r.readTime?Wr(r.readTime):be.min(),l=nn.newNoDocument(s,a),c=r.removedTargetIds||[];n=new nd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=yp(t,r.document),a=r.removedTargetIds||[];n=new nd([],a,s,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new c4(s,a),c=r.targetId;n=new EA(c,l)}}return n}function T4(t,e){let n;if(e instanceof ic)n={update:lT(t,e.key,e.value)};else if(e instanceof zy)n={delete:vg(t,e.key)};else if(e instanceof Rs)n={update:lT(t,e.key,e.data),updateMask:k4(e.fieldMask)};else{if(!(e instanceof a4))return xe(16599,{Vt:e.type});n={verify:vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof Uu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Bu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ju)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Sd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw xe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:_4(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)})(t,e.precondition)),n}function S4(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?Wr(s.updateTime):Wr(a);return l.isEqual(be.min())&&(l=Wr(a)),new i4(l,s.transformResults||[])})(n,e)))):[]}function I4(t,e){return{documents:[AA(t,e.path)]}}function A4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AA(t,s);const a=(function(m){if(m.length!==0)return CA(_r.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((p=>(function(E){return{field:Aa(E.field),direction:C4(E.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=gg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:s}}function x4(t){let e=w4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qe(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(w){const E=PA(w);return E instanceof _r&&iA(E)?E.getFilters():[E]})(n.where));let l=[];n.orderBy&&(l=(function(w){return w.map((E=>(function(x){return new Fu(xa(x.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(E)))})(n.orderBy));let c=null;n.limit&&(c=(function(w){let E;return E=typeof w=="object"?w.value:w,Hd(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(w){const E=!!w.before,I=w.values||[];return new Ga(I,E)})(n.startAt));let m=null;return n.endAt&&(m=(function(w){const E=!w.before,I=w.values||[];return new Ga(I,E)})(n.endAt)),WM(e,s,l,a,c,"F",d,m)}function P4(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xa(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xa(n.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=xa(n.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=xa(n.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pt.create(xa(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return _r.create(n.compositeFilter.filters.map((r=>PA(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function C4(t){return p4[t]}function R4(t){return g4[t]}function b4(t){return y4[t]}function Aa(t){return{fieldPath:t.canonicalString()}}function xa(t){return Kt.fromServerFormat(t.fieldPath)}function CA(t){return t instanceof Pt?(function(n){if(n.op==="=="){if(QE(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NAN"}};if(KE(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QE(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NAN"}};if(KE(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(n.field),op:R4(n.op),value:n.value}}})(t):t instanceof _r?(function(n){const r=n.getFilters().map((s=>CA(s)));return r.length===1?r[0]:{compositeFilter:{op:b4(n.op),filters:r}}})(t):xe(54877,{filter:t})}function k4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function RA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,r,s,a=be.min(),l=be.min(),c=Qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.yt=e}}function D4(t){const e=x4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Td(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.Cn=new L4}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(ys.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class L4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Lt(Qe.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bA=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(bA,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ka(0)}static cr(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LruGarbageCollector",O4=1048576;function hT([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class M4{constructor(e){this.Ir=e,this.buffer=new Lt(hT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(cT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sl(n)?ge(cT,"Ignoring IndexedDB error during garbage collection: ",n):await il(n)}await this.Vr(3e5)}))}}class U4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Wd.ce);const r=new M4(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(uT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,c,d,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,l=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(r=w,c=Date.now(),this.removeTargets(e,r,n)))).next((w=>(a=w,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(m=Date.now(),Sa()<=Me.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${w} documents in `+(m-d)+`ms
Total Duration: ${m-p}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w}))))}}function B4(t,e){return new U4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.changes=new Po((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Eu(r.mutation,s,Vn.empty(),Ze.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const s=ho();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=uu();return a.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=ho();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,s){let a=Ci();const l=wu(),c=(function(){return wu()})();return n.forEach(((d,m)=>{const p=r.get(m.key);s.has(m.key)&&(p===void 0||p.mutation instanceof Rs)?a=a.insert(m.key,m):p!==void 0?(l.set(m.key,p.mutation.getFieldMask()),Eu(p.mutation,m,p.mutation.getFieldMask(),Ze.now())):l.set(m.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((m,p)=>l.set(m,p))),n.forEach(((m,p)=>c.set(m,new z4(p,l.get(m)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=wu();let s=new ft(((l,c)=>l-c)),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let p=r.get(d)||Vn.empty();p=c.applyToLocalView(m,p),r.set(d,p);const w=(s.get(c.batchId)||Ue()).add(d);s=s.insert(c.batchId,w)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),m=d.key,p=d.value,w=dA();p.forEach((E=>{if(!a.has(E)){const I=vA(n.get(E),r.get(E));I!==null&&w.set(E,I),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,w))}return oe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):By(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):oe.resolve(ho());let c=Vu,d=a;return l.next((m=>oe.forEach(m,((p,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),a.get(p)?oe.resolve():this.remoteDocumentCache.getEntry(e,p).next((E=>{d=d.insert(p,E)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,d,m,Ue()))).next((p=>({batchId:c,changes:hA(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((r=>{let s=uu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=uu();return this.indexManager.getCollectionParents(e,a).next((c=>oe.forEach(c,(d=>{const m=(function(w,E){return new xo(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((p=>{p.forEach(((w,E)=>{l=l.insert(w,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((d,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,nn.newInvalidDocument(p)))}));let c=uu();return l.forEach(((d,m)=>{const p=a.get(d);p!==void 0&&Eu(p.mutation,m,Vn.empty(),Ze.now()),Qd(n,m)&&(c=c.insert(d,m))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Wr(s.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:D4(s.bundledQuery),readTime:Wr(s.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.overlays=new ft(Ee.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ho();return oe.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.St(e,n,a)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const s=ho(),a=n.length+1,l=new Ee(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ft(((m,p)=>m-p));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let p=a.get(m.largestBatchId);p===null&&(p=ho(),a=a.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const c=ho(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,p)=>c.set(m,p))),!(c.size()>=s)););return oe.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new u4(n,r));let a=this.qr.get(n);a===void 0&&(a=Ue(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.Qr=new Lt(jt.$r),this.Ur=new Lt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ee(new Qe([])),r=new jt(n,e),s=new jt(n,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new Qe([])),r=new jt(n,e),s=new jt(n,e+1);let a=Ue();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new jt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(jt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new l4(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new jt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Ly:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),s=new jt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const c=this.Xr(l.Yr);a.push(c)})),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Fe);return n.forEach((s=>{const a=new jt(s,0),l=new jt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const l=new jt(new Ee(a),0);let c=new Lt(Fe);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(c=c.add(d.Yr)),!0)}),l),oe.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(s=>{const a=new jt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new jt(n,0),s=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.ri=e,this.docs=(function(){return new ft(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():nn.newInvalidDocument(s))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Ci();const l=n.path,c=new Ee(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:m,value:{document:p}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||TM(EM(p),r)<=0||(s.has(p.key)||Qd(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,n,r,s){xe(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Q4(this)}getSize(e){return oe.resolve(this.size)}}class Q4 extends j4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.persistence=e,this.si=new Po((n=>My(n)),Fy),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new qy,this.targetCount=0,this.ai=Ka.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ka(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),oe.waitFor(a).next((()=>s))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),oe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Wd(0),this.li=!1,this.li=!0,this.hi=new q4,this.referenceDelegate=e(this),this.Pi=new Y4(this),this.indexManager=new V4,this.remoteDocumentCache=(function(s){return new K4(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new N4(n),this.Ii=new W4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new G4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new X4(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class X4 extends IM{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.Ri=new qy,this.Vi=null}static mi(e){return new Gy(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const s=Ee.fromPath(r);return this.gi(e,s).next((a=>{a||n.removeEntry(s,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ad{constructor(e,n){this.persistence=e,this.pi=new Po((r=>PM(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=B4(this,n)}static mi(e,n){return new Ad(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?oe.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,a.removeEntry(l,be.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zh(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return oe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ue(),s=Ue();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Ky(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CD()?8:AM(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new J4;return this.Ss(e,n,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>a.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Sa()<=Me.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Sa()<=Me.DEBUG&&ge("QueryEngine","Query:",Ia(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Sa()<=Me.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):oe.resolve())}ys(e,n){if(ZE(n))return oe.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Td(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ue(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const m=this.Ds(n,c);return this.Cs(n,m,l,d.readTime)?this.ys(e,Td(n,null,"F")):this.vs(e,m,n,d)}))))})))))}ws(e,n,r,s){return ZE(n)||s.isEqual(be.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?oe.resolve(null):(Sa()<=Me.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ia(n)),this.vs(e,l,n,wM(s,Vu)).next((c=>c)))}))}Ds(e,n){let r=new Lt(uA(e));return n.forEach(((s,a)=>{Qd(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return Sa()<=Me.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ia(n)),this.ps.getDocumentsMatchingQuery(e,n,ys.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LocalStore",e3=3e8;class t3{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ft(Fe),this.xs=new Po((a=>My(a)),Fy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function n3(t,e,n,r){return new t3(t,e,n,r)}async function NA(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let d=Ue();for(const m of s){l.push(m.batchId);for(const p of m.mutations)d=d.add(p.key)}for(const m of a){c.push(m.batchId);for(const p of m.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:c})))}))}))}function r3(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,m,p){const w=m.batch,E=w.keys();let I=oe.resolve();return E.forEach((x=>{I=I.next((()=>p.getEntry(d,x))).next((D=>{const C=m.docVersions.get(x);qe(C!==null,48541),D.version.compareTo(C)<0&&(w.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),p.addEntry(D)))}))})),I.next((()=>c.mutationQueue.removeMutationBatch(d,w)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Ue();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(d=d.add(c.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function DA(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function i3(t,e){const n=ke(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((p,w)=>{const E=s.get(w);if(!E)return;c.push(n.Pi.removeMatchingKeys(a,p.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(a,p.addedDocuments,w))));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,r)),s=s.insert(w,I),(function(D,C,B){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=e3?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(E,I,p)&&c.push(n.Pi.updateTargetData(a,I))}));let d=Ci(),m=Ue();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),c.push(s3(a,l,e.documentUpdates).next((p=>{d=p.ks,m=p.qs}))),!r.isEqual(be.min())){const p=n.Pi.getLastRemoteSnapshotVersion(a).next((w=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(p)}return oe.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,m))).next((()=>d))})).then((a=>(n.Ms=s,a)))}function s3(t,e,n){let r=Ue(),s=Ue();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Ci();return n.forEach(((c,d)=>{const m=a.get(c);d.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(be.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ge(Qy,"Ignoring outdated watch update for ",c,". Current version:",m.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function o3(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ly),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function a3(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((a=>a?(s=a,oe.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new us(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function wg(t,e,n){const r=ke(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!sl(l))throw l;ge(Qy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function dT(t,e,n){const r=ke(t);let s=be.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,m,p){const w=ke(d),E=w.xs.get(p);return E!==void 0?oe.resolve(w.Ms.get(E)):w.Pi.getTargetData(m,p)})(r,l,$r(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:be.min(),n?a:Ue()))).next((c=>(l3(r,qM(e),c),{documents:c,Qs:a})))))}function l3(t,e,n){let r=t.Os.get(e)||be.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class fT{constructor(){this.activeTargetIds=JM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u3{constructor(){this.Mo=new fT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="ConnectivityMonitor";class pT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(mT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(mT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh=null;function Eg(){return Mh===null?Mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mh++,"0x"+Mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="RestConnection",h3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class d3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===_d?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=Eg(),c=this.zo(e,n.toUriEncodedString());ge(vp,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,a);const{host:m}=new URL(c),p=Is(m);return this.Jo(e,c,d,r,p).then((w=>(ge(vp,`Received RPC '${e}' ${l}: `,w),w)),(w=>{throw $a(vp,`RPC '${e}' ${l} failed with error: `,w,"url: ",c,"request:",r),w}))}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,n){const r=h3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class m3 extends d3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=Eg();return new Promise(((c,d)=>{const m=new MI;m.setWithCredentials(!0),m.listenOnce(FI.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Jh.NO_ERROR:const w=m.getResponseJson();ge(en,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),c(w);break;case Jh.TIMEOUT:ge(en,`RPC '${e}' ${l} timed out`),d(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:const E=m.getStatus();if(ge(en,`RPC '${e}' ${l} failed with status:`,E,"response text:",m.getResponseText()),E>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const x=I?.error;if(x&&x.status&&x.message){const D=(function(B){const W=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(W)>=0?W:ne.UNKNOWN})(x.status);d(new fe(D,x.message))}else d(new fe(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ge(en,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(s);ge(en,`RPC '${e}' ${l} sending request:`,s),m.send(n,"POST",p,r,15)}))}T_(e,n,r){const s=Eg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=jI(),c=BI(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=a.join("");ge(en,`Creating RPC '${e}' stream ${s}: ${p}`,d);const w=l.createWebChannel(p,d);this.I_(w);let E=!1,I=!1;const x=new f3({Yo:C=>{I?ge(en,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(E||(ge(en,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),ge(en,`RPC '${e}' stream ${s} sending:`,C),w.send(C))},Zo:()=>w.close()}),D=(C,B,W)=>{C.listen(B,($=>{try{W($)}catch(re){setTimeout((()=>{throw re}),0)}}))};return D(w,lu.EventType.OPEN,(()=>{I||(ge(en,`RPC '${e}' stream ${s} transport opened.`),x.o_())})),D(w,lu.EventType.CLOSE,(()=>{I||(I=!0,ge(en,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(w))})),D(w,lu.EventType.ERROR,(C=>{I||(I=!0,$a(en,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),x.a_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))})),D(w,lu.EventType.MESSAGE,(C=>{if(!I){const B=C.data[0];qe(!!B,16349);const W=B,$=W?.error||W[0]?.error;if($){ge(en,`RPC '${e}' stream ${s} received error:`,$);const re=$.status;let se=(function(P){const b=At[P];if(b!==void 0)return wA(b)})(re),he=$.message;se===void 0&&(se=ne.INTERNAL,he="Unknown error status: "+re+" with message "+$.message),I=!0,x.a_(new fe(se,he)),w.close()}else ge(en,`RPC '${e}' stream ${s} received:`,B),x.u_(B)}})),D(c,UI.STAT_EVENT,(C=>{C.stat===ug.PROXY?ge(en,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===ug.NOPROXY&&ge(en,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function _p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return new v4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="PersistentStream";class LA{constructor(e,n,r,s,a,l,c,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new fe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(gT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(gT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class p3 extends LA{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=E4(this.serializer,e),r=(function(a){if(!("targetChange"in a))return be.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?be.min():l.readTime?Wr(l.readTime):be.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=_g(this.serializer),n.addTarget=(function(a,l){let c;const d=l.target;if(c=mg(d)?{documents:I4(a,d)}:{query:A4(a,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=SA(a,l.resumeToken);const m=gg(a,l.expectedCount);m!==null&&(c.expectedCount=m)}else if(l.snapshotVersion.compareTo(be.min())>0){c.readTime=Id(a,l.snapshotVersion.toTimestamp());const m=gg(a,l.expectedCount);m!==null&&(c.expectedCount=m)}return c})(this.serializer,e);const r=P4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=_g(this.serializer),n.removeTarget=e,this.q_(n)}}class g3 extends LA{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=S4(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=_g(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>T4(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{}class v3 extends y3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,yg(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(ne.UNKNOWN,a.toString())}))}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,yg(n,r),s,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ne.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="RemoteStore";class w3{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Co(this)&&(ge(To,"Restarting streams for network reachability change."),await(async function(d){const m=ke(d);m.Ea.add(4),await oc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await ef(m)})(this))}))})),this.Ra=new _3(r,s)}}async function ef(t){if(Co(t))for(const e of t.da)await e(!0)}async function oc(t){for(const e of t.da)await e(!1)}function OA(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zy(n)?Jy(n):ol(n).O_()&&Xy(n,e))}function Yy(t,e){const n=ke(t),r=ol(n);n.Ia.delete(e),r.O_()&&MA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Co(n)&&n.Ra.set("Unknown"))}function Xy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(t).Y_(e)}function MA(t,e){t.Va.Ue(e),ol(t).Z_(e)}function Jy(t){t.Va=new m4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ol(t).start(),t.Ra.ua()}function Zy(t){return Co(t)&&!ol(t).x_()&&t.Ia.size>0}function Co(t){return ke(t).Ea.size===0}function FA(t){t.Va=void 0}async function E3(t){t.Ra.set("Online")}async function T3(t){t.Ia.forEach(((e,n)=>{Xy(t,e)}))}async function S3(t,e){FA(t),Zy(t)?(t.Ra.ha(e),Jy(t)):t.Ra.set("Unknown")}async function I3(t,e,n){if(t.Ra.set("Online"),e instanceof TA&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){ge(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xd(t,r)}else if(e instanceof nd?t.Va.Ze(e):e instanceof EA?t.Va.st(e):t.Va.tt(e),!n.isEqual(be.min()))try{const r=await DA(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.Ia.get(m);p&&a.Ia.set(m,p.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,m)=>{const p=a.Ia.get(d);if(!p)return;a.Ia.set(d,p.withResumeToken(Qt.EMPTY_BYTE_STRING,p.snapshotVersion)),MA(a,d);const w=new us(p.target,d,m,p.sequenceNumber);Xy(a,w)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ge(To,"Failed to raise snapshot:",r),await xd(t,r)}}async function xd(t,e,n){if(!sl(e))throw e;t.Ea.add(1),await oc(t),t.Ra.set("Offline"),n||(n=()=>DA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(To,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ef(t)}))}function UA(t,e){return e().catch((n=>xd(t,n,e)))}async function tf(t){const e=ke(t),n=Es(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ly;for(;A3(e);)try{const s=await o3(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,x3(e,s)}catch(s){await xd(e,s)}BA(e)&&jA(e)}function A3(t){return Co(t)&&t.Ta.length<10}function x3(t,e){t.Ta.push(e);const n=Es(t);n.O_()&&n.X_&&n.ea(e.mutations)}function BA(t){return Co(t)&&!Es(t).x_()&&t.Ta.length>0}function jA(t){Es(t).start()}async function P3(t){Es(t).ra()}async function C3(t){const e=Es(t);for(const n of t.Ta)e.ea(n.mutations)}async function R3(t,e,n){const r=t.Ta.shift(),s=$y.from(r,e,n);await UA(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await tf(t)}async function b3(t,e){e&&Es(t).X_&&await(async function(r,s){if((function(l){return h4(l)&&l!==ne.ABORTED})(s.code)){const a=r.Ta.shift();Es(r).B_(),await UA(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await tf(r)}})(t,e),BA(t)&&jA(t)}async function yT(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ge(To,"RemoteStore received new credentials");const r=Co(n);n.Ea.add(3),await oc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function k3(t,e){const n=ke(t);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await oc(n),n.Ra.set("Unknown"))}function ol(t){return t.ma||(t.ma=(function(n,r,s){const a=ke(n);return a.sa(),new p3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:E3.bind(null,t),t_:T3.bind(null,t),r_:S3.bind(null,t),H_:I3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Zy(t)?Jy(t):t.Ra.set("Unknown")):(await t.ma.stop(),FA(t))}))),t.ma}function Es(t){return t.fa||(t.fa=(function(n,r,s){const a=ke(n);return a.sa(),new g3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:P3.bind(null,t),r_:b3.bind(null,t),ta:C3.bind(null,t),na:R3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await tf(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(To,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new ev(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tv(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),sl(t))return new fe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static emptySet(e){return new Fa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=uu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.ga=new ft(Ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Qa{constructor(e,n,r,s,a,l,c,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Qa(e,n,Fa.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class D3{constructor(){this.queries=_T(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ke(n),a=s.queries;s.queries=_T(),a.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function _T(){return new Po((t=>lA(t)),Kd)}async function zA(t,e){const n=ke(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new N3,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=tv(l,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&nv(n)}async function $A(t,e){const n=ke(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function V3(t,e){const n=ke(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(s)&&(r=!0);l.wa=s}}r&&nv(n)}function L3(t,e,n){const r=ke(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function nv(t){t.Ca.forEach((e=>{e.next()}))}var Tg,wT;(wT=Tg||(Tg={})).Ma="default",wT.Cache="cache";class WA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.key=e}}class qA{constructor(e){this.key=e}}class O3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=uA(e),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new vT,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,w)=>{const E=s.get(p),I=Qd(this.query,w)?w:null,x=!!E&&this.mutatedKeys.has(E.key),D=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let C=!1;E&&I?E.data.isEqual(I.data)?x!==D&&(r.track({type:3,doc:I}),C=!0):this.su(E,I)||(r.track({type:2,doc:I}),C=!0,(d&&this.eu(I,d)>0||m&&this.eu(I,m)<0)&&(c=!0)):!E&&I?(r.track({type:0,doc:I}),C=!0):E&&!I&&(r.track({type:1,doc:E}),C=!0,(d||m)&&(c=!0)),C&&(I?(l=l.add(I),a=D?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,w)=>(function(I,x){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:C})}};return D(I)-D(x)})(p.type,w.type)||this.eu(p.doc,w.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,m=d!==this.Za;return this.Za=d,l.length!==0||m?{snapshot:new Qa(this.query,e.tu,a,l,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new qA(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new HA(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rv="SyncEngine";class M3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F3{constructor(e){this.key=e,this.hu=!1}}class U3{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Po((c=>lA(c)),Kd),this.Iu=new Map,this.Eu=new Set,this.du=new ft(Ee.comparator),this.Au=new Map,this.Ru=new qy,this.Vu={},this.mu=new Map,this.fu=Ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B3(t,e,n=!0){const r=JA(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await GA(r,e,n,!0),s}async function j3(t,e){const n=JA(t);await GA(n,e,!0,!1)}async function GA(t,e,n,r){const s=await a3(t.localStore,$r(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await z3(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&OA(t.remoteStore,s),c}async function z3(t,e,n,r,s){t.pu=(w,E,I)=>(async function(D,C,B,W){let $=C.view.ru(B);$.Cs&&($=await dT(D.localStore,C.query,!1).then((({documents:M})=>C.view.ru(M,$))));const re=W&&W.targetChanges.get(C.targetId),se=W&&W.targetMismatches.get(C.targetId)!=null,he=C.view.applyChanges($,D.isPrimaryClient,re,se);return TT(D,C.targetId,he.au),he.snapshot})(t,w,E,I);const a=await dT(t.localStore,e,!0),l=new O3(e,a.Qs),c=l.ru(a.documents),d=sc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),m=l.applyChanges(c,t.isPrimaryClient,d);TT(t,n,m.au);const p=new M3(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function $3(t,e,n){const r=ke(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Kd(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await wg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Yy(r.remoteStore,s.targetId),Sg(r,s.targetId)})).catch(il)):(Sg(r,s.targetId),await wg(r.localStore,s.targetId,!0))}async function W3(t,e){const n=ke(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yy(n.remoteStore,r.targetId))}async function H3(t,e,n){const r=J3(t);try{const s=await(function(l,c){const d=ke(l),m=Ze.now(),p=c.reduce(((I,x)=>I.add(x.key)),Ue());let w,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let x=Ci(),D=Ue();return d.Ns.getEntries(I,p).next((C=>{x=C,x.forEach(((B,W)=>{W.isValidDocument()||(D=D.add(B))}))})).next((()=>d.localDocuments.getOverlayedDocuments(I,x))).next((C=>{w=C;const B=[];for(const W of c){const $=o4(W,w.get(W.key).overlayedDocument);$!=null&&B.push(new Rs(W.key,$,tA($.value.mapValue),Yn.exists(!0)))}return d.mutationQueue.addMutationBatch(I,m,B,c)})).next((C=>{E=C;const B=C.applyToLocalDocumentSet(w,D);return d.documentOverlayCache.saveOverlays(I,C.batchId,B)}))})).then((()=>({batchId:E.batchId,changes:hA(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,d){let m=l.Vu[l.currentUser.toKey()];m||(m=new ft(Fe)),m=m.insert(c,d),l.Vu[l.currentUser.toKey()]=m})(r,s.batchId,n),await ac(r,s.changes),await tf(r.remoteStore)}catch(s){const a=tv(s,"Failed to persist write");n.reject(a)}}async function KA(t,e){const n=ke(t);try{const r=await i3(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?qe(l.hu,14607):s.removedDocuments.size>0&&(qe(l.hu,42227),l.hu=!1))})),await ac(n,r,e)}catch(r){await il(r)}}function ET(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const d=ke(l);d.onlineState=c;let m=!1;d.queries.forEach(((p,w)=>{for(const E of w.Sa)E.va(c)&&(m=!0)})),m&&nv(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q3(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new ft(Ee.comparator);l=l.insert(a,nn.newNoDocument(a,be.min()));const c=Ue().add(a),d=new Jd(be.min(),new Map,new ft(Fe),l,c);await KA(r,d),r.du=r.du.remove(a),r.Au.delete(e),iv(r)}else await wg(r.localStore,e,!1).then((()=>Sg(r,e,n))).catch(il)}async function G3(t,e){const n=ke(t),r=e.batch.batchId;try{const s=await r3(n.localStore,e);YA(n,r,null),QA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ac(n,s)}catch(s){await il(s)}}async function K3(t,e,n){const r=ke(t);try{const s=await(function(l,c){const d=ke(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return d.mutationQueue.lookupMutationBatch(m,c).next((w=>(qe(w!==null,37113),p=w.keys(),d.mutationQueue.removeMutationBatch(m,w)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,p,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>d.localDocuments.getDocuments(m,p)))}))})(r.localStore,e);YA(r,e,n),QA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ac(r,s)}catch(s){await il(s)}}function QA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function YA(t,e,n){const r=ke(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Sg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||XA(t,r)}))}function XA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Yy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),iv(t))}function TT(t,e,n){for(const r of n)r instanceof HA?(t.Ru.addReference(r.key,e),Q3(t,r)):r instanceof qA?(ge(rv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||XA(t,r.key)):xe(19791,{wu:r})}function Q3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(rv,"New document in limbo: "+n),t.Eu.add(r),iv(t))}function iv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(Qe.fromString(e)),r=t.fu.next();t.Au.set(r,new F3(n)),t.du=t.du.insert(n,r),OA(t.remoteStore,new us($r(Uy(n.path)),r,"TargetPurposeLimboResolution",Wd.ce))}}async function ac(t,e,n){const r=ke(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const p=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(m){s.push(m);const p=Ky.As(d.targetId,m);a.push(p)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(d,m){const p=ke(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(m,(E=>oe.forEach(E.Es,(I=>p.persistence.referenceDelegate.addReference(w,E.targetId,I))).next((()=>oe.forEach(E.ds,(I=>p.persistence.referenceDelegate.removeReference(w,E.targetId,I)))))))))}catch(w){if(!sl(w))throw w;ge(Qy,"Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const I=p.Ms.get(E),x=I.snapshotVersion,D=I.withLastLimboFreeSnapshotVersion(x);p.Ms=p.Ms.insert(E,D)}}})(r.localStore,a))}async function Y3(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ge(rv,"User change. New user:",e.toKey());const r=await NA(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new fe(ne.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ac(n,r.Ls)}}function X3(t,e){const n=ke(t),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let s=Ue();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function JA(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q3.bind(null,e),e.Pu.H_=V3.bind(null,e.eventManager),e.Pu.yu=L3.bind(null,e.eventManager),e}function J3(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K3.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return n3(this.persistence,new Z4,e.initialUser,this.serializer)}Cu(e){return new kA(Gy.mi,this.serializer)}Du(e){return new u3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class Z3 extends Pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof Ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new kA((r=>Ad.mi(r,n)),this.serializer)}}class Ig{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ET(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y3.bind(null,this.syncEngine),await k3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new D3})()}createDatastore(e){const n=Zd(e.databaseInfo.databaseId),r=(function(a){return new m3(a)})(e.databaseInfo);return(function(a,l,c,d){return new v3(a,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,c){return new w3(r,s,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>ET(this.syncEngine,n,0)),(function(){return pT.v()?new pT:new c3})())}createSyncEngine(e,n){return(function(s,a,l,c,d,m,p){const w=new U3(s,a,l,c,d,m);return p&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ke(n);ge(To,"RemoteStore shutting down."),r.Ea.add(5),await oc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ig.provider={build:()=>new Ig};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class e6{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=tn.UNAUTHENTICATED,this.clientId=Vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ge(Ts,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ge(Ts,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wp(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Ts,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await NA(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ST(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t6(t);ge(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>yT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>yT(e.remoteStore,s))),t._onlineComponents=e}async function t6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Ts,"Using user provided OfflineComponentProvider");try{await wp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await wp(t,new Pd)}}else ge(Ts,"Using default OfflineComponentProvider"),await wp(t,new Z3(void 0));return t._offlineComponents}async function ex(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Ts,"Using user provided OnlineComponentProvider"),await ST(t,t._uninitializedComponentsProvider._online)):(ge(Ts,"Using default OnlineComponentProvider"),await ST(t,new Ig))),t._onlineComponents}function n6(t){return ex(t).then((e=>e.syncEngine))}async function tx(t){const e=await ex(t),n=e.eventManager;return n.onListen=B3.bind(null,e.syncEngine),n.onUnlisten=$3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W3.bind(null,e.syncEngine),n}function r6(t,e,n={}){const r=new Ei;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,m){const p=new ZA({next:E=>{p.Nu(),l.enqueueAndForget((()=>$A(a,w)));const I=E.docs.has(c);!I&&E.fromCache?m.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&d&&d.source==="server"?m.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new WA(Uy(c.path),p,{includeMetadataChanges:!0,qa:!0});return zA(a,w)})(await tx(t),t.asyncQueue,e,n,r))),r.promise}function i6(t,e,n={}){const r=new Ei;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,m){const p=new ZA({next:E=>{p.Nu(),l.enqueueAndForget((()=>$A(a,w))),E.fromCache&&d.source==="server"?m.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new WA(c,p,{includeMetadataChanges:!0,qa:!0});return zA(a,w)})(await tx(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="firestore.googleapis.com",AT=!0;class xT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rx,this.ssl=AT}else this.host=e.host,this.ssl=e.ssl??AT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O4)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_M("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nx(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uM;switch(r.type){case"firstParty":return new fM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=IT.get(n);r&&(ge("ComponentProvider","Removing Datastore"),IT.delete(n),r.terminate())})(this),Promise.resolve()}}function s6(t,e,n,r={}){t=vr(t,nf);const s=Is(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(vy(`https://${c}`),_y("Firestore",!0)),a.host!==rx&&a.host!==c&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:s,emulatorOptions:r};if(!yo(d,l)&&(t._setSettings(d),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=tn.MOCK_USER;else{m=XS(r.mockUserToken,t._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new tn(w)}t._authCredentials=new cM(new $I(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bi(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(rc(n,Tt._jsonSchema))return new Tt(e,r||null,new Ee(Qe.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Rt("string",Tt._jsonSchemaVersion),referencePath:Rt("string")};class fs extends bi{constructor(e,n,r){super(e,n,Uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Ee(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function fn(t,e,...n){if(t=lt(t),WI("collection","path",e),t instanceof nf){const r=Qe.fromString(e,...n);return BE(r),new fs(t,null,r)}{if(!(t instanceof Tt||t instanceof fs))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return BE(r),new fs(t.firestore,null,r)}}function it(t,e,...n){if(t=lt(t),arguments.length===1&&(e=Vy.newId()),WI("doc","path",e),t instanceof nf){const r=Qe.fromString(e,...n);return UE(r),new Tt(t,null,new Ee(r))}{if(!(t instanceof Tt||t instanceof fs))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return UE(r),new Tt(t.firestore,t instanceof fs?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="AsyncQueue";class CT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VA(this,"async_queue_retry"),this._c=()=>{const r=_p();r&&ge(PT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=_p();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_p();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;ge(PT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",RT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=ev.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&xe(47125,{Pc:RT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ro extends nf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new CT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CT(e),this._firestoreClient=void 0,await e}}}function o6(t,e){const n=typeof t=="object"?t:Ud(),r=typeof t=="string"?t:_d,s=Fd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=KS("firestore");a&&s6(s,...a)}return s}function sv(t){if(t._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||a6(t),t._firestoreClient}function a6(t){const e=t._freezeSettings(),n=(function(s,a,l,c){return new bM(s,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,nx(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new e6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Qt.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rc(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Rt("string",Kn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(e){if(rc(e,Hr._jsonSchema))return new Hr(e.latitude,e.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:Rt("string",Hr._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rc(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qr(e.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:Rt("string",qr._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=/^__.*__$/;class u6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}class ix{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class ov{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ov({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sx(this.Ac)&&l6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class c6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zd(e)}Cc(e,n,r,s=!1){return new ov({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lc(t){const e=t._freezeSettings(),n=Zd(t._databaseId);return new c6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ox(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);lv("Data must be an object, but it was:",l,r);const c=lx(r,l);let d,m;if(a.merge)d=new Vn(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const w of a.mergeFields){const E=Ag(e,w,n);if(!l.contains(E))throw new fe(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);cx(p,E)||p.push(E)}d=new Vn(p),m=l.fieldTransforms.filter((w=>d.covers(w.field)))}else d=null,m=l.fieldTransforms;return new u6(new In(c),d,m)}class of extends sf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}class av extends sf{_toFieldTransform(e){return new n4(e.path,new Uu)}isEqual(e){return e instanceof av}}function h6(t,e,n,r){const s=t.Cc(1,e,n);lv("Data must be an object, but it was:",s,r);const a=[],l=In.empty();Cs(r,((d,m)=>{const p=uv(e,d,n);m=lt(m);const w=s.yc(p);if(m instanceof of)a.push(p);else{const E=uc(m,w);E!=null&&(a.push(p),l.set(p,E))}}));const c=new Vn(a);return new ix(l,c,s.fieldTransforms)}function d6(t,e,n,r,s,a){const l=t.Cc(1,e,n),c=[Ag(e,r,n)],d=[s];if(a.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)c.push(Ag(e,a[E])),d.push(a[E+1]);const m=[],p=In.empty();for(let E=c.length-1;E>=0;--E)if(!cx(m,c[E])){const I=c[E];let x=d[E];x=lt(x);const D=l.yc(I);if(x instanceof of)m.push(I);else{const C=uc(x,D);C!=null&&(m.push(I),p.set(I,C))}}const w=new Vn(m);return new ix(p,w,l.fieldTransforms)}function ax(t,e,n,r=!1){return uc(n,t.Cc(r?4:3,e))}function uc(t,e){if(ux(t=lt(t)))return lv("Unsupported field value:",e,t),lx(t,e);if(t instanceof sf)return(function(r,s){if(!sx(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const c of r){let d=uc(c,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ze.fromDate(r);return{timestampValue:Id(s.serializer,a)}}if(r instanceof Ze){const a=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(s.serializer,a)}}if(r instanceof Hr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:SA(s.serializer,r._byteString)};if(r instanceof Tt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Hy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof qr)return(function(l,c){return{mapValue:{fields:{[ZI]:{stringValue:eA},[wd]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw c.Sc("VectorValues must only contain numeric values.");return jy(c.serializer,m)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${$d(r)}`)})(t,e)}function lx(t,e){const n={};return GI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,((r,s)=>{const a=uc(s,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function ux(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Hr||t instanceof Kn||t instanceof Tt||t instanceof sf||t instanceof qr)}function lv(t,e,n){if(!ux(n)||!HI(n)){const r=$d(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ag(t,e,n){if((e=lt(e))instanceof rf)return e._internalPath;if(typeof e=="string")return uv(t,e);throw Cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const f6=new RegExp("[~\\*/\\[\\]]");function uv(t,e,n){if(e.search(f6)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cd(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new fe(ne.INVALID_ARGUMENT,c+t+d)}function cx(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(af("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m6 extends cv{data(){return super.data()}}function af(t,e){return typeof e=="string"?uv(t,e):e instanceof rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hv{}class lf extends hv{}function zu(t,e,...n){let r=[];e instanceof hv&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((d=>d instanceof dv)).length,c=a.filter((d=>d instanceof uf)).length;if(l>1||l>0&&c>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class uf extends lf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uf(e,n,r)}_apply(e){const n=this._parse(e);return hx(e._query,n),new bi(e.firestore,e.converter,pg(e._query,n))}_parse(e){const n=lc(e.firestore);return(function(a,l,c,d,m,p,w){let E;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){DT(w,p);const x=[];for(const D of w)x.push(NT(d,a,D));E={arrayValue:{values:x}}}else E=NT(d,a,w)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||DT(w,p),E=ax(c,l,w,p==="in"||p==="not-in");return Pt.create(m,p,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xg(t,e,n){const r=e,s=af("where",t);return uf._create(s,r,n)}class dv extends hv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const c=a.getFlattenedFilters();for(const d of c)hx(l,d),l=pg(l,d)})(e._query,n),new bi(e.firestore,e.converter,pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fv extends lf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fv(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fu(a,l)})(e._query,this._field,this._direction);return new bi(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new xo(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function bT(t,e="asc"){const n=e,r=af("orderBy",t);return fv._create(r,n)}class mv extends lf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new mv(e,n,r)}_apply(e){return new bi(e.firestore,e.converter,Td(e._query,this._limit,this._limitType))}}function kT(t){return mv._create("limit",t,"F")}class pv extends lf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new pv(e,n,r)}_apply(e){const n=y6(e,this.type,this._docOrFields,this._inclusive);return new bi(e.firestore,e.converter,(function(s,a){return new xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)})(e._query,n))}}function g6(...t){return pv._create("startAfter",t,!1)}function y6(t,e,n,r){if(n[0]=lt(n[0]),n[0]instanceof cv)return(function(a,l,c,d,m){if(!d)throw new fe(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const w of Ma(a))if(w.field.isKeyField())p.push(Ed(l,d.key));else{const E=d.data.field(w.field);if(qd(E))throw new fe(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const I=w.field.canonicalString();throw new fe(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}p.push(E)}return new Ga(p,m)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=lc(t.firestore);return(function(l,c,d,m,p,w){const E=l.explicitOrderBy;if(p.length>E.length)throw new fe(ne.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let x=0;x<p.length;x++){const D=p[x];if(E[x].field.isKeyField()){if(typeof D!="string")throw new fe(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof D}`);if(!By(l)&&D.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${D}' contains a slash.`);const C=l.path.child(Qe.fromString(D));if(!Ee.isDocumentKey(C))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const B=new Ee(C);I.push(Ed(c,B))}else{const C=ax(d,m,D);I.push(C)}}return new Ga(I,w)})(t._query,t.firestore._databaseId,s,e,n,r)}}function NT(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!By(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!Ee.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ed(t,new Ee(r))}if(n instanceof Tt)return Ed(t,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(n)}.`)}function DT(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hx(t,e){const n=(function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class v6{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cs(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[wd].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new qr(n)}convertGeoPoint(e){return new Hr(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const n=vs(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);qe(RA(r),9688,{name:e});const s=new Ou(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return s.isEqual(n)||Pi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class po extends cv{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(af("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:Rt("string",po._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class rd extends po{data(e={}){return super.data(e)}}class Ua{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new rd(this._firestore,this._userDataWriter,r.key,r,new hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const d=new rd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new hu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new rd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new hu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,p=-1;return c.type!==0&&(m=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:_6(c.type),doc:d,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){t=vr(t,Tt);const e=vr(t.firestore,Ro);return r6(sv(e),t._key).then((n=>w6(e,t,n)))}Ua._jsonSchemaVersion="firestore/querySnapshot/1.0",Ua._jsonSchema={type:Rt("string",Ua._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class fx extends v6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function xn(t){t=vr(t,bi);const e=vr(t.firestore,Ro),n=sv(e),r=new fx(e);return p6(t._query),i6(n,t._query).then((s=>new Ua(e,r,t,s)))}function Pg(t,e,n){t=vr(t,Tt);const r=vr(t.firestore,Ro),s=dx(t.converter,e);return cf(r,[ox(lc(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yn.none())])}function Vr(t,e,n,...r){t=vr(t,Tt);const s=vr(t.firestore,Ro),a=lc(s);let l;return l=typeof(e=lt(e))=="string"||e instanceof rf?d6(a,"updateDoc",t._key,e,n,r):h6(a,"updateDoc",t._key,e),cf(s,[l.toMutation(t._key,Yn.exists(!0))])}function Ba(t){return cf(vr(t.firestore,Ro),[new zy(t._key,Yn.none())])}function mx(t,e){const n=vr(t.firestore,Ro),r=it(t),s=dx(t.converter,e);return cf(n,[ox(lc(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then((()=>r))}function cf(t,e){return(function(r,s){const a=new Ei;return r.asyncQueue.enqueueAndForget((async()=>H3(await n6(r),s,a))),a.promise})(sv(t),e)}function w6(t,e,n){const r=n.docs.get(e._key),s=new fx(t);return new po(t,s,e._key,r,new hu(n.hasPendingWrites,n.fromCache),e.converter)}function So(){return new av("serverTimestamp")}(function(e,n=!0){(function(s){rl=s})(Ao),vo(new gs("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Ro(new hM(r.getProvider("auth-internal")),new mM(l,r.getProvider("app-check-internal")),(function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(m.options.projectId,p)})(l,s),l);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),jr(LE,OE,e),jr(LE,OE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="firebasestorage.googleapis.com",gx="storageBucket",E6=120*1e3,T6=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends Yr{constructor(e,n,r=0){super(Ep(e),`Firebase Storage: ${n} (${Ep(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ep(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function Ep(t){return"storage/"+t}function gv(){const t="An unknown error occurred, please check the error payload for server response.";return new yt(gt.UNKNOWN,t)}function S6(t){return new yt(gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function I6(t){return new yt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function A6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(gt.UNAUTHENTICATED,t)}function x6(){return new yt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function P6(t){return new yt(gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function C6(){return new yt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R6(){return new yt(gt.CANCELED,"User canceled the upload/download.")}function b6(t){return new yt(gt.INVALID_URL,"Invalid URL '"+t+"'.")}function k6(t){return new yt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function N6(){return new yt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gx+"' property when initializing the app?")}function D6(){return new yt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function V6(){return new yt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function L6(t){return new yt(gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cg(t){return new yt(gt.INVALID_ARGUMENT,t)}function yx(){return new yt(gt.APP_DELETED,"The Firebase app was deleted.")}function O6(t){return new yt(gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tu(t,e){return new yt(gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function iu(t){throw new yt(gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ln.makeFromUrl(e,n)}catch{return new Ln(e,"")}if(r.path==="")return r;throw k6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function m(re){re.path_=decodeURIComponent(re.path)}const p="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",I=new RegExp(`^https?://${w}/${p}/b/${s}/o${E}`,"i"),x={bucket:1,path:3},D=n===px?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",B=new RegExp(`^https?://${D}/${s}/${C}`,"i"),$=[{regex:c,indices:d,postModify:a},{regex:I,indices:x,postModify:m},{regex:B,indices:{bucket:1,path:2},postModify:m}];for(let re=0;re<$.length;re++){const se=$[re],he=se.regex.exec(e);if(he){const M=he[se.indices.bucket];let P=he[se.indices.path];P||(P=""),r=new Ln(M,P),se.postModify(r);break}}if(r==null)throw b6(e);return r}}class M6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t,e,n){let r=1,s=null,a=null,l=!1,c=0;function d(){return c===2}let m=!1;function p(...C){m||(m=!0,e.apply(null,C))}function w(C){s=setTimeout(()=>{s=null,t(I,d())},C)}function E(){a&&clearTimeout(a)}function I(C,...B){if(m){E();return}if(C){E(),p.call(null,C,...B);return}if(d()||l){E(),p.call(null,C,...B);return}r<64&&(r*=2);let $;c===1?(c=2,$=0):$=(r+Math.random())*1e3,w($)}let x=!1;function D(C){x||(x=!0,E(),!m&&(s!==null?(C||(c=2),clearTimeout(s),w(0)):C||(c=1)))}return w(0),a=setTimeout(()=>{l=!0,D(!0)},n),D}function U6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t){return t!==void 0}function j6(t){return typeof t=="object"&&!Array.isArray(t)}function yv(t){return typeof t=="string"||t instanceof String}function VT(t){return vv()&&t instanceof Blob}function vv(){return typeof Blob<"u"}function LT(t,e,n,r){if(r<e)throw Cg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Cg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function vx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var go;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(go||(go={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n,r,s,a,l,c,d,m,p,w,E=!0,I=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=p,this.connectionFactory_=w,this.retry=E,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,D)=>{this.resolve_=x,this.reject_=D,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Fh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const d=c.loaded,m=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===go.NO_ERROR,d=a.getStatus();if(!c||z6(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===go.ABORT;r(!1,new Fh(!1,null,p));return}const m=this.successCodes_.indexOf(d)!==-1;r(!0,new Fh(m,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());B6(d)?a(d):a()}catch(d){l(d)}else if(c!==null){const d=gv();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?yx():R6();l(d)}else{const d=C6();l(d)}};this.canceled_?n(!1,new Fh(!1,null,!0)):this.backoffId_=F6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&U6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function W6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function H6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function q6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function G6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function K6(t,e,n,r,s,a,l=!0,c=!1){const d=vx(t.urlParams),m=t.url+d,p=Object.assign({},t.headers);return q6(p,e),W6(p,n),H6(p,a),G6(p,r),new $6(m,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Y6(...t){const e=Q6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(vv())return new Blob(t);throw new yt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function X6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){if(typeof atob>"u")throw L6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tp{constructor(e,n){this.data=e,this.contentType=n||null}}function Z6(t,e){switch(t){case Or.RAW:return new Tp(_x(e));case Or.BASE64:case Or.BASE64URL:return new Tp(wx(t,e));case Or.DATA_URL:return new Tp(tF(e),nF(e))}throw gv()}function _x(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function eF(t){let e;try{e=decodeURIComponent(t)}catch{throw Tu(Or.DATA_URL,"Malformed data URL.")}return _x(e)}function wx(t,e){switch(t){case Or.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Tu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Or.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Tu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=J6(e)}catch(s){throw s.message.includes("polyfill")?s:Tu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Ex{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Tu(Or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=rF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function tF(t){const e=new Ex(t);return e.base64?wx(Or.BASE64,e.rest):eF(e.rest)}function nF(t){return new Ex(t).contentType}function rF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){let r=0,s="";VT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(VT(this.data_)){const r=this.data_,s=X6(r,e,n);return s===null?null:new as(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new as(r,!0)}}static getBlob(...e){if(vv()){const n=e.map(r=>r instanceof as?r.data_:r);return new as(Y6.apply(null,n))}else{const n=e.map(l=>yv(l)?Z6(Or.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[a++]=l[c]}),new as(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){let e;try{e=JSON.parse(t)}catch{return null}return j6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Sx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t,e){return e}class cn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||oF}}let Uh=null;function aF(t){return!yv(t)||t.length<2?t:Sx(t)}function Ix(){if(Uh)return Uh;const t=[];t.push(new cn("bucket")),t.push(new cn("generation")),t.push(new cn("metageneration")),t.push(new cn("name","fullPath",!0));function e(a,l){return aF(l)}const n=new cn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new cn("size");return s.xform=r,t.push(s),t.push(new cn("timeCreated")),t.push(new cn("updated")),t.push(new cn("md5Hash",null,!0)),t.push(new cn("cacheControl",null,!0)),t.push(new cn("contentDisposition",null,!0)),t.push(new cn("contentEncoding",null,!0)),t.push(new cn("contentLanguage",null,!0)),t.push(new cn("contentType",null,!0)),t.push(new cn("metadata","customMetadata",!0)),Uh=t,Uh}function lF(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new Ln(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function uF(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return lF(r,t),r}function Ax(t,e,n){const r=Tx(e);return r===null?null:uF(t,r,n)}function cF(t,e,n,r){const s=Tx(e);if(s===null||!yv(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(m=>{const p=t.bucket,w=t.fullPath,E="/b/"+l(p)+"/o/"+l(w),I=hf(E,n,r),x=vx({alt:"media",token:m});return I+x})[0]}function hF(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class _v{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){if(!t)throw gv()}function dF(t,e){function n(r,s){const a=Ax(t,s,e);return xx(a!==null),a}return n}function fF(t,e){function n(r,s){const a=Ax(t,s,e);return xx(a!==null),cF(a,s,t.host,t._protocol)}return n}function Px(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=x6():s=A6():n.getStatus()===402?s=I6(t.bucket):n.getStatus()===403?s=P6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Cx(t){const e=Px(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=S6(t.path)),a.serverResponse=s.serverResponse,a}return n}function mF(t,e,n){const r=e.fullServerUrl(),s=hf(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new _v(s,a,fF(t,n),l);return c.errorHandler=Cx(e),c}function pF(t,e){const n=e.fullServerUrl(),r=hf(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function l(d,m){}const c=new _v(r,s,l,a);return c.successCodes=[200,204],c.errorHandler=Cx(e),c}function gF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=gF(null,e)),r}function vF(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let $="";for(let re=0;re<2;re++)$=$+Math.random().toString().slice(2);return $}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const m=yF(e,r,s),p=hF(m,n),w="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+m.contentType+`\r
\r
`,E=`\r
--`+d+"--",I=as.getBlob(w,r,E);if(I===null)throw D6();const x={name:m.fullPath},D=hf(a,t.host,t._protocol),C="POST",B=t.maxUploadRetryTime,W=new _v(D,C,dF(t,n),B);return W.urlParams=x,W.headers=l,W.body=I.uploadData(),W.errorHandler=Px(e),W}class _F{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=go.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=go.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=go.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw iu("cannot .send() more than once");if(Is(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw iu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wF extends _F{initXhr(){this.xhr_.responseType="text"}}function wv(){return new wF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Io(e,n)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Sx(this._location.path)}get storage(){return this._service}get parent(){const e=iF(this._location.path);if(e===null)return null;const n=new Ln(this._location.bucket,e);return new Io(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw O6(e)}}function EF(t,e,n){t._throwIfRoot("uploadBytes");const r=vF(t.storage,t._location,Ix(),new as(e,!0),n);return t.storage.makeRequestWithTokens(r,wv).then(s=>({metadata:s,ref:t}))}function TF(t){t._throwIfRoot("getDownloadURL");const e=mF(t.storage,t._location,Ix());return t.storage.makeRequestWithTokens(e,wv).then(n=>{if(n===null)throw V6();return n})}function SF(t){t._throwIfRoot("deleteObject");const e=pF(t.storage,t._location);return t.storage.makeRequestWithTokens(e,wv)}function IF(t,e){const n=sF(t._location.path,e),r=new Ln(t._location.bucket,n);return new Io(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t){return/^[A-Za-z]+:\/\//.test(t)}function xF(t,e){return new Io(t,e)}function Rx(t,e){if(t instanceof Ev){const n=t;if(n._bucket==null)throw N6();const r=new Io(n,n._bucket);return e!=null?Rx(r,e):r}else return e!==void 0?IF(t,e):t}function PF(t,e){if(e&&AF(e)){if(t instanceof Ev)return xF(t,e);throw Cg("To use ref(service, url), the first argument must be a Storage instance.")}else return Rx(t,e)}function OT(t,e){const n=e?.[gx];return n==null?null:Ln.makeFromBucketSpec(n,t)}function CF(t,e,n,r={}){t.host=`${e}:${n}`;const s=Is(e);s&&(vy(`https://${t.host}/b`),_y("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:XS(a,t.app.options.projectId))}class Ev{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=px,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E6,this._maxUploadRetryTime=T6,this._requests=new Set,s!=null?this._bucket=Ln.makeFromBucketSpec(s,this._host):this._bucket=OT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=OT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Io(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new M6(yx());{const l=K6(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const MT="@firebase/storage",FT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="storage";function kx(t,e,n){return t=lt(t),EF(t,e,n)}function Nx(t){return t=lt(t),TF(t)}function Tv(t){return t=lt(t),SF(t)}function $u(t,e){return t=lt(t),PF(t,e)}function RF(t=Ud(),e){t=lt(t);const r=Fd(t,bx).getImmediate({identifier:e}),s=KS("storage");return s&&bF(r,...s),r}function bF(t,e,n,r={}){CF(t,e,n,r)}function kF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ev(n,r,s,e,Ao)}function NF(){vo(new gs(bx,kF,"PUBLIC").setMultipleInstances(!0)),jr(MT,FT,""),jr(MT,FT,"esm2020")}NF();const DF={apiKey:"AIzaSyCcMTrPRrddN84zbsoZZtKQ068wqOYJelY",authDomain:"myamravati-market-17248.firebaseapp.com",projectId:"myamravati-market-17248",storageBucket:"myamravati-market-17248.firebasestorage.app",messagingSenderId:"390266313293",appId:"1:390266313293:web:fe9ecb9eae7bcd05361a04"},Sv=OV().length?Ud():eI(DF),Ct=aM(Sv),Ve=o6(Sv),Wu=RF(Sv);let VF={data:""},LF=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||VF,OF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,MF=/\/\*[^]*?\*\/|  +/g,UT=/\n+/g,ls=(t,e)=>{let n="",r="",s="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+l+";":r+=a[1]=="f"?ls(l,a):a+"{"+ls(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=ls(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ls.p?ls.p(a,l):a+":"+l+";")}return n+(e&&s?e+"{"+s+"}":s)+r},pi={},Dx=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Dx(t[n]);return e}return t},FF=(t,e,n,r,s)=>{let a=Dx(t),l=pi[a]||(pi[a]=(d=>{let m=0,p=11;for(;m<d.length;)p=101*p+d.charCodeAt(m++)>>>0;return"go"+p})(a));if(!pi[l]){let d=a!==t?t:(m=>{let p,w,E=[{}];for(;p=OF.exec(m.replace(MF,""));)p[4]?E.shift():p[3]?(w=p[3].replace(UT," ").trim(),E.unshift(E[0][w]=E[0][w]||{})):E[0][p[1]]=p[2].replace(UT," ").trim();return E[0]})(t);pi[l]=ls(s?{["@keyframes "+l]:d}:d,n?"":"."+l)}let c=n&&pi.g?pi.g:null;return n&&(pi.g=pi[l]),((d,m,p,w)=>{w?m.data=m.data.replace(w,d):m.data.indexOf(d)===-1&&(m.data=p?d+m.data:m.data+d)})(pi[l],e,r,c),l},UF=(t,e,n)=>t.reduce((r,s,a)=>{let l=e[a];if(l&&l.call){let c=l(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=d?"."+d:c&&typeof c=="object"?c.props?"":ls(c,""):c===!1?"":c}return r+s+(l??"")},"");function df(t){let e=this||{},n=t.call?t(e.p):t;return FF(n.unshift?n.raw?UF(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,LF(e.target),e.g,e.o,e.k)}let Vx,Rg,bg;df.bind({g:1});let Ri=df.bind({k:1});function BF(t,e,n,r){ls.p=e,Vx=t,Rg=n,bg=r}function bs(t,e){let n=this||{};return function(){let r=arguments;function s(a,l){let c=Object.assign({},a),d=c.className||s.className;n.p=Object.assign({theme:Rg&&Rg()},c),n.o=/ *go\d+/.test(d),c.className=df.apply(n,r)+(d?" "+d:"");let m=t;return t[0]&&(m=c.as||t,delete c.as),bg&&m[0]&&bg(c),Vx(m,c)}return s}}var jF=t=>typeof t=="function",Rd=(t,e)=>jF(t)?t(e):t,zF=(()=>{let t=0;return()=>(++t).toString()})(),Lx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),$F=20,Iv="default",Ox=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return Ox(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},id=[],Mx={toasts:[],pausedAt:void 0,settings:{toastLimit:$F}},Mr={},Fx=(t,e=Iv)=>{Mr[e]=Ox(Mr[e]||Mx,t),id.forEach(([n,r])=>{n===e&&r(Mr[e])})},Ux=t=>Object.keys(Mr).forEach(e=>Fx(t,e)),WF=t=>Object.keys(Mr).find(e=>Mr[e].toasts.some(n=>n.id===t)),ff=(t=Iv)=>e=>{Fx(e,t)},HF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},qF=(t={},e=Iv)=>{let[n,r]=R.useState(Mr[e]||Mx),s=R.useRef(Mr[e]);R.useEffect(()=>(s.current!==Mr[e]&&r(Mr[e]),id.push([e,r]),()=>{let l=id.findIndex(([c])=>c===e);l>-1&&id.splice(l,1)}),[e]);let a=n.toasts.map(l=>{var c,d,m;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((c=t[l.type])==null?void 0:c.removeDelay)||t?.removeDelay,duration:l.duration||((d=t[l.type])==null?void 0:d.duration)||t?.duration||HF[l.type],style:{...t.style,...(m=t[l.type])==null?void 0:m.style,...l.style}}});return{...n,toasts:a}},GF=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||zF()}),cc=t=>(e,n)=>{let r=GF(e,t,n);return ff(r.toasterId||WF(r.id))({type:2,toast:r}),r.id},st=(t,e)=>cc("blank")(t,e);st.error=cc("error");st.success=cc("success");st.loading=cc("loading");st.custom=cc("custom");st.dismiss=(t,e)=>{let n={type:3,toastId:t};e?ff(e)(n):Ux(n)};st.dismissAll=t=>st.dismiss(void 0,t);st.remove=(t,e)=>{let n={type:4,toastId:t};e?ff(e)(n):Ux(n)};st.removeAll=t=>st.remove(void 0,t);st.promise=(t,e,n)=>{let r=st.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let a=e.success?Rd(e.success,s):void 0;return a?st.success(a,{id:r,...n,...n?.success}):st.dismiss(r),s}).catch(s=>{let a=e.error?Rd(e.error,s):void 0;a?st.error(a,{id:r,...n,...n?.error}):st.dismiss(r)}),t};var KF=1e3,QF=(t,e="default")=>{let{toasts:n,pausedAt:r}=qF(t,e),s=R.useRef(new Map).current,a=R.useCallback((w,E=KF)=>{if(s.has(w))return;let I=setTimeout(()=>{s.delete(w),l({type:4,toastId:w})},E);s.set(w,I)},[]);R.useEffect(()=>{if(r)return;let w=Date.now(),E=n.map(I=>{if(I.duration===1/0)return;let x=(I.duration||0)+I.pauseDuration-(w-I.createdAt);if(x<0){I.visible&&st.dismiss(I.id);return}return setTimeout(()=>st.dismiss(I.id,e),x)});return()=>{E.forEach(I=>I&&clearTimeout(I))}},[n,r,e]);let l=R.useCallback(ff(e),[e]),c=R.useCallback(()=>{l({type:5,time:Date.now()})},[l]),d=R.useCallback((w,E)=>{l({type:1,toast:{id:w,height:E}})},[l]),m=R.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),p=R.useCallback((w,E)=>{let{reverseOrder:I=!1,gutter:x=8,defaultPosition:D}=E||{},C=n.filter($=>($.position||D)===(w.position||D)&&$.height),B=C.findIndex($=>$.id===w.id),W=C.filter(($,re)=>re<B&&$.visible).length;return C.filter($=>$.visible).slice(...I?[W+1]:[0,W]).reduce(($,re)=>$+(re.height||0)+x,0)},[n]);return R.useEffect(()=>{n.forEach(w=>{if(w.dismissed)a(w.id,w.removeDelay);else{let E=s.get(w.id);E&&(clearTimeout(E),s.delete(w.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:d,startPause:c,endPause:m,calculateOffset:p}}},YF=Ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,XF=Ri`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JF=Ri`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ZF=bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${XF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${JF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,eU=Ri`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,tU=bs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${eU} 1s linear infinite;
`,nU=Ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,rU=Ri`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,iU=bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${rU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,sU=bs("div")`
  position: absolute;
`,oU=bs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,aU=Ri`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lU=bs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${aU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,uU=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?R.createElement(lU,null,e):e:n==="blank"?null:R.createElement(oU,null,R.createElement(tU,{...r}),n!=="loading"&&R.createElement(sU,null,n==="error"?R.createElement(ZF,{...r}):R.createElement(iU,{...r})))},cU=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hU=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,dU="0%{opacity:0;} 100%{opacity:1;}",fU="0%{opacity:1;} 100%{opacity:0;}",mU=bs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pU=bs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,gU=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Lx()?[dU,fU]:[cU(n),hU(n)];return{animation:e?`${Ri(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ri(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},yU=R.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?gU(t.position||e||"top-center",t.visible):{opacity:0},a=R.createElement(uU,{toast:t}),l=R.createElement(pU,{...t.ariaProps},Rd(t.message,t));return R.createElement(mU,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:a,message:l}):R.createElement(R.Fragment,null,a,l))});BF(R.createElement);var vU=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let a=R.useCallback(l=>{if(l){let c=()=>{let d=l.getBoundingClientRect().height;r(t,d)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return R.createElement("div",{ref:a,className:e,style:n},s)},_U=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Lx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},wU=df`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Bh=16,Av=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:a,containerStyle:l,containerClassName:c})=>{let{toasts:d,handlers:m}=QF(n,a);return R.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Bh,left:Bh,right:Bh,bottom:Bh,pointerEvents:"none",...l},className:c,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(p=>{let w=p.position||e,E=m.calculateOffset(p,{reverseOrder:t,gutter:r,defaultPosition:e}),I=_U(w,E);return R.createElement(vU,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?wU:"",style:I},p.type==="custom"?Rd(p.message,p):s?s(p):R.createElement(yU,{toast:p,position:w}))}))},Ce=st;function EU(){const[t,e]=R.useState(""),[n,r]=R.useState(""),[s,a]=R.useState(!1),[l,c]=R.useState(""),d=Qr(),m=new Lr,p=new gi,w=async x=>{if(x.preventDefault(),!t||!n){Ce.error(" Please fill all fields");return}a(!0);try{await KL(Ct,t,n),Ce.success(" Logged in successfully!"),d("/dashboard")}catch(D){console.error(D),c("Invalid credentials. Please try again."),Ce.error(" Invalid email or password")}a(!1)},E=async()=>{a(!0);try{await lg(Ct,m),Ce.success(" Logged in with Google!"),d("/dashboard")}catch(x){console.error(x),Ce.error(" Google login failed")}a(!1)},I=async()=>{a(!0);try{await lg(Ct,p),Ce.success(" Logged in with Facebook!"),d("/dashboard")}catch(x){console.error(x),Ce.error(" Facebook login failed")}a(!1)};return y.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4"},y.createElement("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 sm:p-8"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6"},"Welcome Back "),l&&y.createElement("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-2"},l),y.createElement("form",{onSubmit:w,className:"space-y-4"},y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email Address"),y.createElement("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:t,onChange:x=>e(x.target.value),placeholder:"you@example.com",required:!0})),y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),y.createElement("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:n,onChange:x=>r(x.target.value),placeholder:"",required:!0})),y.createElement("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 rounded-lg transition duration-200 disabled:opacity-60"},s?"Logging in...":"Login")),y.createElement("div",{className:"flex items-center my-6"},y.createElement("div",{className:"flex-grow border-t border-gray-300"}),y.createElement("span",{className:"mx-3 text-sm text-gray-500"},"or"),y.createElement("div",{className:"flex-grow border-t border-gray-300"})),y.createElement("div",{className:"flex flex-col space-y-3"},y.createElement("button",{onClick:E,className:"flex items-center justify-center w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition"},y.createElement("img",{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"),y.createElement("button",{onClick:I,className:"flex items-center justify-center w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition"},y.createElement("img",{src:"https://www.svgrepo.com/show/303145/facebook-icon-logo.svg",alt:"Facebook",className:"w-5 h-5 mr-2"}),"Continue with Facebook")),y.createElement("p",{className:"mt-6 text-sm text-gray-600 text-center"},"Dont have an account?"," ",y.createElement(ht,{to:"/signup",className:"text-blue-600 hover:underline font-medium"},"Sign up"))))}function TU(){const[t,e]=R.useState(""),[n,r]=R.useState(""),[s,a]=R.useState(""),[l,c]=R.useState(!1),d=Qr(),m=new Lr,p=async E=>{E.preventDefault(),a(""),c(!0);try{const x=(await GL(Ct,t,n)).user;await Pg(it(Ve,"users",x.uid),{email:x.email,role:"customer",createdAt:So()}),Ce.success(" Signup successful!"),d("/dashboard")}catch(I){console.error(" Signup error:",I),a(I.message),Ce.error(" Signup failed! "+I.message)}finally{c(!1)}},w=async()=>{a(""),c(!0);try{const I=(await lg(Ct,m)).user,x=it(Ve,"users",I.uid);(await bo(x)).exists()||await Pg(x,{email:I.email,name:I.displayName,photoURL:I.photoURL,role:"customer",createdAt:So()}),Ce.success(" Signed in with Google!"),d("/dashboard")}catch(E){console.error(" Google signup error:",E),a(E.message),Ce.error("Google sign-in failed: "+E.message)}finally{c(!1)}};return y.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4"},y.createElement("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 sm:p-8"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6"},"Create an Account "),s&&y.createElement("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-2"},s),y.createElement("form",{onSubmit:p,className:"space-y-4"},y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email Address"),y.createElement("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:t,onChange:E=>e(E.target.value),placeholder:"you@example.com",required:!0})),y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),y.createElement("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:n,onChange:E=>r(E.target.value),placeholder:"",required:!0})),y.createElement("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 rounded-lg transition duration-200 disabled:opacity-60"},l?"Signing up...":"Sign Up")),y.createElement("div",{className:"flex items-center my-4"},y.createElement("div",{className:"flex-grow h-px bg-gray-200"}),y.createElement("span",{className:"text-gray-500 text-sm mx-3"},"OR"),y.createElement("div",{className:"flex-grow h-px bg-gray-200"})),y.createElement("button",{onClick:w,disabled:l,className:"w-full border border-gray-300 flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-50 transition disabled:opacity-60"},y.createElement("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),y.createElement("span",{className:"text-gray-700 font-medium text-sm"},"Continue with Google")),y.createElement("p",{className:"mt-4 text-sm text-gray-600 text-center"},"Already have an account?"," ",y.createElement(ht,{to:"/login",className:"text-blue-600 hover:underline font-medium"},"Login"))))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function SU(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{m(r.next(p))}catch(w){l(w)}}function d(p){try{m(r.throw(p))}catch(w){l(w)}}function m(p){p.done?a(p.value):s(p.value).then(c,d)}m((r=r.apply(t,[])).next())})}function IU(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(m){return function(p){return d([m,p])}}function d(m){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(p){m=[6,p],s=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Na=function(){return Na=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Na.apply(this,arguments)},Bx=function(t){return{loading:t==null,value:t}},AU=function(){return function(t,e){switch(e.type){case"error":return Na(Na({},t),{error:e.error,loading:!1,value:void 0});case"reset":return Bx(e.defaultValue);case"value":return Na(Na({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},xU=(function(t){var e=t?t():void 0,n=R.useReducer(AU(),Bx(e)),r=n[0],s=n[1],a=R.useCallback(function(){var d=t?t():void 0;s({type:"reset",defaultValue:d})},[t]),l=R.useCallback(function(d){s({type:"error",error:d})},[]),c=R.useCallback(function(d){s({type:"value",value:d})},[]);return R.useMemo(function(){return{error:r.error,loading:r.loading,reset:a,setError:l,setValue:c,value:r.value}},[r.error,r.loading,a,l,c,r.value])}),xv=(function(t,e){var n=xU(function(){return t.currentUser}),r=n.error,s=n.loading,a=n.setError,l=n.setValue,c=n.value;return R.useEffect(function(){var d=by(t,function(m){return SU(void 0,void 0,void 0,function(){var p;return IU(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,e.onUserChanged(m)];case 2:return w.sent(),[3,4];case 3:return p=w.sent(),a(p),[3,4];case 4:return l(m),[2]}})})},a);return function(){d()}},[t]),[c,s,r]});function PU(){const[t]=xv(Ct),[e,n]=R.useState([]),[r,s]=R.useState(null),[a,l]=R.useState(!1),c=[{price:49,days:7,label:"49  7 days"},{price:99,days:15,label:"99  15 days"},{price:199,days:30,label:"199  30 days"}],d=async()=>{if(t)try{const I=zu(fn(Ve,"products"),xg("userId","==",t.uid)),D=(await xn(I)).docs.map(C=>({id:C.id,...C.data()}));n(D)}catch(I){console.error("Error fetching products:",I),Ce.error(" Failed to load products.")}};R.useEffect(()=>{d()},[t]);const m=async(I,x)=>{if(window.confirm("Are you sure you want to delete this product?"))try{if(x){const D=$u(Wu,x);await Tv(D)}await Ba(it(Ve,"products",I)),n(D=>D.filter(C=>C.id!==I)),Ce.success(" Product deleted successfully!")}catch(D){console.error(" Error deleting product:",D),Ce.error(" Failed to delete product.")}},p=async I=>{try{const x=it(Ve,"products",I);await Vr(x,{featuredRequest:!0,featured:!1}),Ce.success(" Featured request sent! Admin will review."),d()}catch(x){console.error("Error requesting featured:",x),Ce.error(" Failed to request featured.")}},w=I=>{s(I),l(!0)},E=async I=>{if(r){Ce(` Pay ${I.price} at  9322264040-2@ybl
Boost for ${I.days} days.`,{duration:5e3});try{await Vr(it(Ve,"products",r),{isPromoted:!0,promotionPlan:I.label,promotionPrice:I.price,promotionExpiresAt:Ze.fromDate(new Date(Date.now()+I.days*24*60*60*1e3))}),Ce.success(` Promoted for ${I.days} days!`),d(),l(!1),s(null)}catch(x){console.error("Error promoting product:",x),Ce.error(" Failed to promote product.")}}};return y.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},y.createElement("div",{className:"text-center mb-6"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800"}," My Dashboard"),y.createElement("p",{className:"text-gray-600 mt-1"}," ",t?.email),y.createElement("p",{className:"text-gray-600"}," Total uploads: ",e.length)),e.length===0?y.createElement("p",{className:"text-center text-gray-500"},"No products uploaded yet."):y.createElement("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},e.map(I=>y.createElement("div",{key:I.id,className:"bg-white rounded-xl shadow-md hover:shadow-lg transition flex flex-col"},y.createElement("img",{src:I.imageURL,alt:I.productName,className:"h-48 w-full object-cover rounded-t-xl"}),y.createElement("div",{className:"p-4 flex-1 flex flex-col"},y.createElement("h5",{className:"text-lg font-semibold text-gray-800"},I.productName),y.createElement("p",{className:"text-blue-600 font-bold mt-1"},"",I.price),y.createElement("p",{className:"text-sm text-gray-600 mt-1"}," ",I.location),y.createElement("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2"},I.description),I.isPromoted&&I.promotionExpiresAt?.toDate()>new Date?y.createElement("span",{className:"mt-2 inline-block text-xs px-3 py-1 bg-green-100 text-green-700 rounded-lg"}," Promoted till"," ",I.promotionExpiresAt.toDate().toLocaleDateString()," (",I.promotionPlan,")"):y.createElement("span",{className:"mt-2 inline-block text-xs px-3 py-1 bg-gray-100 text-gray-500 rounded-lg"},"Not Promoted"),y.createElement("div",{className:"flex flex-wrap gap-2 mt-4"},y.createElement(ht,{to:`/edit/${I.id}`,className:"flex-1 px-3 py-2 text-sm bg-yellow-400 hover:bg-yellow-500 text-white rounded-lg text-center transition"}," Edit"),y.createElement("button",{onClick:()=>m(I.id,I.imageURL),className:"flex-1 px-3 py-2 text-sm bg-red-500 hover:bg-red-600 text-white rounded-lg transition"}," Delete"),I.featured?y.createElement("span",{className:"flex-1 px-3 py-2 text-sm bg-green-500 text-white rounded-lg text-center"}," Featured"):I.featuredRequest?y.createElement("span",{className:"flex-1 px-3 py-2 text-sm bg-yellow-300 text-gray-800 rounded-lg text-center"}," Pending Approval"):y.createElement("button",{onClick:()=>p(I.id),className:"flex-1 px-3 py-2 text-sm border border-yellow-400 text-yellow-600 hover:bg-yellow-50 rounded-lg transition"}," Request Featured"),y.createElement("button",{onClick:()=>w(I.id),className:"flex-1 px-3 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition"}," Promote")))))),a&&y.createElement("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},y.createElement("div",{className:"bg-white rounded-xl shadow-lg p-6 w-80"},y.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-4"}," Choose Promotion Plan"),y.createElement("div",{className:"space-y-3"},c.map((I,x)=>y.createElement("button",{key:x,onClick:()=>E(I),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition"},I.label))),y.createElement("button",{onClick:()=>l(!1),className:"mt-4 w-full px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg transition"}," Cancel"))))}const CU=async(t,e)=>{const n=[];for(const r of t){const s=`${Date.now()}_${r.name}`,a=$u(Wu,`productImages/${e}/${s}`);try{const l=await kx(a,r),c=await Nx(l.ref);n.push(c)}catch(l){throw console.error("Error uploading image:",l),new Error(`Failed to upload image ${r.name}`)}}return n},RU=()=>{const[t,e]=R.useState({title:"",description:"",price:"",category:"Books & Notes",location:"",sellerPhone:""}),[n,r]=R.useState([]),[s,a]=R.useState([]),[l,c]=R.useState(!1),d=Qr(),m=3;R.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(async x=>{const{latitude:D,longitude:C}=x.coords;try{const W=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${D}&lon=${C}`)).json(),$=W.address?.village||W.address?.city||W.address?.town||"";$&&e(re=>({...re,location:$}))}catch(B){console.warn("Location fetch failed:",B)}},()=>console.warn("Geolocation permission denied."))},[]);const p=x=>{e(D=>({...D,[x.target.name]:x.target.value}))},w=x=>{const D=Array.from(x.target.files);if(s.forEach(URL.revokeObjectURL),D.length>6){Ce.error(" You can upload up to 6 images only."),r([]),a([]);return}r(D),a(D.map(C=>URL.createObjectURL(C)))},E=x=>{URL.revokeObjectURL(s[x]),r(n.filter((D,C)=>C!==x)),a(s.filter((D,C)=>C!==x))},I=async x=>{if(x.preventDefault(),!t.title||!t.description||!t.price){Ce.error(" Please fill all required fields.");return}if(n.length===0){Ce.error(" Please select at least one image.");return}if(!Ct.currentUser){Ce.error(" You must be logged in to add a product.");return}c(!0);try{const D=new Date;D.setHours(0,0,0,0);const C=fn(Ve,"products"),B=zu(C,xg("userId","==",Ct.currentUser.uid),xg("createdAt",">=",D));if((await xn(B)).size>=m){Ce.error(" Daily post limit reached (3 per day)."),c(!1);return}const $=await CU(n,Ct.currentUser.uid);await mx(C,{...t,price:parseFloat(t.price),imageUrls:$,userId:Ct.currentUser.uid,userEmail:Ct.currentUser.email,createdAt:So(),featured:!1,featuredExpires:null}),Ce.success(" Product added successfully!"),s.forEach(URL.revokeObjectURL),setTimeout(()=>d("/dashboard"),1500)}catch(D){console.error("Error adding product:",D),Ce.error(` Failed to add product: ${D.message.includes("upload")?"Image upload failed.":"Please check your network."}`)}finally{c(!1)}};return y.createElement("div",{className:"flex justify-center items-center py-10 px-4 bg-gray-100 min-h-screen"},y.createElement(Av,{position:"top-center",reverseOrder:!1}),y.createElement("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-6 sm:p-8"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center text-gray-800"}," Add New Product"),y.createElement("form",{onSubmit:I,className:"space-y-5"},y.createElement("input",{type:"text",name:"title",value:t.title,onChange:p,placeholder:"Product Name",required:!0,className:"w-full px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.createElement("textarea",{name:"description",value:t.description,onChange:p,placeholder:"Feature Description",required:!0,rows:"4",className:"w-full px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},y.createElement("input",{type:"number",name:"price",value:t.price,onChange:p,placeholder:"Price ()",required:!0,className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.createElement("input",{type:"text",name:"location",value:t.location,onChange:p,placeholder:"Your Village / Local Area",required:!0,className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})),y.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},y.createElement("select",{name:"category",value:t.category,onChange:p,className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"},y.createElement("option",{value:"Books & Notes"}," Books & Notes"),y.createElement("option",{value:"Handmade Items"}," Handmade Items"),y.createElement("option",{value:"Homemade Food"}," Homemade Food"),y.createElement("option",{value:"Second-hand Items"}," Second-hand Items"),y.createElement("option",{value:"New Items"}," New Items"),y.createElement("option",{value:"From Shop"}," From shop")),y.createElement("input",{type:"tel",name:"sellerPhone",value:t.sellerPhone,onChange:p,placeholder:"WhatsApp Number",required:!0,pattern:"[0-9]{10}",className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})),y.createElement("div",null,y.createElement("label",{className:"block text-sm mb-2 font-medium text-gray-700"},"Upload Product Images (Max 6)"),y.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:w,required:n.length===0,className:"w-full px-4 py-2 border rounded-xl shadow-sm text-sm sm:text-base"}),s.length>0&&y.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mt-4"},s.map((x,D)=>y.createElement("div",{key:D,className:"relative group"},y.createElement("img",{src:x,alt:`Preview ${D}`,className:"rounded-xl w-full h-32 object-cover border shadow"}),y.createElement("button",{type:"button",onClick:()=>E(D),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 text-xs opacity-80 hover:opacity-100 transition duration-300","aria-label":"Remove image"},y.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))))),y.createElement("button",{type:"submit",disabled:l,className:`w-full py-3 rounded-xl font-semibold text-white text-base sm:text-lg shadow-md transition ${l?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`},l?" Uploading...":" Add Product"))))};function bU(t){return!t||isNaN(t)?"Price not set":`${Number(t).toLocaleString("en-IN")}`}function kU(t){return t?Array.isArray(t.imageUrls)&&t.imageUrls.length>0?t.imageUrls[0]:t.imageUrl?t.imageUrl:"/placeholder.png":"/placeholder.png"}function NU(t,e=80){return t?t.length>e?t.substring(0,e)+"...":t:""}const DU=({filled:t=!1,size:e=20})=>t?y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"red",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M12 21s-6-4.35-9-8.25S-1 4.5 4.5 3 12 9 12 9s3.75-6 7.5-6 6.75 3 3 9.75S12 21 12 21z"})):y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"red",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M20.8 4.6c-1.8-1.8-4.7-1.8-6.5 0L12 6.9l-2.3-2.3c-1.8-1.8-4.7-1.8-6.5 0s-1.8 4.7 0 6.5L12 21l8.8-8.8c1.7-1.8 1.7-4.7 0-6.5z"})),VU=({size:t=18})=>y.createElement("svg",{width:t,height:t,fill:"gold",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.77 5.82 22 7 14.14l-5-4.87 6-.91L12 2z"})),LU=({product:t,onToggleFavorite:e})=>{const{title:n,price:r,description:s}=t||{},a=kU(t),l=n||"Untitled Product",c=r?bU(r):"Price not set";return NU(s,60),y.createElement(pr.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.35},className:"bg-white rounded-2xl shadow-sm hover:shadow-lg transition p-3 flex flex-col h-full","aria-labelledby":`product-title-${t.id}`},y.createElement("div",{className:"flex items-start justify-between gap-2"},t.promoted&&y.createElement("span",{className:"flex items-center gap-1 text-xs bg-yellow-300 px-2 py-1 rounded-full shadow-sm font-medium"},y.createElement(VU,{size:14}),"Promoted"),y.createElement("button",{onClick:()=>e(t),"aria-label":"toggle favorite",className:"p-2 rounded-lg border hover:bg-gray-50 transition"},y.createElement(DU,{filled:t.isFavorite,size:20}))),y.createElement(ht,{to:`/product/${t.id}`,className:"mt-3 flex-1 flex flex-col"},y.createElement("div",{className:"w-full aspect-[4/3] bg-gray-100 rounded-lg overflow-hidden"},y.createElement("img",{src:a,alt:l,loading:"lazy",className:"w-full h-full object-cover"})),y.createElement("div",{className:"mt-3"},y.createElement("h3",{id:`product-title-${t.id}`,className:"text-sm font-semibold line-clamp-2"},l),y.createElement("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2"},t?.description),y.createElement("div",{className:"mt-2 flex items-center justify-between"},y.createElement("div",{className:"text-sm font-bold"},c),y.createElement("div",{className:"text-xs text-gray-500"},t?.location)),y.createElement("div",{className:"mt-2 flex gap-2 text-xs"},y.createElement("span",{className:"bg-blue-50 px-2 py-1 rounded-full"},t?.category)))),t?.sellerPhone&&y.createElement("a",{href:`tel:${t.sellerPhone}`,className:"mt-2 inline-block w-fit text-xs px-2 py-1 rounded-full border hover:bg-gray-50 transition"},"Call"))},BT=({id:t,locations:e=[],categories:n=[],valueLocation:r="",onChangeLocation:s=()=>{},valueCategory:a="",onChangeCategory:l=()=>{},onClear:c=()=>{}})=>y.createElement("div",{id:t,className:"bg-white rounded-lg p-3 shadow-sm"},y.createElement("div",{className:"mb-4 flex items-center justify-between"},y.createElement("h4",{className:"font-semibold"},"Filters"),y.createElement("button",{className:"text-sm text-blue-600",onClick:c},"Clear")),y.createElement("div",{className:"mb-4"},y.createElement("label",{className:"text-sm font-medium block mb-2"},"Location"),y.createElement("select",{value:r,onChange:d=>s(d.target.value),className:"w-full border rounded-md px-3 py-2 text-sm","aria-label":"Filter by location"},y.createElement("option",{value:""},"All locations"),e.map(d=>y.createElement("option",{key:d,value:d},d)))),y.createElement("div",{className:"mb-4"},y.createElement("label",{className:"text-sm font-medium block mb-2"},"Category"),y.createElement("select",{value:a,onChange:d=>l(d.target.value),className:"w-full border rounded-md px-3 py-2 text-sm","aria-label":"Filter by category"},y.createElement("option",{value:""},"All categories"),n.map(d=>y.createElement("option",{key:d,value:d},d)))),y.createElement("div",{className:"mt-3 text-xs text-gray-500"},"Tip: Use filters to narrow results faster."));function OU(t,e=250){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t(...r),e)}}const MU=()=>y.createElement("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0},y.createElement("path",{d:"M3 5h18M7 12h10M10 19h4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})),Sp=24,FU=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(!1),[s,a]=R.useState(null),[l,c]=R.useState(!0),[d,m]=R.useState(!1),[p,w]=R.useState(""),[E,I]=R.useState(""),[x,D]=R.useState("newest"),[C,B]=R.useState(""),[W,$]=SR();Qr();const re=R.useRef(null),se=R.useCallback(async(L=null)=>{r(!0);try{const k=fn(Ve,"products");let J=zu(k,bT("createdAt","desc"),kT(Sp));L&&(J=zu(k,bT("createdAt","desc"),g6(L),kT(Sp)));const ee=(await xn(J)).docs,Q=ee.map(N=>({id:N.id,...N.data()}));e(N=>L?[...N,...Q]:Q),a(ee.length?ee[ee.length-1]:null),c(ee.length===Sp)}catch(k){console.error("Error fetching products:",k)}finally{r(!1)}},[]);R.useEffect(()=>{const L=W.get("q")||"",k=W.get("loc")||"",J=W.get("cat")||"",K=W.get("sort")||"newest";B(L),w(k),I(J),D(K),se(null)},[]),R.useEffect(()=>{const L={};C&&(L.q=C),p&&(L.loc=p),E&&(L.cat=E),x&&x!=="newest"&&(L.sort=x),$(L,{replace:!0});const k=setTimeout(()=>se(null),250);return()=>clearTimeout(k)},[C,p,E,x]);const he=R.useMemo(()=>OU(L=>{B(L)},300),[]),M=R.useMemo(()=>{const L=(t||[]).filter(k=>{const J=(k.title||"").toLowerCase(),K=(C||"").toLowerCase(),ee=!K||J.includes(K),Q=!p||k.location===p,N=!E||k.category===E;return ee&&Q&&N});return L.sort((k,J)=>k.promoted&&!J.promoted?-1:!k.promoted&&J.promoted?1:k.promoted&&J.promoted?(J.promotedAt?.seconds||0)-(k.promotedAt?.seconds||0):x==="priceLowHigh"?(k.price||0)-(J.price||0):x==="priceHighLow"?(J.price||0)-(k.price||0):(J.createdAt?.seconds||0)-(k.createdAt?.seconds||0)),L},[t,C,p,E,x]),P=async()=>{!l||n||await se(s)};R.useEffect(()=>{if(!re.current)return;const L=new IntersectionObserver(k=>{k[0].isIntersecting&&l&&!n&&P()},{root:null,rootMargin:"400px",threshold:.1});return L.observe(re.current),()=>L.disconnect()},[re.current,l,n,s]);const b=async L=>{const k=Ct.currentUser;if(!k)return window.alert("Please login to save favorites");try{const J=it(Ve,"users",k.uid,"favorites",L.id);(await bo(J)).exists()?(await Ba(J),window.alert("Removed from favorites!")):(await Pg(J,{productId:L.id,title:L.title||"",imageUrl:L.imageUrl||L.imageUrls?.[0]||"",price:L.price||0,description:L.description||"",category:L.category||"",location:L.location||"",sellerPhone:L.sellerPhone||"",createdAt:L.createdAt||So()}),window.alert("Added to favorites!"))}catch(J){console.error("Error saving favorite:",J),window.alert("Something went wrong. Try again.")}},O=R.useMemo(()=>{const L=new Set;return t.forEach(k=>k.location&&L.add(k.location)),L.size===0?["Amravati","Achalpur","Anjangaon Surji","Bhatkuli","Chandur Bazar","Chandur Railway","Chikhaldara","Warud","Dhamangaon Railway","Dharni","Daryapur","Morshi","Nandgaon Khandeshwar","Teosa","Anjangaon"]:Array.from(L).sort()},[t]),U=R.useMemo(()=>{const L=new Set;return t.forEach(k=>k.category&&L.add(k.category)),L.size===0?["Books & Notes","Handmade Items","Homemade Food","Second-hand Items","New Items","From Shop"]:Array.from(L).sort()},[t]);return y.createElement("main",{className:"min-h-screen bg-gray-50 pb-20"},y.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6"},y.createElement("div",{className:"flex items-center gap-3 mb-4"},y.createElement("h1",{className:"text-lg sm:text-2xl font-bold flex-1"}," Explore MyAmravati Market"),y.createElement("button",{"aria-expanded":d,"aria-controls":"filters-panel",onClick:()=>m(!0),className:"inline-flex items-center gap-2 border px-3 py-2 rounded-lg bg-white shadow-sm sm:hidden"},y.createElement(MU,null)," Filters"),y.createElement("div",{className:"hidden sm:flex items-center gap-3"},y.createElement("input",{"aria-label":"Search products",defaultValue:C,onChange:L=>he(L.target.value),placeholder:"Search by title, category or seller...",className:"border rounded-lg px-3 py-2 w-80 text-sm focus:ring focus:ring-blue-300"}),y.createElement("select",{"aria-label":"Sort products",value:x,onChange:L=>D(L.target.value),className:"border rounded-lg px-3 py-2 text-sm"},y.createElement("option",{value:"newest"},"Newest First"),y.createElement("option",{value:"priceLowHigh"},"Price: Low to High"),y.createElement("option",{value:"priceHighLow"},"Price: High to Low")))),y.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6"},y.createElement("aside",{className:"hidden lg:block lg:col-span-1"},y.createElement(BT,{id:"filters-panel",locations:O,categories:U,valueLocation:p,onChangeLocation:w,valueCategory:E,onChangeCategory:I,onClear:()=>{w(""),I(""),B(""),D("newest")}})),y.createElement("section",{className:"lg:col-span-3"},y.createElement("div",{className:"sm:hidden mb-3 flex items-center justify-between gap-3"},y.createElement("input",{"aria-label":"Search products",defaultValue:C,onChange:L=>he(L.target.value),placeholder:"Search by title...",className:"border rounded-lg px-3 py-2 w-full text-sm"})),y.createElement("div",{className:"flex items-center justify-between mb-4"},y.createElement("div",{className:"hidden sm:flex items-center gap-2"},y.createElement("label",{className:"text-xs text-gray-500"},"Sort"),y.createElement("select",{"aria-label":"Sort products",value:x,onChange:L=>D(L.target.value),className:"border rounded-lg px-3 py-2 text-sm"},y.createElement("option",{value:"newest"},"Newest First"),y.createElement("option",{value:"priceLowHigh"},"Price: Low to High"),y.createElement("option",{value:"priceHighLow"},"Price: High to Low")))),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4"},M.length===0&&!n?y.createElement("div",{className:"col-span-full p-6 bg-white rounded-xl shadow text-center"},y.createElement("h2",{className:"font-semibold mb-2"},"No products found"),y.createElement("p",{className:"text-sm text-gray-600"},"Try adjusting filters or clear search.")):M.map((L,k)=>y.createElement(LU,{key:L.id,product:L,onToggleFavorite:()=>b(L)}))),y.createElement("div",{className:"mt-6 flex flex-col items-center gap-3"},n&&y.createElement("div",{className:"text-sm text-gray-500"},"Loading..."),!n&&l&&y.createElement("button",{onClick:P,className:"px-4 py-2 bg-white border rounded-lg shadow-sm"},"Load more"),y.createElement("div",{ref:re,style:{height:1,width:"100%"},"aria-hidden":!0}))))),d&&y.createElement("div",{className:"fixed inset-0 z-40",role:"dialog","aria-modal":"true","aria-labelledby":"filters-panel"},y.createElement("div",{className:"absolute inset-0 bg-black/40",onClick:()=>m(!1)}),y.createElement("div",{className:"absolute right-0 top-0 bottom-0 w-full max-w-sm bg-white p-4 overflow-auto"},y.createElement("div",{className:"flex items-center justify-between mb-4"},y.createElement("h3",{className:"text-lg font-semibold"},"Filters"),y.createElement("button",{onClick:()=>m(!1),"aria-label":"Close filters"},"Close")),y.createElement(BT,{id:"filters-panel-mobile",locations:O,categories:U,valueLocation:p,onChangeLocation:w,valueCategory:E,onChangeCategory:I,onClear:()=>{w(""),I(""),m(!1)}}))))};function UU(){const{id:t}=i1(),e=Qr(),[n,r]=R.useState(!0),[s,a]=R.useState({title:"",description:"",price:"",location:"",category:"",imageUrl:""}),[l,c]=R.useState(null);R.useEffect(()=>{(async()=>{try{const E=it(Ve,"products",t),I=await bo(E);if(I.exists()){const x=I.data();a({title:x.title||"",description:x.description||"",price:x.price||"",location:x.location||"",category:x.category||"",imageUrl:x.imageUrl||""})}else alert("Product not found!"),e("/dashboard")}catch(E){console.error("Error fetching product:",E),alert("Failed to load product"),e("/dashboard")}finally{r(!1)}})()},[t,e]);const d=w=>{const{name:E,value:I}=w.target;a(x=>({...x,[E]:I}))},m=w=>{w.target.files[0]&&c(w.target.files[0])},p=async w=>{w.preventDefault();try{const E=it(Ve,"products",t);let I=s.imageUrl;if(l){if(s.imageUrl){const D=$u(Wu,s.imageUrl);await Tv(D).catch(()=>console.warn("Old image not found"))}const x=$u(Wu,`productImages/${Date.now()}-${l.name}`);await kx(x,l),I=await Nx(x)}await Vr(E,{title:s.title,description:s.description,price:Number(s.price),location:s.location,category:s.category,imageUrl:I,updatedAt:So()}),alert(" Product updated successfully"),e("/dashboard")}catch(E){console.error("Update error:",E),alert(" Failed to update product")}};return y.createElement("div",{className:"container my-4"},y.createElement("h2",{className:"text-xl font-semibold mb-4"}," Edit Product"),n?y.createElement("p",null,"Loading product..."):y.createElement("form",{onSubmit:p,className:"space-y-3"},y.createElement("input",{type:"text",name:"title",value:s.title,onChange:d,placeholder:"Product Title",className:"form-control",required:!0}),y.createElement("textarea",{name:"description",value:s.description,onChange:d,placeholder:"Description",className:"form-control",required:!0}),y.createElement("input",{type:"number",name:"price",value:s.price,onChange:d,placeholder:"Price ",className:"form-control",required:!0}),y.createElement("input",{type:"text",name:"location",value:s.location,onChange:d,placeholder:"Location",className:"form-control",required:!0}),y.createElement("select",{name:"category",value:s.category,onChange:d,className:"form-control",required:!0},y.createElement("option",{value:""},"Select Category"),y.createElement("option",null,"Books & Notes"),y.createElement("option",null,"Handmade Items"),y.createElement("option",null,"Homemade Food"),y.createElement("option",null,"Second-hand Items"),y.createElement("option",null,"New Items"),y.createElement("option",null,"From shop")),y.createElement("label",null,"Change Image (optional):"),y.createElement("input",{type:"file",onChange:m,className:"form-control"}),y.createElement("button",{type:"submit",className:"btn btn-warning"},"Update Product")))}const BU=()=>{const[t]=xv(Ct),[e,n]=R.useState([]);return R.useEffect(()=>{(async()=>{if(t)try{const s=fn(Ve,`users/${t.uid}/favorites`),l=(await xn(s)).docs.map(c=>({id:c.id,...c.data()}));n(l)}catch(s){console.error(" Error fetching favorites:",s)}})()},[t]),y.createElement("div",{className:"container mt-4"},y.createElement("h2",null,"Your Wishlist"),e.length===0?y.createElement("p",null,"No items in wishlist yet."):y.createElement("div",{className:"row"},e.map(r=>y.createElement("div",{className:"col-md-4 mb-4",key:r.id},y.createElement("div",{className:"card"},y.createElement("img",{src:r.image,className:"card-img-top",alt:r.title}),y.createElement("div",{className:"card-body"},y.createElement("h5",{className:"card-title"},r.title),y.createElement("p",{className:"card-text"},"",r.price),y.createElement("p",{className:"card-text"},y.createElement("strong",null,"Category:")," ",r.category),y.createElement("p",{className:"card-text"},y.createElement("strong",null,"Location:")," ",r.location)))))))};var jx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jT=y.createContext&&y.createContext(jx),jU=["attr","size","title"];function zU(t,e){if(t==null)return{};var n=$U(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $U(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bd(){return bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bd.apply(this,arguments)}function zT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(n),!0).forEach(function(r){WU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WU(t,e,n){return e=HU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HU(t){var e=qU(t,"string");return typeof e=="symbol"?e:e+""}function qU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zx(t){return t&&t.map((e,n)=>y.createElement(e.tag,kd({key:n},e.attr),zx(e.child)))}function hc(t){return e=>y.createElement(GU,bd({attr:kd({},t.attr)},e),zx(t.child))}function GU(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=zU(t,jU),c=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),y.createElement("svg",bd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:kd(kd({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&y.createElement("title",null,a),t.children)};return jT!==void 0?y.createElement(jT.Consumer,null,n=>e(n)):e(jx)}function KU(t){return hc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(t)}function QU(t){return hc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function YU(t){return hc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function XU(t){return hc({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function JU(t){return hc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(t)}const ZU=()=>{const{id:t}=i1(),e=Qr(),[n,r]=R.useState(null),[s,a]=R.useState([]),[l,c]=R.useState(!0),[d,m]=R.useState(!0),[p,w]=R.useState(!1),[E,I]=R.useState(null);R.useEffect(()=>{(async()=>{try{const B=it(Ve,"products",t),W=await bo(B);if(W.exists()){const $={id:W.id,...W.data()};r($),$.imageUrls?.length>0?I($.imageUrls[0]):$.imageUrl&&I($.imageUrl)}else st.error("Product not found"),e("/browse")}catch(B){console.error("Error fetching product:",B),st.error("Something went wrong"),e("/browse")}finally{c(!1)}})()},[t,e]),R.useEffect(()=>{n&&(async()=>{if(n?.category){m(!0);try{const B=fn(Ve,"products"),W=zu(B),re=(await xn(W)).docs.map(se=>({id:se.id,...se.data()})).filter(se=>se.id!==t&&se.category===n.category).slice(0,6);a(re)}catch(B){console.error("Error fetching similar products:",B)}finally{m(!1)}}})()},[n,t]);const x=()=>{const C=`${window.location.origin}/product/${t}`;navigator.clipboard.writeText(C),st.success(" Link copied to clipboard!"),w(!1)},D=()=>{if(!Ct.currentUser){st.error(" Please login or signup to contact the seller"),e("/login");return}const B=n.contact||n.sellerPhone;if(!B){st.error(" Seller contact not available");return}const W=`Hi! I'm interested in your product "${n.title}" on MyAmravati Market.`,$=`https://wa.me/91${B}?text=${encodeURIComponent(W)}`;window.open($,"_blank")};return l||!n?y.createElement("div",{className:"p-4 text-center"}," Loading product..."):y.createElement(pr.div,{className:"px-4 py-6 min-h-screen bg-gray-50 max-w-6xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},y.createElement("button",{onClick:()=>e(-1),className:"mb-4 text-blue-600 text-sm hover:underline"}," Back to Browse"),y.createElement("div",{className:"bg-white rounded-2xl shadow p-5 relative grid grid-cols-1 md:grid-cols-2 gap-6"},y.createElement("div",null,E&&y.createElement("img",{src:E,alt:n.title,className:"w-full aspect-square object-contain rounded-xl bg-gray-100"}),y.createElement("div",{className:"flex gap-2 overflow-x-auto sm:grid sm:grid-cols-5 mb-4"},(n.imageUrls?.length>0?n.imageUrls:[n.imageUrl]).filter(Boolean).map((C,B)=>y.createElement("img",{key:B,src:C,alt:`thumb-${B}`,onClick:()=>I(C),className:`w-20 h-20 object-cover rounded-lg cursor-pointer border transition ${E===C?"border-blue-500 shadow":"border-gray-300"}`})))),y.createElement("div",null,y.createElement("div",{className:"absolute top-4 right-4"},y.createElement("button",{onClick:()=>w(!p),className:"bg-white border shadow p-2 rounded-full hover:bg-gray-100"},y.createElement(JU,{size:18})),p&&y.createElement("div",{className:"absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-md z-10"},y.createElement("a",{href:`https://wa.me/?text=${encodeURIComponent(`Check out this product: ${window.location.origin}/product/${t}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm hover:bg-gray-100"},y.createElement(QU,{className:"text-green-600 mr-2"})," WhatsApp"),y.createElement("a",{href:`https://t.me/share/url?url=${encodeURIComponent(`${window.location.origin}/product/${t}`)}&text=${encodeURIComponent("Check out this product!")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm hover:bg-gray-100"},y.createElement(KU,{className:"text-blue-500 mr-2"})," Telegram"),y.createElement("button",{onClick:x,className:"w-full flex items-center px-4 py-2 text-sm hover:bg-gray-100"},y.createElement(YU,{className:"text-gray-700 mr-2"})," Copy Link"))),y.createElement("h1",{className:"text-2xl font-bold mb-3"},n.title),y.createElement("p",{className:"text-gray-700 mb-3"},n.description),y.createElement("div",{className:"text-2xl text-green-600 font-bold mb-4"},"",n.price),y.createElement("div",{className:"flex flex-wrap items-center gap-2 mb-5"},y.createElement("span",{className:"inline-flex items-center gap-1 text-sm px-3 py-1 bg-yellow-100 rounded-full"}," ",n.category),y.createElement("span",{className:"inline-flex items-center gap-1 text-sm px-3 py-1 bg-pink-100 rounded-full"},y.createElement(XU,{className:"text-pink-600"})," ",n.location)),n.contact||n.sellerPhone?y.createElement("div",{className:"fixed bottom-0 left-0 w-full bg-white p-3 border-t md:static md:border-none md:p-0"},y.createElement("button",{onClick:D,className:"w-full bg-green-500 hover:bg-green-600 text-white font-medium py-3 rounded-lg shadow md:py-2"}," Contact Seller via WhatsApp")):y.createElement("p",{className:"text-red-500 text-sm"},"No seller contact info available."))),y.createElement("div",{className:"mt-12"},y.createElement("h3",{className:"text-lg font-semibold mb-4"}," Similar Products"),d?y.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Array.from({length:3}).map((C,B)=>y.createElement("div",{key:B,className:"animate-pulse bg-white p-4 rounded-2xl shadow h-48"}))):s.length>0?y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},s.map(C=>y.createElement(pr.div,{key:C.id,whileHover:{scale:1.02},className:"bg-white rounded-2xl shadow p-3 flex flex-col h-full"},y.createElement(ht,{to:`/product/${C.id}`,className:"block bg-white rounded-2xl shadow p-3 hover:shadow-md transition"},y.createElement("img",{src:C.imageUrls?.[0]||C.imageUrl||"/placeholder.png",alt:C.title,className:"w-full h-32 sm:h-36 object-cover rounded-xl mb-2"}),y.createElement("div",{className:"flex flex-col flex-grow"}),y.createElement("h4",{className:"text-sm font-semibold line-clamp-2"},C.title),y.createElement("p",{className:"text-sm text-green-600 font-bold"},"",C.price),y.createElement("p",{className:"text-xs text-gray-500"}," ",C.location))))):y.createElement("p",{className:"text-sm text-gray-600"},"No similar products found.")))},e5=()=>y.createElement("div",{className:"max-w-4xl mx-auto p-6 text-gray-800"},y.createElement("h1",{className:"text-3xl font-bold mb-4"},"Terms and Conditions"),y.createElement("p",null,"Last updated: July 31, 2025"),y.createElement("p",{className:"mt-4"},"Welcome to ",y.createElement("strong",null,"MyAmravati Market"),". By accessing or using our platform, you agree to comply with and be bound by the following terms and conditions."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"1. Acceptance of Terms"),y.createElement("p",null,"By registering, listing products, or browsing MyAmravati Market, you agree to these Terms. If you do not agree, please do not use the platform."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"2. User Responsibilities"),y.createElement("ul",{className:"list-disc ml-6"},y.createElement("li",null,"You are responsible for the accuracy of the information you provide."),y.createElement("li",null,"You must not post illegal, fake, or misleading products."),y.createElement("li",null,"You must be located in or around Amravati District, Maharashtra.")),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"3. Posting Limits"),y.createElement("p",null,"Users can post up to 3 products per day. We may adjust these limits at our discretion."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"4. Prohibited Content"),y.createElement("p",null,"Users must not post items that are illegal, banned, harmful, or infringe intellectual property rights."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"5. Termination"),y.createElement("p",null,"We reserve the right to remove any listings or ban users who violate these terms without prior notice."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"6. Changes"),y.createElement("p",null,"These Terms may change from time to time. We'll update this page and notify users when major changes occur."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"7. Contact"),y.createElement("p",null,"For any queries, contact us at: ",y.createElement("strong",null,"sanidhyapethe@gmail.com"))),t5=()=>y.createElement("div",{className:"max-w-4xl mx-auto p-6 text-gray-800"},y.createElement("h1",{className:"text-3xl font-bold mb-4"},"Privacy Policy"),y.createElement("p",null,"Last updated: July 31, 2025"),y.createElement("p",{className:"mt-4"},"MyAmravati Market is committed to protecting your privacy. This policy outlines what information we collect and how we use it."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"1. Information We Collect"),y.createElement("ul",{className:"list-disc ml-6"},y.createElement("li",null,"Your name, email, and phone number (if provided)"),y.createElement("li",null,"Product listings, images, and location (if shared)"),y.createElement("li",null,"Technical data like IP address, device info")),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"2. How We Use Your Data"),y.createElement("ul",{className:"list-disc ml-6"},y.createElement("li",null,"To show your listings on the platform"),y.createElement("li",null,"To help other users contact you via WhatsApp"),y.createElement("li",null,"To improve the platform experience")),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"3. Data Sharing"),y.createElement("p",null,"We do not sell your personal data. We only show your data to buyers who view your listing (e.g., phone number on WhatsApp button)."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"4. Cookies"),y.createElement("p",null,"We may use cookies for analytics and improving user experience."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"5. Your Rights"),y.createElement("p",null,"You can request deletion of your data by contacting us."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"6. Contact"),y.createElement("p",null,"For any privacy-related questions, email: ",y.createElement("strong",null,"sanidhyapethe@gmail.com"))),n5=()=>React.createElement("div",{className:"text-center mt-5"},React.createElement("h2",null,"404  Page Not Found"),React.createElement("p",null,"Oops! This page doesn't exist."));/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i5=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),$T=t=>{const e=i5(t);return e.charAt(0).toUpperCase()+e.slice(1)},$x=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),s5=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...c},d)=>R.createElement("svg",{ref:d,...o5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$x("lucide",s),...!a&&!s5(c)&&{"aria-hidden":"true"},...c},[...l.map(([m,p])=>R.createElement(m,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=(t,e)=>{const n=R.forwardRef(({className:r,...s},a)=>R.createElement(a5,{ref:a,iconNode:e,className:$x(`lucide-${r5($T(t))}`,`lucide-${t}`,r),...s}));return n.displayName=$T(t),n};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],u5=ki("clipboard-list",l5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],h5=ki("log-out",c5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],f5=ki("package",d5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],p5=ki("shield",m5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],y5=ki("shopping-bag",g5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],_5=ki("shopping-cart",v5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],E5=ki("store",w5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],S5=ki("user",T5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],A5=ki("users",I5),x5=({activeTab:t,setActiveTab:e})=>{const n=async()=>{await Ct.signOut(),window.location.href="/"};return y.createElement("div",{className:"w-64 bg-white shadow-md p-4 flex flex-col"},y.createElement("h2",{className:"text-2xl font-bold mb-6 text-indigo-600 text-center"},"Admin Panel"),y.createElement("button",{onClick:()=>e("products"),className:`flex items-center p-3 mb-2 rounded-md transition ${t==="products"?"bg-indigo-600 text-white":"hover:bg-gray-100 text-gray-700"}`},y.createElement(y5,{className:"mr-2",size:18})," Products"),y.createElement("button",{onClick:()=>e("users"),className:`flex items-center p-3 mb-2 rounded-md transition ${t==="users"?"bg-indigo-600 text-white":"hover:bg-gray-100 text-gray-700"}`},y.createElement(A5,{className:"mr-2",size:18})," Users"),y.createElement("button",{onClick:()=>e("orders"),className:`flex items-center p-3 mb-2 rounded-md transition ${t==="orders"?"bg-indigo-600 text-white":"hover:bg-gray-100 text-gray-700"}`},y.createElement(u5,{className:"mr-2",size:18})," Orders"),y.createElement("button",{onClick:n,className:"mt-auto flex items-center justify-center bg-red-500 text-white py-2 rounded-md hover:bg-red-600 transition"},y.createElement(h5,{size:16,className:"mr-2"})," Logout"))},WT=()=>{const[t,e]=R.useState([]);R.useEffect(()=>{(async()=>{const s=await xn(fn(Ve,"products"));e(s.docs.map(a=>({id:a.id,...a.data()})))})()},[]);const n=async r=>{window.confirm("Are you sure you want to delete this product?")&&(await Ba(it(Ve,"products",r)),e(t.filter(s=>s.id!==r)))};return y.createElement("div",null,y.createElement("h1",{className:"text-2xl font-bold mb-4"}," All Products"),y.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},t.map(r=>y.createElement("div",{key:r.id,className:"bg-white p-4 rounded-lg shadow hover:shadow-md transition"},r.imageUrl&&y.createElement("img",{src:r.imageUrl,alt:r.title,className:"w-full h-40 object-cover rounded-md mb-3"}),y.createElement("h2",{className:"font-semibold text-lg"},r.title),y.createElement("p",{className:"text-gray-600"},r.category),y.createElement("p",{className:"text-green-600 font-semibold"},"",r.price),y.createElement("button",{onClick:()=>n(r.id),className:"mt-3 bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600"},"Delete")))))},P5=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const c=(await xn(fn(Ve,"users"))).docs.map(d=>({id:d.id,...d.data()}));e(c)}catch(l){console.error("Error loading users:",l)}finally{r(!1)}})()},[]);const s=async(a,l)=>{try{await Vr(it(Ve,"users",a),{role:l}),alert(`User role updated to "${l}" successfully!`),e(c=>c.map(d=>d.id===a?{...d,role:l}:d))}catch(c){console.error("Error updating role:",c),alert("Failed to update role.")}};return n?y.createElement("p",null,"Loading users..."):y.createElement("div",null,y.createElement("h2",{className:"text-2xl font-semibold mb-4"},"Registered Users"),y.createElement("div",{className:"overflow-x-auto"},y.createElement("table",{className:"min-w-full bg-white border rounded-lg shadow-sm"},y.createElement("thead",null,y.createElement("tr",{className:"bg-indigo-100 text-left text-gray-700"},y.createElement("th",{className:"py-2 px-4"},"Name"),y.createElement("th",{className:"py-2 px-4"},"Email"),y.createElement("th",{className:"py-2 px-4"},"Current Role"),y.createElement("th",{className:"py-2 px-4 text-center"},"Actions"))),y.createElement("tbody",null,t.map(a=>y.createElement("tr",{key:a.id,className:"border-t hover:bg-gray-50"},y.createElement("td",{className:"py-2 px-4"},a.name||""),y.createElement("td",{className:"py-2 px-4"},a.email||""),y.createElement("td",{className:"py-2 px-4 capitalize"},a.role||"user"),y.createElement("td",{className:"py-2 px-4 text-center"},y.createElement("div",{className:"flex gap-2 justify-center"},a.role!=="seller"&&y.createElement("button",{onClick:()=>s(a.id,"seller"),className:"flex items-center gap-1 bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 transition"},y.createElement(E5,{size:16})," Make Seller"),a.role!=="admin"&&y.createElement("button",{onClick:()=>s(a.id,"admin"),className:"flex items-center gap-1 bg-indigo-600 text-white px-3 py-1 rounded hover:bg-indigo-700 transition"},y.createElement(p5,{size:16})," Make Admin")))))))))},C5=()=>{const[t,e]=R.useState([]);return R.useEffect(()=>{(async()=>{const r=await xn(fn(Ve,"orders"));e(r.docs.map(s=>({id:s.id,...s.data()})))})()},[]),y.createElement("div",null,y.createElement("h1",{className:"text-2xl font-bold mb-4"}," Orders"),y.createElement("div",{className:"bg-white shadow rounded p-4"},t.length===0?y.createElement("p",{className:"text-gray-600"},"No orders yet."):y.createElement("ul",null,t.map(n=>y.createElement("li",{key:n.id,className:"border-b py-2"},y.createElement("p",null,y.createElement("strong",null,"Buyer:")," ",n.buyerEmail),y.createElement("p",null,y.createElement("strong",null,"Product:")," ",n.productTitle),y.createElement("p",null,y.createElement("strong",null,"Status:")," ",n.status||"Pending"))))))},R5=()=>{const[t,e]=R.useState("products"),[n,r]=R.useState({totalProducts:0,totalUsers:0,totalOrders:0});R.useEffect(()=>{(async()=>{const[l,c,d]=await Promise.all([xn(fn(Ve,"products")),xn(fn(Ve,"users")),xn(fn(Ve,"orders"))]);r({totalProducts:l.size,totalUsers:c.size,totalOrders:d.size})})()},[]);const s=()=>{switch(t){case"products":return y.createElement(WT,null);case"users":return y.createElement(P5,null);case"orders":return y.createElement(C5,null);default:return y.createElement(WT,null)}};return y.createElement("div",{className:"flex h-screen bg-gray-50"},y.createElement(x5,{activeTab:t,setActiveTab:e}),y.createElement("div",{className:"flex-1 p-6 overflow-y-auto"},y.createElement("h1",{className:"text-3xl font-bold mb-6 text-indigo-700"}," MyAmravati Market Admin Dashboard"),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8"},y.createElement("div",{className:"bg-white p-5 rounded-xl shadow hover:shadow-lg transition"},y.createElement("div",{className:"flex items-center"},y.createElement(f5,{className:"text-indigo-600 mr-3",size:26}),y.createElement("div",null,y.createElement("p",{className:"text-sm text-gray-500"},"Total Products"),y.createElement("h2",{className:"text-2xl font-semibold"},n.totalProducts)))),y.createElement("div",{className:"bg-white p-5 rounded-xl shadow hover:shadow-lg transition"},y.createElement("div",{className:"flex items-center"},y.createElement(S5,{className:"text-green-600 mr-3",size:26}),y.createElement("div",null,y.createElement("p",{className:"text-sm text-gray-500"},"Total Users"),y.createElement("h2",{className:"text-2xl font-semibold"},n.totalUsers)))),y.createElement("div",{className:"bg-white p-5 rounded-xl shadow hover:shadow-lg transition"},y.createElement("div",{className:"flex items-center"},y.createElement(_5,{className:"text-pink-600 mr-3",size:26}),y.createElement("div",null,y.createElement("p",{className:"text-sm text-gray-500"},"Total Orders"),y.createElement("h2",{className:"text-2xl font-semibold"},n.totalOrders))))),s()))};function b5(){const[t,e]=R.useState(!0),[n,r]=R.useState(null),[s,a]=R.useState(null),[l,c]=R.useState([]),[d,m]=R.useState([]),[p,w]=R.useState([]),[E,I]=R.useState("products"),[x,D]=R.useState(""),[C,B]=R.useState({id:null,name:"",price:"",days:""}),[W,$]=R.useState(!1);R.useEffect(()=>{const N=by(Ct,async G=>{if(!G){r(null),a(null),e(!1);return}r(G);try{const ie=await bo(it(Ve,"users",G.uid)),j=ie.exists()&&ie.data().role||"user";a(j)}catch(ie){console.error("Failed to fetch user role",ie),a("user")}finally{e(!1)}});return()=>N()},[]),R.useEffect(()=>{s==="admin"&&(re(),se(),he())},[s]);async function re(){try{const N=await xn(fn(Ve,"products"));c(N.docs.map(G=>({id:G.id,...G.data()})))}catch(N){console.error(N),Ce.error("Failed to load products")}}async function se(){try{const N=await xn(fn(Ve,"promotionPlans"));m(N.docs.map(G=>({id:G.id,...G.data()})))}catch(N){console.error(N),Ce.error("Failed to load plans")}}async function he(){try{const N=await xn(fn(Ve,"users"));w(N.docs.map(G=>({id:G.id,...G.data()})))}catch(N){console.error(N),Ce.error("Failed to load users")}}async function M(N){if(confirm("Approve this product for public visibility?"))try{await Vr(it(Ve,"products",N),{approved:!0}),Ce.success("Product approved"),re()}catch(G){console.error(G),Ce.error("Failed to approve")}}async function P(N){if(confirm("Reject (unpublish) this product?"))try{await Vr(it(Ve,"products",N),{approved:!1}),Ce.success("Product unpublished"),re()}catch(G){console.error(G),Ce.error("Failed to unpublish")}}async function b(N){try{if(N.promoted)await Vr(it(Ve,"products",N.id),{promoted:!1,promotedAt:null,promotedUntil:null,promotionPlan:null}),Ce.success("Promotion removed");else{const G=new Date;G.setDate(G.getDate()+7),await Vr(it(Ve,"products",N.id),{promoted:!0,promotedAt:So(),promotedUntil:G,promotionPlan:"admin-boost-7d"}),Ce.success("Promotion enabled (7 days)")}re()}catch(G){console.error(G),Ce.error("Failed to update promotion")}}async function O(N){if(confirm("Delete this product permanently?"))try{if(N.imageUrls?.length)for(const G of N.imageUrls)try{const ie=G.split("/o/");if(ie.length>1){const j=decodeURIComponent(ie[1].split("?")[0]);await Tv($u(Wu,j))}}catch(ie){console.warn("Failed delete image",ie)}await Ba(it(Ve,"products",N.id)),Ce.success("Product deleted"),c(G=>G.filter(ie=>ie.id!==N.id))}catch(G){console.error(G),Ce.error("Failed to delete product")}}function U(N){B({id:N.id,name:N.name,price:N.price,days:N.days}),I("plans"),window.scrollTo({top:0,behavior:"smooth"})}function L(){B({id:null,name:"",price:"",days:""})}async function k(N){if(N.preventDefault(),!C.name||!C.price||!C.days){Ce.error("Fill plan details");return}$(!0);try{C.id?(await Vr(it(Ve,"promotionPlans",C.id),{name:C.name,price:Number(C.price),days:Number(C.days)}),Ce.success("Plan updated")):(await mx(fn(Ve,"promotionPlans"),{name:C.name,price:Number(C.price),days:Number(C.days),createdAt:So()}),Ce.success("Plan created")),L(),se()}catch(G){console.error(G),Ce.error("Failed to save plan")}finally{$(!1)}}async function J(N){if(confirm("Delete this plan?"))try{await Ba(it(Ve,"promotionPlans",N)),Ce.success("Plan deleted"),se()}catch(G){console.error(G),Ce.error("Failed to delete plan")}}async function K(N,G){if(confirm(`Make this user ${G}?`))try{await Vr(it(Ve,"users",N),{role:G}),Ce.success("Role updated"),he()}catch(ie){console.error(ie),Ce.error("Failed to update role")}}async function ee(N){if(confirm("Delete user doc? This will not delete auth user. Proceed?"))try{await Ba(it(Ve,"users",N)),Ce.success("User doc deleted"),he()}catch(G){console.error(G),Ce.error("Failed to delete user")}}const Q={totalProducts:l.length,promoted:l.filter(N=>N.promoted).length,pendingApproval:l.filter(N=>N.approved===!1||N.approved===void 0).length,totalPlans:d.length,totalUsers:p.length};return t?y.createElement("p",{className:"p-4"}," Checking admin access..."):n?s!=="admin"?y.createElement("p",{className:"p-4"}," Access denied. Admins only."):y.createElement(pr.div,{className:"p-6 max-w-6xl mx-auto",initial:{opacity:0},animate:{opacity:1}},y.createElement("div",{className:"flex items-center justify-between mb-6"},y.createElement("div",null,y.createElement("h1",{className:"text-2xl font-bold"}," Admin Dashboard"),y.createElement("p",{className:"text-sm text-gray-600"},"Welcome ",n.email,"  Full Marketplace Management")),y.createElement("div",{className:"flex gap-2"},y.createElement("button",{className:`px-3 py-1 rounded ${E==="products"?"bg-blue-600 text-white":"bg-gray-100"}`,onClick:()=>I("products")},"Products"),y.createElement("button",{className:`px-3 py-1 rounded ${E==="plans"?"bg-blue-600 text-white":"bg-gray-100"}`,onClick:()=>I("plans")},"Plans"),y.createElement("button",{className:`px-3 py-1 rounded ${E==="users"?"bg-blue-600 text-white":"bg-gray-100"}`,onClick:()=>I("users")},"Users"),y.createElement("button",{className:`px-3 py-1 rounded ${E==="analytics"?"bg-blue-600 text-white":"bg-gray-100"}`,onClick:()=>I("analytics")},"Analytics"))),E==="products"&&y.createElement("div",{className:"space-y-4"},y.createElement("div",{className:"flex gap-3"},y.createElement("input",{placeholder:"Search title / location / userEmail...",value:x,onChange:N=>D(N.target.value),className:"flex-1 px-3 py-2 border rounded"}),y.createElement("button",{onClick:()=>re(),className:"px-3 py-2 bg-gray-200 rounded"},"Refresh")),y.createElement("div",{className:"overflow-x-auto bg-white rounded shadow p-3"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",null,y.createElement("tr",{className:"text-left"},y.createElement("th",{className:"p-2"},"Title"),y.createElement("th",{className:"p-2"},"Seller"),y.createElement("th",{className:"p-2"},"Price"),y.createElement("th",{className:"p-2"},"Category"),y.createElement("th",{className:"p-2"},"Promoted"),y.createElement("th",{className:"p-2"},"Approved"),y.createElement("th",{className:"p-2"},"Actions"))),y.createElement("tbody",null,l.filter(N=>{if(!x)return!0;const G=x.toLowerCase();return(N.title||"").toLowerCase().includes(G)||(N.location||"").toLowerCase().includes(G)||(N.userEmail||"").toLowerCase().includes(G)}).map(N=>y.createElement("tr",{key:N.id,className:"border-t"},y.createElement("td",{className:"p-2 max-w-xs"},y.createElement("div",{className:"font-semibold"},N.title),y.createElement("div",{className:"text-xs text-gray-500 truncate"},N.description),y.createElement(ht,{to:`/product/${N.id}`,className:"text-xs text-blue-600"},"View")),y.createElement("td",{className:"p-2"},N.userEmail||"N/A"),y.createElement("td",{className:"p-2"},"",N.price),y.createElement("td",{className:"p-2"},N.category),y.createElement("td",{className:"p-2"},N.promoted?"Yes":"No"),y.createElement("td",{className:"p-2"},N.approved?"Approved":"Pending/Unapproved"),y.createElement("td",{className:"p-2 flex gap-2 flex-wrap"},!N.approved&&y.createElement("button",{onClick:()=>M(N.id),className:"px-2 py-1 bg-green-600 text-white rounded text-xs"},"Approve"),N.approved&&y.createElement("button",{onClick:()=>P(N.id),className:"px-2 py-1 bg-yellow-400 text-black rounded text-xs"},"Unpublish"),y.createElement("button",{onClick:()=>b(N),className:"px-2 py-1 bg-blue-600 text-white rounded text-xs"},N.promoted?"Remove Promo":"Boost (7d)"),y.createElement(ht,{to:`/edit/${N.id}`,className:"px-2 py-1 bg-gray-200 rounded text-xs"},"Edit"),y.createElement("button",{onClick:()=>O(N),className:"px-2 py-1 bg-red-600 text-white rounded text-xs"},"Delete")))),l.length===0&&y.createElement("tr",null,y.createElement("td",{colSpan:"7",className:"p-4 text-center text-gray-500"},"No products found")))))),E==="plans"&&y.createElement("div",{className:"space-y-4"},y.createElement("form",{onSubmit:k,className:"bg-white rounded p-4 shadow grid grid-cols-1 sm:grid-cols-5 gap-3 items-end"},y.createElement("input",{className:"col-span-2 px-3 py-2 border rounded",placeholder:"Plan name (e.g., 7 days)",value:C.name,onChange:N=>B({...C,name:N.target.value})}),y.createElement("input",{className:"px-3 py-2 border rounded",placeholder:"Price ()",value:C.price,onChange:N=>B({...C,price:N.target.value})}),y.createElement("input",{className:"px-3 py-2 border rounded",placeholder:"Days",value:C.days,onChange:N=>B({...C,days:N.target.value})}),y.createElement("div",{className:"flex gap-2"},y.createElement("button",{type:"submit",disabled:W,className:"px-3 py-2 bg-blue-600 text-white rounded"},C.id?"Update":"Create"),y.createElement("button",{type:"button",onClick:L,className:"px-3 py-2 bg-gray-200 rounded"},"Reset"))),y.createElement("div",{className:"bg-white rounded shadow p-3"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",null,y.createElement("tr",null,y.createElement("th",{className:"p-2"},"Name"),y.createElement("th",{className:"p-2"},"Price"),y.createElement("th",{className:"p-2"},"Days"),y.createElement("th",{className:"p-2"},"Actions"))),y.createElement("tbody",null,d.map(N=>y.createElement("tr",{key:N.id,className:"border-t"},y.createElement("td",{className:"p-2"},N.name),y.createElement("td",{className:"p-2"},"",N.price),y.createElement("td",{className:"p-2"},N.days),y.createElement("td",{className:"p-2 flex gap-2"},y.createElement("button",{onClick:()=>U(N),className:"px-2 py-1 bg-yellow-400 rounded text-xs"},"Edit"),y.createElement("button",{onClick:()=>J(N.id),className:"px-2 py-1 bg-red-600 text-white rounded text-xs"},"Delete")))),d.length===0&&y.createElement("tr",null,y.createElement("td",{colSpan:"4",className:"p-4 text-center text-gray-500"},"No plans")))))),E==="users"&&y.createElement("div",{className:"space-y-4"},y.createElement("div",{className:"bg-white rounded shadow p-3"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",null,y.createElement("tr",null,y.createElement("th",{className:"p-2"},"Email"),y.createElement("th",{className:"p-2"},"Role"),y.createElement("th",{className:"p-2"},"Actions"))),y.createElement("tbody",null,p.map(N=>y.createElement("tr",{key:N.id,className:"border-t"},y.createElement("td",{className:"p-2"},N.email),y.createElement("td",{className:"p-2"},N.role||"user"),y.createElement("td",{className:"p-2 flex gap-2"},y.createElement("button",{onClick:()=>K(N.id,"user"),className:"px-2 py-1 bg-gray-200 rounded text-xs"},"Make User"),y.createElement("button",{onClick:()=>K(N.id,"admin"),className:"px-2 py-1 bg-green-600 text-white rounded text-xs"},"Make Admin"),y.createElement("button",{onClick:()=>ee(N.id),className:"px-2 py-1 bg-red-600 text-white rounded text-xs"},"Delete Doc")))),p.length===0&&y.createElement("tr",null,y.createElement("td",{colSpan:"3",className:"p-4 text-center text-gray-500"},"No users")))))),E==="analytics"&&y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},y.createElement("div",{className:"bg-white p-4 rounded shadow"},y.createElement("div",{className:"text-sm text-gray-500"},"Total Users"),y.createElement("div",{className:"text-2xl font-bold"},Q.totalUsers)),y.createElement("div",{className:"bg-white p-4 rounded shadow"},y.createElement("div",{className:"text-sm text-gray-500"},"Total Products"),y.createElement("div",{className:"text-2xl font-bold"},Q.totalProducts)),y.createElement("div",{className:"bg-white p-4 rounded shadow"},y.createElement("div",{className:"text-sm text-gray-500"},"Promoted"),y.createElement("div",{className:"text-2xl font-bold"},Q.promoted)),y.createElement("div",{className:"bg-white p-4 rounded shadow"},y.createElement("div",{className:"text-sm text-gray-500"},"Pending Approval"),y.createElement("div",{className:"text-2xl font-bold"},Q.pendingApproval)),y.createElement("div",{className:"bg-white p-4 rounded shadow"},y.createElement("div",{className:"text-sm text-gray-500"},"Promotion Plans"),y.createElement("div",{className:"text-2xl font-bold"},Q.totalPlans)))):y.createElement("p",{className:"p-4"}," Please login to access Admin page.")}function k5(){const[t,e]=R.useState(null),[n,r]=R.useState(null),[s,a]=R.useState(!1),l=Qr();R.useEffect(()=>{const d=by(Ct,async m=>{if(e(m),m){const p=await bo(it(Ve,"users",m.uid));p.exists()&&r(p.data().role||"user")}else r(null)});return()=>d()},[]);const c=()=>{XL(Ct),l("/")};return y.createElement("nav",{className:"bg-white shadow-md sticky top-0 z-50"},y.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},y.createElement("div",{className:"flex justify-between items-center h-16"},y.createElement(ht,{to:"/",className:"flex items-center gap-2"},y.createElement("img",{src:"/logo192.png",alt:"MyAmravati Logo",className:"h-10 w-10 object-contain"}),y.createElement("span",{className:"text-xl font-bold text-blue-600"},"MyAmravati Market")),y.createElement("button",{className:"sm:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:bg-gray-100",onClick:()=>a(!s)},y.createElement("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}))),y.createElement("div",{className:`${s?"flex":"hidden"} sm:flex flex-col sm:flex-row sm:items-center sm:gap-3 absolute sm:static top-16 left-0 w-full sm:w-auto bg-white sm:bg-transparent shadow sm:shadow-none p-4 sm:p-0`},t?y.createElement(y.Fragment,null,y.createElement(ht,{to:"/dashboard",className:"px-3 py-1 border border-blue-600 text-blue-600 rounded hover:bg-blue-600 hover:text-white text-sm mb-2 sm:mb-0"},"Dashboard"),n==="admin"&&y.createElement(ht,{to:"/admin",className:"px-3 py-1 bg-yellow-400 text-black rounded hover:bg-yellow-500 text-sm mb-2 sm:mb-0"}," Admin"),y.createElement("span",{className:"text-gray-700 text-sm mb-2 sm:mb-0"},t.email),y.createElement("button",{onClick:c,className:"px-3 py-1 border border-red-600 text-red-600 rounded hover:bg-red-600 hover:text-white text-sm mb-2 sm:mb-0"},"Logout"),y.createElement(ht,{to:"/favorites",className:"px-3 py-1 text-gray-600 hover:text-red-500 text-sm"}," Wishlist")):y.createElement(y.Fragment,null,y.createElement(ht,{to:"/login",className:"px-3 py-1 border border-blue-600 text-blue-600 rounded hover:bg-blue-600 hover:text-white text-sm mb-2 sm:mb-0"},"Login"),y.createElement(ht,{to:"/signup",className:"px-3 py-1 border border-green-600 text-green-600 rounded hover:bg-green-600 hover:text-white text-sm"},"Signup"))))))}function jh({children:t}){const[e,n]=xv(Ct);return n?y.createElement("p",null,"Loading..."):e?t:y.createElement(qC,{to:"/login"})}const HT=({children:t})=>{const[e,n]=R.useState(null);return R.useEffect(()=>{(async()=>{const s=Ct.currentUser;if(!s)return n(!1);const a=await bo(it(Ve,"users",s.uid));a.exists()&&a.data().role==="admin"?n(!0):n(!1)})()},[]),e===null?y.createElement("div",{className:"flex h-screen justify-center items-center text-gray-600"},"Checking permissions..."):e?t:y.createElement("div",{className:"flex flex-col items-center justify-center h-screen"},y.createElement("p",{className:"text-2xl text-red-600 mb-2"}," Access Denied"),y.createElement("p",{className:"text-gray-700"},"Admin Only"))};function Wx(t,e,n){return Math.max(t,Math.min(e,n))}class N5{advance(e){if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(r=this.value,s=this.to,a=60*this.lerp,l=e,(function(c,d,m){return(1-m)*c+m*d})(r,s,1-Math.exp(-a*l))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;const c=Wx(0,this.currentTime/this.duration,1);n=c>=1;const d=n?1:this.easing(c);this.value=this.from+(this.to-this.from)*d}var r,s,a,l;this.onUpdate?.(this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(e,n,{lerp:r=.1,duration:s=1,easing:a=(d=>d),onStart:l,onUpdate:c}){this.from=this.value=e,this.to=n,this.lerp=r,this.duration=s,this.easing=a,this.currentTime=0,this.isRunning=!0,l?.(),this.onUpdate=c}}class D5{constructor({wrapper:e,content:n,autoResize:r=!0,debounce:s=250}={}){this.wrapper=e,this.content=n,r&&(this.debouncedResize=(function(a,l){let c;return function(){let d=arguments,m=this;clearTimeout(c),c=setTimeout((function(){a.apply(m,d)}),l)}})(this.resize,s),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class Hx{constructor(){this.events={}}emit(e,...n){let r=this.events[e]||[];for(let s=0,a=r.length;s<a;s++)r[s](...n)}on(e,n){return this.events[e]?.push(n)||(this.events[e]=[n]),()=>{this.events[e]=this.events[e]?.filter((r=>n!==r))}}off(e,n){this.events[e]=this.events[e]?.filter((r=>n!==r))}destroy(){this.events={}}}const qT=100/6;class V5{constructor(e,{wheelMultiplier:n=1,touchMultiplier:r=1}){this.element=e,this.wheelMultiplier=n,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new Hx,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,n){return this.emitter.on(e,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}onTouchStart=e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e,s=-(n-this.touchStart.x)*this.touchMultiplier,a=-(r-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:s,y:a},this.emitter.emit("scroll",{deltaX:s,deltaY:a,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:n,deltaY:r,deltaMode:s}=e;n*=s===1?qT:s===2?this.windowWidth:1,r*=s===1?qT:s===2?this.windowHeight:1,n*=this.wheelMultiplier,r*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:r,event:e})};onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}class L5{constructor({wrapper:e=window,content:n=document.documentElement,wheelEventsTarget:r=e,eventsTarget:s=r,smoothWheel:a=!0,syncTouch:l=!1,syncTouchLerp:c=.075,touchInertiaMultiplier:d=35,duration:m,easing:p=($=>Math.min(1,1.001-Math.pow(2,-10*$))),lerp:w=!m&&.1,infinite:E=!1,orientation:I="vertical",gestureOrientation:x="vertical",touchMultiplier:D=1,wheelMultiplier:C=1,autoResize:B=!0,__experimental__naiveDimensions:W=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:$,deltaY:re,event:se})=>{if(se.ctrlKey)return;const he=se.type.includes("touch"),M=se.type.includes("wheel");if(this.options.syncTouch&&he&&se.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const P=$===0&&re===0,b=this.options.gestureOrientation==="vertical"&&re===0||this.options.gestureOrientation==="horizontal"&&$===0;if(P||b)return;let O=se.composedPath();if(O=O.slice(0,O.indexOf(this.rootElement)),O.find((J=>{var K,ee,Q,N,G;return((K=J.hasAttribute)===null||K===void 0?void 0:K.call(J,"data-lenis-prevent"))||he&&((ee=J.hasAttribute)===null||ee===void 0?void 0:ee.call(J,"data-lenis-prevent-touch"))||M&&((Q=J.hasAttribute)===null||Q===void 0?void 0:Q.call(J,"data-lenis-prevent-wheel"))||((N=J.classList)===null||N===void 0?void 0:N.contains("lenis"))&&!(!((G=J.classList)===null||G===void 0)&&G.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void se.preventDefault();if(this.isSmooth=this.options.syncTouch&&he||this.options.smoothWheel&&M,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();se.preventDefault();let U=re;this.options.gestureOrientation==="both"?U=Math.abs(re)>Math.abs($)?re:$:this.options.gestureOrientation==="horizontal"&&(U=$);const L=he&&this.options.syncTouch,k=he&&se.type==="touchend"&&Math.abs(U)>5;k&&(U=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+U,Object.assign({programmatic:!1},L?{lerp:k?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const $=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-$),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:n,wheelEventsTarget:r,eventsTarget:s,smoothWheel:a,syncTouch:l,syncTouchLerp:c,touchInertiaMultiplier:d,duration:m,easing:p,lerp:w,infinite:E,gestureOrientation:x,orientation:I,touchMultiplier:D,wheelMultiplier:C,autoResize:B,__experimental__naiveDimensions:W},this.animate=new N5,this.emitter=new Hx,this.dimensions=new D5({wrapper:e,content:n,autoResize:B}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=l||a,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new V5(s,{touchMultiplier:D,wheelMultiplier:C}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,n){return this.emitter.on(e,n)}off(e,n){return this.emitter.off(e,n)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const n=e-(this.time||e);this.time=e,this.animate.advance(.001*n)}scrollTo(e,{offset:n=0,immediate:r=!1,lock:s=!1,duration:a=this.options.duration,easing:l=this.options.easing,lerp:c=!a&&this.options.lerp,onComplete:d,force:m=!1,programmatic:p=!0}={}){if(!this.isStopped&&!this.isLocked||m){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let w;if(typeof e=="string"?w=document.querySelector(e):e?.nodeType&&(w=e),w){if(this.options.wrapper!==window){const I=this.options.wrapper.getBoundingClientRect();n-=this.isHorizontal?I.left:I.top}const E=w.getBoundingClientRect();e=(this.isHorizontal?E.left:E.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=n,e=Math.round(e),this.options.infinite?p&&(this.targetScroll=this.animatedScroll=this.scroll):e=Wx(0,e,this.limit),r)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(d==null||d(this));if(!p){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:a,easing:l,lerp:c,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(w,E)=>{this.isScrolling=!0,this.velocity=w-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=w,this.setScroll(this.scroll),p&&(this.targetScroll=w),E||this.emit(),E&&(this.reset(),this.emit(),d?.(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,n=this.limit,(e%n+n)%n):this.animatedScroll;var e,n}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,n){this.rootElement.classList.toggle(e,n),this.emitter.emit("className change",this)}}function O5(){R.useEffect(()=>{const t=new L5({duration:1.2,easing:n=>Math.min(1,1.001-Math.pow(2,-10*n)),smooth:!0});function e(n){t.raf(n),requestAnimationFrame(e)}return requestAnimationFrame(e),()=>{t.destroy()}},[])}var Ip={},Ap={},xp={},GT;function M5(){return GT||(GT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(typeof window<"u"){var c;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(c=window).gtag.apply(c,a)}},n=e;t.default=n})(xp)),xp}var Pp={},KT;function F5(){return KT||(KT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(c){return c.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(d,m,p){return m>0&&m+d.length!==p.length&&d.search(e)>-1&&p.charAt(m-2)!==":"&&(p.charAt(m+d.length)!=="-"||p.charAt(m-1)==="-")&&p.charAt(m-1).search(/[^\s-]/)<0?d.toLowerCase():d.substr(1).search(/[A-Z]|\../)>-1?d:d.charAt(0).toUpperCase()+d.substr(1)})}function r(c){return typeof c=="string"&&c.indexOf("@")!==-1}var s="REDACTED (Potential Email Address)";function a(c){return r(c)?(console.warn("This arg looks like an email address, redacting."),s):c}function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,p=c||"";return d&&(p=n(c)),m&&(p=a(p)),p}})(Pp)),Pp}var QT;function U5(){return QT||(QT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=l(M5()),n=l(F5()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],s=["title","location"],a=["page","hitType"];function l(J){return J&&J.__esModule?J:{default:J}}function c(J,K){if(J==null)return{};var ee=d(J,K),Q,N;if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(J);for(N=0;N<G.length;N++)Q=G[N],!(K.indexOf(Q)>=0)&&Object.prototype.propertyIsEnumerable.call(J,Q)&&(ee[Q]=J[Q])}return ee}function d(J,K){if(J==null)return{};var ee={},Q=Object.keys(J),N,G;for(G=0;G<Q.length;G++)N=Q[G],!(K.indexOf(N)>=0)&&(ee[N]=J[N]);return ee}function m(J){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},m(J)}function p(J){return I(J)||E(J)||W(J)||w()}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(J){if(typeof Symbol<"u"&&J[Symbol.iterator]!=null||J["@@iterator"]!=null)return Array.from(J)}function I(J){if(Array.isArray(J))return $(J)}function x(J,K){var ee=Object.keys(J);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(J);K&&(Q=Q.filter(function(N){return Object.getOwnPropertyDescriptor(J,N).enumerable})),ee.push.apply(ee,Q)}return ee}function D(J){for(var K=1;K<arguments.length;K++){var ee=arguments[K]!=null?arguments[K]:{};K%2?x(Object(ee),!0).forEach(function(Q){b(J,Q,ee[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(ee)):x(Object(ee)).forEach(function(Q){Object.defineProperty(J,Q,Object.getOwnPropertyDescriptor(ee,Q))})}return J}function C(J,K){return se(J)||re(J,K)||W(J,K)||B()}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(J,K){if(J){if(typeof J=="string")return $(J,K);var ee=Object.prototype.toString.call(J).slice(8,-1);if(ee==="Object"&&J.constructor&&(ee=J.constructor.name),ee==="Map"||ee==="Set")return Array.from(J);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return $(J,K)}}function $(J,K){(K==null||K>J.length)&&(K=J.length);for(var ee=0,Q=new Array(K);ee<K;ee++)Q[ee]=J[ee];return Q}function re(J,K){var ee=J==null?null:typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(ee!=null){var Q,N,G,ie,j=[],te=!0,me=!1;try{if(G=(ee=ee.call(J)).next,K!==0)for(;!(te=(Q=G.call(ee)).done)&&(j.push(Q.value),j.length!==K);te=!0);}catch(Te){me=!0,N=Te}finally{try{if(!te&&ee.return!=null&&(ie=ee.return(),Object(ie)!==ie))return}finally{if(me)throw N}}return j}}function se(J){if(Array.isArray(J))return J}function he(J,K){if(!(J instanceof K))throw new TypeError("Cannot call a class as a function")}function M(J,K){for(var ee=0;ee<K.length;ee++){var Q=K[ee];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(J,O(Q.key),Q)}}function P(J,K,ee){return K&&M(J.prototype,K),Object.defineProperty(J,"prototype",{writable:!1}),J}function b(J,K,ee){return K=O(K),K in J?Object.defineProperty(J,K,{value:ee,enumerable:!0,configurable:!0,writable:!0}):J[K]=ee,J}function O(J){var K=U(J,"string");return m(K)==="symbol"?K:String(K)}function U(J,K){if(m(J)!=="object"||J===null)return J;var ee=J[Symbol.toPrimitive];if(ee!==void 0){var Q=ee.call(J,K);if(m(Q)!=="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(J)}var L=(function(){function J(){var K=this;he(this,J),b(this,"reset",function(){K.isInitialized=!1,K._testMode=!1,K._currentMeasurementId,K._hasLoadedGA=!1,K._isQueuing=!1,K._queueGtag=[]}),b(this,"_gtag",function(){for(var ee=arguments.length,Q=new Array(ee),N=0;N<ee;N++)Q[N]=arguments[N];K._testMode||K._isQueuing?K._queueGtag.push(Q):e.default.apply(void 0,Q)}),b(this,"_loadGA",function(ee,Q){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!K._hasLoadedGA){var G=document.createElement("script");G.async=!0,G.src="".concat(N,"?id=").concat(ee),Q&&G.setAttribute("nonce",Q),document.body.appendChild(G),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},K._hasLoadedGA=!0}}),b(this,"_toGtagOptions",function(ee){if(ee){var Q={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},N=Object.entries(ee).reduce(function(G,ie){var j=C(ie,2),te=j[0],me=j[1];return Q[te]?G[Q[te]]=me:G[te]=me,G},{});return N}}),b(this,"initialize",function(ee){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ee)throw new Error("Require GA_MEASUREMENT_ID");var N=typeof ee=="string"?[{trackingId:ee}]:ee;K._currentMeasurementId=N[0].trackingId;var G=Q.gaOptions,ie=Q.gtagOptions,j=Q.nonce,te=Q.testMode,me=te===void 0?!1:te,Te=Q.gtagUrl;if(K._testMode=me,me||K._loadGA(K._currentMeasurementId,j,Te),K.isInitialized||(K._gtag("js",new Date),N.forEach(function(Oe){var je=D(D(D({},K._toGtagOptions(D(D({},G),Oe.gaOptions))),ie),Oe.gtagOptions);Object.keys(je).length?K._gtag("config",Oe.trackingId,je):K._gtag("config",Oe.trackingId)})),K.isInitialized=!0,!me){var Ne=p(K._queueGtag);for(K._queueGtag=[],K._isQueuing=!1;Ne.length;){var Le=Ne.shift();K._gtag.apply(K,p(Le)),Le[0]==="get"&&(K._isQueuing=!0)}}}),b(this,"set",function(ee){if(!ee){console.warn("`fieldsObject` is required in .set()");return}if(m(ee)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(ee).length===0&&console.warn("empty `fieldsObject` given to .set()"),K._gaCommand("set",ee)}),b(this,"_gaCommandSendEvent",function(ee,Q,N,G,ie){K._gtag("event",Q,D(D({event_category:ee,event_label:N,value:G},ie&&{non_interaction:ie.nonInteraction}),K._toGtagOptions(ie)))}),b(this,"_gaCommandSendEventParameters",function(){for(var ee=arguments.length,Q=new Array(ee),N=0;N<ee;N++)Q[N]=arguments[N];if(typeof Q[0]=="string")K._gaCommandSendEvent.apply(K,p(Q.slice(1)));else{var G=Q[0],ie=G.eventCategory,j=G.eventAction,te=G.eventLabel,me=G.eventValue;G.hitType;var Te=c(G,r);K._gaCommandSendEvent(ie,j,te,me,Te)}}),b(this,"_gaCommandSendTiming",function(ee,Q,N,G){K._gtag("event","timing_complete",{name:Q,value:N,event_category:ee,event_label:G})}),b(this,"_gaCommandSendPageview",function(ee,Q){if(Q&&Object.keys(Q).length){var N=K._toGtagOptions(Q),G=N.title,ie=N.location,j=c(N,s);K._gtag("event","page_view",D(D(D(D({},ee&&{page_path:ee}),G&&{page_title:G}),ie&&{page_location:ie}),j))}else ee?K._gtag("event","page_view",{page_path:ee}):K._gtag("event","page_view")}),b(this,"_gaCommandSendPageviewParameters",function(){for(var ee=arguments.length,Q=new Array(ee),N=0;N<ee;N++)Q[N]=arguments[N];if(typeof Q[0]=="string")K._gaCommandSendPageview.apply(K,p(Q.slice(1)));else{var G=Q[0],ie=G.page;G.hitType;var j=c(G,a);K._gaCommandSendPageview(ie,j)}}),b(this,"_gaCommandSend",function(){for(var ee=arguments.length,Q=new Array(ee),N=0;N<ee;N++)Q[N]=arguments[N];var G=typeof Q[0]=="string"?Q[0]:Q[0].hitType;switch(G){case"event":K._gaCommandSendEventParameters.apply(K,Q);break;case"pageview":K._gaCommandSendPageviewParameters.apply(K,Q);break;case"timing":K._gaCommandSendTiming.apply(K,p(Q.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(G));break;default:console.warn("Send command doesn't exist: ".concat(G))}}),b(this,"_gaCommandSet",function(){for(var ee=arguments.length,Q=new Array(ee),N=0;N<ee;N++)Q[N]=arguments[N];typeof Q[0]=="string"&&(Q[0]=b({},Q[0],Q[1])),K._gtag("set",K._toGtagOptions(Q[0]))}),b(this,"_gaCommand",function(ee){for(var Q=arguments.length,N=new Array(Q>1?Q-1:0),G=1;G<Q;G++)N[G-1]=arguments[G];switch(ee){case"send":K._gaCommandSend.apply(K,N);break;case"set":K._gaCommandSet.apply(K,N);break;default:console.warn("Command doesn't exist: ".concat(ee))}}),b(this,"ga",function(){for(var ee=arguments.length,Q=new Array(ee),N=0;N<ee;N++)Q[N]=arguments[N];if(typeof Q[0]=="string")K._gaCommand.apply(K,Q);else{var G=Q[0];K._gtag("get",K._currentMeasurementId,"client_id",function(ie){K._isQueuing=!1;var j=K._queueGtag;for(G({get:function(Te){return Te==="clientId"?ie:Te==="trackingId"?K._currentMeasurementId:Te==="apiVersion"?"1":void 0}});j.length;){var te=j.shift();K._gtag.apply(K,p(te))}}),K._isQueuing=!0}return K.ga}),b(this,"event",function(ee,Q){if(typeof ee=="string")K._gtag("event",ee,K._toGtagOptions(Q));else{var N=ee.action,G=ee.category,ie=ee.label,j=ee.value,te=ee.nonInteraction,me=ee.transport;if(!G||!N){console.warn("args.category AND args.action are required in event()");return}var Te={hitType:"event",eventCategory:(0,n.default)(G),eventAction:(0,n.default)(N)};ie&&(Te.eventLabel=(0,n.default)(ie)),typeof j<"u"&&(typeof j!="number"?console.warn("Expected `args.value` arg to be a Number."):Te.eventValue=j),typeof te<"u"&&(typeof te!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Te.nonInteraction=te),typeof me<"u"&&(typeof me!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(me)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Te.transport=me)),K._gaCommand("send",Te)}}),b(this,"send",function(ee){K._gaCommand("send",ee)}),this.reset()}return P(J,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),J})();t.GA4=L;var k=new L;t.default=k})(Ap)),Ap}var YT;function B5(){return YT||(YT=1,(function(t){function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e(c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var n=s(U5());function r(c){if(typeof WeakMap!="function")return null;var d=new WeakMap,m=new WeakMap;return(r=function(w){return w?m:d})(c)}function s(c,d){if(c&&c.__esModule)return c;if(c===null||e(c)!=="object"&&typeof c!="function")return{default:c};var m=r(d);if(m&&m.has(c))return m.get(c);var p={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in c)if(E!=="default"&&Object.prototype.hasOwnProperty.call(c,E)){var I=w?Object.getOwnPropertyDescriptor(c,E):null;I&&(I.get||I.set)?Object.defineProperty(p,E,I):p[E]=c[E]}return p.default=c,m&&m.set(c,p),p}var a=n.GA4;t.ReactGAImplementation=a;var l=n.default;t.default=l})(Ip)),Ip}var j5=B5();const qx=kg(j5);function z5(){const t=Kr();R.useEffect(()=>{t&&qx.send({hitType:"pageview",page:t.pathname+t.search})},[t])}qx.initialize("G-4PWTPFE8LR");function $5(){return z5(),null}function W5(){return O5(),y.createElement(vR,null,y.createElement($5,null),y.createElement(k5,null),y.createElement(Av,{position:"top-right",reverseOrder:!1}),y.createElement(KC,null,y.createElement(hn,{path:"/",element:y.createElement(cD,null)}),y.createElement(hn,{path:"/browse",element:y.createElement(FU,null)}),y.createElement(hn,{path:"/product/:id",element:y.createElement(ZU,null)}),y.createElement(hn,{path:"/terms",element:y.createElement(e5,null)}),y.createElement(hn,{path:"/privacy",element:y.createElement(t5,null)}),y.createElement(hn,{path:"/login",element:y.createElement(EU,null)}),y.createElement(hn,{path:"/signup",element:y.createElement(TU,null)}),y.createElement(hn,{path:"/dashboard",element:y.createElement(jh,null,y.createElement(PU,null))}),y.createElement(hn,{path:"/add-product",element:y.createElement(jh,null,y.createElement(RU,null))}),y.createElement(hn,{path:"/edit/:id",element:y.createElement(jh,null,y.createElement(UU,null))}),y.createElement(hn,{path:"/favorites",element:y.createElement(jh,null,y.createElement(BU,null))}),y.createElement(hn,{path:"/admin",element:y.createElement(HT,null,y.createElement(R5,null))}),y.createElement(hn,{path:"/admin-page",element:y.createElement(HT,null,y.createElement(b5,null))}),y.createElement(hn,{path:"*",element:y.createElement(n5,null)})))}rC.createRoot(document.getElementById("root")).render(y.createElement(y.StrictMode,null,y.createElement(W5,null),y.createElement(Av,{position:"top-right",reverseOrder:!1})));
