(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mp={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function MC(){if(Sw)return Oe;Sw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),w=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=w&&F[w]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function R(F,Z,pe){this.props=F,this.context=Z,this.refs=D,this.updater=pe||S}R.prototype.isReactComponent={},R.prototype.setState=function(F,Z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Z,"setState")},R.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function U(){}U.prototype=R.prototype;function z(F,Z,pe){this.props=F,this.context=Z,this.refs=D,this.updater=pe||S}var j=z.prototype=new U;j.constructor=z,C(j,R.prototype),j.isPureReactComponent=!0;var re=Array.isArray,oe=Object.prototype.hasOwnProperty,he={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function P(F,Z,pe){var Se,ke={},Le=null,J=null;if(Z!=null)for(Se in Z.ref!==void 0&&(J=Z.ref),Z.key!==void 0&&(Le=""+Z.key),Z)oe.call(Z,Se)&&!V.hasOwnProperty(Se)&&(ke[Se]=Z[Se]);var ye=arguments.length-2;if(ye===1)ke.children=pe;else if(1<ye){for(var De=Array(ye),St=0;St<ye;St++)De[St]=arguments[St+2];ke.children=De}if(F&&F.defaultProps)for(Se in ye=F.defaultProps,ye)ke[Se]===void 0&&(ke[Se]=ye[Se]);return{$$typeof:t,type:F,key:Le,ref:J,props:ke,_owner:he.current}}function x(F,Z){return{$$typeof:t,type:F.type,key:Z,ref:F.ref,props:F.props,_owner:F._owner}}function L(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function M(F){var Z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return Z[pe]})}var $=/\/+/g;function N(F,Z){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):Z.toString(36)}function ee(F,Z,pe,Se,ke){var Le=typeof F;(Le==="undefined"||Le==="boolean")&&(F=null);var J=!1;if(F===null)J=!0;else switch(Le){case"string":case"number":J=!0;break;case"object":switch(F.$$typeof){case t:case e:J=!0}}if(J)return J=F,ke=ke(J),F=Se===""?"."+N(J,0):Se,re(ke)?(pe="",F!=null&&(pe=F.replace($,"$&/")+"/"),ee(ke,Z,pe,"",function(St){return St})):ke!=null&&(L(ke)&&(ke=x(ke,pe+(!ke.key||J&&J.key===ke.key?"":(""+ke.key).replace($,"$&/")+"/")+F)),Z.push(ke)),1;if(J=0,Se=Se===""?".":Se+":",re(F))for(var ye=0;ye<F.length;ye++){Le=F[ye];var De=Se+N(Le,ye);J+=ee(Le,Z,pe,De,ke)}else if(De=_(F),typeof De=="function")for(F=De.call(F),ye=0;!(Le=F.next()).done;)Le=Le.value,De=Se+N(Le,ye++),J+=ee(Le,Z,pe,De,ke);else if(Le==="object")throw Z=String(F),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return J}function K(F,Z,pe){if(F==null)return F;var Se=[],ke=0;return ee(F,Se,"","",function(Le){return Z.call(pe,Le,ke++)}),Se}function te(F){if(F._status===-1){var Z=F._result;Z=Z(),Z.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=Z)}if(F._status===1)return F._result.default;throw F._result}var Q={current:null},H={transition:null},ne={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:H,ReactCurrentOwner:he};function le(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:K,forEach:function(F,Z,pe){K(F,function(){Z.apply(this,arguments)},pe)},count:function(F){var Z=0;return K(F,function(){Z++}),Z},toArray:function(F){return K(F,function(Z){return Z})||[]},only:function(F){if(!L(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Oe.Component=R,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=z,Oe.StrictMode=r,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Oe.act=le,Oe.cloneElement=function(F,Z,pe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Se=C({},F.props),ke=F.key,Le=F.ref,J=F._owner;if(Z!=null){if(Z.ref!==void 0&&(Le=Z.ref,J=he.current),Z.key!==void 0&&(ke=""+Z.key),F.type&&F.type.defaultProps)var ye=F.type.defaultProps;for(De in Z)oe.call(Z,De)&&!V.hasOwnProperty(De)&&(Se[De]=Z[De]===void 0&&ye!==void 0?ye[De]:Z[De])}var De=arguments.length-2;if(De===1)Se.children=pe;else if(1<De){ye=Array(De);for(var St=0;St<De;St++)ye[St]=arguments[St+2];Se.children=ye}return{$$typeof:t,type:F.type,key:ke,ref:Le,props:Se,_owner:J}},Oe.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Oe.createElement=P,Oe.createFactory=function(F){var Z=P.bind(null,F);return Z.type=F,Z},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(F){return{$$typeof:c,render:F}},Oe.isValidElement=L,Oe.lazy=function(F){return{$$typeof:m,_payload:{_status:-1,_result:F},_init:te}},Oe.memo=function(F,Z){return{$$typeof:p,type:F,compare:Z===void 0?null:Z}},Oe.startTransition=function(F){var Z=H.transition;H.transition={};try{F()}finally{H.transition=Z}},Oe.unstable_act=le,Oe.useCallback=function(F,Z){return Q.current.useCallback(F,Z)},Oe.useContext=function(F){return Q.current.useContext(F)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(F){return Q.current.useDeferredValue(F)},Oe.useEffect=function(F,Z){return Q.current.useEffect(F,Z)},Oe.useId=function(){return Q.current.useId()},Oe.useImperativeHandle=function(F,Z,pe){return Q.current.useImperativeHandle(F,Z,pe)},Oe.useInsertionEffect=function(F,Z){return Q.current.useInsertionEffect(F,Z)},Oe.useLayoutEffect=function(F,Z){return Q.current.useLayoutEffect(F,Z)},Oe.useMemo=function(F,Z){return Q.current.useMemo(F,Z)},Oe.useReducer=function(F,Z,pe){return Q.current.useReducer(F,Z,pe)},Oe.useRef=function(F){return Q.current.useRef(F)},Oe.useState=function(F){return Q.current.useState(F)},Oe.useSyncExternalStore=function(F,Z,pe){return Q.current.useSyncExternalStore(F,Z,pe)},Oe.useTransition=function(){return Q.current.useTransition()},Oe.version="18.3.1",Oe}var Iw;function Cg(){return Iw||(Iw=1,Mp.exports=MC()),Mp.exports}var b=Cg();const E=Pg(b);var Eh={},Fp={exports:{}},wn={},Up={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function FC(){return Aw||(Aw=1,(function(t){function e(H,ne){var le=H.length;H.push(ne);e:for(;0<le;){var F=le-1>>>1,Z=H[F];if(0<s(Z,ne))H[F]=ne,H[le]=Z,le=F;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ne=H[0],le=H.pop();if(le!==ne){H[0]=le;e:for(var F=0,Z=H.length,pe=Z>>>1;F<pe;){var Se=2*(F+1)-1,ke=H[Se],Le=Se+1,J=H[Le];if(0>s(ke,le))Le<Z&&0>s(J,ke)?(H[F]=J,H[Le]=le,F=Le):(H[F]=ke,H[Se]=le,F=Se);else if(Le<Z&&0>s(J,le))H[F]=J,H[Le]=le,F=Le;else break e}}return ne}function s(H,ne){var le=H.sortIndex-ne.sortIndex;return le!==0?le:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],p=[],m=1,w=null,_=3,S=!1,C=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(H){for(var ne=n(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=H)r(p),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=n(p)}}function re(H){if(D=!1,j(H),!C)if(n(f)!==null)C=!0,te(oe);else{var ne=n(p);ne!==null&&Q(re,ne.startTime-H)}}function oe(H,ne){C=!1,D&&(D=!1,U(P),P=-1),S=!0;var le=_;try{for(j(ne),w=n(f);w!==null&&(!(w.expirationTime>ne)||H&&!M());){var F=w.callback;if(typeof F=="function"){w.callback=null,_=w.priorityLevel;var Z=F(w.expirationTime<=ne);ne=t.unstable_now(),typeof Z=="function"?w.callback=Z:w===n(f)&&r(f),j(ne)}else r(f);w=n(f)}if(w!==null)var pe=!0;else{var Se=n(p);Se!==null&&Q(re,Se.startTime-ne),pe=!1}return pe}finally{w=null,_=le,S=!1}}var he=!1,V=null,P=-1,x=5,L=-1;function M(){return!(t.unstable_now()-L<x)}function $(){if(V!==null){var H=t.unstable_now();L=H;var ne=!0;try{ne=V(!0,H)}finally{ne?N():(he=!1,V=null)}}else he=!1}var N;if(typeof z=="function")N=function(){z($)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,K=ee.port2;ee.port1.onmessage=$,N=function(){K.postMessage(null)}}else N=function(){R($,0)};function te(H){V=H,he||(he=!0,N())}function Q(H,ne){P=R(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,te(oe))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(H){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var le=_;_=ne;try{return H()}finally{_=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=_;_=H;try{return ne()}finally{_=le}},t.unstable_scheduleCallback=function(H,ne,le){var F=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,H){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,H={id:m++,callback:ne,priorityLevel:H,startTime:le,expirationTime:Z,sortIndex:-1},le>F?(H.sortIndex=le,e(p,H),n(f)===null&&H===n(p)&&(D?(U(P),P=-1):D=!0,Q(re,le-F))):(H.sortIndex=Z,e(f,H),C||S||(C=!0,te(oe))),H},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(H){var ne=_;return function(){var le=_;_=ne;try{return H.apply(this,arguments)}finally{_=le}}}})(Bp)),Bp}var Pw;function UC(){return Pw||(Pw=1,Up.exports=FC()),Up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function BC(){if(Cw)return wn;Cw=1;var t=Cg(),e=UC();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},w={};function _(i){return f.call(w,i)?!0:f.call(m,i)?!1:p.test(i)?w[i]=!0:(m[i]=!0,!1)}function S(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,u,d){if(o===null||typeof o>"u"||S(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,u,d,g,v,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=I}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];R[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(U,z);R[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(U,z);R[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(U,z);R[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,o,u,d){var g=R.hasOwnProperty(o)?R[o]:null;(g!==null?g.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,u,g,d)&&(u=null),d||g===null?_(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,d=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var re=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),he=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),H=Symbol.iterator;function ne(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,F;function Z(i){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+i}var pe=!1;function Se(i,o){if(!i||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var d=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){d=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){d=Y}i()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),v=d.stack.split(`
`),I=g.length-1,k=v.length-1;1<=I&&0<=k&&g[I]!==v[k];)k--;for(;1<=I&&0<=k;I--,k--)if(g[I]!==v[k]){if(I!==1||k!==1)do if(I--,k--,0>k||g[I]!==v[k]){var O=`
`+g[I].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=I&&0<=k);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Z(i):""}function ke(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=Se(i.type,!1),i;case 11:return i=Se(i.type.render,!1),i;case 1:return i=Se(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case he:return"Portal";case x:return"Profiler";case P:return"StrictMode";case N:return"Suspense";case ee:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case $:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return o=i.displayName||null,o!==null?o:Le(i.type)||"Memo";case te:o=i._payload,i=i._init;try{return Le(i(o))}catch{}}return null}function J(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ye(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function De(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function St(i){var o=De(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(I){d=""+I,v.call(this,I)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Gr(i){i._valueTracker||(i._valueTracker=St(i))}function xo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=De(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function Ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Rs(i,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Ro(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=ye(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function rl(i,o){o=o.checked,o!=null&&j(i,"checked",o,!1)}function il(i,o){rl(i,o);var u=ye(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?bo(i,o.type,u):o.hasOwnProperty("defaultValue")&&bo(i,o.type,ye(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function oc(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function bo(i,o,u){(o!=="number"||Ri(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Kr=Array.isArray;function Qr(i,o,u,d){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&d&&(i[u].defaultSelected=!0)}else{for(u=""+ye(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function sl(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ko(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Kr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ye(u)}}function No(i,o){var u=ye(o.value),d=ye(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function ol(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function bt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?bt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Yr,al=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Yr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function bi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ks=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(i){ks.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),bs[o]=bs[i]})});function ll(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||bs.hasOwnProperty(i)&&bs[i]?(""+o).trim():o+"px"}function ul(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,g=ll(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,g):i[u]=g}}var cl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hl(i,o){if(o){if(cl[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function dl(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ns=null;function Do(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vo=null,Ln=null,wr=null;function Lo(i){if(i=Ol(i)){if(typeof Vo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Oc(o),Vo(i.stateNode,i.type,o))}}function Er(i){Ln?wr?wr.push(i):wr=[i]:Ln=i}function fl(){if(Ln){var i=Ln,o=wr;if(wr=Ln=null,Lo(i),o)for(i=0;i<o.length;i++)Lo(o[i])}}function Ds(i,o){return i(o)}function pl(){}var Xr=!1;function ml(i,o,u){if(Xr)return i(o,u);Xr=!0;try{return Ds(i,o,u)}finally{Xr=!1,(Ln!==null||wr!==null)&&(pl(),fl())}}function gt(i,o){var u=i.stateNode;if(u===null)return null;var d=Oc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Oo=!1;if(c)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Oo=!1}function Vs(i,o,u,d,g,v,I,k,O){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(u,Y)}catch(ue){this.onError(ue)}}var Ls=!1,Mo=null,Jn=!1,gl=null,hf={onError:function(i){Ls=!0,Mo=i}};function Fo(i,o,u,d,g,v,I,k,O){Ls=!1,Mo=null,Vs.apply(hf,arguments)}function ac(i,o,u,d,g,v,I,k,O){if(Fo.apply(this,arguments),Ls){if(Ls){var Y=Mo;Ls=!1,Mo=null}else throw Error(n(198));Jn||(Jn=!0,gl=Y)}}function Zn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Os(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function er(i){if(Zn(i)!==i)throw Error(n(188))}function lc(i){var o=i.alternate;if(!o){if(o=Zn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,d=o;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return er(g),i;if(v===d)return er(g),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=g,d=v;else{for(var I=!1,k=g.child;k;){if(k===u){I=!0,u=g,d=v;break}if(k===d){I=!0,d=g,u=v;break}k=k.sibling}if(!I){for(k=v.child;k;){if(k===u){I=!0,u=v,d=g;break}if(k===d){I=!0,d=v,u=g;break}k=k.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function yl(i){return i=lc(i),i!==null?Uo(i):null}function Uo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Uo(i);if(o!==null)return o;i=i.sibling}return null}var Bo=e.unstable_scheduleCallback,vl=e.unstable_cancelCallback,uc=e.unstable_shouldYield,df=e.unstable_requestPaint,Qe=e.unstable_now,cc=e.unstable_getCurrentPriorityLevel,Ms=e.unstable_ImmediatePriority,ki=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,_l=e.unstable_LowPriority,hc=e.unstable_IdlePriority,Fs=null,An=null;function dc(i){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Fs,i,void 0,(i.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:pc,wl=Math.log,fc=Math.LN2;function pc(i){return i>>>=0,i===0?32:31-(wl(i)/fc|0)|0}var jo=64,zo=4194304;function Ni(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Us(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,v=i.pingedLanes,I=u&268435455;if(I!==0){var k=I&~g;k!==0?d=Ni(k):(v&=I,v!==0&&(d=Ni(v)))}else I=u&~g,I!==0?d=Ni(I):v!==0&&(d=Ni(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&g)===0&&(g=d&-d,v=o&-o,g>=v||g===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-on(o),g=1<<u,d|=i[u],o&=~g;return d}function ff(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes;0<v;){var I=31-on(v),k=1<<I,O=g[I];O===-1?((k&u)===0||(k&d)!==0)&&(g[I]=ff(k,o)):O<=o&&(i.expiredLanes|=k),v&=~k}}function Pn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Bs(){var i=jo;return jo<<=1,(jo&4194240)===0&&(jo=64),i}function Di(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Vi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-on(o),i[o]=u}function Ke(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-on(u),v=1<<g;o[g]=0,d[g]=-1,i[g]=-1,u&=~v}}function Li(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-on(u),g=1<<d;g&o|i[d]&o&&(i[d]|=o),u&=~g}}var Be=0;function Oi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var mc,$o,gc,yc,vc,El=!1,Tr=[],zt=null,tr=null,nr=null,Mi=new Map,Mn=new Map,Sr=[],pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _c(i,o){switch(i){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Mi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(o.pointerId)}}function fn(i,o,u,d,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},o!==null&&(o=Ol(o),o!==null&&$o(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function mf(i,o,u,d,g){switch(o){case"focusin":return zt=fn(zt,i,o,u,d,g),!0;case"dragenter":return tr=fn(tr,i,o,u,d,g),!0;case"mouseover":return nr=fn(nr,i,o,u,d,g),!0;case"pointerover":var v=g.pointerId;return Mi.set(v,fn(Mi.get(v)||null,i,o,u,d,g)),!0;case"gotpointercapture":return v=g.pointerId,Mn.set(v,fn(Mn.get(v)||null,i,o,u,d,g)),!0}return!1}function wc(i){var o=Hs(i.target);if(o!==null){var u=Zn(o);if(u!==null){if(o=u.tag,o===13){if(o=Os(u),o!==null){i.blockedOn=o,vc(i.priority,function(){gc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Wo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);Ns=d,u.target.dispatchEvent(d),Ns=null}else return o=Ol(u),o!==null&&$o(o),i.blockedOn=u,!1;o.shift()}return!0}function js(i,o,u){Zr(i)&&u.delete(o)}function Ec(){El=!1,zt!==null&&Zr(zt)&&(zt=null),tr!==null&&Zr(tr)&&(tr=null),nr!==null&&Zr(nr)&&(nr=null),Mi.forEach(js),Mn.forEach(js)}function rr(i,o){i.blockedOn===o&&(i.blockedOn=null,El||(El=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ec)))}function ir(i){function o(g){return rr(g,i)}if(0<Tr.length){rr(Tr[0],i);for(var u=1;u<Tr.length;u++){var d=Tr[u];d.blockedOn===i&&(d.blockedOn=null)}}for(zt!==null&&rr(zt,i),tr!==null&&rr(tr,i),nr!==null&&rr(nr,i),Mi.forEach(o),Mn.forEach(o),u=0;u<Sr.length;u++)d=Sr[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<Sr.length&&(u=Sr[0],u.blockedOn===null);)wc(u),u.blockedOn===null&&Sr.shift()}var ei=re.ReactCurrentBatchConfig,Fi=!0;function nt(i,o,u,d){var g=Be,v=ei.transition;ei.transition=null;try{Be=1,Tl(i,o,u,d)}finally{Be=g,ei.transition=v}}function gf(i,o,u,d){var g=Be,v=ei.transition;ei.transition=null;try{Be=4,Tl(i,o,u,d)}finally{Be=g,ei.transition=v}}function Tl(i,o,u,d){if(Fi){var g=Wo(i,o,u,d);if(g===null)Cf(i,o,d,zs,u),_c(i,d);else if(mf(g,i,o,u,d))d.stopPropagation();else if(_c(i,d),o&4&&-1<pf.indexOf(i)){for(;g!==null;){var v=Ol(g);if(v!==null&&mc(v),v=Wo(i,o,u,d),v===null&&Cf(i,o,d,zs,u),v===g)break;g=v}g!==null&&d.stopPropagation()}else Cf(i,o,d,null,u)}}var zs=null;function Wo(i,o,u,d){if(zs=null,i=Do(d),i=Hs(i),i!==null)if(o=Zn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Os(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return zs=i,null}function Sl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cc()){case Ms:return 1;case ki:return 4;case On:case _l:return 16;case hc:return 536870912;default:return 16}default:return 16}}var Cn=null,Ho=null,pn=null;function Il(){if(pn)return pn;var i,o=Ho,u=o.length,d,g="value"in Cn?Cn.value:Cn.textContent,v=g.length;for(i=0;i<u&&o[i]===g[i];i++);var I=u-i;for(d=1;d<=I&&o[u-d]===g[v-d];d++);return pn=g.slice(i,1<d?1-d:void 0)}function qo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ir(){return!0}function Al(){return!1}function $t(i){function o(u,d,g,v,I){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(u=i[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ir:Al,this.isPropagationStopped=Al,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),o}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=$t(sr),Ar=le({},sr,{view:0,detail:0}),yf=$t(Ar),Ko,ti,Ui,$s=le({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ui&&(Ui&&i.type==="mousemove"?(Ko=i.screenX-Ui.screenX,ti=i.screenY-Ui.screenY):ti=Ko=0,Ui=i),Ko)},movementY:function(i){return"movementY"in i?i.movementY:ti}}),Qo=$t($s),Pl=le({},$s,{dataTransfer:0}),Tc=$t(Pl),Yo=le({},Ar,{relatedTarget:0}),Xo=$t(Yo),Sc=le({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),ni=$t(Sc),Ic=le({},sr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ac=$t(Ic),Pc=le({},sr,{data:0}),Cl=$t(Pc),Jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Cc[i])?!!o[i]:!1}function Pr(){return xc}var h=le({},Ar,{key:function(i){if(i.key){var o=Jo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=qo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?an[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(i){return i.type==="keypress"?qo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?qo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=$t(h),T=le({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=$t(T),W=le({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),X=$t(W),fe=le({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=$t(fe),Nt=le({},$s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),je=$t(Nt),Ot=[9,13,27,32],It=c&&"CompositionEvent"in window,Fn=null;c&&"documentMode"in document&&(Fn=document.documentMode);var xn=c&&"TextEvent"in window&&!Fn,Ws=c&&(!It||Fn&&8<Fn&&11>=Fn),Zo=" ",yv=!1;function vv(i,o){switch(i){case"keyup":return Ot.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _v(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ea=!1;function VP(i,o){switch(i){case"compositionend":return _v(o);case"keypress":return o.which!==32?null:(yv=!0,Zo);case"textInput":return i=o.data,i===Zo&&yv?null:i;default:return null}}function LP(i,o){if(ea)return i==="compositionend"||!It&&vv(i,o)?(i=Il(),pn=Ho=Cn=null,ea=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ws&&o.locale!=="ko"?null:o.data;default:return null}}var OP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!OP[i.type]:o==="textarea"}function Ev(i,o,u,d){Er(d),o=Dc(o,"onChange"),0<o.length&&(u=new Go("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var xl=null,Rl=null;function MP(i){Uv(i,0)}function Rc(i){var o=sa(i);if(xo(o))return i}function FP(i,o){if(i==="change")return o}var Tv=!1;if(c){var vf;if(c){var _f="oninput"in document;if(!_f){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),_f=typeof Sv.oninput=="function"}vf=_f}else vf=!1;Tv=vf&&(!document.documentMode||9<document.documentMode)}function Iv(){xl&&(xl.detachEvent("onpropertychange",Av),Rl=xl=null)}function Av(i){if(i.propertyName==="value"&&Rc(Rl)){var o=[];Ev(o,Rl,i,Do(i)),ml(MP,o)}}function UP(i,o,u){i==="focusin"?(Iv(),xl=o,Rl=u,xl.attachEvent("onpropertychange",Av)):i==="focusout"&&Iv()}function BP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rc(Rl)}function jP(i,o){if(i==="click")return Rc(o)}function zP(i,o){if(i==="input"||i==="change")return Rc(o)}function $P(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var or=typeof Object.is=="function"?Object.is:$P;function bl(i,o){if(or(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!f.call(o,g)||!or(i[g],o[g]))return!1}return!0}function Pv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Cv(i,o){var u=Pv(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Pv(u)}}function xv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?xv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Rv(){for(var i=window,o=Ri();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ri(i.document)}return o}function wf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function WP(i){var o=Rv(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&xv(u.ownerDocument.documentElement,u)){if(d!==null&&wf(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,v=Math.min(d.start,g);d=d.end===void 0?v:Math.min(d.end,g),!i.extend&&v>d&&(g=d,d=v,v=g),g=Cv(u,v);var I=Cv(u,d);g&&I&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var HP=c&&"documentMode"in document&&11>=document.documentMode,ta=null,Ef=null,kl=null,Tf=!1;function bv(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Tf||ta==null||ta!==Ri(d)||(d=ta,"selectionStart"in d&&wf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),kl&&bl(kl,d)||(kl=d,d=Dc(Ef,"onSelect"),0<d.length&&(o=new Go("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=ta)))}function bc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var na={animationend:bc("Animation","AnimationEnd"),animationiteration:bc("Animation","AnimationIteration"),animationstart:bc("Animation","AnimationStart"),transitionend:bc("Transition","TransitionEnd")},Sf={},kv={};c&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function kc(i){if(Sf[i])return Sf[i];if(!na[i])return i;var o=na[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in kv)return Sf[i]=o[u];return i}var Nv=kc("animationend"),Dv=kc("animationiteration"),Vv=kc("animationstart"),Lv=kc("transitionend"),Ov=new Map,Mv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(i,o){Ov.set(i,o),a(o,[i])}for(var If=0;If<Mv.length;If++){var Af=Mv[If],qP=Af.toLowerCase(),GP=Af[0].toUpperCase()+Af.slice(1);Bi(qP,"on"+GP)}Bi(Nv,"onAnimationEnd"),Bi(Dv,"onAnimationIteration"),Bi(Vv,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(Lv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function Fv(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,ac(d,o,void 0,i),i.currentTarget=null}function Uv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],g=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var I=d.length-1;0<=I;I--){var k=d[I],O=k.instance,Y=k.currentTarget;if(k=k.listener,O!==v&&g.isPropagationStopped())break e;Fv(g,k,Y),v=O}else for(I=0;I<d.length;I++){if(k=d[I],O=k.instance,Y=k.currentTarget,k=k.listener,O!==v&&g.isPropagationStopped())break e;Fv(g,k,Y),v=O}}}if(Jn)throw i=gl,Jn=!1,gl=null,i}function et(i,o){var u=o[Df];u===void 0&&(u=o[Df]=new Set);var d=i+"__bubble";u.has(d)||(Bv(o,i,2,!1),u.add(d))}function Pf(i,o,u){var d=0;o&&(d|=4),Bv(u,i,d,o)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Dl(i){if(!i[Nc]){i[Nc]=!0,r.forEach(function(u){u!=="selectionchange"&&(KP.has(u)||Pf(u,!1,i),Pf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Nc]||(o[Nc]=!0,Pf("selectionchange",!1,o))}}function Bv(i,o,u,d){switch(Sl(o)){case 1:var g=nt;break;case 4:g=gf;break;default:g=Tl}u=g.bind(null,o,u,i),g=void 0,!Oo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function Cf(i,o,u,d,g){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var k=d.stateNode.containerInfo;if(k===g||k.nodeType===8&&k.parentNode===g)break;if(I===4)for(I=d.return;I!==null;){var O=I.tag;if((O===3||O===4)&&(O=I.stateNode.containerInfo,O===g||O.nodeType===8&&O.parentNode===g))return;I=I.return}for(;k!==null;){if(I=Hs(k),I===null)return;if(O=I.tag,O===5||O===6){d=v=I;continue e}k=k.parentNode}}d=d.return}ml(function(){var Y=v,ue=Do(u),ce=[];e:{var ae=Ov.get(i);if(ae!==void 0){var ge=Go,we=i;switch(i){case"keypress":if(qo(u)===0)break e;case"keydown":case"keyup":ge=y;break;case"focusin":we="focus",ge=Xo;break;case"focusout":we="blur",ge=Xo;break;case"beforeblur":case"afterblur":ge=Xo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=X;break;case Nv:case Dv:case Vv:ge=ni;break;case Lv:ge=Ge;break;case"scroll":ge=yf;break;case"wheel":ge=je;break;case"copy":case"cut":case"paste":ge=Ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=A}var Ee=(o&4)!==0,yt=!Ee&&i==="scroll",q=Ee?ae!==null?ae+"Capture":null:ae;Ee=[];for(var B=Y,G;B!==null;){G=B;var de=G.stateNode;if(G.tag===5&&de!==null&&(G=de,q!==null&&(de=gt(B,q),de!=null&&Ee.push(Vl(B,de,G)))),yt)break;B=B.return}0<Ee.length&&(ae=new ge(ae,we,null,u,ue),ce.push({event:ae,listeners:Ee}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",ae&&u!==Ns&&(we=u.relatedTarget||u.fromElement)&&(Hs(we)||we[ri]))break e;if((ge||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,ge?(we=u.relatedTarget||u.toElement,ge=Y,we=we?Hs(we):null,we!==null&&(yt=Zn(we),we!==yt||we.tag!==5&&we.tag!==6)&&(we=null)):(ge=null,we=Y),ge!==we)){if(Ee=Qo,de="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=A,de="onPointerLeave",q="onPointerEnter",B="pointer"),yt=ge==null?ae:sa(ge),G=we==null?ae:sa(we),ae=new Ee(de,B+"leave",ge,u,ue),ae.target=yt,ae.relatedTarget=G,de=null,Hs(ue)===Y&&(Ee=new Ee(q,B+"enter",we,u,ue),Ee.target=G,Ee.relatedTarget=yt,de=Ee),yt=de,ge&&we)t:{for(Ee=ge,q=we,B=0,G=Ee;G;G=ra(G))B++;for(G=0,de=q;de;de=ra(de))G++;for(;0<B-G;)Ee=ra(Ee),B--;for(;0<G-B;)q=ra(q),G--;for(;B--;){if(Ee===q||q!==null&&Ee===q.alternate)break t;Ee=ra(Ee),q=ra(q)}Ee=null}else Ee=null;ge!==null&&jv(ce,ae,ge,Ee,!1),we!==null&&yt!==null&&jv(ce,yt,we,Ee,!0)}}e:{if(ae=Y?sa(Y):window,ge=ae.nodeName&&ae.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ae.type==="file")var Te=FP;else if(wv(ae))if(Tv)Te=zP;else{Te=BP;var Ae=UP}else(ge=ae.nodeName)&&ge.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Te=jP);if(Te&&(Te=Te(i,Y))){Ev(ce,Te,u,ue);break e}Ae&&Ae(i,ae,Y),i==="focusout"&&(Ae=ae._wrapperState)&&Ae.controlled&&ae.type==="number"&&bo(ae,"number",ae.value)}switch(Ae=Y?sa(Y):window,i){case"focusin":(wv(Ae)||Ae.contentEditable==="true")&&(ta=Ae,Ef=Y,kl=null);break;case"focusout":kl=Ef=ta=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,bv(ce,u,ue);break;case"selectionchange":if(HP)break;case"keydown":case"keyup":bv(ce,u,ue)}var Pe;if(It)e:{switch(i){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ea?vv(i,u)&&(be="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(be="onCompositionStart");be&&(Ws&&u.locale!=="ko"&&(ea||be!=="onCompositionStart"?be==="onCompositionEnd"&&ea&&(Pe=Il()):(Cn=ue,Ho="value"in Cn?Cn.value:Cn.textContent,ea=!0)),Ae=Dc(Y,be),0<Ae.length&&(be=new Cl(be,i,null,u,ue),ce.push({event:be,listeners:Ae}),Pe?be.data=Pe:(Pe=_v(u),Pe!==null&&(be.data=Pe)))),(Pe=xn?VP(i,u):LP(i,u))&&(Y=Dc(Y,"onBeforeInput"),0<Y.length&&(ue=new Cl("onBeforeInput","beforeinput",null,u,ue),ce.push({event:ue,listeners:Y}),ue.data=Pe))}Uv(ce,o)})}function Vl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Dc(i,o){for(var u=o+"Capture",d=[];i!==null;){var g=i,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=gt(i,u),v!=null&&d.unshift(Vl(i,v,g)),v=gt(i,o),v!=null&&d.push(Vl(i,v,g))),i=i.return}return d}function ra(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function jv(i,o,u,d,g){for(var v=o._reactName,I=[];u!==null&&u!==d;){var k=u,O=k.alternate,Y=k.stateNode;if(O!==null&&O===d)break;k.tag===5&&Y!==null&&(k=Y,g?(O=gt(u,v),O!=null&&I.unshift(Vl(u,O,k))):g||(O=gt(u,v),O!=null&&I.push(Vl(u,O,k)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var QP=/\r\n?/g,YP=/\u0000|\uFFFD/g;function zv(i){return(typeof i=="string"?i:""+i).replace(QP,`
`).replace(YP,"")}function Vc(i,o,u){if(o=zv(o),zv(i)!==o&&u)throw Error(n(425))}function Lc(){}var xf=null,Rf=null;function bf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,XP=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,JP=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(i){return $v.resolve(null).then(i).catch(ZP)}:kf;function ZP(i){setTimeout(function(){throw i})}function Nf(i,o){var u=o,d=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(d===0){i.removeChild(g),ir(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=g}while(u);ir(o)}function ji(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Wv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var ia=Math.random().toString(36).slice(2),Cr="__reactFiber$"+ia,Ll="__reactProps$"+ia,ri="__reactContainer$"+ia,Df="__reactEvents$"+ia,eC="__reactListeners$"+ia,tC="__reactHandles$"+ia;function Hs(i){var o=i[Cr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ri]||u[Cr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Wv(i);i!==null;){if(u=i[Cr])return u;i=Wv(i)}return o}i=u,u=i.parentNode}return null}function Ol(i){return i=i[Cr]||i[ri],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function sa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Oc(i){return i[Ll]||null}var Vf=[],oa=-1;function zi(i){return{current:i}}function tt(i){0>oa||(i.current=Vf[oa],Vf[oa]=null,oa--)}function Ye(i,o){oa++,Vf[oa]=i.current,i.current=o}var $i={},Yt=zi($i),mn=zi(!1),qs=$i;function aa(i,o){var u=i.type.contextTypes;if(!u)return $i;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in u)g[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function gn(i){return i=i.childContextTypes,i!=null}function Mc(){tt(mn),tt(Yt)}function Hv(i,o,u){if(Yt.current!==$i)throw Error(n(168));Ye(Yt,o),Ye(mn,u)}function qv(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var g in d)if(!(g in o))throw Error(n(108,J(i)||"Unknown",g));return le({},u,d)}function Fc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||$i,qs=Yt.current,Ye(Yt,i),Ye(mn,mn.current),!0}function Gv(i,o,u){var d=i.stateNode;if(!d)throw Error(n(169));u?(i=qv(i,o,qs),d.__reactInternalMemoizedMergedChildContext=i,tt(mn),tt(Yt),Ye(Yt,i)):tt(mn),Ye(mn,u)}var ii=null,Uc=!1,Lf=!1;function Kv(i){ii===null?ii=[i]:ii.push(i)}function nC(i){Uc=!0,Kv(i)}function Wi(){if(!Lf&&ii!==null){Lf=!0;var i=0,o=Be;try{var u=ii;for(Be=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}ii=null,Uc=!1}catch(g){throw ii!==null&&(ii=ii.slice(i+1)),Bo(Ms,Wi),g}finally{Be=o,Lf=!1}}return null}var la=[],ua=0,Bc=null,jc=0,Un=[],Bn=0,Gs=null,si=1,oi="";function Ks(i,o){la[ua++]=jc,la[ua++]=Bc,Bc=i,jc=o}function Qv(i,o,u){Un[Bn++]=si,Un[Bn++]=oi,Un[Bn++]=Gs,Gs=i;var d=si;i=oi;var g=32-on(d)-1;d&=~(1<<g),u+=1;var v=32-on(o)+g;if(30<v){var I=g-g%5;v=(d&(1<<I)-1).toString(32),d>>=I,g-=I,si=1<<32-on(o)+g|u<<g|d,oi=v+i}else si=1<<v|u<<g|d,oi=i}function Of(i){i.return!==null&&(Ks(i,1),Qv(i,1,0))}function Mf(i){for(;i===Bc;)Bc=la[--ua],la[ua]=null,jc=la[--ua],la[ua]=null;for(;i===Gs;)Gs=Un[--Bn],Un[Bn]=null,oi=Un[--Bn],Un[Bn]=null,si=Un[--Bn],Un[Bn]=null}var Rn=null,bn=null,rt=!1,ar=null;function Yv(i,o){var u=Wn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Xv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Rn=i,bn=ji(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Rn=i,bn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Gs!==null?{id:si,overflow:oi}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Wn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Rn=i,bn=null,!0):!1;default:return!1}}function Ff(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Uf(i){if(rt){var o=bn;if(o){var u=o;if(!Xv(i,o)){if(Ff(i))throw Error(n(418));o=ji(u.nextSibling);var d=Rn;o&&Xv(i,o)?Yv(d,u):(i.flags=i.flags&-4097|2,rt=!1,Rn=i)}}else{if(Ff(i))throw Error(n(418));i.flags=i.flags&-4097|2,rt=!1,Rn=i}}}function Jv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Rn=i}function zc(i){if(i!==Rn)return!1;if(!rt)return Jv(i),rt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!bf(i.type,i.memoizedProps)),o&&(o=bn)){if(Ff(i))throw Zv(),Error(n(418));for(;o;)Yv(i,o),o=ji(o.nextSibling)}if(Jv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){bn=ji(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}bn=null}}else bn=Rn?ji(i.stateNode.nextSibling):null;return!0}function Zv(){for(var i=bn;i;)i=ji(i.nextSibling)}function ca(){bn=Rn=null,rt=!1}function Bf(i){ar===null?ar=[i]:ar.push(i)}var rC=re.ReactCurrentBatchConfig;function Ml(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,i));var g=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(I){var k=g.refs;I===null?delete k[v]:k[v]=I},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function $c(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function e_(i){var o=i._init;return o(i._payload)}function t_(i){function o(q,B){if(i){var G=q.deletions;G===null?(q.deletions=[B],q.flags|=16):G.push(B)}}function u(q,B){if(!i)return null;for(;B!==null;)o(q,B),B=B.sibling;return null}function d(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function g(q,B){return q=Ji(q,B),q.index=0,q.sibling=null,q}function v(q,B,G){return q.index=G,i?(G=q.alternate,G!==null?(G=G.index,G<B?(q.flags|=2,B):G):(q.flags|=2,B)):(q.flags|=1048576,B)}function I(q){return i&&q.alternate===null&&(q.flags|=2),q}function k(q,B,G,de){return B===null||B.tag!==6?(B=kp(G,q.mode,de),B.return=q,B):(B=g(B,G),B.return=q,B)}function O(q,B,G,de){var Te=G.type;return Te===V?ue(q,B,G.props.children,de,G.key):B!==null&&(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===te&&e_(Te)===B.type)?(de=g(B,G.props),de.ref=Ml(q,B,G),de.return=q,de):(de=fh(G.type,G.key,G.props,null,q.mode,de),de.ref=Ml(q,B,G),de.return=q,de)}function Y(q,B,G,de){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Np(G,q.mode,de),B.return=q,B):(B=g(B,G.children||[]),B.return=q,B)}function ue(q,B,G,de,Te){return B===null||B.tag!==7?(B=no(G,q.mode,de,Te),B.return=q,B):(B=g(B,G),B.return=q,B)}function ce(q,B,G){if(typeof B=="string"&&B!==""||typeof B=="number")return B=kp(""+B,q.mode,G),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case oe:return G=fh(B.type,B.key,B.props,null,q.mode,G),G.ref=Ml(q,null,B),G.return=q,G;case he:return B=Np(B,q.mode,G),B.return=q,B;case te:var de=B._init;return ce(q,de(B._payload),G)}if(Kr(B)||ne(B))return B=no(B,q.mode,G,null),B.return=q,B;$c(q,B)}return null}function ae(q,B,G,de){var Te=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Te!==null?null:k(q,B,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case oe:return G.key===Te?O(q,B,G,de):null;case he:return G.key===Te?Y(q,B,G,de):null;case te:return Te=G._init,ae(q,B,Te(G._payload),de)}if(Kr(G)||ne(G))return Te!==null?null:ue(q,B,G,de,null);$c(q,G)}return null}function ge(q,B,G,de,Te){if(typeof de=="string"&&de!==""||typeof de=="number")return q=q.get(G)||null,k(B,q,""+de,Te);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case oe:return q=q.get(de.key===null?G:de.key)||null,O(B,q,de,Te);case he:return q=q.get(de.key===null?G:de.key)||null,Y(B,q,de,Te);case te:var Ae=de._init;return ge(q,B,G,Ae(de._payload),Te)}if(Kr(de)||ne(de))return q=q.get(G)||null,ue(B,q,de,Te,null);$c(B,de)}return null}function we(q,B,G,de){for(var Te=null,Ae=null,Pe=B,be=B=0,Ut=null;Pe!==null&&be<G.length;be++){Pe.index>be?(Ut=Pe,Pe=null):Ut=Pe.sibling;var We=ae(q,Pe,G[be],de);if(We===null){Pe===null&&(Pe=Ut);break}i&&Pe&&We.alternate===null&&o(q,Pe),B=v(We,B,be),Ae===null?Te=We:Ae.sibling=We,Ae=We,Pe=Ut}if(be===G.length)return u(q,Pe),rt&&Ks(q,be),Te;if(Pe===null){for(;be<G.length;be++)Pe=ce(q,G[be],de),Pe!==null&&(B=v(Pe,B,be),Ae===null?Te=Pe:Ae.sibling=Pe,Ae=Pe);return rt&&Ks(q,be),Te}for(Pe=d(q,Pe);be<G.length;be++)Ut=ge(Pe,q,be,G[be],de),Ut!==null&&(i&&Ut.alternate!==null&&Pe.delete(Ut.key===null?be:Ut.key),B=v(Ut,B,be),Ae===null?Te=Ut:Ae.sibling=Ut,Ae=Ut);return i&&Pe.forEach(function(Zi){return o(q,Zi)}),rt&&Ks(q,be),Te}function Ee(q,B,G,de){var Te=ne(G);if(typeof Te!="function")throw Error(n(150));if(G=Te.call(G),G==null)throw Error(n(151));for(var Ae=Te=null,Pe=B,be=B=0,Ut=null,We=G.next();Pe!==null&&!We.done;be++,We=G.next()){Pe.index>be?(Ut=Pe,Pe=null):Ut=Pe.sibling;var Zi=ae(q,Pe,We.value,de);if(Zi===null){Pe===null&&(Pe=Ut);break}i&&Pe&&Zi.alternate===null&&o(q,Pe),B=v(Zi,B,be),Ae===null?Te=Zi:Ae.sibling=Zi,Ae=Zi,Pe=Ut}if(We.done)return u(q,Pe),rt&&Ks(q,be),Te;if(Pe===null){for(;!We.done;be++,We=G.next())We=ce(q,We.value,de),We!==null&&(B=v(We,B,be),Ae===null?Te=We:Ae.sibling=We,Ae=We);return rt&&Ks(q,be),Te}for(Pe=d(q,Pe);!We.done;be++,We=G.next())We=ge(Pe,q,be,We.value,de),We!==null&&(i&&We.alternate!==null&&Pe.delete(We.key===null?be:We.key),B=v(We,B,be),Ae===null?Te=We:Ae.sibling=We,Ae=We);return i&&Pe.forEach(function(OC){return o(q,OC)}),rt&&Ks(q,be),Te}function yt(q,B,G,de){if(typeof G=="object"&&G!==null&&G.type===V&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case oe:e:{for(var Te=G.key,Ae=B;Ae!==null;){if(Ae.key===Te){if(Te=G.type,Te===V){if(Ae.tag===7){u(q,Ae.sibling),B=g(Ae,G.props.children),B.return=q,q=B;break e}}else if(Ae.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===te&&e_(Te)===Ae.type){u(q,Ae.sibling),B=g(Ae,G.props),B.ref=Ml(q,Ae,G),B.return=q,q=B;break e}u(q,Ae);break}else o(q,Ae);Ae=Ae.sibling}G.type===V?(B=no(G.props.children,q.mode,de,G.key),B.return=q,q=B):(de=fh(G.type,G.key,G.props,null,q.mode,de),de.ref=Ml(q,B,G),de.return=q,q=de)}return I(q);case he:e:{for(Ae=G.key;B!==null;){if(B.key===Ae)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){u(q,B.sibling),B=g(B,G.children||[]),B.return=q,q=B;break e}else{u(q,B);break}else o(q,B);B=B.sibling}B=Np(G,q.mode,de),B.return=q,q=B}return I(q);case te:return Ae=G._init,yt(q,B,Ae(G._payload),de)}if(Kr(G))return we(q,B,G,de);if(ne(G))return Ee(q,B,G,de);$c(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,B!==null&&B.tag===6?(u(q,B.sibling),B=g(B,G),B.return=q,q=B):(u(q,B),B=kp(G,q.mode,de),B.return=q,q=B),I(q)):u(q,B)}return yt}var ha=t_(!0),n_=t_(!1),Wc=zi(null),Hc=null,da=null,jf=null;function zf(){jf=da=Hc=null}function $f(i){var o=Wc.current;tt(Wc),i._currentValue=o}function Wf(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function fa(i,o){Hc=i,jf=da=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(yn=!0),i.firstContext=null)}function jn(i){var o=i._currentValue;if(jf!==i)if(i={context:i,memoizedValue:o,next:null},da===null){if(Hc===null)throw Error(n(308));da=i,Hc.dependencies={lanes:0,firstContext:i}}else da=da.next=i;return o}var Qs=null;function Hf(i){Qs===null?Qs=[i]:Qs.push(i)}function r_(i,o,u,d){var g=o.interleaved;return g===null?(u.next=u,Hf(o)):(u.next=g.next,g.next=u),o.interleaved=u,ai(i,d)}function ai(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Hi=!1;function qf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i_(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function li(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function qi(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,($e&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,ai(i,u)}return g=d.interleaved,g===null?(o.next=o,Hf(d)):(o.next=g.next,g.next=o),d.interleaved=o,ai(i,u)}function qc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Li(i,u)}}function s_(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?g=v=I:v=v.next=I,u=u.next}while(u!==null);v===null?g=v=o:v=v.next=o}else g=v=o;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Gc(i,o,u,d){var g=i.updateQueue;Hi=!1;var v=g.firstBaseUpdate,I=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var O=k,Y=O.next;O.next=null,I===null?v=Y:I.next=Y,I=O;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,k=ue.lastBaseUpdate,k!==I&&(k===null?ue.firstBaseUpdate=Y:k.next=Y,ue.lastBaseUpdate=O))}if(v!==null){var ce=g.baseState;I=0,ue=Y=O=null,k=v;do{var ae=k.lane,ge=k.eventTime;if((d&ae)===ae){ue!==null&&(ue=ue.next={eventTime:ge,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var we=i,Ee=k;switch(ae=o,ge=u,Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){ce=we.call(ge,ce,ae);break e}ce=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,ae=typeof we=="function"?we.call(ge,ce,ae):we,ae==null)break e;ce=le({},ce,ae);break e;case 2:Hi=!0}}k.callback!==null&&k.lane!==0&&(i.flags|=64,ae=g.effects,ae===null?g.effects=[k]:ae.push(k))}else ge={eventTime:ge,lane:ae,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ue===null?(Y=ue=ge,O=ce):ue=ue.next=ge,I|=ae;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;ae=k,k=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);if(ue===null&&(O=ce),g.baseState=O,g.firstBaseUpdate=Y,g.lastBaseUpdate=ue,o=g.shared.interleaved,o!==null){g=o;do I|=g.lane,g=g.next;while(g!==o)}else v===null&&(g.shared.lanes=0);Js|=I,i.lanes=I,i.memoizedState=ce}}function o_(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],g=d.callback;if(g!==null){if(d.callback=null,d=u,typeof g!="function")throw Error(n(191,g));g.call(d)}}}var Fl={},xr=zi(Fl),Ul=zi(Fl),Bl=zi(Fl);function Ys(i){if(i===Fl)throw Error(n(174));return i}function Gf(i,o){switch(Ye(Bl,o),Ye(Ul,i),Ye(xr,Fl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:kt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=kt(o,i)}tt(xr),Ye(xr,o)}function pa(){tt(xr),tt(Ul),tt(Bl)}function a_(i){Ys(Bl.current);var o=Ys(xr.current),u=kt(o,i.type);o!==u&&(Ye(Ul,i),Ye(xr,u))}function Kf(i){Ul.current===i&&(tt(xr),tt(Ul))}var at=zi(0);function Kc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Qf=[];function Yf(){for(var i=0;i<Qf.length;i++)Qf[i]._workInProgressVersionPrimary=null;Qf.length=0}var Qc=re.ReactCurrentDispatcher,Xf=re.ReactCurrentBatchConfig,Xs=0,lt=null,Dt=null,Mt=null,Yc=!1,jl=!1,zl=0,iC=0;function Xt(){throw Error(n(321))}function Jf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!or(i[u],o[u]))return!1;return!0}function Zf(i,o,u,d,g,v){if(Xs=v,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Qc.current=i===null||i.memoizedState===null?lC:uC,i=u(d,g),jl){v=0;do{if(jl=!1,zl=0,25<=v)throw Error(n(301));v+=1,Mt=Dt=null,o.updateQueue=null,Qc.current=cC,i=u(d,g)}while(jl)}if(Qc.current=Zc,o=Dt!==null&&Dt.next!==null,Xs=0,Mt=Dt=lt=null,Yc=!1,o)throw Error(n(300));return i}function ep(){var i=zl!==0;return zl=0,i}function Rr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?lt.memoizedState=Mt=i:Mt=Mt.next=i,Mt}function zn(){if(Dt===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Dt.next;var o=Mt===null?lt.memoizedState:Mt.next;if(o!==null)Mt=o,Dt=i;else{if(i===null)throw Error(n(310));Dt=i,i={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Mt===null?lt.memoizedState=Mt=i:Mt=Mt.next=i}return Mt}function $l(i,o){return typeof o=="function"?o(i):o}function tp(i){var o=zn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=Dt,g=d.baseQueue,v=u.pending;if(v!==null){if(g!==null){var I=g.next;g.next=v.next,v.next=I}d.baseQueue=g=v,u.pending=null}if(g!==null){v=g.next,d=d.baseState;var k=I=null,O=null,Y=v;do{var ue=Y.lane;if((Xs&ue)===ue)O!==null&&(O=O.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:i(d,Y.action);else{var ce={lane:ue,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};O===null?(k=O=ce,I=d):O=O.next=ce,lt.lanes|=ue,Js|=ue}Y=Y.next}while(Y!==null&&Y!==v);O===null?I=d:O.next=k,or(d,o.memoizedState)||(yn=!0),o.memoizedState=d,o.baseState=I,o.baseQueue=O,u.lastRenderedState=d}if(i=u.interleaved,i!==null){g=i;do v=g.lane,lt.lanes|=v,Js|=v,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function np(i){var o=zn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=u.dispatch,g=u.pending,v=o.memoizedState;if(g!==null){u.pending=null;var I=g=g.next;do v=i(v,I.action),I=I.next;while(I!==g);or(v,o.memoizedState)||(yn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function l_(){}function u_(i,o){var u=lt,d=zn(),g=o(),v=!or(d.memoizedState,g);if(v&&(d.memoizedState=g,yn=!0),d=d.queue,rp(d_.bind(null,u,d,i),[i]),d.getSnapshot!==o||v||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,Wl(9,h_.bind(null,u,d,g,o),void 0,null),Ft===null)throw Error(n(349));(Xs&30)!==0||c_(u,o,g)}return g}function c_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function h_(i,o,u,d){o.value=u,o.getSnapshot=d,f_(o)&&p_(i)}function d_(i,o,u){return u(function(){f_(o)&&p_(i)})}function f_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!or(i,u)}catch{return!0}}function p_(i){var o=ai(i,1);o!==null&&hr(o,i,1,-1)}function m_(i){var o=Rr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:i},o.queue=i,i=i.dispatch=aC.bind(null,lt,i),[o.memoizedState,i]}function Wl(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function g_(){return zn().memoizedState}function Xc(i,o,u,d){var g=Rr();lt.flags|=i,g.memoizedState=Wl(1|o,u,void 0,d===void 0?null:d)}function Jc(i,o,u,d){var g=zn();d=d===void 0?null:d;var v=void 0;if(Dt!==null){var I=Dt.memoizedState;if(v=I.destroy,d!==null&&Jf(d,I.deps)){g.memoizedState=Wl(o,u,v,d);return}}lt.flags|=i,g.memoizedState=Wl(1|o,u,v,d)}function y_(i,o){return Xc(8390656,8,i,o)}function rp(i,o){return Jc(2048,8,i,o)}function v_(i,o){return Jc(4,2,i,o)}function __(i,o){return Jc(4,4,i,o)}function w_(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function E_(i,o,u){return u=u!=null?u.concat([i]):null,Jc(4,4,w_.bind(null,o,i),u)}function ip(){}function T_(i,o){var u=zn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Jf(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function S_(i,o){var u=zn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Jf(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function I_(i,o,u){return(Xs&21)===0?(i.baseState&&(i.baseState=!1,yn=!0),i.memoizedState=u):(or(u,o)||(u=Bs(),lt.lanes|=u,Js|=u,i.baseState=!0),o)}function sC(i,o){var u=Be;Be=u!==0&&4>u?u:4,i(!0);var d=Xf.transition;Xf.transition={};try{i(!1),o()}finally{Be=u,Xf.transition=d}}function A_(){return zn().memoizedState}function oC(i,o,u){var d=Yi(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},P_(i))C_(o,u);else if(u=r_(i,o,u,d),u!==null){var g=un();hr(u,i,d,g),x_(u,o,d)}}function aC(i,o,u){var d=Yi(i),g={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(P_(i))C_(o,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var I=o.lastRenderedState,k=v(I,u);if(g.hasEagerState=!0,g.eagerState=k,or(k,I)){var O=o.interleaved;O===null?(g.next=g,Hf(o)):(g.next=O.next,O.next=g),o.interleaved=g;return}}catch{}finally{}u=r_(i,o,g,d),u!==null&&(g=un(),hr(u,i,d,g),x_(u,o,d))}}function P_(i){var o=i.alternate;return i===lt||o!==null&&o===lt}function C_(i,o){jl=Yc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function x_(i,o,u){if((u&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Li(i,u)}}var Zc={readContext:jn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},lC={readContext:jn,useCallback:function(i,o){return Rr().memoizedState=[i,o===void 0?null:o],i},useContext:jn,useEffect:y_,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Xc(4194308,4,w_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Xc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Xc(4,2,i,o)},useMemo:function(i,o){var u=Rr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=Rr();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=oC.bind(null,lt,i),[d.memoizedState,i]},useRef:function(i){var o=Rr();return i={current:i},o.memoizedState=i},useState:m_,useDebugValue:ip,useDeferredValue:function(i){return Rr().memoizedState=i},useTransition:function(){var i=m_(!1),o=i[0];return i=sC.bind(null,i[1]),Rr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=lt,g=Rr();if(rt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Ft===null)throw Error(n(349));(Xs&30)!==0||c_(d,o,u)}g.memoizedState=u;var v={value:u,getSnapshot:o};return g.queue=v,y_(d_.bind(null,d,v,i),[i]),d.flags|=2048,Wl(9,h_.bind(null,d,v,u,o),void 0,null),u},useId:function(){var i=Rr(),o=Ft.identifierPrefix;if(rt){var u=oi,d=si;u=(d&~(1<<32-on(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=zl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=iC++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},uC={readContext:jn,useCallback:T_,useContext:jn,useEffect:rp,useImperativeHandle:E_,useInsertionEffect:v_,useLayoutEffect:__,useMemo:S_,useReducer:tp,useRef:g_,useState:function(){return tp($l)},useDebugValue:ip,useDeferredValue:function(i){var o=zn();return I_(o,Dt.memoizedState,i)},useTransition:function(){var i=tp($l)[0],o=zn().memoizedState;return[i,o]},useMutableSource:l_,useSyncExternalStore:u_,useId:A_,unstable_isNewReconciler:!1},cC={readContext:jn,useCallback:T_,useContext:jn,useEffect:rp,useImperativeHandle:E_,useInsertionEffect:v_,useLayoutEffect:__,useMemo:S_,useReducer:np,useRef:g_,useState:function(){return np($l)},useDebugValue:ip,useDeferredValue:function(i){var o=zn();return Dt===null?o.memoizedState=i:I_(o,Dt.memoizedState,i)},useTransition:function(){var i=np($l)[0],o=zn().memoizedState;return[i,o]},useMutableSource:l_,useSyncExternalStore:u_,useId:A_,unstable_isNewReconciler:!1};function lr(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function sp(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:le({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var eh={isMounted:function(i){return(i=i._reactInternals)?Zn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=un(),g=Yi(i),v=li(d,g);v.payload=o,u!=null&&(v.callback=u),o=qi(i,v,g),o!==null&&(hr(o,i,g,d),qc(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=un(),g=Yi(i),v=li(d,g);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=qi(i,v,g),o!==null&&(hr(o,i,g,d),qc(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=un(),d=Yi(i),g=li(u,d);g.tag=2,o!=null&&(g.callback=o),o=qi(i,g,d),o!==null&&(hr(o,i,d,u),qc(o,i,d))}};function R_(i,o,u,d,g,v,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,I):o.prototype&&o.prototype.isPureReactComponent?!bl(u,d)||!bl(g,v):!0}function b_(i,o,u){var d=!1,g=$i,v=o.contextType;return typeof v=="object"&&v!==null?v=jn(v):(g=gn(o)?qs:Yt.current,d=o.contextTypes,v=(d=d!=null)?aa(i,g):$i),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=eh,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=v),o}function k_(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&eh.enqueueReplaceState(o,o.state,null)}function op(i,o,u,d){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},qf(i);var v=o.contextType;typeof v=="object"&&v!==null?g.context=jn(v):(v=gn(o)?qs:Yt.current,g.context=aa(i,v)),g.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(sp(i,o,v,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&eh.enqueueReplaceState(g,g.state,null),Gc(i,u,g,d),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ma(i,o){try{var u="",d=o;do u+=ke(d),d=d.return;while(d);var g=u}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:g,digest:null}}function ap(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function lp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var hC=typeof WeakMap=="function"?WeakMap:Map;function N_(i,o,u){u=li(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){ah||(ah=!0,Sp=d),lp(i,o)},u}function D_(i,o,u){u=li(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;u.payload=function(){return d(g)},u.callback=function(){lp(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){lp(i,o),typeof d!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function V_(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new hC;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(u)||(g.add(u),i=AC.bind(null,i,o,u),o.then(i,i))}function L_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function O_(i,o,u,d,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=li(-1,1),o.tag=2,qi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var dC=re.ReactCurrentOwner,yn=!1;function ln(i,o,u,d){o.child=i===null?n_(o,null,u,d):ha(o,i.child,u,d)}function M_(i,o,u,d,g){u=u.render;var v=o.ref;return fa(o,g),d=Zf(i,o,u,d,v,g),u=ep(),i!==null&&!yn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ui(i,o,g)):(rt&&u&&Of(o),o.flags|=1,ln(i,o,d,g),o.child)}function F_(i,o,u,d,g){if(i===null){var v=u.type;return typeof v=="function"&&!bp(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,U_(i,o,v,d,g)):(i=fh(u.type,null,d,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&g)===0){var I=v.memoizedProps;if(u=u.compare,u=u!==null?u:bl,u(I,d)&&i.ref===o.ref)return ui(i,o,g)}return o.flags|=1,i=Ji(v,d),i.ref=o.ref,i.return=o,o.child=i}function U_(i,o,u,d,g){if(i!==null){var v=i.memoizedProps;if(bl(v,d)&&i.ref===o.ref)if(yn=!1,o.pendingProps=d=v,(i.lanes&g)!==0)(i.flags&131072)!==0&&(yn=!0);else return o.lanes=i.lanes,ui(i,o,g)}return up(i,o,u,d,g)}function B_(i,o,u){var d=o.pendingProps,g=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(ya,kn),kn|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ye(ya,kn),kn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Ye(ya,kn),kn|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,Ye(ya,kn),kn|=d;return ln(i,o,g,u),o.child}function j_(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function up(i,o,u,d,g){var v=gn(u)?qs:Yt.current;return v=aa(o,v),fa(o,g),u=Zf(i,o,u,d,v,g),d=ep(),i!==null&&!yn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ui(i,o,g)):(rt&&d&&Of(o),o.flags|=1,ln(i,o,u,g),o.child)}function z_(i,o,u,d,g){if(gn(u)){var v=!0;Fc(o)}else v=!1;if(fa(o,g),o.stateNode===null)nh(i,o),b_(o,u,d),op(o,u,d,g),d=!0;else if(i===null){var I=o.stateNode,k=o.memoizedProps;I.props=k;var O=I.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=jn(Y):(Y=gn(u)?qs:Yt.current,Y=aa(o,Y));var ue=u.getDerivedStateFromProps,ce=typeof ue=="function"||typeof I.getSnapshotBeforeUpdate=="function";ce||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(k!==d||O!==Y)&&k_(o,I,d,Y),Hi=!1;var ae=o.memoizedState;I.state=ae,Gc(o,d,I,g),O=o.memoizedState,k!==d||ae!==O||mn.current||Hi?(typeof ue=="function"&&(sp(o,u,ue,d),O=o.memoizedState),(k=Hi||R_(o,u,k,d,ae,O,Y))?(ce||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=O),I.props=d,I.state=O,I.context=Y,d=k):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{I=o.stateNode,i_(i,o),k=o.memoizedProps,Y=o.type===o.elementType?k:lr(o.type,k),I.props=Y,ce=o.pendingProps,ae=I.context,O=u.contextType,typeof O=="object"&&O!==null?O=jn(O):(O=gn(u)?qs:Yt.current,O=aa(o,O));var ge=u.getDerivedStateFromProps;(ue=typeof ge=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(k!==ce||ae!==O)&&k_(o,I,d,O),Hi=!1,ae=o.memoizedState,I.state=ae,Gc(o,d,I,g);var we=o.memoizedState;k!==ce||ae!==we||mn.current||Hi?(typeof ge=="function"&&(sp(o,u,ge,d),we=o.memoizedState),(Y=Hi||R_(o,u,Y,d,ae,we,O)||!1)?(ue||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(d,we,O),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(d,we,O)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||k===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=we),I.props=d,I.state=we,I.context=O,d=Y):(typeof I.componentDidUpdate!="function"||k===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),d=!1)}return cp(i,o,u,d,v,g)}function cp(i,o,u,d,g,v){j_(i,o);var I=(o.flags&128)!==0;if(!d&&!I)return g&&Gv(o,u,!1),ui(i,o,v);d=o.stateNode,dC.current=o;var k=I&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&I?(o.child=ha(o,i.child,null,v),o.child=ha(o,null,k,v)):ln(i,o,k,v),o.memoizedState=d.state,g&&Gv(o,u,!0),o.child}function $_(i){var o=i.stateNode;o.pendingContext?Hv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Hv(i,o.context,!1),Gf(i,o.containerInfo)}function W_(i,o,u,d,g){return ca(),Bf(g),o.flags|=256,ln(i,o,u,d),o.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function dp(i){return{baseLanes:i,cachePool:null,transitions:null}}function H_(i,o,u){var d=o.pendingProps,g=at.current,v=!1,I=(o.flags&128)!==0,k;if((k=I)||(k=i!==null&&i.memoizedState===null?!1:(g&2)!==0),k?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Ye(at,g&1),i===null)return Uf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=d.children,i=d.fallback,v?(d=o.mode,v=o.child,I={mode:"hidden",children:I},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=I):v=ph(I,d,0,null),i=no(i,d,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=dp(u),o.memoizedState=hp,i):fp(o,I));if(g=i.memoizedState,g!==null&&(k=g.dehydrated,k!==null))return fC(i,o,I,d,k,g,u);if(v){v=d.fallback,I=o.mode,g=i.child,k=g.sibling;var O={mode:"hidden",children:d.children};return(I&1)===0&&o.child!==g?(d=o.child,d.childLanes=0,d.pendingProps=O,o.deletions=null):(d=Ji(g,O),d.subtreeFlags=g.subtreeFlags&14680064),k!==null?v=Ji(k,v):(v=no(v,I,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,I=i.child.memoizedState,I=I===null?dp(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=i.childLanes&~u,o.memoizedState=hp,d}return v=i.child,i=v.sibling,d=Ji(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function fp(i,o){return o=ph({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function th(i,o,u,d){return d!==null&&Bf(d),ha(o,i.child,null,u),i=fp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function fC(i,o,u,d,g,v,I){if(u)return o.flags&256?(o.flags&=-257,d=ap(Error(n(422))),th(i,o,I,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,g=o.mode,d=ph({mode:"visible",children:d.children},g,0,null),v=no(v,g,I,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&ha(o,i.child,null,I),o.child.memoizedState=dp(I),o.memoizedState=hp,v);if((o.mode&1)===0)return th(i,o,I,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var k=d.dgst;return d=k,v=Error(n(419)),d=ap(v,d,void 0),th(i,o,I,d)}if(k=(I&i.childLanes)!==0,yn||k){if(d=Ft,d!==null){switch(I&-I){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|I))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,ai(i,g),hr(d,i,g,-1))}return Rp(),d=ap(Error(n(421))),th(i,o,I,d)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=PC.bind(null,i),g._reactRetry=o,null):(i=v.treeContext,bn=ji(g.nextSibling),Rn=o,rt=!0,ar=null,i!==null&&(Un[Bn++]=si,Un[Bn++]=oi,Un[Bn++]=Gs,si=i.id,oi=i.overflow,Gs=o),o=fp(o,d.children),o.flags|=4096,o)}function q_(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Wf(i.return,o,u)}function pp(i,o,u,d,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=g)}function G_(i,o,u){var d=o.pendingProps,g=d.revealOrder,v=d.tail;if(ln(i,o,d.children,u),d=at.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&q_(i,u,o);else if(i.tag===19)q_(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ye(at,d),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&Kc(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),pp(o,!1,g,u,v);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Kc(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}pp(o,!0,u,null,v);break;case"together":pp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function nh(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ui(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Js|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Ji(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ji(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function pC(i,o,u){switch(o.tag){case 3:$_(o),ca();break;case 5:a_(o);break;case 1:gn(o.type)&&Fc(o);break;case 4:Gf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,g=o.memoizedProps.value;Ye(Wc,d._currentValue),d._currentValue=g;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ye(at,at.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?H_(i,o,u):(Ye(at,at.current&1),i=ui(i,o,u),i!==null?i.sibling:null);Ye(at,at.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(i.flags&128)!==0){if(d)return G_(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ye(at,at.current),d)break;return null;case 22:case 23:return o.lanes=0,B_(i,o,u)}return ui(i,o,u)}var K_,mp,Q_,Y_;K_=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},mp=function(){},Q_=function(i,o,u,d){var g=i.memoizedProps;if(g!==d){i=o.stateNode,Ys(xr.current);var v=null;switch(u){case"input":g=Rs(i,g),d=Rs(i,d),v=[];break;case"select":g=le({},g,{value:void 0}),d=le({},d,{value:void 0}),v=[];break;case"textarea":g=sl(i,g),d=sl(i,d),v=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Lc)}hl(u,d);var I;u=null;for(Y in g)if(!d.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var k=g[Y];for(I in k)k.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?v||(v=[]):(v=v||[]).push(Y,null));for(Y in d){var O=d[Y];if(k=g?.[Y],d.hasOwnProperty(Y)&&O!==k&&(O!=null||k!=null))if(Y==="style")if(k){for(I in k)!k.hasOwnProperty(I)||O&&O.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in O)O.hasOwnProperty(I)&&k[I]!==O[I]&&(u||(u={}),u[I]=O[I])}else u||(v||(v=[]),v.push(Y,u)),u=O;else Y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,k=k?k.__html:void 0,O!=null&&k!==O&&(v=v||[]).push(Y,O)):Y==="children"?typeof O!="string"&&typeof O!="number"||(v=v||[]).push(Y,""+O):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(O!=null&&Y==="onScroll"&&et("scroll",i),v||k===O||(v=[])):(v=v||[]).push(Y,O))}u&&(v=v||[]).push("style",u);var Y=v;(o.updateQueue=Y)&&(o.flags|=4)}},Y_=function(i,o,u,d){u!==d&&(o.flags|=4)};function Hl(i,o){if(!rt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Jt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function mC(i,o,u){var d=o.pendingProps;switch(Mf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return gn(o.type)&&Mc(),Jt(o),null;case 3:return d=o.stateNode,pa(),tt(mn),tt(Yt),Yf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(zc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ar!==null&&(Pp(ar),ar=null))),mp(i,o),Jt(o),null;case 5:Kf(o);var g=Ys(Bl.current);if(u=o.type,i!==null&&o.stateNode!=null)Q_(i,o,u,d,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Jt(o),null}if(i=Ys(xr.current),zc(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[Cr]=o,d[Ll]=v,i=(o.mode&1)!==0,u){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(g=0;g<Nl.length;g++)et(Nl[g],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":Ro(d,v),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},et("invalid",d);break;case"textarea":ko(d,v),et("invalid",d)}hl(u,v),g=null;for(var I in v)if(v.hasOwnProperty(I)){var k=v[I];I==="children"?typeof k=="string"?d.textContent!==k&&(v.suppressHydrationWarning!==!0&&Vc(d.textContent,k,i),g=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(v.suppressHydrationWarning!==!0&&Vc(d.textContent,k,i),g=["children",""+k]):s.hasOwnProperty(I)&&k!=null&&I==="onScroll"&&et("scroll",d)}switch(u){case"input":Gr(d),oc(d,v,!0);break;case"textarea":Gr(d),ol(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Lc)}d=g,o.updateQueue=d,d!==null&&(o.flags|=4)}else{I=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=bt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=I.createElement(u,{is:d.is}):(i=I.createElement(u),u==="select"&&(I=i,d.multiple?I.multiple=!0:d.size&&(I.size=d.size))):i=I.createElementNS(i,u),i[Cr]=o,i[Ll]=d,K_(i,o,!1,!1),o.stateNode=i;e:{switch(I=dl(u,d),u){case"dialog":et("cancel",i),et("close",i),g=d;break;case"iframe":case"object":case"embed":et("load",i),g=d;break;case"video":case"audio":for(g=0;g<Nl.length;g++)et(Nl[g],i);g=d;break;case"source":et("error",i),g=d;break;case"img":case"image":case"link":et("error",i),et("load",i),g=d;break;case"details":et("toggle",i),g=d;break;case"input":Ro(i,d),g=Rs(i,d),et("invalid",i);break;case"option":g=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},g=le({},d,{value:void 0}),et("invalid",i);break;case"textarea":ko(i,d),g=sl(i,d),et("invalid",i);break;default:g=d}hl(u,g),k=g;for(v in k)if(k.hasOwnProperty(v)){var O=k[v];v==="style"?ul(i,O):v==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&al(i,O)):v==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&bi(i,O):typeof O=="number"&&bi(i,""+O):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?O!=null&&v==="onScroll"&&et("scroll",i):O!=null&&j(i,v,O,I))}switch(u){case"input":Gr(i),oc(i,d,!1);break;case"textarea":Gr(i),ol(i);break;case"option":d.value!=null&&i.setAttribute("value",""+ye(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?Qr(i,!!d.multiple,v,!1):d.defaultValue!=null&&Qr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Lc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(i&&o.stateNode!=null)Y_(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=Ys(Bl.current),Ys(xr.current),zc(o)){if(d=o.stateNode,u=o.memoizedProps,d[Cr]=o,(v=d.nodeValue!==u)&&(i=Rn,i!==null))switch(i.tag){case 3:Vc(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Vc(d.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Cr]=o,o.stateNode=d}return Jt(o),null;case 13:if(tt(at),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(rt&&bn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Zv(),ca(),o.flags|=98560,v=!1;else if(v=zc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Cr]=o}else ca(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),v=!1}else ar!==null&&(Pp(ar),ar=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(at.current&1)!==0?Vt===0&&(Vt=3):Rp())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return pa(),mp(i,o),i===null&&Dl(o.stateNode.containerInfo),Jt(o),null;case 10:return $f(o.type._context),Jt(o),null;case 17:return gn(o.type)&&Mc(),Jt(o),null;case 19:if(tt(at),v=o.memoizedState,v===null)return Jt(o),null;if(d=(o.flags&128)!==0,I=v.rendering,I===null)if(d)Hl(v,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(I=Kc(i),I!==null){for(o.flags|=128,Hl(v,!1),d=I.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,i=d,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,i=I.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ye(at,at.current&1|2),o.child}i=i.sibling}v.tail!==null&&Qe()>va&&(o.flags|=128,d=!0,Hl(v,!1),o.lanes=4194304)}else{if(!d)if(i=Kc(I),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Hl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!rt)return Jt(o),null}else 2*Qe()-v.renderingStartTime>va&&u!==1073741824&&(o.flags|=128,d=!0,Hl(v,!1),o.lanes=4194304);v.isBackwards?(I.sibling=o.child,o.child=I):(u=v.last,u!==null?u.sibling=I:o.child=I,v.last=I)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Qe(),o.sibling=null,u=at.current,Ye(at,d?u&1|2:u&1),o):(Jt(o),null);case 22:case 23:return xp(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(kn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function gC(i,o){switch(Mf(o),o.tag){case 1:return gn(o.type)&&Mc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return pa(),tt(mn),tt(Yt),Yf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Kf(o),null;case 13:if(tt(at),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ca()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return tt(at),null;case 4:return pa(),null;case 10:return $f(o.type._context),null;case 22:case 23:return xp(),null;case 24:return null;default:return null}}var rh=!1,Zt=!1,yC=typeof WeakSet=="function"?WeakSet:Set,_e=null;function ga(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){dt(i,o,d)}else u.current=null}function gp(i,o,u){try{u()}catch(d){dt(i,o,d)}}var X_=!1;function vC(i,o){if(xf=Fi,i=Rv(),wf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var I=0,k=-1,O=-1,Y=0,ue=0,ce=i,ae=null;t:for(;;){for(var ge;ce!==u||g!==0&&ce.nodeType!==3||(k=I+g),ce!==v||d!==0&&ce.nodeType!==3||(O=I+d),ce.nodeType===3&&(I+=ce.nodeValue.length),(ge=ce.firstChild)!==null;)ae=ce,ce=ge;for(;;){if(ce===i)break t;if(ae===u&&++Y===g&&(k=I),ae===v&&++ue===d&&(O=I),(ge=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=ge}u=k===-1||O===-1?null:{start:k,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rf={focusedElem:i,selectionRange:u},Fi=!1,_e=o;_e!==null;)if(o=_e,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,_e=i;else for(;_e!==null;){o=_e;try{var we=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ee=we.memoizedProps,yt=we.memoizedState,q=o.stateNode,B=q.getSnapshotBeforeUpdate(o.elementType===o.type?Ee:lr(o.type,Ee),yt);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){dt(o,o.return,de)}if(i=o.sibling,i!==null){i.return=o.return,_e=i;break}_e=o.return}return we=X_,X_=!1,we}function ql(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&i)===i){var v=g.destroy;g.destroy=void 0,v!==void 0&&gp(o,u,v)}g=g.next}while(g!==d)}}function ih(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function yp(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function J_(i){var o=i.alternate;o!==null&&(i.alternate=null,J_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Cr],delete o[Ll],delete o[Df],delete o[eC],delete o[tC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Z_(i){return i.tag===5||i.tag===3||i.tag===4}function ew(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Z_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vp(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Lc));else if(d!==4&&(i=i.child,i!==null))for(vp(i,o,u),i=i.sibling;i!==null;)vp(i,o,u),i=i.sibling}function _p(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(_p(i,o,u),i=i.sibling;i!==null;)_p(i,o,u),i=i.sibling}var Wt=null,ur=!1;function Gi(i,o,u){for(u=u.child;u!==null;)tw(i,o,u),u=u.sibling}function tw(i,o,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Fs,u)}catch{}switch(u.tag){case 5:Zt||ga(u,o);case 6:var d=Wt,g=ur;Wt=null,Gi(i,o,u),Wt=d,ur=g,Wt!==null&&(ur?(i=Wt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Wt.removeChild(u.stateNode));break;case 18:Wt!==null&&(ur?(i=Wt,u=u.stateNode,i.nodeType===8?Nf(i.parentNode,u):i.nodeType===1&&Nf(i,u),ir(i)):Nf(Wt,u.stateNode));break;case 4:d=Wt,g=ur,Wt=u.stateNode.containerInfo,ur=!0,Gi(i,o,u),Wt=d,ur=g;break;case 0:case 11:case 14:case 15:if(!Zt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var v=g,I=v.destroy;v=v.tag,I!==void 0&&((v&2)!==0||(v&4)!==0)&&gp(u,o,I),g=g.next}while(g!==d)}Gi(i,o,u);break;case 1:if(!Zt&&(ga(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(k){dt(u,o,k)}Gi(i,o,u);break;case 21:Gi(i,o,u);break;case 22:u.mode&1?(Zt=(d=Zt)||u.memoizedState!==null,Gi(i,o,u),Zt=d):Gi(i,o,u);break;default:Gi(i,o,u)}}function nw(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new yC),o.forEach(function(d){var g=CC.bind(null,i,d);u.has(d)||(u.add(d),d.then(g,g))})}}function cr(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];try{var v=i,I=o,k=I;e:for(;k!==null;){switch(k.tag){case 5:Wt=k.stateNode,ur=!1;break e;case 3:Wt=k.stateNode.containerInfo,ur=!0;break e;case 4:Wt=k.stateNode.containerInfo,ur=!0;break e}k=k.return}if(Wt===null)throw Error(n(160));tw(v,I,g),Wt=null,ur=!1;var O=g.alternate;O!==null&&(O.return=null),g.return=null}catch(Y){dt(g,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)rw(o,i),o=o.sibling}function rw(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(cr(o,i),br(i),d&4){try{ql(3,i,i.return),ih(3,i)}catch(Ee){dt(i,i.return,Ee)}try{ql(5,i,i.return)}catch(Ee){dt(i,i.return,Ee)}}break;case 1:cr(o,i),br(i),d&512&&u!==null&&ga(u,u.return);break;case 5:if(cr(o,i),br(i),d&512&&u!==null&&ga(u,u.return),i.flags&32){var g=i.stateNode;try{bi(g,"")}catch(Ee){dt(i,i.return,Ee)}}if(d&4&&(g=i.stateNode,g!=null)){var v=i.memoizedProps,I=u!==null?u.memoizedProps:v,k=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{k==="input"&&v.type==="radio"&&v.name!=null&&rl(g,v),dl(k,I);var Y=dl(k,v);for(I=0;I<O.length;I+=2){var ue=O[I],ce=O[I+1];ue==="style"?ul(g,ce):ue==="dangerouslySetInnerHTML"?al(g,ce):ue==="children"?bi(g,ce):j(g,ue,ce,Y)}switch(k){case"input":il(g,v);break;case"textarea":No(g,v);break;case"select":var ae=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var ge=v.value;ge!=null?Qr(g,!!v.multiple,ge,!1):ae!==!!v.multiple&&(v.defaultValue!=null?Qr(g,!!v.multiple,v.defaultValue,!0):Qr(g,!!v.multiple,v.multiple?[]:"",!1))}g[Ll]=v}catch(Ee){dt(i,i.return,Ee)}}break;case 6:if(cr(o,i),br(i),d&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,v=i.memoizedProps;try{g.nodeValue=v}catch(Ee){dt(i,i.return,Ee)}}break;case 3:if(cr(o,i),br(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ir(o.containerInfo)}catch(Ee){dt(i,i.return,Ee)}break;case 4:cr(o,i),br(i);break;case 13:cr(o,i),br(i),g=i.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Tp=Qe())),d&4&&nw(i);break;case 22:if(ue=u!==null&&u.memoizedState!==null,i.mode&1?(Zt=(Y=Zt)||ue,cr(o,i),Zt=Y):cr(o,i),br(i),d&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!ue&&(i.mode&1)!==0)for(_e=i,ue=i.child;ue!==null;){for(ce=_e=ue;_e!==null;){switch(ae=_e,ge=ae.child,ae.tag){case 0:case 11:case 14:case 15:ql(4,ae,ae.return);break;case 1:ga(ae,ae.return);var we=ae.stateNode;if(typeof we.componentWillUnmount=="function"){d=ae,u=ae.return;try{o=d,we.props=o.memoizedProps,we.state=o.memoizedState,we.componentWillUnmount()}catch(Ee){dt(d,u,Ee)}}break;case 5:ga(ae,ae.return);break;case 22:if(ae.memoizedState!==null){ow(ce);continue}}ge!==null?(ge.return=ae,_e=ge):ow(ce)}ue=ue.sibling}e:for(ue=null,ce=i;;){if(ce.tag===5){if(ue===null){ue=ce;try{g=ce.stateNode,Y?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(k=ce.stateNode,O=ce.memoizedProps.style,I=O!=null&&O.hasOwnProperty("display")?O.display:null,k.style.display=ll("display",I))}catch(Ee){dt(i,i.return,Ee)}}}else if(ce.tag===6){if(ue===null)try{ce.stateNode.nodeValue=Y?"":ce.memoizedProps}catch(Ee){dt(i,i.return,Ee)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===i)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===i)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===i)break e;ue===ce&&(ue=null),ce=ce.return}ue===ce&&(ue=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:cr(o,i),br(i),d&4&&nw(i);break;case 21:break;default:cr(o,i),br(i)}}function br(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Z_(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(bi(g,""),d.flags&=-33);var v=ew(i);_p(i,v,g);break;case 3:case 4:var I=d.stateNode.containerInfo,k=ew(i);vp(i,k,I);break;default:throw Error(n(161))}}catch(O){dt(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function _C(i,o,u){_e=i,iw(i)}function iw(i,o,u){for(var d=(i.mode&1)!==0;_e!==null;){var g=_e,v=g.child;if(g.tag===22&&d){var I=g.memoizedState!==null||rh;if(!I){var k=g.alternate,O=k!==null&&k.memoizedState!==null||Zt;k=rh;var Y=Zt;if(rh=I,(Zt=O)&&!Y)for(_e=g;_e!==null;)I=_e,O=I.child,I.tag===22&&I.memoizedState!==null?aw(g):O!==null?(O.return=I,_e=O):aw(g);for(;v!==null;)_e=v,iw(v),v=v.sibling;_e=g,rh=k,Zt=Y}sw(i)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,_e=v):sw(i)}}function sw(i){for(;_e!==null;){var o=_e;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Zt||ih(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Zt)if(u===null)d.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:lr(o.type,u.memoizedProps);d.componentDidUpdate(g,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&o_(o,v,d);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}o_(o,I,u)}break;case 5:var k=o.stateNode;if(u===null&&o.flags&4){u=k;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var ue=Y.memoizedState;if(ue!==null){var ce=ue.dehydrated;ce!==null&&ir(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zt||o.flags&512&&yp(o)}catch(ae){dt(o,o.return,ae)}}if(o===i){_e=null;break}if(u=o.sibling,u!==null){u.return=o.return,_e=u;break}_e=o.return}}function ow(i){for(;_e!==null;){var o=_e;if(o===i){_e=null;break}var u=o.sibling;if(u!==null){u.return=o.return,_e=u;break}_e=o.return}}function aw(i){for(;_e!==null;){var o=_e;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{ih(4,o)}catch(O){dt(o,u,O)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var g=o.return;try{d.componentDidMount()}catch(O){dt(o,g,O)}}var v=o.return;try{yp(o)}catch(O){dt(o,v,O)}break;case 5:var I=o.return;try{yp(o)}catch(O){dt(o,I,O)}}}catch(O){dt(o,o.return,O)}if(o===i){_e=null;break}var k=o.sibling;if(k!==null){k.return=o.return,_e=k;break}_e=o.return}}var wC=Math.ceil,sh=re.ReactCurrentDispatcher,wp=re.ReactCurrentOwner,$n=re.ReactCurrentBatchConfig,$e=0,Ft=null,At=null,Ht=0,kn=0,ya=zi(0),Vt=0,Gl=null,Js=0,oh=0,Ep=0,Kl=null,vn=null,Tp=0,va=1/0,ci=null,ah=!1,Sp=null,Ki=null,lh=!1,Qi=null,uh=0,Ql=0,Ip=null,ch=-1,hh=0;function un(){return($e&6)!==0?Qe():ch!==-1?ch:ch=Qe()}function Yi(i){return(i.mode&1)===0?1:($e&2)!==0&&Ht!==0?Ht&-Ht:rC.transition!==null?(hh===0&&(hh=Bs()),hh):(i=Be,i!==0||(i=window.event,i=i===void 0?16:Sl(i.type)),i)}function hr(i,o,u,d){if(50<Ql)throw Ql=0,Ip=null,Error(n(185));Vi(i,u,d),(($e&2)===0||i!==Ft)&&(i===Ft&&(($e&2)===0&&(oh|=u),Vt===4&&Xi(i,Ht)),_n(i,d),u===1&&$e===0&&(o.mode&1)===0&&(va=Qe()+500,Uc&&Wi()))}function _n(i,o){var u=i.callbackNode;Jr(i,o);var d=Us(i,i===Ft?Ht:0);if(d===0)u!==null&&vl(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&vl(u),o===1)i.tag===0?nC(uw.bind(null,i)):Kv(uw.bind(null,i)),JP(function(){($e&6)===0&&Wi()}),u=null;else{switch(Oi(d)){case 1:u=Ms;break;case 4:u=ki;break;case 16:u=On;break;case 536870912:u=hc;break;default:u=On}u=yw(u,lw.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function lw(i,o){if(ch=-1,hh=0,($e&6)!==0)throw Error(n(327));var u=i.callbackNode;if(_a()&&i.callbackNode!==u)return null;var d=Us(i,i===Ft?Ht:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=dh(i,d);else{o=d;var g=$e;$e|=2;var v=hw();(Ft!==i||Ht!==o)&&(ci=null,va=Qe()+500,eo(i,o));do try{SC();break}catch(k){cw(i,k)}while(!0);zf(),sh.current=v,$e=g,At!==null?o=0:(Ft=null,Ht=0,o=Vt)}if(o!==0){if(o===2&&(g=Pn(i),g!==0&&(d=g,o=Ap(i,g))),o===1)throw u=Gl,eo(i,0),Xi(i,d),_n(i,Qe()),u;if(o===6)Xi(i,d);else{if(g=i.current.alternate,(d&30)===0&&!EC(g)&&(o=dh(i,d),o===2&&(v=Pn(i),v!==0&&(d=v,o=Ap(i,v))),o===1))throw u=Gl,eo(i,0),Xi(i,d),_n(i,Qe()),u;switch(i.finishedWork=g,i.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:to(i,vn,ci);break;case 3:if(Xi(i,d),(d&130023424)===d&&(o=Tp+500-Qe(),10<o)){if(Us(i,0)!==0)break;if(g=i.suspendedLanes,(g&d)!==d){un(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=kf(to.bind(null,i,vn,ci),o);break}to(i,vn,ci);break;case 4:if(Xi(i,d),(d&4194240)===d)break;for(o=i.eventTimes,g=-1;0<d;){var I=31-on(d);v=1<<I,I=o[I],I>g&&(g=I),d&=~v}if(d=g,d=Qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*wC(d/1960))-d,10<d){i.timeoutHandle=kf(to.bind(null,i,vn,ci),d);break}to(i,vn,ci);break;case 5:to(i,vn,ci);break;default:throw Error(n(329))}}}return _n(i,Qe()),i.callbackNode===u?lw.bind(null,i):null}function Ap(i,o){var u=Kl;return i.current.memoizedState.isDehydrated&&(eo(i,o).flags|=256),i=dh(i,o),i!==2&&(o=vn,vn=u,o!==null&&Pp(o)),i}function Pp(i){vn===null?vn=i:vn.push.apply(vn,i)}function EC(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var g=u[d],v=g.getSnapshot;g=g.value;try{if(!or(v(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Xi(i,o){for(o&=~Ep,o&=~oh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-on(o),d=1<<u;i[u]=-1,o&=~d}}function uw(i){if(($e&6)!==0)throw Error(n(327));_a();var o=Us(i,0);if((o&1)===0)return _n(i,Qe()),null;var u=dh(i,o);if(i.tag!==0&&u===2){var d=Pn(i);d!==0&&(o=d,u=Ap(i,d))}if(u===1)throw u=Gl,eo(i,0),Xi(i,o),_n(i,Qe()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,to(i,vn,ci),_n(i,Qe()),null}function Cp(i,o){var u=$e;$e|=1;try{return i(o)}finally{$e=u,$e===0&&(va=Qe()+500,Uc&&Wi())}}function Zs(i){Qi!==null&&Qi.tag===0&&($e&6)===0&&_a();var o=$e;$e|=1;var u=$n.transition,d=Be;try{if($n.transition=null,Be=1,i)return i()}finally{Be=d,$n.transition=u,$e=o,($e&6)===0&&Wi()}}function xp(){kn=ya.current,tt(ya)}function eo(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,XP(u)),At!==null)for(u=At.return;u!==null;){var d=u;switch(Mf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Mc();break;case 3:pa(),tt(mn),tt(Yt),Yf();break;case 5:Kf(d);break;case 4:pa();break;case 13:tt(at);break;case 19:tt(at);break;case 10:$f(d.type._context);break;case 22:case 23:xp()}u=u.return}if(Ft=i,At=i=Ji(i.current,null),Ht=kn=o,Vt=0,Gl=null,Ep=oh=Js=0,vn=Kl=null,Qs!==null){for(o=0;o<Qs.length;o++)if(u=Qs[o],d=u.interleaved,d!==null){u.interleaved=null;var g=d.next,v=u.pending;if(v!==null){var I=v.next;v.next=g,d.next=I}u.pending=d}Qs=null}return i}function cw(i,o){do{var u=At;try{if(zf(),Qc.current=Zc,Yc){for(var d=lt.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Yc=!1}if(Xs=0,Mt=Dt=lt=null,jl=!1,zl=0,wp.current=null,u===null||u.return===null){Vt=1,Gl=o,At=null;break}e:{var v=i,I=u.return,k=u,O=o;if(o=Ht,k.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=O,ue=k,ce=ue.tag;if((ue.mode&1)===0&&(ce===0||ce===11||ce===15)){var ae=ue.alternate;ae?(ue.updateQueue=ae.updateQueue,ue.memoizedState=ae.memoizedState,ue.lanes=ae.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var ge=L_(I);if(ge!==null){ge.flags&=-257,O_(ge,I,k,v,o),ge.mode&1&&V_(v,Y,o),o=ge,O=Y;var we=o.updateQueue;if(we===null){var Ee=new Set;Ee.add(O),o.updateQueue=Ee}else we.add(O);break e}else{if((o&1)===0){V_(v,Y,o),Rp();break e}O=Error(n(426))}}else if(rt&&k.mode&1){var yt=L_(I);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),O_(yt,I,k,v,o),Bf(ma(O,k));break e}}v=O=ma(O,k),Vt!==4&&(Vt=2),Kl===null?Kl=[v]:Kl.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var q=N_(v,O,o);s_(v,q);break e;case 1:k=O;var B=v.type,G=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ki===null||!Ki.has(G)))){v.flags|=65536,o&=-o,v.lanes|=o;var de=D_(v,k,o);s_(v,de);break e}}v=v.return}while(v!==null)}fw(u)}catch(Te){o=Te,At===u&&u!==null&&(At=u=u.return);continue}break}while(!0)}function hw(){var i=sh.current;return sh.current=Zc,i===null?Zc:i}function Rp(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ft===null||(Js&268435455)===0&&(oh&268435455)===0||Xi(Ft,Ht)}function dh(i,o){var u=$e;$e|=2;var d=hw();(Ft!==i||Ht!==o)&&(ci=null,eo(i,o));do try{TC();break}catch(g){cw(i,g)}while(!0);if(zf(),$e=u,sh.current=d,At!==null)throw Error(n(261));return Ft=null,Ht=0,Vt}function TC(){for(;At!==null;)dw(At)}function SC(){for(;At!==null&&!uc();)dw(At)}function dw(i){var o=gw(i.alternate,i,kn);i.memoizedProps=i.pendingProps,o===null?fw(i):At=o,wp.current=null}function fw(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=mC(u,o,kn),u!==null){At=u;return}}else{if(u=gC(u,o),u!==null){u.flags&=32767,At=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Vt=6,At=null;return}}if(o=o.sibling,o!==null){At=o;return}At=o=i}while(o!==null);Vt===0&&(Vt=5)}function to(i,o,u){var d=Be,g=$n.transition;try{$n.transition=null,Be=1,IC(i,o,u,d)}finally{$n.transition=g,Be=d}return null}function IC(i,o,u,d){do _a();while(Qi!==null);if(($e&6)!==0)throw Error(n(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Ke(i,v),i===Ft&&(At=Ft=null,Ht=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||lh||(lh=!0,yw(On,function(){return _a(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=$n.transition,$n.transition=null;var I=Be;Be=1;var k=$e;$e|=4,wp.current=null,vC(i,u),rw(u,i),WP(Rf),Fi=!!xf,Rf=xf=null,i.current=u,_C(u),df(),$e=k,Be=I,$n.transition=v}else i.current=u;if(lh&&(lh=!1,Qi=i,uh=g),v=i.pendingLanes,v===0&&(Ki=null),dc(u.stateNode),_n(i,Qe()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],d(g.value,{componentStack:g.stack,digest:g.digest});if(ah)throw ah=!1,i=Sp,Sp=null,i;return(uh&1)!==0&&i.tag!==0&&_a(),v=i.pendingLanes,(v&1)!==0?i===Ip?Ql++:(Ql=0,Ip=i):Ql=0,Wi(),null}function _a(){if(Qi!==null){var i=Oi(uh),o=$n.transition,u=Be;try{if($n.transition=null,Be=16>i?16:i,Qi===null)var d=!1;else{if(i=Qi,Qi=null,uh=0,($e&6)!==0)throw Error(n(331));var g=$e;for($e|=4,_e=i.current;_e!==null;){var v=_e,I=v.child;if((_e.flags&16)!==0){var k=v.deletions;if(k!==null){for(var O=0;O<k.length;O++){var Y=k[O];for(_e=Y;_e!==null;){var ue=_e;switch(ue.tag){case 0:case 11:case 15:ql(8,ue,v)}var ce=ue.child;if(ce!==null)ce.return=ue,_e=ce;else for(;_e!==null;){ue=_e;var ae=ue.sibling,ge=ue.return;if(J_(ue),ue===Y){_e=null;break}if(ae!==null){ae.return=ge,_e=ae;break}_e=ge}}}var we=v.alternate;if(we!==null){var Ee=we.child;if(Ee!==null){we.child=null;do{var yt=Ee.sibling;Ee.sibling=null,Ee=yt}while(Ee!==null)}}_e=v}}if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,_e=I;else e:for(;_e!==null;){if(v=_e,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ql(9,v,v.return)}var q=v.sibling;if(q!==null){q.return=v.return,_e=q;break e}_e=v.return}}var B=i.current;for(_e=B;_e!==null;){I=_e;var G=I.child;if((I.subtreeFlags&2064)!==0&&G!==null)G.return=I,_e=G;else e:for(I=B;_e!==null;){if(k=_e,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:ih(9,k)}}catch(Te){dt(k,k.return,Te)}if(k===I){_e=null;break e}var de=k.sibling;if(de!==null){de.return=k.return,_e=de;break e}_e=k.return}}if($e=g,Wi(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Fs,i)}catch{}d=!0}return d}finally{Be=u,$n.transition=o}}return!1}function pw(i,o,u){o=ma(u,o),o=N_(i,o,1),i=qi(i,o,1),o=un(),i!==null&&(Vi(i,1,o),_n(i,o))}function dt(i,o,u){if(i.tag===3)pw(i,i,u);else for(;o!==null;){if(o.tag===3){pw(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ki===null||!Ki.has(d))){i=ma(u,i),i=D_(o,i,1),o=qi(o,i,1),i=un(),o!==null&&(Vi(o,1,i),_n(o,i));break}}o=o.return}}function AC(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=un(),i.pingedLanes|=i.suspendedLanes&u,Ft===i&&(Ht&u)===u&&(Vt===4||Vt===3&&(Ht&130023424)===Ht&&500>Qe()-Tp?eo(i,0):Ep|=u),_n(i,o)}function mw(i,o){o===0&&((i.mode&1)===0?o=1:(o=zo,zo<<=1,(zo&130023424)===0&&(zo=4194304)));var u=un();i=ai(i,o),i!==null&&(Vi(i,o,u),_n(i,u))}function PC(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),mw(i,u)}function CC(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),mw(i,u)}var gw;gw=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||mn.current)yn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return yn=!1,pC(i,o,u);yn=(i.flags&131072)!==0}else yn=!1,rt&&(o.flags&1048576)!==0&&Qv(o,jc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;nh(i,o),i=o.pendingProps;var g=aa(o,Yt.current);fa(o,u),g=Zf(null,o,d,i,g,u);var v=ep();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,gn(d)?(v=!0,Fc(o)):v=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,qf(o),g.updater=eh,o.stateNode=g,g._reactInternals=o,op(o,d,i,u),o=cp(null,o,d,!0,v,u)):(o.tag=0,rt&&v&&Of(o),ln(null,o,g,u),o=o.child),o;case 16:d=o.elementType;e:{switch(nh(i,o),i=o.pendingProps,g=d._init,d=g(d._payload),o.type=d,g=o.tag=RC(d),i=lr(d,i),g){case 0:o=up(null,o,d,i,u);break e;case 1:o=z_(null,o,d,i,u);break e;case 11:o=M_(null,o,d,i,u);break e;case 14:o=F_(null,o,d,lr(d.type,i),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:lr(d,g),up(i,o,d,g,u);case 1:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:lr(d,g),z_(i,o,d,g,u);case 3:e:{if($_(o),i===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,g=v.element,i_(i,o),Gc(o,d,null,u);var I=o.memoizedState;if(d=I.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){g=ma(Error(n(423)),o),o=W_(i,o,d,u,g);break e}else if(d!==g){g=ma(Error(n(424)),o),o=W_(i,o,d,u,g);break e}else for(bn=ji(o.stateNode.containerInfo.firstChild),Rn=o,rt=!0,ar=null,u=n_(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ca(),d===g){o=ui(i,o,u);break e}ln(i,o,d,u)}o=o.child}return o;case 5:return a_(o),i===null&&Uf(o),d=o.type,g=o.pendingProps,v=i!==null?i.memoizedProps:null,I=g.children,bf(d,g)?I=null:v!==null&&bf(d,v)&&(o.flags|=32),j_(i,o),ln(i,o,I,u),o.child;case 6:return i===null&&Uf(o),null;case 13:return H_(i,o,u);case 4:return Gf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=ha(o,null,d,u):ln(i,o,d,u),o.child;case 11:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:lr(d,g),M_(i,o,d,g,u);case 7:return ln(i,o,o.pendingProps,u),o.child;case 8:return ln(i,o,o.pendingProps.children,u),o.child;case 12:return ln(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,g=o.pendingProps,v=o.memoizedProps,I=g.value,Ye(Wc,d._currentValue),d._currentValue=I,v!==null)if(or(v.value,I)){if(v.children===g.children&&!mn.current){o=ui(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var k=v.dependencies;if(k!==null){I=v.child;for(var O=k.firstContext;O!==null;){if(O.context===d){if(v.tag===1){O=li(-1,u&-u),O.tag=2;var Y=v.updateQueue;if(Y!==null){Y=Y.shared;var ue=Y.pending;ue===null?O.next=O:(O.next=ue.next,ue.next=O),Y.pending=O}}v.lanes|=u,O=v.alternate,O!==null&&(O.lanes|=u),Wf(v.return,u,o),k.lanes|=u;break}O=O.next}}else if(v.tag===10)I=v.type===o.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(n(341));I.lanes|=u,k=I.alternate,k!==null&&(k.lanes|=u),Wf(I,u,o),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===o){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}ln(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,d=o.pendingProps.children,fa(o,u),g=jn(g),d=d(g),o.flags|=1,ln(i,o,d,u),o.child;case 14:return d=o.type,g=lr(d,o.pendingProps),g=lr(d.type,g),F_(i,o,d,g,u);case 15:return U_(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:lr(d,g),nh(i,o),o.tag=1,gn(d)?(i=!0,Fc(o)):i=!1,fa(o,u),b_(o,d,g),op(o,d,g,u),cp(null,o,d,!0,i,u);case 19:return G_(i,o,u);case 22:return B_(i,o,u)}throw Error(n(156,o.tag))};function yw(i,o){return Bo(i,o)}function xC(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,o,u,d){return new xC(i,o,u,d)}function bp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function RC(i){if(typeof i=="function")return bp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===K)return 14}return 2}function Ji(i,o){var u=i.alternate;return u===null?(u=Wn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function fh(i,o,u,d,g,v){var I=2;if(d=i,typeof i=="function")bp(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case V:return no(u.children,g,v,o);case P:I=8,g|=8;break;case x:return i=Wn(12,u,o,g|2),i.elementType=x,i.lanes=v,i;case N:return i=Wn(13,u,o,g),i.elementType=N,i.lanes=v,i;case ee:return i=Wn(19,u,o,g),i.elementType=ee,i.lanes=v,i;case Q:return ph(u,g,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:I=10;break e;case M:I=9;break e;case $:I=11;break e;case K:I=14;break e;case te:I=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Wn(I,u,o,g),o.elementType=i,o.type=d,o.lanes=v,o}function no(i,o,u,d){return i=Wn(7,i,d,o),i.lanes=u,i}function ph(i,o,u,d){return i=Wn(22,i,d,o),i.elementType=Q,i.lanes=u,i.stateNode={isHidden:!1},i}function kp(i,o,u){return i=Wn(6,i,null,o),i.lanes=u,i}function Np(i,o,u){return o=Wn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function bC(i,o,u,d,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Dp(i,o,u,d,g,v,I,k,O){return i=new bC(i,o,u,k,O),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Wn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},qf(v),i}function kC(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:he,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function vw(i){if(!i)return $i;i=i._reactInternals;e:{if(Zn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(gn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(gn(u))return qv(i,u,o)}return o}function _w(i,o,u,d,g,v,I,k,O){return i=Dp(u,d,!0,i,g,v,I,k,O),i.context=vw(null),u=i.current,d=un(),g=Yi(u),v=li(d,g),v.callback=o??null,qi(u,v,g),i.current.lanes=g,Vi(i,g,d),_n(i,d),i}function mh(i,o,u,d){var g=o.current,v=un(),I=Yi(g);return u=vw(u),o.context===null?o.context=u:o.pendingContext=u,o=li(v,I),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=qi(g,o,I),i!==null&&(hr(i,g,I,v),qc(i,g,I)),I}function gh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function ww(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Vp(i,o){ww(i,o),(i=i.alternate)&&ww(i,o)}function NC(){return null}var Ew=typeof reportError=="function"?reportError:function(i){console.error(i)};function Lp(i){this._internalRoot=i}yh.prototype.render=Lp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));mh(i,o,null,null)},yh.prototype.unmount=Lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Zs(function(){mh(null,i,null,null)}),o[ri]=null}};function yh(i){this._internalRoot=i}yh.prototype.unstable_scheduleHydration=function(i){if(i){var o=yc();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Sr.length&&o!==0&&o<Sr[u].priority;u++);Sr.splice(u,0,i),u===0&&wc(i)}};function Op(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function vh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Tw(){}function DC(i,o,u,d,g){if(g){if(typeof d=="function"){var v=d;d=function(){var Y=gh(I);v.call(Y)}}var I=_w(o,d,i,0,null,!1,!1,"",Tw);return i._reactRootContainer=I,i[ri]=I.current,Dl(i.nodeType===8?i.parentNode:i),Zs(),I}for(;g=i.lastChild;)i.removeChild(g);if(typeof d=="function"){var k=d;d=function(){var Y=gh(O);k.call(Y)}}var O=Dp(i,0,!1,null,null,!1,!1,"",Tw);return i._reactRootContainer=O,i[ri]=O.current,Dl(i.nodeType===8?i.parentNode:i),Zs(function(){mh(o,O,u,d)}),O}function _h(i,o,u,d,g){var v=u._reactRootContainer;if(v){var I=v;if(typeof g=="function"){var k=g;g=function(){var O=gh(I);k.call(O)}}mh(o,I,i,g)}else I=DC(u,o,i,g,d);return gh(I)}mc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ni(o.pendingLanes);u!==0&&(Li(o,u|1),_n(o,Qe()),($e&6)===0&&(va=Qe()+500,Wi()))}break;case 13:Zs(function(){var d=ai(i,1);if(d!==null){var g=un();hr(d,i,1,g)}}),Vp(i,1)}},$o=function(i){if(i.tag===13){var o=ai(i,134217728);if(o!==null){var u=un();hr(o,i,134217728,u)}Vp(i,134217728)}},gc=function(i){if(i.tag===13){var o=Yi(i),u=ai(i,o);if(u!==null){var d=un();hr(u,i,o,d)}Vp(i,o)}},yc=function(){return Be},vc=function(i,o){var u=Be;try{return Be=i,o()}finally{Be=u}},Vo=function(i,o,u){switch(o){case"input":if(il(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var g=Oc(d);if(!g)throw Error(n(90));xo(d),il(d,g)}}}break;case"textarea":No(i,u);break;case"select":o=u.value,o!=null&&Qr(i,!!u.multiple,o,!1)}},Ds=Cp,pl=Zs;var VC={usingClientEntryPoint:!1,Events:[Ol,sa,Oc,Er,fl,Cp]},Yl={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LC={bundleType:Yl.bundleType,version:Yl.version,rendererPackageName:Yl.rendererPackageName,rendererConfig:Yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=yl(i),i===null?null:i.stateNode},findFiberByHostInstance:Yl.findFiberByHostInstance||NC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Fs=wh.inject(LC),An=wh}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VC,wn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Op(o))throw Error(n(200));return kC(i,o,null,u)},wn.createRoot=function(i,o){if(!Op(i))throw Error(n(299));var u=!1,d="",g=Ew;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Dp(i,1,!1,null,null,u,!1,d,g),i[ri]=o.current,Dl(i.nodeType===8?i.parentNode:i),new Lp(o)},wn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=yl(o),i=i===null?null:i.stateNode,i},wn.flushSync=function(i){return Zs(i)},wn.hydrate=function(i,o,u){if(!vh(o))throw Error(n(200));return _h(null,i,o,!0,u)},wn.hydrateRoot=function(i,o,u){if(!Op(i))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,g=!1,v="",I=Ew;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=_w(o,null,i,1,u??null,g,!1,v,I),i[ri]=o.current,Dl(i),d)for(i=0;i<d.length;i++)u=d[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new yh(o)},wn.render=function(i,o,u){if(!vh(o))throw Error(n(200));return _h(null,i,o,!1,u)},wn.unmountComponentAtNode=function(i){if(!vh(i))throw Error(n(40));return i._reactRootContainer?(Zs(function(){_h(null,null,i,!1,function(){i._reactRootContainer=null,i[ri]=null})}),!0):!1},wn.unstable_batchedUpdates=Cp,wn.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!vh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return _h(i,o,u,!1,d)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var xw;function jC(){if(xw)return Fp.exports;xw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fp.exports=BC(),Fp.exports}var Rw;function zC(){if(Rw)return Eh;Rw=1;var t=jC();return Eh.createRoot=t.createRoot,Eh.hydrateRoot=t.hydrateRoot,Eh}var $C=zC();const WC=Pg($C);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bw="popstate";function HC(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Im("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:wu(s)}return GC(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qC(){return Math.random().toString(36).substring(2,10)}function kw(t,e){return{usr:t.state,key:t.key,idx:e}}function Im(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ha(e):e,state:n,key:e&&e.key||r||qC()}}function wu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function GC(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",f=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function w(){c="POP";let R=m(),U=R==null?null:R-p;p=R,f&&f({action:c,location:D.location,delta:U})}function _(R,U){c="PUSH";let z=Im(D.location,R,U);p=m()+1;let j=kw(z,p),re=D.createHref(z);try{l.pushState(j,"",re)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;s.location.assign(re)}a&&f&&f({action:c,location:D.location,delta:1})}function S(R,U){c="REPLACE";let z=Im(D.location,R,U);p=m();let j=kw(z,p),re=D.createHref(z);l.replaceState(j,"",re),a&&f&&f({action:c,location:D.location,delta:0})}function C(R){return KC(R)}let D={get action(){return c},get location(){return t(s,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(bw,w),f=R,()=>{s.removeEventListener(bw,w),f=null}},createHref(R){return e(s,R)},createURL:C,encodeLocation(R){let U=C(R);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:_,replace:S,go(R){return l.go(R)}};return D}function KC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:wu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function OT(t,e,n="/"){return QC(t,e,n,!1)}function QC(t,e,n,r){let s=typeof e=="string"?Ha(e):e,a=wi(s.pathname||"/",n);if(a==null)return null;let l=MT(t);YC(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=ax(a);c=sx(l[f],p,r)}return c}function MT(t,e=[],n=[],r="",s=!1){let a=(l,c,f=s,p)=>{let m={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&f)return;ot(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let w=gi([r,m.relativePath]),_=n.concat(m);l.children&&l.children.length>0&&(ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),MT(l.children,e,_,w,f)),!(l.path==null&&!l.index)&&e.push({path:w,score:rx(w,l.index),routesMeta:_})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let f of FT(l.path))a(l,c,!0,f)}),e}function FT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=FT(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function YC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ix(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XC=/^:[\w-]+$/,JC=3,ZC=2,ex=1,tx=10,nx=-2,Nw=t=>t==="*";function rx(t,e){let n=t.split("/"),r=n.length;return n.some(Nw)&&(r+=nx),e&&(r+=ZC),n.filter(s=>!Nw(s)).reduce((s,a)=>s+(XC.test(a)?JC:a===""?ex:tx),r)}function ix(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function sx(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",w=Zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),_=f.route;if(!w&&p&&n&&!r[r.length-1].route.index&&(w=Zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!w)return null;Object.assign(s,w.params),l.push({params:s,pathname:gi([a,w.pathname]),pathnameBase:hx(gi([a,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(a=gi([a,w.pathnameBase]))}return l}function Zh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ox(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:w},_)=>{if(m==="*"){let C=c[_]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const S=c[_];return w&&!S?p[m]=void 0:p[m]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function ox(t,e=!1,n=!0){mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ax(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lx(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ha(t):t;return{pathname:n?n.startsWith("/")?n:ux(n,e):e,search:dx(r),hash:fx(s)}}function ux(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xg(t){let e=cx(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Rg(t,e,n,r=!1){let s;typeof t=="string"?s=Ha(t):(s={...t},ot(!s.pathname||!s.pathname.includes("?"),jp("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),jp("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),jp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let w=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),w-=1;s.pathname=_.join("/")}c=w>=0?e[w]:"/"}let f=lx(s,c),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var gi=t=>t.join("/").replace(/\/\/+/g,"/"),hx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function px(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var UT=["POST","PUT","PATCH","DELETE"];new Set(UT);var mx=["GET",...UT];new Set(mx);var qa=b.createContext(null);qa.displayName="DataRouter";var Rd=b.createContext(null);Rd.displayName="DataRouterState";b.createContext(!1);var BT=b.createContext({isTransitioning:!1});BT.displayName="ViewTransition";var gx=b.createContext(new Map);gx.displayName="Fetchers";var yx=b.createContext(null);yx.displayName="Await";var vr=b.createContext(null);vr.displayName="Navigation";var Uu=b.createContext(null);Uu.displayName="Location";var _r=b.createContext({outlet:null,matches:[],isDataRoute:!1});_r.displayName="Route";var bg=b.createContext(null);bg.displayName="RouteError";function vx(t,{relative:e}={}){ot(Ga(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(vr),{hash:s,pathname:a,search:l}=Bu(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:gi([n,a])),r.createHref({pathname:c,search:l,hash:s})}function Ga(){return b.useContext(Uu)!=null}function xi(){return ot(Ga(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Uu).location}var jT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zT(t){b.useContext(vr).static||b.useLayoutEffect(t)}function ws(){let{isDataRoute:t}=b.useContext(_r);return t?kx():_x()}function _x(){ot(Ga(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(qa),{basename:e,navigator:n}=b.useContext(vr),{matches:r}=b.useContext(_r),{pathname:s}=xi(),a=JSON.stringify(xg(r)),l=b.useRef(!1);return zT(()=>{l.current=!0}),b.useCallback((f,p={})=>{if(mr(l.current,jT),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=Rg(f,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:gi([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,a,s,t])}b.createContext(null);function $T(){let{matches:t}=b.useContext(_r),e=t[t.length-1];return e?e.params:{}}function Bu(t,{relative:e}={}){let{matches:n}=b.useContext(_r),{pathname:r}=xi(),s=JSON.stringify(xg(n));return b.useMemo(()=>Rg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function wx(t,e){return WT(t,e)}function WT(t,e,n,r,s){ot(Ga(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(vr),{matches:l}=b.useContext(_r),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",w=c&&c.route;{let z=w&&w.path||"";HT(p,!w||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let _=xi(),S;if(e){let z=typeof e=="string"?Ha(e):e;ot(m==="/"||z.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=_;let C=S.pathname||"/",D=C;if(m!=="/"){let z=m.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(z.length).join("/")}let R=OT(t,{pathname:D});mr(w||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),mr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=Ax(R&&R.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:gi([m,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?m:gi([m,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,n,r,s);return e&&U?b.createElement(Uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function Ex(){let t=bx(),e=px(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,l)}var Tx=b.createElement(Ex,null),Sx=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(_r.Provider,{value:this.props.routeContext},b.createElement(bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ix({routeContext:t,match:e,children:n}){let r=b.useContext(qa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(_r.Provider,{value:t},n)}function Ax(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,f=-1;if(n)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:w,errors:_}=n,S=m.route.loader&&!w.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||S){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,m,w)=>{let _,S=!1,C=null,D=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,C=m.route.errorElement||Tx,c&&(f<0&&w===0?(HT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,D=null):f===w&&(S=!0,D=m.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,w+1)),U=()=>{let z;return _?z=C:S?z=D:m.route.Component?z=b.createElement(m.route.Component,null):m.route.element?z=m.route.element:z=p,b.createElement(Ix,{match:m,routeContext:{outlet:p,matches:R,isDataRoute:n!=null},children:z})};return n&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?b.createElement(Sx,{location:n.location,revalidation:n.revalidation,component:C,error:_,children:U(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:r}):U()},null)}function kg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Px(t){let e=b.useContext(qa);return ot(e,kg(t)),e}function Cx(t){let e=b.useContext(Rd);return ot(e,kg(t)),e}function xx(t){let e=b.useContext(_r);return ot(e,kg(t)),e}function Ng(t){let e=xx(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Rx(){return Ng("useRouteId")}function bx(){let t=b.useContext(bg),e=Cx("useRouteError"),n=Ng("useRouteError");return t!==void 0?t:e.errors?.[n]}function kx(){let{router:t}=Px("useNavigate"),e=Ng("useNavigate"),n=b.useRef(!1);return zT(()=>{n.current=!0}),b.useCallback(async(s,a={})=>{mr(n.current,jT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Dw={};function HT(t,e,n){!e&&!Dw[t]&&(Dw[t]=!0,mr(!1,n))}b.memo(Nx);function Nx({routes:t,future:e,state:n,unstable_onError:r}){return WT(t,void 0,n,r,e)}function Dx({to:t,replace:e,state:n,relative:r}){ot(Ga(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(vr);mr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=b.useContext(_r),{pathname:l}=xi(),c=ws(),f=Rg(t,xg(a),l,r==="path"),p=JSON.stringify(f);return b.useEffect(()=>{c(JSON.parse(p),{replace:e,state:n,relative:r})},[c,p,r,e,n]),null}function hn(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vx({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){ot(!Ga(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Ha(n));let{pathname:f="/",search:p="",hash:m="",state:w=null,key:_="default"}=n,S=b.useMemo(()=>{let C=wi(f,l);return C==null?null:{location:{pathname:C,search:p,hash:m,state:w,key:_},navigationType:r}},[l,f,p,m,w,_,r]);return mr(S!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:b.createElement(vr.Provider,{value:c},b.createElement(Uu.Provider,{children:e,value:S}))}function Lx({children:t,location:e}){return wx(Am(t),e)}function Am(t,e=[]){let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let a=[...e,s];if(r.type===b.Fragment){n.push.apply(n,Am(r.props.children,a));return}ot(r.type===hn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Am(r.props.children,a)),n.push(l)}),n}var Oh="get",Mh="application/x-www-form-urlencoded";function bd(t){return t!=null&&typeof t.tagName=="string"}function Ox(t){return bd(t)&&t.tagName.toLowerCase()==="button"}function Mx(t){return bd(t)&&t.tagName.toLowerCase()==="form"}function Fx(t){return bd(t)&&t.tagName.toLowerCase()==="input"}function Ux(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Bx(t,e){return t.button===0&&(!e||e==="_self")&&!Ux(t)}var Th=null;function jx(){if(Th===null)try{new FormData(document.createElement("form"),0),Th=!1}catch{Th=!0}return Th}var zx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zp(t){return t!=null&&!zx.has(t)?(mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mh}"`),null):t}function $x(t,e){let n,r,s,a,l;if(Mx(t)){let c=t.getAttribute("action");r=c?wi(c,e):null,n=t.getAttribute("method")||Oh,s=zp(t.getAttribute("enctype"))||Mh,a=new FormData(t)}else if(Ox(t)||Fx(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(r=f?wi(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Oh,s=zp(t.getAttribute("formenctype"))||zp(c.getAttribute("enctype"))||Mh,a=new FormData(c,t),!jx()){let{name:p,type:m,value:w}=t;if(m==="image"){let _=p?`${p}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else p&&a.append(p,w)}}else{if(bd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oh,r=null,s=Mh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wx(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&wi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Hx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Gx(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await Hx(a,n);return l.links?l.links():[]}return[]}));return Xx(r.flat(1).filter(qx).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Vw(t,e,n,r,s,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,c=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Kx(t,e,{includeHydrateFallback:n}={}){return Qx(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Qx(t){return[...new Set(t)]}function Yx(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Xx(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(Yx(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function qT(){let t=b.useContext(qa);return Dg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Jx(){let t=b.useContext(Rd);return Dg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vg=b.createContext(void 0);Vg.displayName="FrameworkContext";function GT(){let t=b.useContext(Vg);return Dg(t,"You must render this element inside a <HydratedRouter> element"),t}function Zx(t,e){let n=b.useContext(Vg),[r,s]=b.useState(!1),[a,l]=b.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:w}=e,_=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let D=U=>{U.forEach(z=>{l(z.isIntersecting)})},R=new IntersectionObserver(D,{threshold:.5});return _.current&&R.observe(_.current),()=>{R.disconnect()}}},[t]),b.useEffect(()=>{if(r){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[r]);let S=()=>{s(!0)},C=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,_,{}]:[a,_,{onFocus:Xl(c,S),onBlur:Xl(f,C),onMouseEnter:Xl(p,S),onMouseLeave:Xl(m,C),onTouchStart:Xl(w,S)}]:[!1,_,{}]}function Xl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eR({page:t,...e}){let{router:n}=qT(),r=b.useMemo(()=>OT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(nR,{page:t,matches:r,...e}):null}function tR(t){let{manifest:e,routeModules:n}=GT(),[r,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return Gx(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function nR({page:t,matches:e,...n}){let r=xi(),{manifest:s,routeModules:a}=GT(),{basename:l}=qT(),{loaderData:c,matches:f}=Jx(),p=b.useMemo(()=>Vw(t,e,f,s,r,"data"),[t,e,f,s,r]),m=b.useMemo(()=>Vw(t,e,f,s,r,"assets"),[t,e,f,s,r]),w=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,D=!1;if(e.forEach(U=>{let z=s.routes[U.route.id];!z||!z.hasLoader||(!p.some(j=>j.route.id===U.route.id)&&U.route.id in c&&a[U.route.id]?.shouldRevalidate||z.hasClientLoader?D=!0:C.add(U.route.id))}),C.size===0)return[];let R=Wx(t,l,"data");return D&&C.size>0&&R.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[R.pathname+R.search]},[l,c,r,s,p,e,t,a]),_=b.useMemo(()=>Kx(m,s),[m,s]),S=tR(m);return b.createElement(b.Fragment,null,w.map(C=>b.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),_.map(C=>b.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:D})=>b.createElement("link",{key:C,nonce:n.nonce,...D})))}function rR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var KT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KT&&(window.__reactRouterVersion="7.9.1")}catch{}function iR({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=HC({window:n,v5Compat:!0}));let s=r.current,[a,l]=b.useState({action:s.action,location:s.location}),c=b.useCallback(f=>{b.startTransition(()=>l(f))},[l]);return b.useLayoutEffect(()=>s.listen(c),[s,c]),b.createElement(Vx,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var QT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:m,viewTransition:w,..._},S){let{basename:C}=b.useContext(vr),D=typeof p=="string"&&QT.test(p),R,U=!1;if(typeof p=="string"&&D&&(R=p,KT))try{let x=new URL(window.location.href),L=p.startsWith("//")?new URL(x.protocol+p):new URL(p),M=wi(L.pathname,C);L.origin===x.origin&&M!=null?p=M+L.search+L.hash:U=!0}catch{mr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=vx(p,{relative:s}),[j,re,oe]=Zx(r,_),he=lR(p,{replace:l,state:c,target:f,preventScrollReset:m,relative:s,viewTransition:w});function V(x){e&&e(x),x.defaultPrevented||he(x)}let P=b.createElement("a",{..._,...oe,href:R||z,onClick:U||a?e:V,ref:rR(S,re),target:f,"data-discover":!D&&n==="render"?"true":void 0});return j&&!D?b.createElement(b.Fragment,null,P,b.createElement(eR,{page:z})):P});_t.displayName="Link";var sR=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:f,...p},m){let w=Bu(l,{relative:p.relative}),_=xi(),S=b.useContext(Rd),{navigator:C,basename:D}=b.useContext(vr),R=S!=null&&fR(w)&&c===!0,U=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,z=_.pathname,j=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(z=z.toLowerCase(),j=j?j.toLowerCase():null,U=U.toLowerCase()),j&&D&&(j=wi(j,D)||j);const re=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let oe=z===U||!s&&z.startsWith(U)&&z.charAt(re)==="/",he=j!=null&&(j===U||!s&&j.startsWith(U)&&j.charAt(U.length)==="/"),V={isActive:oe,isPending:he,isTransitioning:R},P=oe?e:void 0,x;typeof r=="function"?x=r(V):x=[r,oe?"active":null,he?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(V):a;return b.createElement(_t,{...p,"aria-current":P,className:x,ref:m,style:L,to:l,viewTransition:c},typeof f=="function"?f(V):f)});sR.displayName="NavLink";var oR=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=Oh,action:c,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:w,..._},S)=>{let C=hR(),D=dR(c,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",U=typeof c=="string"&&QT.test(c),z=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let re=j.nativeEvent.submitter,oe=re?.getAttribute("formmethod")||l;C(re||j.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:s,state:a,relative:p,preventScrollReset:m,viewTransition:w})};return b.createElement("form",{ref:S,method:R,action:D,onSubmit:r?f:z,..._,"data-discover":!U&&t==="render"?"true":void 0})});oR.displayName="Form";function aR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YT(t){let e=b.useContext(qa);return ot(e,aR(t)),e}function lR(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=ws(),f=xi(),p=Bu(t,{relative:a});return b.useCallback(m=>{if(Bx(m,e)){m.preventDefault();let w=n!==void 0?n:wu(f)===wu(p);c(t,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[f,c,p,n,r,e,t,s,a,l])}var uR=0,cR=()=>`__${String(++uR)}__`;function hR(){let{router:t}=YT("useSubmit"),{basename:e}=b.useContext(vr),n=Rx();return b.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:f,body:p}=$x(r,e);if(s.navigate===!1){let m=s.fetcherKey||cR();await t.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function dR(t,{relative:e}={}){let{basename:n}=b.useContext(vr),r=b.useContext(_r);ot(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Bu(t||".",{relative:e})},l=xi();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(w=>w).forEach(w=>c.append("index",w));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:gi([n,a.pathname])),wu(a)}function fR(t,{relative:e}={}){let n=b.useContext(BT);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YT("useViewTransitionState"),s=Bu(t,{relative:e});if(!n.isTransitioning)return!1;let a=wi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=wi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zh(s.pathname,l)!=null||Zh(s.pathname,a)!=null}var $p={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function pR(){if(Lw)return Jl;Lw=1;var t=Cg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var m,w={},_=null,S=null;p!==void 0&&(_=""+p),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(S=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(w[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)w[m]===void 0&&(w[m]=f[m]);return{$$typeof:e,type:c,key:_,ref:S,props:w,_owner:s.current}}return Jl.Fragment=n,Jl.jsx=l,Jl.jsxs=l,Jl}var Ow;function mR(){return Ow||(Ow=1,$p.exports=pR()),$p.exports}var Pm=mR();const XT=b.createContext({});function gR(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Lg=typeof window<"u",yR=Lg?b.useLayoutEffect:b.useEffect,Og=b.createContext(null);function Mg(t,e){t.indexOf(e)===-1&&t.push(e)}function Fg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ei=(t,e,n)=>n>e?e:n<t?t:n;let Ug=()=>{};const Ti={},JT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ZT(t){return typeof t=="object"&&t!==null}const eS=t=>/^0[^.\s]+$/u.test(t);function Bg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Kn=t=>t,vR=(t,e)=>n=>e(t(n)),ju=(...t)=>t.reduce(vR),Eu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class jg{constructor(){this.subscriptions=[]}add(e){return Mg(this.subscriptions,e),()=>Fg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Or=t=>t*1e3,Mr=t=>t/1e3;function tS(t,e){return e?t*(1e3/e):0}const nS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_R=1e-7,wR=12;function ER(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=nS(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>_R&&++c<wR);return l}function zu(t,e,n,r){if(t===e&&n===r)return Kn;const s=a=>ER(a,0,1,t,n);return a=>a===0||a===1?a:nS(s(a),e,r)}const rS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,iS=t=>e=>1-t(1-e),sS=zu(.33,1.53,.69,.99),zg=iS(sS),oS=rS(zg),aS=t=>(t*=2)<1?.5*zg(t):.5*(2-Math.pow(2,-10*(t-1))),$g=t=>1-Math.sin(Math.acos(t)),lS=iS($g),uS=rS($g),TR=zu(.42,0,1,1),SR=zu(0,0,.58,1),cS=zu(.42,0,.58,1),IR=t=>Array.isArray(t)&&typeof t[0]!="number",hS=t=>Array.isArray(t)&&typeof t[0]=="number",AR={linear:Kn,easeIn:TR,easeInOut:cS,easeOut:SR,circIn:$g,circInOut:uS,circOut:lS,backIn:zg,backInOut:oS,backOut:sS,anticipate:aS},PR=t=>typeof t=="string",Mw=t=>{if(hS(t)){Ug(t.length===4);const[e,n,r,s]=t;return zu(e,n,r,s)}else if(PR(t))return AR[t];return t},Sh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CR(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(m){l.has(m)&&(p.schedule(m),t()),m(c)}const p={schedule:(m,w=!1,_=!1)=>{const C=_&&s?n:r;return w&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,a&&(a=!1,p.process(m))}};return p}const xR=40;function dS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Sh.reduce((j,re)=>(j[re]=CR(a),j),{}),{setup:c,read:f,resolveKeyframes:p,preUpdate:m,update:w,preRender:_,render:S,postRender:C}=l,D=()=>{const j=Ti.useManualTiming?s.timestamp:performance.now();n=!1,Ti.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,xR),1)),s.timestamp=j,s.isProcessing=!0,c.process(s),f.process(s),p.process(s),m.process(s),w.process(s),_.process(s),S.process(s),C.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(D))},R=()=>{n=!0,r=!0,s.isProcessing||t(D)};return{schedule:Sh.reduce((j,re)=>{const oe=l[re];return j[re]=(he,V=!1,P=!1)=>(n||R(),oe.schedule(he,V,P)),j},{}),cancel:j=>{for(let re=0;re<Sh.length;re++)l[Sh[re]].cancel(j)},state:s,steps:l}}const{schedule:st,cancel:hs,state:qt,steps:Wp}=dS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kn,!0);let Fh;function RR(){Fh=void 0}const In={now:()=>(Fh===void 0&&In.set(qt.isProcessing||Ti.useManualTiming?qt.timestamp:performance.now()),Fh),set:t=>{Fh=t,queueMicrotask(RR)}},fS=t=>e=>typeof e=="string"&&e.startsWith(t),Wg=fS("--"),bR=fS("var(--"),Hg=t=>bR(t)?kR.test(t.split("/*")[0].trim()):!1,kR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ka={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tu={...Ka,transform:t=>Ei(0,1,t)},Ih={...Ka,default:1},lu=t=>Math.round(t*1e5)/1e5,qg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NR(t){return t==null}const DR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gg=(t,e)=>n=>!!(typeof n=="string"&&DR.test(n)&&n.startsWith(t)||e&&!NR(n)&&Object.prototype.hasOwnProperty.call(n,e)),pS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(qg);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},VR=t=>Ei(0,255,t),Hp={...Ka,transform:t=>Math.round(VR(t))},oo={test:Gg("rgb","red"),parse:pS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Hp.transform(t)+", "+Hp.transform(e)+", "+Hp.transform(n)+", "+lu(Tu.transform(r))+")"};function LR(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Cm={test:Gg("#"),parse:LR,transform:oo.transform},$u=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ts=$u("deg"),Fr=$u("%"),Re=$u("px"),OR=$u("vh"),MR=$u("vw"),Fw={...Fr,parse:t=>Fr.parse(t)/100,transform:t=>Fr.transform(t*100)},Ia={test:Gg("hsl","hue"),parse:pS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Fr.transform(lu(e))+", "+Fr.transform(lu(n))+", "+lu(Tu.transform(r))+")"},Ct={test:t=>oo.test(t)||Cm.test(t)||Ia.test(t),parse:t=>oo.test(t)?oo.parse(t):Ia.test(t)?Ia.parse(t):Cm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?oo.transform(t):Ia.transform(t),getAnimatableNone:t=>{const e=Ct.parse(t);return e.alpha=0,Ct.transform(e)}},FR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UR(t){return isNaN(t)&&typeof t=="string"&&(t.match(qg)?.length||0)+(t.match(FR)?.length||0)>0}const mS="number",gS="color",BR="var",jR="var(",Uw="${}",zR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Su(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(zR,f=>(Ct.test(f)?(r.color.push(a),s.push(gS),n.push(Ct.parse(f))):f.startsWith(jR)?(r.var.push(a),s.push(BR),n.push(f)):(r.number.push(a),s.push(mS),n.push(parseFloat(f))),++a,Uw)).split(Uw);return{values:n,split:c,indexes:r,types:s}}function yS(t){return Su(t).values}function vS(t){const{split:e,types:n}=Su(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===mS?a+=lu(s[l]):c===gS?a+=Ct.transform(s[l]):a+=s[l]}return a}}const $R=t=>typeof t=="number"?0:Ct.test(t)?Ct.getAnimatableNone(t):t;function WR(t){const e=yS(t);return vS(t)(e.map($R))}const ds={test:UR,parse:yS,createTransformer:vS,getAnimatableNone:WR};function qp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HR({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,f=2*n-c;s=qp(f,c,t+1/3),a=qp(f,c,t),l=qp(f,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function ed(t,e){return n=>n>0?e:t}const ut=(t,e,n)=>t+(e-t)*n,Gp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},qR=[Cm,oo,Ia],GR=t=>qR.find(e=>e.test(t));function Bw(t){const e=GR(t);if(!e)return!1;let n=e.parse(t);return e===Ia&&(n=HR(n)),n}const jw=(t,e)=>{const n=Bw(t),r=Bw(e);if(!n||!r)return ed(t,e);const s={...n};return a=>(s.red=Gp(n.red,r.red,a),s.green=Gp(n.green,r.green,a),s.blue=Gp(n.blue,r.blue,a),s.alpha=ut(n.alpha,r.alpha,a),oo.transform(s))},xm=new Set(["none","hidden"]);function KR(t,e){return xm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QR(t,e){return n=>ut(t,e,n)}function Kg(t){return typeof t=="number"?QR:typeof t=="string"?Hg(t)?ed:Ct.test(t)?jw:JR:Array.isArray(t)?_S:typeof t=="object"?Ct.test(t)?jw:YR:ed}function _S(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Kg(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function YR(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Kg(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function XR(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],c=t.values[l]??0;n[s]=c,r[a]++}return n}const JR=(t,e)=>{const n=ds.createTransformer(e),r=Su(t),s=Su(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?xm.has(t)&&!s.values.length||xm.has(e)&&!r.values.length?KR(t,e):ju(_S(XR(r,s),s.values),n):ed(t,e)};function wS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ut(t,e,n):Kg(t)(t,e)}const ZR=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>st.update(e,n),stop:()=>hs(e),now:()=>qt.isProcessing?qt.timestamp:In.now()}},ES=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},td=2e4;function Qg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<td;)e+=n,r=t.next(e);return e>=td?1/0:e}function eb(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Qg(r),td);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Mr(s)}}const tb=5;function TS(t,e,n){const r=Math.max(e-tb,0);return tS(n-t(r),e-r)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kp=.001;function nb({duration:t=ft.duration,bounce:e=ft.bounce,velocity:n=ft.velocity,mass:r=ft.mass}){let s,a,l=1-e;l=Ei(ft.minDamping,ft.maxDamping,l),t=Ei(ft.minDuration,ft.maxDuration,Mr(t)),l<1?(s=p=>{const m=p*l,w=m*t,_=m-n,S=Rm(p,l),C=Math.exp(-w);return Kp-_/S*C},a=p=>{const w=p*l*t,_=w*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,C=Math.exp(-w),D=Rm(Math.pow(p,2),l);return(-s(p)+Kp>0?-1:1)*((_-S)*C)/D}):(s=p=>{const m=Math.exp(-p*t),w=(p-n)*t+1;return-Kp+m*w},a=p=>{const m=Math.exp(-p*t),w=(n-p)*(t*t);return m*w});const c=5/t,f=ib(s,a,c);if(t=Or(t),isNaN(f))return{stiffness:ft.stiffness,damping:ft.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const rb=12;function ib(t,e,n){let r=n;for(let s=1;s<rb;s++)r=r-t(r)/e(r);return r}function Rm(t,e){return t*Math.sqrt(1-e*e)}const sb=["duration","bounce"],ob=["stiffness","damping","mass"];function zw(t,e){return e.some(n=>t[n]!==void 0)}function ab(t){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...t};if(!zw(t,ob)&&zw(t,sb))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Ei(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ft.mass,stiffness:s,damping:a}}else{const n=nb(t);e={...e,...n,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function nd(t=ft.visualDuration,e=ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:f,damping:p,mass:m,duration:w,velocity:_,isResolvedFromDuration:S}=ab({...n,velocity:-Mr(n.velocity||0)}),C=_||0,D=p/(2*Math.sqrt(f*m)),R=l-a,U=Mr(Math.sqrt(f/m)),z=Math.abs(R)<5;r||(r=z?ft.restSpeed.granular:ft.restSpeed.default),s||(s=z?ft.restDelta.granular:ft.restDelta.default);let j;if(D<1){const oe=Rm(U,D);j=he=>{const V=Math.exp(-D*U*he);return l-V*((C+D*U*R)/oe*Math.sin(oe*he)+R*Math.cos(oe*he))}}else if(D===1)j=oe=>l-Math.exp(-U*oe)*(R+(C+U*R)*oe);else{const oe=U*Math.sqrt(D*D-1);j=he=>{const V=Math.exp(-D*U*he),P=Math.min(oe*he,300);return l-V*((C+D*U*R)*Math.sinh(P)+oe*R*Math.cosh(P))/oe}}const re={calculatedDuration:S&&w||null,next:oe=>{const he=j(oe);if(S)c.done=oe>=w;else{let V=oe===0?C:0;D<1&&(V=oe===0?Or(C):TS(j,oe,he));const P=Math.abs(V)<=r,x=Math.abs(l-he)<=s;c.done=P&&x}return c.value=c.done?l:he,c},toString:()=>{const oe=Math.min(Qg(re),td),he=ES(V=>re.next(oe*V).value,oe,30);return oe+"ms "+he},toTransition:()=>{}};return re}nd.applyToOptions=t=>{const e=eb(t,100,nd);return t.ease=e.ease,t.duration=Or(e.duration),t.type="keyframes",t};function bm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:f,restDelta:p=.5,restSpeed:m}){const w=t[0],_={done:!1,value:w},S=P=>c!==void 0&&P<c||f!==void 0&&P>f,C=P=>c===void 0?f:f===void 0||Math.abs(c-P)<Math.abs(f-P)?c:f;let D=n*e;const R=w+D,U=l===void 0?R:l(R);U!==R&&(D=U-w);const z=P=>-D*Math.exp(-P/r),j=P=>U+z(P),re=P=>{const x=z(P),L=j(P);_.done=Math.abs(x)<=p,_.value=_.done?U:L};let oe,he;const V=P=>{S(_.value)&&(oe=P,he=nd({keyframes:[_.value,C(_.value)],velocity:TS(j,P,_.value),damping:s,stiffness:a,restDelta:p,restSpeed:m}))};return V(0),{calculatedDuration:null,next:P=>{let x=!1;return!he&&oe===void 0&&(x=!0,re(P),V(P)),oe!==void 0&&P>=oe?he.next(P-oe):(!x&&re(P),_)}}}function lb(t,e,n){const r=[],s=n||Ti.mix||wS,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Kn:e;c=ju(f,c)}r.push(c)}return r}function ub(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Ug(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=lb(e,r,s),f=c.length,p=m=>{if(l&&m<t[0])return e[0];let w=0;if(f>1)for(;w<t.length-2&&!(m<t[w+1]);w++);const _=Eu(t[w],t[w+1],m);return c[w](_)};return n?m=>p(Ei(t[0],t[a-1],m)):p}function cb(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Eu(0,e,r);t.push(ut(n,1,s))}}function hb(t){const e=[0];return cb(e,t.length-1),e}function db(t,e){return t.map(n=>n*e)}function fb(t,e){return t.map(()=>e||cS).splice(0,t.length-1)}function uu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=IR(r)?r.map(Mw):Mw(r),a={done:!1,value:e[0]},l=db(n&&n.length===e.length?n:hb(e),t),c=ub(l,e,{ease:Array.isArray(s)?s:fb(e,s)});return{calculatedDuration:t,next:f=>(a.value=c(f),a.done=f>=t,a)}}const pb=t=>t!==null;function Yg(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(pb),c=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const mb={decay:bm,inertia:bm,tween:uu,keyframes:uu,spring:nd};function SS(t){typeof t.type=="string"&&(t.type=mb[t.type])}class Xg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const gb=t=>t/100;class Jg extends Xg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==In.now()&&this.tick(In.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;SS(e);const{type:n=uu,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const f=n||uu;f!==uu&&typeof c[0]!="number"&&(this.mixKeyframes=ju(gb,wS(c[0],c[1])),c=[0,100]);const p=f({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...c].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Qg(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:m,repeat:w,repeatType:_,repeatDelay:S,type:C,onUpdate:D,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?U<0:U>s;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,re=r;if(w){const P=Math.min(this.currentTime,s)/c;let x=Math.floor(P),L=P%1;!L&&P>=1&&(L=1),L===1&&x--,x=Math.min(x,w+1),!!(x%2)&&(_==="reverse"?(L=1-L,S&&(L-=S/c)):_==="mirror"&&(re=l)),j=Ei(0,1,L)*c}const oe=z?{done:!1,value:m[0]}:re.next(j);a&&(oe.value=a(oe.value));let{done:he}=oe;!z&&f!==null&&(he=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&he);return V&&C!==bm&&(oe.value=Yg(m,this.options,R,this.speed)),D&&D(oe.value),V&&this.finish(),oe}then(e,n){return this.finished.then(e,n)}get duration(){return Mr(this.calculatedDuration)}get time(){return Mr(this.currentTime)}set time(e){e=Or(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(In.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Mr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ZR,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(In.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function yb(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ao=t=>t*180/Math.PI,km=t=>{const e=ao(Math.atan2(t[1],t[0]));return Nm(e)},vb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:km,rotateZ:km,skewX:t=>ao(Math.atan(t[1])),skewY:t=>ao(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Nm=t=>(t=t%360,t<0&&(t+=360),t),$w=km,Ww=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Hw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_b={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ww,scaleY:Hw,scale:t=>(Ww(t)+Hw(t))/2,rotateX:t=>Nm(ao(Math.atan2(t[6],t[5]))),rotateY:t=>Nm(ao(Math.atan2(-t[2],t[0]))),rotateZ:$w,rotate:$w,skewX:t=>ao(Math.atan(t[4])),skewY:t=>ao(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Dm(t){return t.includes("scale")?1:0}function Vm(t,e){if(!t||t==="none")return Dm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=_b,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=vb,s=c}if(!s)return Dm(e);const a=r[e],l=s[1].split(",").map(Eb);return typeof a=="function"?a(l):l[a]}const wb=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Vm(n,e)};function Eb(t){return parseFloat(t.trim())}const Qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ya=new Set(Qa),qw=t=>t===Ka||t===Re,Tb=new Set(["x","y","z"]),Sb=Qa.filter(t=>!Tb.has(t));function Ib(t){const e=[];return Sb.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const co={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Vm(e,"x"),y:(t,{transform:e})=>Vm(e,"y")};co.translateX=co.x;co.translateY=co.y;const ho=new Set;let Lm=!1,Om=!1,Mm=!1;function IS(){if(Om){const t=Array.from(ho).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Ib(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Om=!1,Lm=!1,ho.forEach(t=>t.complete(Mm)),ho.clear()}function AS(){ho.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Om=!0)})}function Ab(){Mm=!0,AS(),IS(),Mm=!1}class Zg{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ho.add(this),Lm||(Lm=!0,st.read(AS),st.resolveKeyframes(IS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}yb(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ho.delete(this)}cancel(){this.state==="scheduled"&&(ho.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Pb=t=>t.startsWith("--");function Cb(t,e,n){Pb(e)?t.style.setProperty(e,n):t.style[e]=n}const xb=Bg(()=>window.ScrollTimeline!==void 0),Rb={};function bb(t,e){const n=Bg(t);return()=>Rb[e]??n()}const PS=bb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Gw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tu([0,.65,.55,1]),circOut:tu([.55,0,1,.45]),backIn:tu([.31,.01,.66,-.59]),backOut:tu([.33,1.53,.69,.99])};function CS(t,e){if(t)return typeof t=="function"?PS()?ES(t,e):"ease-out":hS(t)?tu(t):Array.isArray(t)?t.map(n=>CS(n,e)||Gw.easeOut):Gw[t]}function kb(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:f}={},p=void 0){const m={[e]:n};f&&(m.offset=f);const w=CS(c,s);Array.isArray(w)&&(m.easing=w);const _={delay:r,duration:s,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(m,_)}function xS(t){return typeof t=="function"&&"applyToOptions"in t}function Nb({type:t,...e}){return xS(t)&&PS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Db extends Xg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Ug(typeof e.type!="string");const p=Nb(e);this.animation=kb(n,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Yg(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):Cb(n,r,m),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Mr(Number(e))}get time(){return Mr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Or(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&xb()?(this.animation.timeline=e,Kn):n(this)}}const RS={anticipate:aS,backInOut:oS,circInOut:uS};function Vb(t){return t in RS}function Lb(t){typeof t.ease=="string"&&Vb(t.ease)&&(t.ease=RS[t.ease])}const Kw=10;class Ob extends Db{constructor(e){Lb(e),SS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Jg({...l,autoplay:!1}),f=Or(this.finishedTime??this.time);n.setWithVelocity(c.sample(f-Kw).value,c.sample(f).value,Kw),c.stop()}}const Qw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ds.test(t)||t==="0")&&!t.startsWith("url("));function Mb(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Fb(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Qw(s,e),c=Qw(a,e);return!l||!c?!1:Mb(t)||(n==="spring"||xS(n))&&r}function Fm(t){t.duration=0,t.type}const Ub=new Set(["opacity","clipPath","filter","transform"]),Bb=Bg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jb(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return Bb()&&n&&Ub.has(n)&&(n!=="transform"||!p)&&!f&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const zb=40;class $b extends Xg{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:f,motionValue:p,element:m,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=In.now();const _={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:m,...w},S=m?.KeyframeResolver||Zg;this.keyframeResolver=new S(c,(C,D,R)=>this.onKeyframesResolved(C,D,_,!R),f,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:f,isHandoff:p,onUpdate:m}=r;this.resolvedAt=In.now(),Fb(e,a,l,c)||((Ti.instantAnimations||!f)&&m?.(Yg(e,r,n)),e[0]=e[e.length-1],Fm(r),r.repeat=0);const _={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>zb?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!p&&jb(_)?new Ob({..._,element:_.motionValue.owner.current}):new Jg(_);S.finished.then(()=>this.notifyFinished()).catch(Kn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ab()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Wb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hb(t){const e=Wb.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function bS(t,e,n=1){const[r,s]=Hb(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return JT(l)?parseFloat(l):l}return Hg(s)?bS(s,e,n+1):s}function ey(t,e){return t?.[e]??t?.default??t}const kS=new Set(["width","height","top","left","right","bottom",...Qa]),qb={test:t=>t==="auto",parse:t=>t},NS=t=>e=>e.test(t),DS=[Ka,Re,Fr,ts,MR,OR,qb],Yw=t=>DS.find(NS(t));function Gb(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eS(t):!0}const Kb=new Set(["brightness","contrast","saturate","opacity"]);function Qb(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(qg)||[];if(!r)return t;const s=n.replace(r,"");let a=Kb.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const Yb=/\b([a-z-]*)\(.*?\)/gu,Um={...ds,getAnimatableNone:t=>{const e=t.match(Yb);return e?e.map(Qb).join(" "):t}},Xw={...Ka,transform:Math.round},Xb={rotate:ts,rotateX:ts,rotateY:ts,rotateZ:ts,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:ts,skewX:ts,skewY:ts,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Tu,originX:Fw,originY:Fw,originZ:Re},ty={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...Xb,zIndex:Xw,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:Xw},Jb={...ty,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:Um,WebkitFilter:Um},VS=t=>Jb[t];function LS(t,e){let n=VS(t);return n!==Um&&(n=ds),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Zb=new Set(["auto","none","0"]);function ek(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!Zb.has(a)&&Su(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=LS(n,s)}class tk extends Zg{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Hg(p))){const m=bS(p,n.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!kS.has(r)||e.length!==2)return;const[s,a]=e,l=Yw(s),c=Yw(a);if(l!==c)if(qw(l)&&qw(c))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else co[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Gb(e[s]))&&r.push(s);r.length&&ek(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=co[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=co[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function OS(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const MS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function nk(t){return ZT(t)&&"offsetHeight"in t}const Jw=30,rk=t=>!isNaN(parseFloat(t));class ik{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=In.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=In.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=rk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new jg);const r=this.events[e].add(n);return e==="change"?()=>{r(),st.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=In.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Jw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Jw);return tS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oa(t,e){return new ik(t,e)}const{schedule:ny}=dS(queueMicrotask,!1),dr={x:!1,y:!1};function FS(){return dr.x||dr.y}function sk(t){return t==="x"||t==="y"?dr[t]?null:(dr[t]=!0,()=>{dr[t]=!1}):dr.x||dr.y?null:(dr.x=dr.y=!0,()=>{dr.x=dr.y=!1})}function US(t,e){const n=OS(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Zw(t){return!(t.pointerType==="touch"||FS())}function ok(t,e,n={}){const[r,s,a]=US(t,n),l=c=>{if(!Zw(c))return;const{target:f}=c,p=e(f,c);if(typeof p!="function"||!f)return;const m=w=>{Zw(w)&&(p(w),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const BS=(t,e)=>e?t===e?!0:BS(t,e.parentElement):!1,ry=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ak=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lk(t){return ak.has(t.tagName)||t.tabIndex!==-1}const Uh=new WeakSet;function e0(t){return e=>{e.key==="Enter"&&t(e)}}function Qp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uk=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=e0(()=>{if(Uh.has(n))return;Qp(n,"down");const s=e0(()=>{Qp(n,"up")}),a=()=>Qp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function t0(t){return ry(t)&&!FS()}function ck(t,e,n={}){const[r,s,a]=US(t,n),l=c=>{const f=c.currentTarget;if(!t0(c))return;Uh.add(f);const p=e(f,c),m=(S,C)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",_),Uh.has(f)&&Uh.delete(f),t0(S)&&typeof p=="function"&&p(S,{success:C})},w=S=>{m(S,f===window||f===document||n.useGlobalTarget||BS(f,S.target))},_=S=>{m(S,!1)};window.addEventListener("pointerup",w,s),window.addEventListener("pointercancel",_,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),nk(c)&&(c.addEventListener("focus",p=>uk(p,s)),!lk(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function jS(t){return ZT(t)&&"ownerSVGElement"in t}function hk(t){return jS(t)&&t.tagName==="svg"}const rn=t=>!!(t&&t.getVelocity),dk=[...DS,Ct,ds],fk=t=>dk.find(NS(t)),zS=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function pk(t=!0){const e=b.useContext(Og);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=b.useId();b.useEffect(()=>{if(t)return s(a)},[t]);const l=b.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const $S=b.createContext({strict:!1}),n0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ma={};for(const t in n0)Ma[t]={isEnabled:e=>n0[t].some(n=>!!e[n])};function mk(t){for(const e in t)Ma[e]={...Ma[e],...t[e]}}const gk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gk.has(t)}let WS=t=>!rd(t);function yk(t){typeof t=="function"&&(WS=e=>e.startsWith("on")?!rd(e):t(e))}try{yk(require("@emotion/is-prop-valid").default)}catch{}function vk(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(WS(s)||n===!0&&rd(s)||!e&&!rd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const kd=b.createContext({});function Nd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Iu(t){return typeof t=="string"||Array.isArray(t)}const iy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sy=["initial",...iy];function Dd(t){return Nd(t.animate)||sy.some(e=>Iu(t[e]))}function HS(t){return!!(Dd(t)||t.variants)}function _k(t,e){if(Dd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Iu(n)?n:void 0,animate:Iu(r)?r:void 0}}return t.inherit!==!1?e:{}}function wk(t){const{initial:e,animate:n}=_k(t,b.useContext(kd));return b.useMemo(()=>({initial:e,animate:n}),[r0(e),r0(n)])}function r0(t){return Array.isArray(t)?t.join(" "):t}const Au={};function Ek(t){for(const e in t)Au[e]=t[e],Wg(e)&&(Au[e].isCSSVariable=!0)}function qS(t,{layout:e,layoutId:n}){return Ya.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Au[t]||t==="opacity")}const Tk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Sk=Qa.length;function Ik(t,e,n){let r="",s=!0;for(let a=0;a<Sk;a++){const l=Qa[a],c=t[l];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(l.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const p=MS(c,ty[l]);if(!f){s=!1;const m=Tk[l]||l;r+=`${m}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function oy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const f in e){const p=e[f];if(Ya.has(f)){l=!0;continue}else if(Wg(f)){s[f]=p;continue}else{const m=MS(p,ty[f]);f.startsWith("origin")?(c=!0,a[f]=m):r[f]=m}}if(e.transform||(l||n?r.transform=Ik(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${f} ${p} ${m}`}}const ay=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GS(t,e,n){for(const r in e)!rn(e[r])&&!qS(r,n)&&(t[r]=e[r])}function Ak({transformTemplate:t},e){return b.useMemo(()=>{const n=ay();return oy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Pk(t,e){const n=t.style||{},r={};return GS(r,n,t),Object.assign(r,Ak(t,e)),r}function Ck(t,e){const n={},r=Pk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const xk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rk={offset:"strokeDashoffset",array:"strokeDasharray"};function bk(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?xk:Rk;t[a.offset]=Re.transform(-r);const l=Re.transform(e),c=Re.transform(n);t[a.array]=`${l} ${c}`}function KS(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},f,p,m){if(oy(t,c,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:_}=t;w.transform&&(_.transform=w.transform,delete w.transform),(_.transform||w.transformOrigin)&&(_.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),_.transform&&(_.transformBox=m?.transformBox??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),s!==void 0&&bk(w,s,a,l,!1)}const QS=()=>({...ay(),attrs:{}}),YS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kk(t,e,n,r){const s=b.useMemo(()=>{const a=QS();return KS(a,e,YS(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};GS(a,t.style,t),s.style={...a,...s.style}}return s}const Nk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ly(t){return typeof t!="string"||t.includes("-")?!1:!!(Nk.indexOf(t)>-1||/[A-Z]/u.test(t))}function Dk(t,e,n,{latestValues:r},s,a=!1){const c=(ly(t)?kk:Ck)(e,r,s,t),f=vk(e,typeof t=="string",a),p=t!==b.Fragment?{...f,...c,ref:n}:{},{children:m}=e,w=b.useMemo(()=>rn(m)?m.get():m,[m]);return b.createElement(t,{...p,children:w})}function i0(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function uy(t,e,n,r){if(typeof e=="function"){const[s,a]=i0(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=i0(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function Bh(t){return rn(t)?t.get():t}function Vk({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Lk(n,r,s,t),renderState:e()}}function Lk(t,e,n,r){const s={},a=r(t,{});for(const _ in a)s[_]=Bh(a[_]);let{initial:l,animate:c}=t;const f=Dd(t),p=HS(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const w=m?c:l;if(w&&typeof w!="boolean"&&!Nd(w)){const _=Array.isArray(w)?w:[w];for(let S=0;S<_.length;S++){const C=uy(t,_[S]);if(C){const{transitionEnd:D,transition:R,...U}=C;for(const z in U){let j=U[z];if(Array.isArray(j)){const re=m?j.length-1:0;j=j[re]}j!==null&&(s[z]=j)}for(const z in D)s[z]=D[z]}}}return s}const XS=t=>(e,n)=>{const r=b.useContext(kd),s=b.useContext(Og),a=()=>Vk(t,e,r,s);return n?a():gR(a)};function cy(t,e,n){const{style:r}=t,s={};for(const a in r)(rn(r[a])||e.style&&rn(e.style[a])||qS(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}const Ok=XS({scrapeMotionValuesFromProps:cy,createRenderState:ay});function JS(t,e,n){const r=cy(t,e,n);for(const s in t)if(rn(t[s])||rn(e[s])){const a=Qa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const Mk=XS({scrapeMotionValuesFromProps:JS,createRenderState:QS}),Fk=Symbol.for("motionComponentSymbol");function Aa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Uk(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Aa(n)&&(n.current=r))},[e])}const hy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bk="framerAppearId",ZS="data-"+hy(Bk),e1=b.createContext({});function jk(t,e,n,r,s){const{visualElement:a}=b.useContext(kd),l=b.useContext($S),c=b.useContext(Og),f=b.useContext(zS).reducedMotion,p=b.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,w=b.useContext(e1);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&zk(p.current,n,s,w);const _=b.useRef(!1);b.useInsertionEffect(()=>{m&&_.current&&m.update(n,c)});const S=n[ZS],C=b.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return yR(()=>{m&&(_.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),C.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!C.current&&m.animationState&&m.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),C.current=!1),m.enteringChildren=void 0)}),m}function zk(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:f,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:t1(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&Aa(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:f,layoutRoot:p})}function t1(t){if(t)return t.options.allowProjection!==!1?t.projection:t1(t.parent)}function Yp(t,{forwardMotionProps:e=!1}={},n,r){n&&mk(n);const s=ly(t)?Mk:Ok;function a(c,f){let p;const m={...b.useContext(zS),...c,layoutId:$k(c)},{isStatic:w}=m,_=wk(c),S=s(c,w);if(!w&&Lg){Wk();const C=Hk(m);p=C.MeasureLayout,_.visualElement=jk(t,S,m,r,C.ProjectionNode)}return Pm.jsxs(kd.Provider,{value:_,children:[p&&_.visualElement?Pm.jsx(p,{visualElement:_.visualElement,...m}):null,Dk(t,c,Uk(S,_.visualElement,f),S,w,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(a);return l[Fk]=t,l}function $k({layoutId:t}){const e=b.useContext(XT).id;return e&&t!==void 0?e+"-"+t:t}function Wk(t,e){b.useContext($S).strict}function Hk(t){const{drag:e,layout:n}=Ma;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function qk(t,e){if(typeof Proxy>"u")return Yp;const n=new Map,r=(a,l)=>Yp(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Yp(l,void 0,t,e)),n.get(l))})}function n1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Gk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Kk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Xp(t){return t===void 0||t===1}function Bm({scale:t,scaleX:e,scaleY:n}){return!Xp(t)||!Xp(e)||!Xp(n)}function io(t){return Bm(t)||r1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function r1(t){return s0(t.x)||s0(t.y)}function s0(t){return t&&t!=="0%"}function id(t,e,n){const r=t-n,s=e*r;return n+s}function o0(t,e,n,r,s){return s!==void 0&&(t=id(t,s,r)),id(t,n,r)+e}function jm(t,e=0,n=1,r,s){t.min=o0(t.min,e,n,r,s),t.max=o0(t.max,e,n,r,s)}function i1(t,{x:e,y:n}){jm(t.x,e.translate,e.scale,e.originPoint),jm(t.y,n.translate,n.scale,n.originPoint)}const a0=.999999999999,l0=1.0000000000001;function Qk(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ca(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,i1(t,l)),r&&io(a.latestValues)&&Ca(t,a.latestValues))}e.x<l0&&e.x>a0&&(e.x=1),e.y<l0&&e.y>a0&&(e.y=1)}function Pa(t,e){t.min=t.min+e,t.max=t.max+e}function u0(t,e,n,r,s=.5){const a=ut(t.min,t.max,s);jm(t,e,n,a,r)}function Ca(t,e){u0(t.x,e.x,e.scaleX,e.scale,e.originX),u0(t.y,e.y,e.scaleY,e.scale,e.originY)}function s1(t,e){return n1(Kk(t.getBoundingClientRect(),e))}function Yk(t,e,n){const r=s1(t,n),{scroll:s}=e;return s&&(Pa(r.x,s.offset.x),Pa(r.y,s.offset.y)),r}const c0=()=>({translate:0,scale:1,origin:0,originPoint:0}),xa=()=>({x:c0(),y:c0()}),h0=()=>({min:0,max:0}),vt=()=>({x:h0(),y:h0()}),zm={current:null},o1={current:!1};function Xk(){if(o1.current=!0,!!Lg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zm.current=t.matches;t.addEventListener("change",e),e()}else zm.current=!1}const Jk=new WeakMap;function Zk(t,e,n){for(const r in e){const s=e[r],a=n[r];if(rn(s))t.addValue(r,s);else if(rn(a))t.addValue(r,Oa(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Oa(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const d0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eN{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=In.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,st.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Dd(n),this.isVariantNode=HS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in w){const S=w[_];f[_]!==void 0&&rn(S)&&S.set(f[_])}}mount(e){this.current=e,Jk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),o1.current||Xk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),hs(this.notifyUpdate),hs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ya.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&st.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ma){const n=Ma[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<d0.length;r++){const s=d0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=Zk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Oa(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(JT(r)||eS(r))?r=parseFloat(r):!fk(r)&&ds.test(n)&&(r=LS(e,n)),this.setBaseTarget(e,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=uy(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!rn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new jg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ny.render(this.render)}}class a1 extends eN{constructor(){super(...arguments),this.KeyframeResolver=tk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function l1(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function tN(t){return window.getComputedStyle(t)}class nN extends a1{constructor(){super(...arguments),this.type="html",this.renderInstance=l1}readValueFromInstance(e,n){if(Ya.has(n))return this.projection?.isProjecting?Dm(n):wb(e,n);{const r=tN(e),s=(Wg(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return s1(e,n)}build(e,n,r){oy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cy(e,n,r)}}const u1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rN(t,e,n,r){l1(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(u1.has(s)?s:hy(s),e.attrs[s])}class iN extends a1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ya.has(n)){const r=VS(n);return r&&r.default||0}return n=u1.has(n)?n:hy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return JS(e,n,r)}build(e,n,r){KS(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){rN(e,n,r,s)}mount(e){this.isSVGTag=YS(e.tagName),super.mount(e)}}const sN=(t,e)=>ly(t)?new iN(e):new nN(e,{allowProjection:t!==b.Fragment});function ba(t,e,n){const r=t.getProps();return uy(r,e,n!==void 0?n:r.custom,t)}const $m=t=>Array.isArray(t);function oN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Oa(n))}function aN(t){return $m(t)?t[t.length-1]||0:t}function lN(t,e){const n=ba(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=aN(a[l]);oN(t,l,c)}}function uN(t){return!!(rn(t)&&t.add)}function Wm(t,e){const n=t.getValue("willChange");if(uN(n))return n.add(e);if(!n&&Ti.WillChange){const r=new Ti.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function c1(t){return t.props[ZS]}const cN=t=>t!==null;function hN(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(cN),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const dN={type:"spring",stiffness:500,damping:25,restSpeed:10},fN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pN={type:"keyframes",duration:.8},mN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gN=(t,{keyframes:e})=>e.length>2?pN:Ya.has(t)?t.startsWith("scale")?fN(e[1]):dN:mN;function yN({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const dy=(t,e,n,r={},s,a)=>l=>{const c=ey(r,t)||{},f=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Or(f);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:_=>{e.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};yN(c)||Object.assign(m,gN(t,m)),m.duration&&(m.duration=Or(m.duration)),m.repeatDelay&&(m.repeatDelay=Or(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let w=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Fm(m),m.delay===0&&(w=!0)),(Ti.instantAnimations||Ti.skipAnimations)&&(w=!0,Fm(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,w&&!a&&e.get()!==void 0){const _=hN(m.keyframes,c);if(_!==void 0){st.update(()=>{m.onUpdate(_),m.onComplete()});return}}return c.isSync?new Jg(m):new $b(m)};function vN({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function h1(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const f=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const m in c){const w=t.getValue(m,t.latestValues[m]??null),_=c[m];if(_===void 0||p&&vN(p,m))continue;const S={delay:n,...ey(a||{},m)},C=w.get();if(C!==void 0&&!w.isAnimating&&!Array.isArray(_)&&_===C&&!S.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const U=c1(t);if(U){const z=window.MotionHandoffAnimation(U,m,st);z!==null&&(S.startTime=z,D=!0)}}Wm(t,m),w.start(dy(m,w,_,t.shouldReduceMotion&&kS.has(m)?{type:!1}:S,t,D));const R=w.animation;R&&f.push(R)}return l&&Promise.all(f).then(()=>{st.update(()=>{l&&lN(t,l)})}),f}function d1(t,e,n,r=0,s=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:c-a*r}function Hm(t,e,n={}){const r=ba(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(h1(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:w}=s;return _N(t,e,f,p,m,w,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,p]=c==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function _N(t,e,n=0,r=0,s=0,a=1,l){const c=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),c.push(Hm(f,e,{...l,delay:n+(typeof r=="function"?0:r)+d1(t.variantChildren,f,r,s,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(c)}function wN(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Hm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Hm(t,e,n);else{const s=typeof e=="function"?ba(t,e,n.custom):e;r=Promise.all(h1(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function f1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const EN=sy.length;function p1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?p1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<EN;n++){const r=sy[n],s=t.props[r];(Iu(s)||s===!1)&&(e[r]=s)}return e}const TN=[...iy].reverse(),SN=iy.length;function IN(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wN(t,n,r)))}function AN(t){let e=IN(t),n=f0(),r=!0;const s=f=>(p,m)=>{const w=ba(t,m,f==="exit"?t.presenceContext?.custom:void 0);if(w){const{transition:_,transitionEnd:S,...C}=w;p={...p,...C,...S}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,m=p1(t.parent)||{},w=[],_=new Set;let S={},C=1/0;for(let R=0;R<SN;R++){const U=TN[R],z=n[U],j=p[U]!==void 0?p[U]:m[U],re=Iu(j),oe=U===f?z.isActive:null;oe===!1&&(C=R);let he=j===m[U]&&j!==p[U]&&re;if(he&&r&&t.manuallyAnimateOnMount&&(he=!1),z.protectedKeys={...S},!z.isActive&&oe===null||!j&&!z.prevProp||Nd(j)||typeof j=="boolean")continue;const V=PN(z.prevProp,j);let P=V||U===f&&z.isActive&&!he&&re||R>C&&re,x=!1;const L=Array.isArray(j)?j:[j];let M=L.reduce(s(U),{});oe===!1&&(M={});const{prevResolvedValues:$={}}=z,N={...$,...M},ee=Q=>{P=!0,_.has(Q)&&(x=!0,_.delete(Q)),z.needsAnimating[Q]=!0;const H=t.getValue(Q);H&&(H.liveStyle=!1)};for(const Q in N){const H=M[Q],ne=$[Q];if(S.hasOwnProperty(Q))continue;let le=!1;$m(H)&&$m(ne)?le=!f1(H,ne):le=H!==ne,le?H!=null?ee(Q):_.add(Q):H!==void 0&&_.has(Q)?ee(Q):z.protectedKeys[Q]=!0}z.prevProp=j,z.prevResolvedValues=M,z.isActive&&(S={...S,...M}),r&&t.blockInitialAnimation&&(P=!1);const K=he&&V;P&&(!K||x)&&w.push(...L.map(Q=>{const H={type:U};if(typeof Q=="string"&&r&&!K&&t.manuallyAnimateOnMount&&t.parent){const{parent:ne}=t,le=ba(ne,Q);if(ne.enteringChildren&&le){const{delayChildren:F}=le.transition||{};H.delay=d1(ne.enteringChildren,t,F)}}return{animation:Q,options:H}}))}if(_.size){const R={};if(typeof p.initial!="boolean"){const U=ba(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(R.transition=U.transition)}_.forEach(U=>{const z=t.getBaseTarget(U),j=t.getValue(U);j&&(j.liveStyle=!0),R[U]=z??null}),w.push({animation:R})}let D=!!w.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(w):Promise.resolve()}function c(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(w=>w.animationState?.setActive(f,p)),n[f].isActive=p;const m=l(f);for(const w in n)n[w].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=f0(),r=!0}}}function PN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!f1(e,t):!1}function ro(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function f0(){return{animate:ro(!0),whileInView:ro(),whileHover:ro(),whileTap:ro(),whileDrag:ro(),whileFocus:ro(),exit:ro()}}class Es{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CN extends Es{constructor(e){super(e),e.animationState||(e.animationState=AN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xN=0;class RN extends Es{constructor(){super(...arguments),this.id=xN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bN={animation:{Feature:CN},exit:{Feature:RN}};function Pu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Wu(t){return{point:{x:t.pageX,y:t.pageY}}}const kN=t=>e=>ry(e)&&t(e,Wu(e));function cu(t,e,n,r){return Pu(t,e,kN(n),r)}const m1=1e-4,NN=1-m1,DN=1+m1,g1=.01,VN=0-g1,LN=0+g1;function dn(t){return t.max-t.min}function ON(t,e,n){return Math.abs(t-e)<=n}function p0(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=dn(n)/dn(e),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(t.scale>=NN&&t.scale<=DN||isNaN(t.scale))&&(t.scale=1),(t.translate>=VN&&t.translate<=LN||isNaN(t.translate))&&(t.translate=0)}function hu(t,e,n,r){p0(t.x,e.x,n.x,r?r.originX:void 0),p0(t.y,e.y,n.y,r?r.originY:void 0)}function m0(t,e,n){t.min=n.min+e.min,t.max=t.min+dn(e)}function MN(t,e,n){m0(t.x,e.x,n.x),m0(t.y,e.y,n.y)}function g0(t,e,n){t.min=e.min-n.min,t.max=t.min+dn(e)}function du(t,e,n){g0(t.x,e.x,n.x),g0(t.y,e.y,n.y)}function qn(t){return[t("x"),t("y")]}const y1=({current:t})=>t?t.ownerDocument.defaultView:null,y0=(t,e)=>Math.abs(t-e);function FN(t,e){const n=y0(t.x,e.x),r=y0(t.y,e.y);return Math.sqrt(n**2+r**2)}class v1{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Zp(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=FN(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!C)return;const{point:D}=_,{timestamp:R}=qt;this.history.push({...D,timestamp:R});const{onStart:U,onMove:z}=this.handlers;S||(U&&U(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,_)},this.handlePointerMove=(_,S)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Jp(S,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(_,S)=>{this.end();const{onEnd:C,onSessionEnd:D,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=Zp(_.type==="pointercancel"?this.lastMoveEventInfo:Jp(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(_,U),D&&D(_,U)},!ry(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const c=Wu(e),f=Jp(c,this.transformPagePoint),{point:p}=f,{timestamp:m}=qt;this.history=[{...p,timestamp:m}];const{onSessionStart:w}=n;w&&w(e,Zp(f,this.history)),this.removeListeners=ju(cu(this.contextWindow,"pointermove",this.handlePointerMove),cu(this.contextWindow,"pointerup",this.handlePointerUp),cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hs(this.updatePoint)}}function Jp(t,e){return e?{point:e(t.point)}:t}function v0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zp({point:t},e){return{point:t,delta:v0(t,_1(e)),offset:v0(t,UN(e)),velocity:BN(e,.1)}}function UN(t){return t[0]}function _1(t){return t[t.length-1]}function BN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=_1(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Or(e)));)n--;if(!r)return{x:0,y:0};const a=Mr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function jN(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function _0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zN(t,{top:e,left:n,bottom:r,right:s}){return{x:_0(t.x,n,s),y:_0(t.y,e,r)}}function w0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function $N(t,e){return{x:w0(t.x,e.x),y:w0(t.y,e.y)}}function WN(t,e){let n=.5;const r=dn(t),s=dn(e);return s>r?n=Eu(e.min,e.max-r,t.min):r>s&&(n=Eu(t.min,t.max-s,e.min)),Ei(0,1,n)}function HN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qm=.35;function qN(t=qm){return t===!1?t=0:t===!0&&(t=qm),{x:E0(t,"left","right"),y:E0(t,"top","bottom")}}function E0(t,e,n){return{min:T0(t,e),max:T0(t,n)}}function T0(t,e){return typeof t=="number"?t:t[e]||0}const GN=new WeakMap;class KN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wu(w).point)},l=(w,_)=>{const{drag:S,dragPropagation:C,onDragStart:D}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sk(S),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(U=>{let z=this.getAxisMotionValue(U).get()||0;if(Fr.test(z)){const{projection:j}=this.visualElement;if(j&&j.layout){const re=j.layout.layoutBox[U];re&&(z=dn(re)*(parseFloat(z)/100))}}this.originPoint[U]=z}),D&&st.postRender(()=>D(w,_)),Wm(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},c=(w,_)=>{this.latestPointerEvent=w,this.latestPanInfo=_;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:D,onDrag:R}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:U}=_;if(C&&this.currentDirection===null){this.currentDirection=QN(U),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",_.point,U),this.updateAxis("y",_.point,U),this.visualElement.render(),R&&R(w,_)},f=(w,_)=>{this.latestPointerEvent=w,this.latestPanInfo=_,this.stop(w,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>qn(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new v1(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:y1(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&st.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ah(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=jN(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Aa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=zN(r.layoutBox,e):this.constraints=!1,this.elastic=qN(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=HN(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Aa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Yk(r,s.root,this.visualElement.getTransformPagePoint());let l=$N(s.layout.layoutBox,a);if(n){const c=n(Gk(l));this.hasMutatedConstraints=!!c,c&&(l=n1(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},p=qn(m=>{if(!Ah(m,n,this.currentDirection))return;let w=f&&f[m]||{};l&&(w={min:0,max:0});const _=s?200:1e6,S=s?40:1e7,C={type:"inertia",velocity:r?e[m]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(m,C)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Wm(this.visualElement,e),r.start(dy(e,r,0,n,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qn(n=>{const{drag:r}=this.getProps();if(!Ah(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-ut(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Aa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};qn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const f=c.get();s[l]=WN({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(l=>{if(!Ah(l,e,null))return;const c=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];c.set(ut(f,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;GN.set(this.visualElement,this);const e=this.visualElement.current,n=cu(e,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Aa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),st.read(r);const l=Pu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(qn(m=>{const w=this.getAxisMotionValue(m);w&&(this.originPoint[m]+=f[m].translate,w.set(w.get()+f[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=qm,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Ah(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YN extends Es{constructor(e){super(e),this.removeGroupControls=Kn,this.removeListeners=Kn,this.controls=new KN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const S0=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};class XN extends Es{constructor(){super(...arguments),this.removePointerDownListener=Kn}onPointerDown(e){this.session=new v1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:y1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:S0(e),onStart:S0(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&st.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=cu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function I0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=I0(t,e.target.x),r=I0(t,e.target.y);return`${n}% ${r}%`}},JN={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ds.parse(t);if(s.length>5)return r;const a=ds.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=f;const p=ut(c,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};let em=!1;class ZN extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;Ek(e2),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),em&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),jh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,em=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||st.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ny.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;em=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function w1(t){const[e,n]=pk(),r=b.useContext(XT);return Pm.jsx(ZN,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(e1),isPresent:e,safeToRemove:n})}const e2={borderRadius:{...Zl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zl,borderTopRightRadius:Zl,borderBottomLeftRadius:Zl,borderBottomRightRadius:Zl,boxShadow:JN};function t2(t,e,n){const r=rn(t)?t:Oa(t);return r.start(dy("",r,e,n)),r.animation}const n2=(t,e)=>t.depth-e.depth;class r2{constructor(){this.children=[],this.isDirty=!1}add(e){Mg(this.children,e),this.isDirty=!0}remove(e){Fg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(n2),this.isDirty=!1,this.children.forEach(e)}}function i2(t,e){const n=In.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(hs(r),t(a-e))};return st.setup(r,!0),()=>hs(r)}const E1=["TopLeft","TopRight","BottomLeft","BottomRight"],s2=E1.length,A0=t=>typeof t=="string"?parseFloat(t):t,P0=t=>typeof t=="number"||Re.test(t);function o2(t,e,n,r,s,a){s?(t.opacity=ut(0,n.opacity??1,a2(r)),t.opacityExit=ut(e.opacity??1,0,l2(r))):a&&(t.opacity=ut(e.opacity??1,n.opacity??1,r));for(let l=0;l<s2;l++){const c=`border${E1[l]}Radius`;let f=C0(e,c),p=C0(n,c);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||P0(f)===P0(p)?(t[c]=Math.max(ut(A0(f),A0(p),r),0),(Fr.test(p)||Fr.test(f))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function C0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const a2=T1(0,.5,lS),l2=T1(.5,.95,Kn);function T1(t,e,n){return r=>r<t?0:r>e?1:n(Eu(t,e,r))}function x0(t,e){t.min=e.min,t.max=e.max}function Hn(t,e){x0(t.x,e.x),x0(t.y,e.y)}function R0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function b0(t,e,n,r,s){return t-=e,t=id(t,1/n,r),s!==void 0&&(t=id(t,1/s,r)),t}function u2(t,e=0,n=1,r=.5,s,a=t,l=t){if(Fr.test(e)&&(e=parseFloat(e),e=ut(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ut(a.min,a.max,r);t===a&&(c-=e),t.min=b0(t.min,e,n,c,s),t.max=b0(t.max,e,n,c,s)}function k0(t,e,[n,r,s],a,l){u2(t,e[n],e[r],e[s],e.scale,a,l)}const c2=["x","scaleX","originX"],h2=["y","scaleY","originY"];function N0(t,e,n,r){k0(t.x,e,c2,n?n.x:void 0,r?r.x:void 0),k0(t.y,e,h2,n?n.y:void 0,r?r.y:void 0)}function D0(t){return t.translate===0&&t.scale===1}function S1(t){return D0(t.x)&&D0(t.y)}function V0(t,e){return t.min===e.min&&t.max===e.max}function d2(t,e){return V0(t.x,e.x)&&V0(t.y,e.y)}function L0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function I1(t,e){return L0(t.x,e.x)&&L0(t.y,e.y)}function O0(t){return dn(t.x)/dn(t.y)}function M0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class f2{constructor(){this.members=[]}add(e){Mg(this.members,e),e.scheduleRender()}remove(e){if(Fg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p2(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:w,rotateY:_,skewX:S,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),w&&(r+=`rotateX(${w}deg) `),_&&(r+=`rotateY(${_}deg) `),S&&(r+=`skewX(${S}deg) `),C&&(r+=`skewY(${C}deg) `)}const c=t.x.scale*e.x,f=t.y.scale*e.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}const tm=["","X","Y","Z"],m2=1e3;let g2=0;function nm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function A1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=c1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&A1(r)}function P1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=g2++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_2),this.nodes.forEach(S2),this.nodes.forEach(I2),this.nodes.forEach(w2)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new r2)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new jg),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const f=this.eventHandlers.get(l);f&&f.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=jS(l)&&!hk(l),this.instance=l;const{layoutId:c,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),t){let m,w=0;const _=()=>this.root.updateBlockedByResize=!1;st.read(()=>{w=window.innerWidth}),t(l,()=>{const S=window.innerWidth;S!==w&&(w=S,this.root.updateBlockedByResize=!0,m&&m(),m=i2(_,250),jh.hasAnimatedSinceResize&&(jh.hasAnimatedSinceResize=!1,this.nodes.forEach(B0)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:w,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||R2,{onLayoutAnimationStart:D,onLayoutAnimationComplete:R}=p.getProps(),U=!this.targetLayout||!I1(this.targetLayout,S),z=!w&&_;if(this.options.layoutRoot||this.resumeFrom||z||w&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...ey(C,"layout"),onPlay:D,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(m,z)}else w||B0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(A2),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const w=this.path[m];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(U0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(T2),this.nodes.forEach(y2),this.nodes.forEach(v2)):this.nodes.forEach(U0),this.clearAllSnapshots();const c=In.now();qt.delta=Ei(0,1e3/60,c-qt.timestamp),qt.timestamp=c,qt.isProcessing=!0,Wp.update.process(qt),Wp.preRender.process(qt),Wp.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ny.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(E2),this.sharedNodes.forEach(P2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!S1(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(c||io(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return l&&(f=this.removeTransform(f)),b2(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return vt();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(k2))){const{scroll:p}=this.root;p&&(Pa(c.x,p.offset.x),Pa(c.y,p.offset.y))}return c}removeElementScroll(l){const c=vt();if(Hn(c,l),this.scroll?.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:m,options:w}=p;p!==this.root&&m&&w.layoutScroll&&(m.wasRoot&&Hn(c,l),Pa(c.x,m.offset.x),Pa(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const f=vt();Hn(f,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ca(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),io(m.latestValues)&&Ca(f,m.latestValues)}return io(this.latestValues)&&Ca(f,this.latestValues),f}removeTransform(l){const c=vt();Hn(c,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!io(p.latestValues))continue;Bm(p.latestValues)&&p.updateSnapshot();const m=vt(),w=p.measurePageBox();Hn(m,w),N0(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return io(this.latestValues)&&N0(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:w}=this.options;if(!(!this.layout||!(m||w))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),du(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),i1(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),du(this.relativeTargetOrigin,this.target,_.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bm(this.parent.latestValues)||r1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Hn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,_=this.treeScale.y;Qk(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=vt());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R0(this.prevProjectionDelta.x,this.projectionDelta.x),R0(this.prevProjectionDelta.y,this.projectionDelta.y)),hu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==_||!M0(this.projectionDelta.x,this.prevProjectionDelta.x)||!M0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xa(),this.projectionDelta=xa(),this.projectionDeltaWithTransform=xa()}setAnimationOrigin(l,c=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},w=xa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=vt(),S=f?f.source:void 0,C=this.layout?this.layout.source:void 0,D=S!==C,R=this.getStack(),U=!R||R.members.length<=1,z=!!(D&&!U&&this.options.crossfade===!0&&!this.path.some(x2));this.animationProgress=0;let j;this.mixTargetDelta=re=>{const oe=re/1e3;j0(w.x,l.x,oe),j0(w.y,l.y,oe),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(du(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C2(this.relativeTarget,this.relativeTargetOrigin,_,oe),j&&d2(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=vt()),Hn(j,this.relativeTarget)),D&&(this.animationValues=m,o2(m,p,this.latestValues,oe,z,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=oe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{jh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Oa(0)),this.currentAnimation=t2(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:f,layout:p,latestValues:m}=l;if(!(!c||!f||!p)){if(this!==l&&this.layout&&p&&C1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||vt();const w=dn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+w;const _=dn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+_}Hn(c,f),Ca(c,m),hu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new f2),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const p={};f.z&&nm("z",l,p,this.animationValues);for(let m=0;m<tm.length;m++)nm(`rotate${tm[m]}`,l,p,this.animationValues),nm(`skew${tm[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Bh(c?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Bh(c?.pointerEvents)||""),this.hasProjected&&!io(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let w=p2(this.projectionDeltaWithTransform,this.treeScale,m);f&&(w=f(m,w)),l.transform=w;const{x:_,y:S}=this.projectionDelta;l.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in Au){if(m[C]===void 0)continue;const{correct:D,applyTo:R,isCSSVariable:U}=Au[C],z=w==="none"?m[C]:D(m[C],p);if(R){const j=R.length;for(let re=0;re<j;re++)l[R[re]]=z}else U?this.options.visualElement.renderState.vars[C]=z:l[C]=z}this.options.layoutId&&(l.pointerEvents=p===this?Bh(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(F0),this.root.sharedNodes.clear()}}}function y2(t){t.updateLayout()}function v2(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?qn(m=>{const w=a?e.measuredBox[m]:e.layoutBox[m],_=dn(w);w.min=n[m].min,w.max=w.min+_}):C1(s,e.layoutBox,n)&&qn(m=>{const w=a?e.measuredBox[m]:e.layoutBox[m],_=dn(n[m]);w.max=w.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+_)});const l=xa();hu(l,n,e.layoutBox);const c=xa();a?hu(c,t.applyTransform(r,!0),e.measuredBox):hu(c,n,e.layoutBox);const f=!S1(l);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:w,layout:_}=m;if(w&&_){const S=vt();du(S,e.layoutBox,w.layoutBox);const C=vt();du(C,n,_.layoutBox),I1(S,C)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=S,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function _2(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function w2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function E2(t){t.clearSnapshot()}function F0(t){t.clearMeasurements()}function U0(t){t.isLayoutDirty=!1}function T2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function B0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function S2(t){t.resolveTargetDelta()}function I2(t){t.calcProjection()}function A2(t){t.resetSkewAndRotation()}function P2(t){t.removeLeadSnapshot()}function j0(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function z0(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function C2(t,e,n,r){z0(t.x,e.x,n.x,r),z0(t.y,e.y,n.y,r)}function x2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const R2={duration:.45,ease:[.4,0,.1,1]},$0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),W0=$0("applewebkit/")&&!$0("chrome/")?Math.round:Kn;function H0(t){t.min=W0(t.min),t.max=W0(t.max)}function b2(t){H0(t.x),H0(t.y)}function C1(t,e,n){return t==="position"||t==="preserve-aspect"&&!ON(O0(e),O0(n),.2)}function k2(t){return t!==t.root&&t.scroll?.wasRoot}const N2=P1({attachResizeListener:(t,e)=>Pu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rm={current:void 0},x1=P1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rm.current){const t=new N2({});t.mount(window),t.setOptions({layoutScroll:!0}),rm.current=t}return rm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),D2={pan:{Feature:XN},drag:{Feature:YN,ProjectionNode:x1,MeasureLayout:w1}};function q0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&st.postRender(()=>a(e,Wu(e)))}class V2 extends Es{mount(){const{current:e}=this.node;e&&(this.unmount=ok(e,(n,r)=>(q0(this.node,r,"Start"),s=>q0(this.node,s,"End"))))}unmount(){}}class L2 extends Es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ju(Pu(this.node.current,"focus",()=>this.onFocus()),Pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G0(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&st.postRender(()=>a(e,Wu(e)))}class O2 extends Es{mount(){const{current:e}=this.node;e&&(this.unmount=ck(e,(n,r)=>(G0(this.node,r,"Start"),(s,{success:a})=>G0(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gm=new WeakMap,im=new WeakMap,M2=t=>{const e=Gm.get(t.target);e&&e(t)},F2=t=>{t.forEach(M2)};function U2({root:t,...e}){const n=t||document;im.has(n)||im.set(n,{});const r=im.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(F2,{root:t,...e})),r[s]}function B2(t,e,n){const r=U2(e);return Gm.set(t,n),r.observe(t),()=>{Gm.delete(t),r.unobserve(t)}}const j2={some:0,all:1};class z2 extends Es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:j2[s]},c=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:w}=this.node.getProps(),_=p?m:w;_&&_(f)};return B2(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($2(e,n))&&this.startObserver()}unmount(){}}function $2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const W2={inView:{Feature:z2},tap:{Feature:O2},focus:{Feature:L2},hover:{Feature:V2}},H2={layout:{ProjectionNode:x1,MeasureLayout:w1}},q2={...bN,...W2,...D2,...H2},Nn=qk(q2,sN),G2={some:0,all:1};function K2(t,e,{root:n,margin:r,amount:s="some"}={}){const a=OS(t),l=new WeakMap,c=p=>{p.forEach(m=>{const w=l.get(m.target);if(m.isIntersecting!==!!w)if(m.isIntersecting){const _=e(m.target,m);typeof _=="function"?l.set(m.target,_):f.unobserve(m.target)}else typeof w=="function"&&(w(m),l.delete(m.target))})},f=new IntersectionObserver(c,{root:n,rootMargin:r,threshold:typeof s=="number"?s:G2[s]});return a.forEach(p=>f.observe(p)),()=>f.disconnect()}function sm(t,{root:e,margin:n,amount:r,once:s=!1,initial:a=!1}={}){const[l,c]=b.useState(a);return b.useEffect(()=>{if(!t.current||s&&l)return;const f=()=>(c(!0),s?void 0:()=>c(!1)),p={root:e&&e.current||void 0,margin:n,amount:r};return K2(t.current,f,p)},[e,t,n,s,r]),l}function Q2(){const t=b.useRef(null),e=b.useRef(null),n=b.useRef(null),r=sm(t,{once:!0}),s=sm(e,{once:!0}),a=sm(n,{once:!0});return E.createElement(E.Fragment,null,E.createElement(Nn.header,{initial:{y:-80,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"bg-gray-900 text-white flex justify-between items-center px-6 py-3 shadow-md"},E.createElement("span",{className:"font-bold text-lg sm:text-xl"},"MyAmravati Market"),E.createElement("nav",{className:"space-x-4 text-sm sm:text-base"},E.createElement(_t,{to:"/",className:"hover:text-blue-400 transition"},"Home"),E.createElement(_t,{to:"/browse",className:"hover:text-blue-400 transition"},"Browse"),E.createElement(_t,{to:"/add-product",className:"hover:text-blue-400 transition"},"Sell"))),E.createElement(Nn.section,{className:"text-center px-4 py-16 bg-gradient-to-r from-blue-50 to-green-50",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.7}},E.createElement("h1",{className:"font-bold text-3xl sm:text-5xl mb-4 leading-tight"}," Welcome to ",E.createElement("br",{className:"sm:hidden"})," ",E.createElement("span",{className:"text-blue-600"},"MyAmravati Market ")),E.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto mb-6 text-base sm:text-lg"},"A digital bazaar for students, home entrepreneurs, and locals of the Amravati district. Buy and sell books, crafts, handmade food, second-hand items, and more."),E.createElement("div",{className:"flex flex-wrap justify-center gap-4"},E.createElement(_t,{to:"/browse",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-md transition"},"Browse Products"),E.createElement(_t,{to:"/add-product",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-md transition"},"Add Your Product"))),E.createElement("section",{className:"bg-gray-100 py-16 px-6"},E.createElement("h2",{className:"text-3xl sm:text-4xl font-bold text-center text-gray-800 mb-12"},"How MyAmravati Market Works"),E.createElement("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8"},E.createElement(Nn.div,{ref:t,initial:{opacity:0,y:50},animate:r?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut"},className:"bg-white shadow-lg rounded-2xl p-6 text-center hover:scale-105 transform transition duration-300"},E.createElement("div",{className:"text-5xl mb-4"},""),E.createElement("h3",{className:"text-xl font-semibold mb-2"},"List Your Product"),E.createElement("p",{className:"text-gray-600"},"Upload a photo, set your price, write details, and share your WhatsApp number.")),E.createElement(Nn.div,{ref:e,initial:{opacity:0,y:50},animate:s?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut",delay:.1},className:"bg-white shadow-lg rounded-2xl p-6 text-center hover:scale-105 transform transition duration-300"},E.createElement("div",{className:"text-5xl mb-4"},""),E.createElement("h3",{className:"text-xl font-semibold mb-2"},"Browse & Contact"),E.createElement("p",{className:"text-gray-600"},"Buyers search local listings and chat directly with sellers via WhatsApp.")),E.createElement(Nn.div,{ref:n,initial:{opacity:0,y:50},animate:a?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut",delay:.2},className:"bg-white shadow-lg rounded-2xl p-6 text-center hover:scale-105 transform transition duration-300"},E.createElement("div",{className:"text-5xl mb-4"},""),E.createElement("h3",{className:"text-xl font-semibold mb-2"},"Deal & Deliver"),E.createElement("p",{className:"text-gray-600"},"Meet nearby, confirm the deal, and exchange items securely and quickly."))),E.createElement("div",{className:"text-center mt-12"},E.createElement(_t,{to:"/add-product"},E.createElement(Nn.button,{whileHover:{scale:1.05},className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-xl shadow-md transition"},"Start Selling Now")))),E.createElement(Nn.section,{className:"bg-white py-16 px-6 border-t border-gray-200",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0}},E.createElement("div",{className:"max-w-3xl mx-auto text-center"},E.createElement("h3",{className:"text-2xl font-bold text-gray-800 mb-4"},"Need Help?"),E.createElement("p",{className:"text-gray-600 mb-6"},"Facing issues or have questions? Were here to help you 24/7."),E.createElement("a",{href:"mailto:myamravatimart007@gmail.com?subject=Support Request  MyAmravati Market",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-xl shadow-md transition"},"Email Us: myamravatimart007@gmail.com"))),E.createElement("footer",{className:"bg-gray-900 text-gray-300 text-center py-6"},E.createElement("p",{className:"mb-2"}," 2025 MyAmravati Market  Made with  for Amravati"),E.createElement("div",{className:"space-x-3 text-sm"},E.createElement(_t,{to:"/terms",className:"hover:underline"},"Terms & Conditions"),E.createElement(_t,{to:"/privacy",className:"hover:underline"},"Privacy Policy")),E.createElement("p",{className:"mt-2 text-xs"},"Built for Amravati |"," ",E.createElement("a",{href:"#",className:"text-blue-400 hover:underline"},"Powered by you"))))}const Y2=()=>{};var K0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},X2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},b1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,m=a>>2,w=(a&3)<<4|c>>4;let _=(c&15)<<2|p>>6,S=p&63;f||(S=64,l||(_=64)),r.push(n[m],n[w],n[_],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):X2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const w=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||w==null)throw new J2;const _=a<<2|c>>4;if(r.push(_),p!==64){const S=c<<4&240|p>>2;if(r.push(S),w!==64){const C=p<<6&192|w;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class J2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z2=function(t){const e=R1(t);return b1.encodeByteArray(e,!0)},sd=function(t){return Z2(t).replace(/\./g,"")},k1=function(t){try{return b1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=()=>eD().__FIREBASE_DEFAULTS__,nD=()=>{if(typeof process>"u"||typeof K0>"u")return;const t=K0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k1(t[1]);return e&&JSON.parse(e)},Vd=()=>{try{return Y2()||tD()||nD()||rD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N1=t=>Vd()?.emulatorHosts?.[t],D1=t=>{const e=N1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},V1=()=>Vd()?.config,L1=t=>Vd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sd(JSON.stringify(n)),sd(JSON.stringify(l)),""].join(".")}const fu={};function sD(){const t={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?t.emulator.push(e):t.prod.push(e);return t}function oD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q0=!1;function py(t,e){if(typeof window>"u"||typeof document>"u"||!Ts(window.location.host)||fu[t]===e||fu[t]||Q0)return;fu[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=sD().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Q0=!0,l()},_}function m(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function w(){const _=oD(r),S=n("text"),C=document.getElementById(S)||document.createElement("span"),D=n("learnmore"),R=document.getElementById(D)||document.createElement("a"),U=n("preprendIcon"),z=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const j=_.element;c(j),m(R,D);const re=p();f(z,U),j.append(z,C,R,re),document.body.appendChild(j)}a?(C.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function lD(){const t=Vd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dD(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fD(){return!lD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pD(){try{return typeof indexedDB=="object"}catch{return!1}}function mD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gD,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hu.prototype.create)}}class Hu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?yD(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new qr(s,c,r)}}function yD(t,e){return t.replace(vD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vD=/\{\$([^}]+)}/g;function _D(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Y0(a)&&Y0(l)){if(!mo(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Y0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wD(t,e){const n=new ED(t,e);return n.subscribe.bind(n)}class ED{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=om),s.error===void 0&&(s.error=om),s.complete===void 0&&(s.complete=om);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AD(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ID(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ID(t){return t===so?void 0:t}function AD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const CD={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},xD=Me.INFO,RD={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},bD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=RD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class my{constructor(e){this.name=e,this._logLevel=xD,this._logHandler=bD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const kD=(t,e)=>e.some(n=>t instanceof n);let X0,J0;function ND(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DD(){return J0||(J0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M1=new WeakMap,Km=new WeakMap,F1=new WeakMap,am=new WeakMap,gy=new WeakMap;function VD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(as(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&M1.set(n,t)}).catch(()=>{}),gy.set(e,t),e}function LD(t){if(Km.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Km.set(t,e)}let Qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||F1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OD(t){Qm=t(Qm)}function MD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lm(this),e,...n);return F1.set(r,e.sort?e.sort():[e]),as(r)}:DD().includes(t)?function(...e){return t.apply(lm(this),e),as(M1.get(this))}:function(...e){return as(t.apply(lm(this),e))}}function FD(t){return typeof t=="function"?MD(t):(t instanceof IDBTransaction&&LD(t),kD(t,ND())?new Proxy(t,Qm):t)}function as(t){if(t instanceof IDBRequest)return VD(t);if(am.has(t))return am.get(t);const e=FD(t);return e!==t&&(am.set(t,e),gy.set(e,t)),e}const lm=t=>gy.get(t);function UD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=as(l);return r&&l.addEventListener("upgradeneeded",f=>{r(as(l.result),f.oldVersion,f.newVersion,as(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const BD=["get","getKey","getAll","getAllKeys","count"],jD=["put","add","delete","clear"],um=new Map;function Z0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=jD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||BD.includes(n)))return;const a=async function(l,...c){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&f.done]))[0]};return um.set(e,a),a}OD(t=>({...t,get:(e,n,r)=>Z0(e,n)||t.get(e,n,r),has:(e,n)=>!!Z0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($D(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $D(t){return t.getComponent()?.type==="VERSION"}const Ym="@firebase/app",eE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new my("@firebase/app"),WD="@firebase/app-compat",HD="@firebase/analytics-compat",qD="@firebase/analytics",GD="@firebase/app-check-compat",KD="@firebase/app-check",QD="@firebase/auth",YD="@firebase/auth-compat",XD="@firebase/database",JD="@firebase/data-connect",ZD="@firebase/database-compat",eV="@firebase/functions",tV="@firebase/functions-compat",nV="@firebase/installations",rV="@firebase/installations-compat",iV="@firebase/messaging",sV="@firebase/messaging-compat",oV="@firebase/performance",aV="@firebase/performance-compat",lV="@firebase/remote-config",uV="@firebase/remote-config-compat",cV="@firebase/storage",hV="@firebase/storage-compat",dV="@firebase/firestore",fV="@firebase/ai",pV="@firebase/firestore-compat",mV="firebase",gV="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",yV={[Ym]:"fire-core",[WD]:"fire-core-compat",[qD]:"fire-analytics",[HD]:"fire-analytics-compat",[KD]:"fire-app-check",[GD]:"fire-app-check-compat",[QD]:"fire-auth",[YD]:"fire-auth-compat",[XD]:"fire-rtdb",[JD]:"fire-data-connect",[ZD]:"fire-rtdb-compat",[eV]:"fire-fn",[tV]:"fire-fn-compat",[nV]:"fire-iid",[rV]:"fire-iid-compat",[iV]:"fire-fcm",[sV]:"fire-fcm-compat",[oV]:"fire-perf",[aV]:"fire-perf-compat",[lV]:"fire-rc",[uV]:"fire-rc-compat",[cV]:"fire-gcs",[hV]:"fire-gcs-compat",[dV]:"fire-fst",[pV]:"fire-fst-compat",[fV]:"fire-vertex","fire-js":"fire-js",[mV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new Map,vV=new Map,Jm=new Map;function tE(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(Jm.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,t);for(const n of Cu.values())tE(n,t);for(const n of vV.values())tE(n,t);return!0}function Ld(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Hu("app","Firebase",_V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=gV;function U1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Xm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ls.create("bad-app-name",{appName:String(s)});if(n||(n=V1()),!n)throw ls.create("no-options");const a=Cu.get(s);if(a){if(mo(n,a.options)&&mo(r,a.config))return a;throw ls.create("duplicate-app",{appName:s})}const l=new PD(s);for(const f of Jm.values())l.addComponent(f);const c=new wV(n,r,l);return Cu.set(s,c),c}function Od(t=Xm){const e=Cu.get(t);if(!e&&t===Xm&&V1())return U1();if(!e)throw ls.create("no-app",{appName:t});return e}function EV(){return Array.from(Cu.values())}function Ur(t,e,n){let r=yV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(l.join(" "));return}go(new fs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="firebase-heartbeat-database",SV=1,xu="firebase-heartbeat-store";let cm=null;function B1(){return cm||(cm=UD(TV,SV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ls.create("idb-open",{originalErrorMessage:t.message})})),cm}async function IV(t){try{const n=(await B1()).transaction(xu),r=await n.objectStore(xu).get(j1(t));return await n.done,r}catch(e){if(e instanceof qr)Si.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});Si.warn(n.message)}}}async function nE(t,e){try{const r=(await B1()).transaction(xu,"readwrite");await r.objectStore(xu).put(e,j1(t)),await r.done}catch(n){if(n instanceof qr)Si.warn(n.message);else{const r=ls.create("idb-set",{originalErrorMessage:n?.message});Si.warn(r.message)}}}function j1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=1024,PV=30;class CV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>PV){const s=bV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Si.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rE(),{heartbeatsToSend:n,unsentEntries:r}=xV(this._heartbeatsCache.heartbeats),s=sd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Si.warn(e),""}}}function rE(){return new Date().toISOString().substring(0,10)}function xV(t,e=AV){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),iE(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),iE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pD()?mD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iE(t){return sd(JSON.stringify({version:2,heartbeats:t})).length}function bV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){go(new fs("platform-logger",e=>new zD(e),"PRIVATE")),go(new fs("heartbeat",e=>new CV(e),"PRIVATE")),Ur(Ym,eE,t),Ur(Ym,eE,"esm2020"),Ur("fire-js","")}kV("");var NV="firebase",DV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(NV,DV,"app");function z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VV=z1,$1=new Hu("auth","Firebase",z1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new my("@firebase/auth");function LV(t,...e){od.logLevel<=Me.WARN&&od.warn(`Auth (${To}): ${t}`,...e)}function zh(t,...e){od.logLevel<=Me.ERROR&&od.error(`Auth (${To}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw vy(t,...e)}function pr(t,...e){return vy(t,...e)}function yy(t,e,n){const r={...VV(),[e]:n};return new Hu("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return yy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yn(t,"argument-error"),yy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $1.create(t,...e)}function Ce(t,e,...n){if(!t)throw vy(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zh(e),new Error(e)}function Ii(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){return typeof self<"u"&&self.location?.href||""}function MV(){return sE()==="http:"||sE()==="https:"}function sE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MV()||cD()||"connection"in navigator)?navigator.onLine:!0}function UV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=aD()||hD()}get(){return FV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zV=new Gu(3e4,6e4);function Ss(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Is(t,e,n,r,s={}){return H1(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=qu({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return uD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ts(t.emulatorConfig.host)&&(p.credentials="include"),W1.fetch()(await q1(t,t.config.apiHost,n,c),p)})}async function H1(t,e,n){t._canInitEmulator=!1;const r={...BV,...e};try{const s=new WV(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Ph(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Ph(t,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw yy(t,m,p);Yn(t,m)}}catch(s){if(s instanceof qr)throw s;Yn(t,"network-request-failed",{message:String(s)})}}async function Ku(t,e,n,r,s={}){const a=await Is(t,e,n,r,s);return"mfaPendingCredential"in a&&Yn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function q1(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?_y(t.config,s):`${t.config.apiScheme}://${s}`;return jV.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function $V(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),zV.get())})}}function Ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=pr(t,e,r);return s.customData._tokenResponse=n,s}function oE(t){return t!==void 0&&t.enterprise!==void 0}class HV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $V(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qV(t,e){return Is(t,"GET","/v2/recaptchaConfig",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e){return Is(t,"POST","/v1/accounts:delete",e)}async function ad(t,e){return Is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KV(t,e=!1){const n=ct(t),r=await n.getIdToken(e),s=wy(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:pu(hm(s.auth_time)),issuedAtTime:pu(hm(s.iat)),expirationTime:pu(hm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function hm(t){return Number(t)*1e3}function wy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const s=k1(n);return s?JSON.parse(s):(zh("Failed to decode base64 JWT payload"),null)}catch(s){return zh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function aE(t){const e=wy(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qr&&QV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function QV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t){const e=t.auth,n=await t.getIdToken(),r=await Ru(t,ad(e,{idToken:n}));Ce(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?G1(s.providerUserInfo):[],l=JV(t.providerData,a),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!l?.length,p=c?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new eg(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function XV(t){const e=ct(t);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function G1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e){const n=await H1(t,{},async()=>{const r=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await q1(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ts(t.emulatorConfig.host)&&(f.credentials="include"),W1.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eL(t,e){return Is(t,"POST","/v2/accounts:revokeToken",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=aE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await ZV(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new ka;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ce(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new YV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KV(this,e)}reload(){return XV(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Ru(this,GV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:w,emailVerified:_,isAnonymous:S,providerData:C,stsTokenManager:D}=n;Ce(w&&D,e,"internal-error");const R=ka.fromJSON(this.name,D);Ce(typeof w=="string",e,"internal-error"),es(r,e.name),es(s,e.name),Ce(typeof _=="boolean",e,"internal-error"),Ce(typeof S=="boolean",e,"internal-error"),es(a,e.name),es(l,e.name),es(c,e.name),es(f,e.name),es(p,e.name),es(m,e.name);const U=new fr({uid:w,auth:e,email:s,emailVerified:_,displayName:r,isAnonymous:S,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:R,createdAt:p,lastLoginAt:m});return C&&Array.isArray(C)&&(U.providerData=C.map(z=>({...z}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(e,n,r=!1){const s=new ka;s.updateFromServerResponse(n);const a=new fr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ld(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?G1(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new ka;c.updateFromIdToken(r);const f=new fr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;function pi(t){Ii(t instanceof Function,"Expected a class definition");let e=lE.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K1.type="NONE";const uE=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=$h(this.userKey,s.apiKey,a),this.fullPersistenceKey=$h("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ad(this.auth,{idToken:e}).catch(()=>{});return n?fr._fromGetAccountInfoResponse(this.auth,n,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Na(pi(uE),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||pi(uE);const l=$h(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=await p._get(l);if(m){let w;if(typeof m=="string"){const _=await ad(e,{idToken:m}).catch(()=>{});if(!_)break;w=await fr._fromGetAccountInfoResponse(e,_,m)}else w=fr._fromJSON(e,m);p!==a&&(c=w),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Na(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Na(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eI(e))return"Blackberry";if(tI(e))return"Webos";if(Y1(e))return"Safari";if((e.includes("chrome/")||X1(e))&&!e.includes("edge/"))return"Chrome";if(Z1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Q1(t=sn()){return/firefox\//i.test(t)}function Y1(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X1(t=sn()){return/crios\//i.test(t)}function J1(t=sn()){return/iemobile/i.test(t)}function Z1(t=sn()){return/android/i.test(t)}function eI(t=sn()){return/blackberry/i.test(t)}function tI(t=sn()){return/webos/i.test(t)}function Ey(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tL(t=sn()){return Ey(t)&&!!window.navigator?.standalone}function nL(){return dD()&&document.documentMode===10}function nI(t=sn()){return Ey(t)||Z1(t)||tI(t)||eI(t)||/windows phone/i.test(t)||J1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e=[]){let n;switch(t){case"Browser":n=cE(sn());break;case"Worker":n=`${cE(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e={}){return Is(t,"GET","/v2/passwordPolicy",Ss(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=6;class oL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new rL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ad(this,{idToken:e}),r=await fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ld(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(yi(this));const n=e?ct(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iL(this),n=new oL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function As(t){return ct(t)}class hE{constructor(e){this.auth=e,this.observer=null,this.addObserver=wD(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lL(t){Md=t}function iI(t){return Md.loadJS(t)}function uL(){return Md.recaptchaEnterpriseScript}function cL(){return Md.gapiScript}function hL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class dL{constructor(){this.enterprise=new fL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pL="recaptcha-enterprise",sI="NO_RECAPTCHA";class mL{constructor(e){this.type=pL,this.auth=As(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{qV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new HV(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function s(a,l,c){const f=window.grecaptcha;oE(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(sI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dL().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&oE(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=uL();f.length!==0&&(f+=c),iI(f).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function dE(t,e,n,r=!1,s=!1){const a=new mL(t);let l;if(s)l=sI;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function tg(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await dE(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await dE(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t,e){const n=Ld(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(mo(a,e??{}))return s;Yn(s,"already-initialized")}return n.initialize({options:e})}function yL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function vL(t,e,n){const r=As(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=oI(e),{host:l,port:c}=_L(e),f=c===null?"":`:${c}`,p={url:`${a}//${l}${f}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(mo(p,r.config.emulator)&&mo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Ts(l)?(fy(`${a}//${l}${f}`),py("Auth",!0)):wL()}function oI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _L(t){const e=oI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:fE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:fE(l)}}}function fE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function EL(t,e){return Is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e){return Ku(t,"POST","/v1/accounts:signInWithPassword",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e){return Ku(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}async function IL(t,e){return Ku(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Ty{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,n,"signInWithPassword",TL);case"emailLink":return SL(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,r,"signUpPassword",EL);case"emailLink":return IL(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e){return Ku(t,"POST","/v1/accounts:signInWithIdp",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="http://localhost";class yo extends Ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new yo(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Da(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Da(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Da(e,n)}buildRequest(){const e={requestUri:AL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CL(t){const e=nu(ru(t)).link,n=e?nu(ru(e)).deep_link_id:null,r=nu(ru(t)).deep_link_id;return(r?nu(ru(r)).link:null)||r||n||e||t}class Sy{constructor(e){const n=nu(ru(e)),r=n.apiKey??null,s=n.oobCode??null,a=PL(n.mode??null);Ce(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CL(e);try{return new Sy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sy.parseLink(n);return Ce(r,"argument-error"),bu._fromEmailAndCode(e,r.code,r.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends Iy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Qu{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Qu{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Qu{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,e){return Ku(t,"POST","/v1/accounts:signUp",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await fr._fromIdTokenResponse(e,r,s),l=pE(r);return new vo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=pE(r);return new vo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function pE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends qr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ud.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ud(e,n,r,s)}}function aI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ud._fromErrorAndOperation(t,a,e,r):a})}async function RL(t,e,n=!1){const r=await Ru(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e,n=!1){const{auth:r}=t;if(Tn(r.app))return Promise.reject(yi(r));const s="reauthenticate";try{const a=await Ru(t,aI(r,s,e,t),n);Ce(a.idToken,r,"internal-error");const l=wy(a.idToken);Ce(l,r,"internal-error");const{sub:c}=l;return Ce(t.uid===c,r,"user-mismatch"),vo._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Yn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(t,e,n=!1){if(Tn(t.app))return Promise.reject(yi(t));const r="signIn",s=await aI(t,r,e),a=await vo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function kL(t,e){return lI(As(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(t){const e=As(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NL(t,e,n){if(Tn(t.app))return Promise.reject(yi(t));const r=As(t),l=await tg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xL).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&uI(t),f}),c=await vo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function DL(t,e,n){return Tn(t.app)?Promise.reject(yi(t)):kL(ct(t),Xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uI(t),r})}function VL(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function LL(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function Ay(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function OL(t){return ct(t).signOut()}const cd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cd,"1"),this.storage.removeItem(cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=1e3,FL=10;class hI extends cI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);nL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,FL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ML)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hI.type="LOCAL";const UL=hI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends cI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dI.type="SESSION";const fI=dI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,a)),f=await BL(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=Py("",20);s.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(w){const _=w;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function zL(t){Br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function $L(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WL(){return navigator?.serviceWorker?.controller||null}function HL(){return pI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebaseLocalStorageDb",qL=1,hd="firebaseLocalStorage",gI="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ud(t,e){return t.transaction([hd],e?"readwrite":"readonly").objectStore(hd)}function GL(){const t=indexedDB.deleteDatabase(mI);return new Yu(t).toPromise()}function ng(){const t=indexedDB.open(mI,qL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hd,{keyPath:gI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hd)?e(r):(r.close(),await GL(),e(await ng()))})})}async function mE(t,e,n){const r=Ud(t,!0).put({[gI]:e,value:n});return new Yu(r).toPromise()}async function KL(t,e){const n=Ud(t,!1).get(e),r=await new Yu(n).toPromise();return r===void 0?null:r.value}function gE(t,e){const n=Ud(t,!0).delete(e);return new Yu(n).toPromise()}const QL=800,YL=3;class yI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fd._getInstance(HL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $L(),!this.activeServiceWorker)return;this.sender=new jL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ng();return await mE(e,cd,"1"),await gE(e,cd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Ud(s,!1).getAll();return new Yu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yI.type="LOCAL";const XL=yI;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e){return e?pi(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends Ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JL(t){return lI(t.auth,new Cy(t),t.bypassAuthState)}function ZL(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),bL(n,new Cy(t),t.bypassAuthState)}async function eO(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),RL(n,new Cy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JL;case"linkViaPopup":case"linkViaRedirect":return eO;case"reauthViaPopup":case"reauthViaRedirect":return ZL;default:Yn(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new Gu(2e3,1e4);async function rg(t,e,n){if(Tn(t.app))return Promise.reject(pr(t,"operation-not-supported-in-this-environment"));const r=As(t);OV(t,e,Iy);const s=vI(r,n);return new lo(r,"signInViaPopup",e,s).executeNotNull()}class lo extends _I{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tO.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="pendingRedirect",Wh=new Map;class rO extends _I{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const r=await iO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iO(t,e){const n=aO(e),r=oO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function sO(t,e){Wh.set(t._key(),e)}function oO(t){return pi(t._redirectPersistence)}function aO(t){return $h(nO,t.config.apiKey,t.name)}async function lO(t,e,n=!1){if(Tn(t.app))return Promise.reject(yi(t));const r=As(t),s=vI(r,e),l=await new rO(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=600*1e3;class cO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!wI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(pr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uO&&this.cachedEventUids.clear(),this.cachedEventUids.has(yE(e))}saveEventToCache(e){this.cachedEventUids.add(yE(e)),this.lastProcessedEventTime=Date.now()}}function yE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e={}){return Is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pO=/^https?/;async function mO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dO(t);for(const n of e)try{if(gO(n))return}catch{}Yn(t,"unauthorized-domain")}function gO(t){const e=Zm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!pO.test(n))return!1;if(fO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new Gu(3e4,6e4);function vE(){const t=Br().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vO(t){return new Promise((e,n)=>{function r(){vE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vE(),n(pr(t,"network-request-failed"))},timeout:yO.get()})}if(Br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Br().gapi?.load)r();else{const s=hL("iframefcb");return Br()[s]=()=>{gapi.load?r():n(pr(t,"network-request-failed"))},iI(`${cL()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw Hh=null,e})}let Hh=null;function _O(t){return Hh=Hh||vO(t),Hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new Gu(5e3,15e3),EO="__/auth/iframe",TO="emulator/auth/iframe",SO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AO(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_y(e,TO):`https://${t.config.authDomain}/${EO}`,r={apiKey:e.apiKey,appName:t.name,v:To},s=IO.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${qu(r).slice(1)}`}async function PO(t){const e=await _O(t),n=Br().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:AO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SO,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=pr(t,"network-request-failed"),c=Br().setTimeout(()=>{a(l)},wO.get());function f(){Br().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xO=500,RO=600,bO="_blank",kO="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NO(t,e,n,r=xO,s=RO){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...CO,width:r.toString(),height:s.toString(),top:a,left:l},p=sn().toLowerCase();n&&(c=X1(p)?bO:n),Q1(p)&&(e=e||kO,f.scrollbars="yes");const m=Object.entries(f).reduce((_,[S,C])=>`${_}${S}=${C},`,"");if(tL(p)&&c!=="_self")return DO(e||"",c),new _E(null);const w=window.open(e||"",c,m);Ce(w,t,"popup-blocked");try{w.focus()}catch{}return new _E(w)}function DO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="__/auth/handler",LO="emulator/auth/handler",OO=encodeURIComponent("fac");async function wE(t,e,n,r,s,a){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:To,eventId:s};if(e instanceof Iy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",_D(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,w]of Object.entries({}))l[m]=w}if(e instanceof Qu){const m=e.getScopes().filter(w=>w!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await t._getAppCheckToken(),p=f?`#${OO}=${encodeURIComponent(f)}`:"";return`${MO(t)}?${qu(c).slice(1)}${p}`}function MO({config:t}){return t.emulator?_y(t,LO):`https://${t.authDomain}/${VO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="webStorageSupport";class FO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fI,this._completeRedirectFn=lO,this._overrideRedirectResult=sO}async _openPopup(e,n,r,s){Ii(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await wE(e,n,r,Zm(),s);return NO(e,a,Py())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await wE(e,n,r,Zm(),s);return zL(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Ii(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await PO(e),r=new cO(e);return n.register("authEvent",s=>(Ce(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dm,{type:dm},s=>{const a=s?.[0]?.[dm];a!==void 0&&n(!!a),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nI()||Y1()||Ey()}}const UO=FO;var EE="@firebase/auth",TE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zO(t){go(new fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rI(t)},p=new aL(r,s,a,f);return yL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),go(new fs("auth-internal",e=>{const n=As(e.getProvider("auth").getImmediate());return(r=>new BO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(EE,TE,jO(t)),Ur(EE,TE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=300,WO=L1("authIdTokenMaxAge")||$O;let SE=null;const HO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WO)return;const s=n?.token;SE!==s&&(SE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function qO(t=Od()){const e=Ld(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gL(t,{popupRedirectResolver:UO,persistence:[XL,UL,fI]}),r=L1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=HO(a.toString());LL(n,l,()=>l(n.currentUser)),VL(n,c=>l(c))}}const s=N1("auth");return s&&vL(n,`http://${s}`),n}function GO(){return document.getElementsByTagName("head")?.[0]??document}lL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=pr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",GO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zO("Browser");var IE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,EI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,P){function x(){}x.prototype=P.prototype,V.D=P.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(L,M,$){for(var N=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)N[ee-2]=arguments[ee];return P.prototype[M].apply(L,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,P,x){x||(x=0);var L=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)L[M]=P.charCodeAt(x++)|P.charCodeAt(x++)<<8|P.charCodeAt(x++)<<16|P.charCodeAt(x++)<<24;else for(M=0;16>M;++M)L[M]=P[x++]|P[x++]<<8|P[x++]<<16|P[x++]<<24;P=V.g[0],x=V.g[1],M=V.g[2];var $=V.g[3],N=P+($^x&(M^$))+L[0]+3614090360&4294967295;P=x+(N<<7&4294967295|N>>>25),N=$+(M^P&(x^M))+L[1]+3905402710&4294967295,$=P+(N<<12&4294967295|N>>>20),N=M+(x^$&(P^x))+L[2]+606105819&4294967295,M=$+(N<<17&4294967295|N>>>15),N=x+(P^M&($^P))+L[3]+3250441966&4294967295,x=M+(N<<22&4294967295|N>>>10),N=P+($^x&(M^$))+L[4]+4118548399&4294967295,P=x+(N<<7&4294967295|N>>>25),N=$+(M^P&(x^M))+L[5]+1200080426&4294967295,$=P+(N<<12&4294967295|N>>>20),N=M+(x^$&(P^x))+L[6]+2821735955&4294967295,M=$+(N<<17&4294967295|N>>>15),N=x+(P^M&($^P))+L[7]+4249261313&4294967295,x=M+(N<<22&4294967295|N>>>10),N=P+($^x&(M^$))+L[8]+1770035416&4294967295,P=x+(N<<7&4294967295|N>>>25),N=$+(M^P&(x^M))+L[9]+2336552879&4294967295,$=P+(N<<12&4294967295|N>>>20),N=M+(x^$&(P^x))+L[10]+4294925233&4294967295,M=$+(N<<17&4294967295|N>>>15),N=x+(P^M&($^P))+L[11]+2304563134&4294967295,x=M+(N<<22&4294967295|N>>>10),N=P+($^x&(M^$))+L[12]+1804603682&4294967295,P=x+(N<<7&4294967295|N>>>25),N=$+(M^P&(x^M))+L[13]+4254626195&4294967295,$=P+(N<<12&4294967295|N>>>20),N=M+(x^$&(P^x))+L[14]+2792965006&4294967295,M=$+(N<<17&4294967295|N>>>15),N=x+(P^M&($^P))+L[15]+1236535329&4294967295,x=M+(N<<22&4294967295|N>>>10),N=P+(M^$&(x^M))+L[1]+4129170786&4294967295,P=x+(N<<5&4294967295|N>>>27),N=$+(x^M&(P^x))+L[6]+3225465664&4294967295,$=P+(N<<9&4294967295|N>>>23),N=M+(P^x&($^P))+L[11]+643717713&4294967295,M=$+(N<<14&4294967295|N>>>18),N=x+($^P&(M^$))+L[0]+3921069994&4294967295,x=M+(N<<20&4294967295|N>>>12),N=P+(M^$&(x^M))+L[5]+3593408605&4294967295,P=x+(N<<5&4294967295|N>>>27),N=$+(x^M&(P^x))+L[10]+38016083&4294967295,$=P+(N<<9&4294967295|N>>>23),N=M+(P^x&($^P))+L[15]+3634488961&4294967295,M=$+(N<<14&4294967295|N>>>18),N=x+($^P&(M^$))+L[4]+3889429448&4294967295,x=M+(N<<20&4294967295|N>>>12),N=P+(M^$&(x^M))+L[9]+568446438&4294967295,P=x+(N<<5&4294967295|N>>>27),N=$+(x^M&(P^x))+L[14]+3275163606&4294967295,$=P+(N<<9&4294967295|N>>>23),N=M+(P^x&($^P))+L[3]+4107603335&4294967295,M=$+(N<<14&4294967295|N>>>18),N=x+($^P&(M^$))+L[8]+1163531501&4294967295,x=M+(N<<20&4294967295|N>>>12),N=P+(M^$&(x^M))+L[13]+2850285829&4294967295,P=x+(N<<5&4294967295|N>>>27),N=$+(x^M&(P^x))+L[2]+4243563512&4294967295,$=P+(N<<9&4294967295|N>>>23),N=M+(P^x&($^P))+L[7]+1735328473&4294967295,M=$+(N<<14&4294967295|N>>>18),N=x+($^P&(M^$))+L[12]+2368359562&4294967295,x=M+(N<<20&4294967295|N>>>12),N=P+(x^M^$)+L[5]+4294588738&4294967295,P=x+(N<<4&4294967295|N>>>28),N=$+(P^x^M)+L[8]+2272392833&4294967295,$=P+(N<<11&4294967295|N>>>21),N=M+($^P^x)+L[11]+1839030562&4294967295,M=$+(N<<16&4294967295|N>>>16),N=x+(M^$^P)+L[14]+4259657740&4294967295,x=M+(N<<23&4294967295|N>>>9),N=P+(x^M^$)+L[1]+2763975236&4294967295,P=x+(N<<4&4294967295|N>>>28),N=$+(P^x^M)+L[4]+1272893353&4294967295,$=P+(N<<11&4294967295|N>>>21),N=M+($^P^x)+L[7]+4139469664&4294967295,M=$+(N<<16&4294967295|N>>>16),N=x+(M^$^P)+L[10]+3200236656&4294967295,x=M+(N<<23&4294967295|N>>>9),N=P+(x^M^$)+L[13]+681279174&4294967295,P=x+(N<<4&4294967295|N>>>28),N=$+(P^x^M)+L[0]+3936430074&4294967295,$=P+(N<<11&4294967295|N>>>21),N=M+($^P^x)+L[3]+3572445317&4294967295,M=$+(N<<16&4294967295|N>>>16),N=x+(M^$^P)+L[6]+76029189&4294967295,x=M+(N<<23&4294967295|N>>>9),N=P+(x^M^$)+L[9]+3654602809&4294967295,P=x+(N<<4&4294967295|N>>>28),N=$+(P^x^M)+L[12]+3873151461&4294967295,$=P+(N<<11&4294967295|N>>>21),N=M+($^P^x)+L[15]+530742520&4294967295,M=$+(N<<16&4294967295|N>>>16),N=x+(M^$^P)+L[2]+3299628645&4294967295,x=M+(N<<23&4294967295|N>>>9),N=P+(M^(x|~$))+L[0]+4096336452&4294967295,P=x+(N<<6&4294967295|N>>>26),N=$+(x^(P|~M))+L[7]+1126891415&4294967295,$=P+(N<<10&4294967295|N>>>22),N=M+(P^($|~x))+L[14]+2878612391&4294967295,M=$+(N<<15&4294967295|N>>>17),N=x+($^(M|~P))+L[5]+4237533241&4294967295,x=M+(N<<21&4294967295|N>>>11),N=P+(M^(x|~$))+L[12]+1700485571&4294967295,P=x+(N<<6&4294967295|N>>>26),N=$+(x^(P|~M))+L[3]+2399980690&4294967295,$=P+(N<<10&4294967295|N>>>22),N=M+(P^($|~x))+L[10]+4293915773&4294967295,M=$+(N<<15&4294967295|N>>>17),N=x+($^(M|~P))+L[1]+2240044497&4294967295,x=M+(N<<21&4294967295|N>>>11),N=P+(M^(x|~$))+L[8]+1873313359&4294967295,P=x+(N<<6&4294967295|N>>>26),N=$+(x^(P|~M))+L[15]+4264355552&4294967295,$=P+(N<<10&4294967295|N>>>22),N=M+(P^($|~x))+L[6]+2734768916&4294967295,M=$+(N<<15&4294967295|N>>>17),N=x+($^(M|~P))+L[13]+1309151649&4294967295,x=M+(N<<21&4294967295|N>>>11),N=P+(M^(x|~$))+L[4]+4149444226&4294967295,P=x+(N<<6&4294967295|N>>>26),N=$+(x^(P|~M))+L[11]+3174756917&4294967295,$=P+(N<<10&4294967295|N>>>22),N=M+(P^($|~x))+L[2]+718787259&4294967295,M=$+(N<<15&4294967295|N>>>17),N=x+($^(M|~P))+L[9]+3951481745&4294967295,V.g[0]=V.g[0]+P&4294967295,V.g[1]=V.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+$&4294967295}r.prototype.u=function(V,P){P===void 0&&(P=V.length);for(var x=P-this.blockSize,L=this.B,M=this.h,$=0;$<P;){if(M==0)for(;$<=x;)s(this,V,$),$+=this.blockSize;if(typeof V=="string"){for(;$<P;)if(L[M++]=V.charCodeAt($++),M==this.blockSize){s(this,L),M=0;break}}else for(;$<P;)if(L[M++]=V[$++],M==this.blockSize){s(this,L),M=0;break}}this.h=M,this.o+=P},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var P=1;P<V.length-8;++P)V[P]=0;var x=8*this.o;for(P=V.length-8;P<V.length;++P)V[P]=x&255,x/=256;for(this.u(V),V=Array(16),P=x=0;4>P;++P)for(var L=0;32>L;L+=8)V[x++]=this.g[P]>>>L&255;return V};function a(V,P){var x=c;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=P(V)}function l(V,P){this.h=P;for(var x=[],L=!0,M=V.length-1;0<=M;M--){var $=V[M]|0;L&&$==P||(x[M]=$,L=!1)}this.g=x}var c={};function f(V){return-128<=V&&128>V?a(V,function(P){return new l([P|0],0>P?-1:0)}):new l([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return R(p(-V));for(var P=[],x=1,L=0;V>=x;L++)P[L]=V/x|0,x*=4294967296;return new l(P,0)}function m(V,P){if(V.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(V.charAt(0)=="-")return R(m(V.substring(1),P));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(P,8)),L=w,M=0;M<V.length;M+=8){var $=Math.min(8,V.length-M),N=parseInt(V.substring(M,M+$),P);8>$?($=p(Math.pow(P,$)),L=L.j($).add(p(N))):(L=L.j(x),L=L.add(p(N)))}return L}var w=f(0),_=f(1),S=f(16777216);t=l.prototype,t.m=function(){if(D(this))return-R(this).m();for(var V=0,P=1,x=0;x<this.g.length;x++){var L=this.i(x);V+=(0<=L?L:4294967296+L)*P,P*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(D(this))return"-"+R(this).toString(V);for(var P=p(Math.pow(V,6)),x=this,L="";;){var M=re(x,P).g;x=U(x,M.j(P));var $=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=M,C(x))return $+L;for(;6>$.length;)$="0"+$;L=$+L}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var P=0;P<V.g.length;P++)if(V.g[P]!=0)return!1;return!0}function D(V){return V.h==-1}t.l=function(V){return V=U(this,V),D(V)?-1:C(V)?0:1};function R(V){for(var P=V.g.length,x=[],L=0;L<P;L++)x[L]=~V.g[L];return new l(x,~V.h).add(_)}t.abs=function(){return D(this)?R(this):this},t.add=function(V){for(var P=Math.max(this.g.length,V.g.length),x=[],L=0,M=0;M<=P;M++){var $=L+(this.i(M)&65535)+(V.i(M)&65535),N=($>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);L=N>>>16,$&=65535,N&=65535,x[M]=N<<16|$}return new l(x,x[x.length-1]&-2147483648?-1:0)};function U(V,P){return V.add(R(P))}t.j=function(V){if(C(this)||C(V))return w;if(D(this))return D(V)?R(this).j(R(V)):R(R(this).j(V));if(D(V))return R(this.j(R(V)));if(0>this.l(S)&&0>V.l(S))return p(this.m()*V.m());for(var P=this.g.length+V.g.length,x=[],L=0;L<2*P;L++)x[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<V.g.length;M++){var $=this.i(L)>>>16,N=this.i(L)&65535,ee=V.i(M)>>>16,K=V.i(M)&65535;x[2*L+2*M]+=N*K,z(x,2*L+2*M),x[2*L+2*M+1]+=$*K,z(x,2*L+2*M+1),x[2*L+2*M+1]+=N*ee,z(x,2*L+2*M+1),x[2*L+2*M+2]+=$*ee,z(x,2*L+2*M+2)}for(L=0;L<P;L++)x[L]=x[2*L+1]<<16|x[2*L];for(L=P;L<2*P;L++)x[L]=0;return new l(x,0)};function z(V,P){for(;(V[P]&65535)!=V[P];)V[P+1]+=V[P]>>>16,V[P]&=65535,P++}function j(V,P){this.g=V,this.h=P}function re(V,P){if(C(P))throw Error("division by zero");if(C(V))return new j(w,w);if(D(V))return P=re(R(V),P),new j(R(P.g),R(P.h));if(D(P))return P=re(V,R(P)),new j(R(P.g),P.h);if(30<V.g.length){if(D(V)||D(P))throw Error("slowDivide_ only works with positive integers.");for(var x=_,L=P;0>=L.l(V);)x=oe(x),L=oe(L);var M=he(x,1),$=he(L,1);for(L=he(L,2),x=he(x,2);!C(L);){var N=$.add(L);0>=N.l(V)&&(M=M.add(x),$=N),L=he(L,1),x=he(x,1)}return P=U(V,M.j(P)),new j(M,P)}for(M=w;0<=V.l(P);){for(x=Math.max(1,Math.floor(V.m()/P.m())),L=Math.ceil(Math.log(x)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),$=p(x),N=$.j(P);D(N)||0<N.l(V);)x-=L,$=p(x),N=$.j(P);C($)&&($=_),M=M.add($),V=U(V,N)}return new j(M,V)}t.A=function(V){return re(this,V).h},t.and=function(V){for(var P=Math.max(this.g.length,V.g.length),x=[],L=0;L<P;L++)x[L]=this.i(L)&V.i(L);return new l(x,this.h&V.h)},t.or=function(V){for(var P=Math.max(this.g.length,V.g.length),x=[],L=0;L<P;L++)x[L]=this.i(L)|V.i(L);return new l(x,this.h|V.h)},t.xor=function(V){for(var P=Math.max(this.g.length,V.g.length),x=[],L=0;L<P;L++)x[L]=this.i(L)^V.i(L);return new l(x,this.h^V.h)};function oe(V){for(var P=V.g.length+1,x=[],L=0;L<P;L++)x[L]=V.i(L)<<1|V.i(L-1)>>>31;return new l(x,V.h)}function he(V,P){var x=P>>5;P%=32;for(var L=V.g.length-x,M=[],$=0;$<L;$++)M[$]=0<P?V.i($+x)>>>P|V.i($+x+1)<<32-P:V.i($+x);return new l(M,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,EI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,us=l}).apply(typeof IE<"u"?IE:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TI,iu,SI,qh,ig,II,AI,PI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,T){return h==Array.prototype||h==Object.prototype||(h[y]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(h,y){if(y)e:{var T=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var W=h[A];if(!(W in T))break e;T=T[W]}h=h[h.length-1],A=T[h],y=y(A),y!=A&&y!=null&&e(T,h,{configurable:!0,writable:!0,value:y})}}function a(h,y){h instanceof String&&(h+="");var T=0,A=!1,W={next:function(){if(!A&&T<h.length){var X=T++;return{value:y(X,h[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(h){return h||function(){return a(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,T){return h.call.apply(h.bind,arguments)}function w(h,y,T){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,A),h.apply(y,W)}}return function(){return h.apply(y,arguments)}}function _(h,y,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:w,_.apply(null,arguments)}function S(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function C(h,y){function T(){}T.prototype=y.prototype,h.aa=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(A,W,X){for(var fe=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)fe[Ge-2]=arguments[Ge];return y.prototype[W].apply(A,fe)}}function D(h){const y=h.length;if(0<y){const T=Array(y);for(let A=0;A<y;A++)T[A]=h[A];return T}return[]}function R(h,y){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(f(A)){const W=h.length||0,X=A.length||0;h.length=W+X;for(let fe=0;fe<X;fe++)h[W+fe]=A[fe]}else h.push(A)}}class U{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(h){return/^[\s\xa0]*$/.test(h)}function j(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function re(h){return re[" "](h),h}re[" "]=function(){};var oe=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function he(h,y,T){for(const A in h)y.call(T,h[A],A,h)}function V(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function P(h){const y={};for(const T in h)y[T]=h[T];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,y){let T,A;for(let W=1;W<arguments.length;W++){A=arguments[W];for(T in A)h[T]=A[T];for(let X=0;X<x.length;X++)T=x[X],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function M(h){var y=1;h=h.split(":");const T=[];for(;0<y&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function $(h){c.setTimeout(()=>{throw h},0)}function N(){var h=ne;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ee{constructor(){this.h=this.g=null}add(y,T){const A=K.get();A.set(y,T),this.h?this.h.next=A:this.g=A,this.h=A}}var K=new U(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,H=!1,ne=new ee,le=()=>{const h=c.Promise.resolve(void 0);Q=()=>{h.then(F)}};var F=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(T){$(T)}var y=K;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}H=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Se=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function ke(h,y){if(pe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(oe){e:{try{re(y.nodeName);var W=!0;break e}catch{}W=!1}W||(y=null)}}else T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Le[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ke.aa.h.call(this)}}C(ke,pe);var Le={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),ye=0;function De(h,y,T,A,W){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!A,this.ha=W,this.key=++ye,this.da=this.fa=!1}function St(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Gr(h){this.src=h,this.g={},this.h=0}Gr.prototype.add=function(h,y,T,A,W){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var fe=Ri(h,y,A,W);return-1<fe?(y=h[fe],T||(y.fa=!1)):(y=new De(y,this.src,X,!!A,W),y.fa=T,h.push(y)),y};function xo(h,y){var T=y.type;if(T in h.g){var A=h.g[T],W=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=W)&&Array.prototype.splice.call(A,W,1),X&&(St(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ri(h,y,T,A){for(var W=0;W<h.length;++W){var X=h[W];if(!X.da&&X.listener==y&&X.capture==!!T&&X.ha==A)return W}return-1}var Rs="closure_lm_"+(1e6*Math.random()|0),Ro={};function rl(h,y,T,A,W){if(Array.isArray(y)){for(var X=0;X<y.length;X++)rl(h,y[X],T,A,W);return null}return T=ol(T),h&&h[J]?h.K(y,T,p(A)?!!A.capture:!1,W):il(h,y,T,!1,A,W)}function il(h,y,T,A,W,X){if(!y)throw Error("Invalid event type");var fe=p(W)?!!W.capture:!!W,Ge=ko(h);if(Ge||(h[Rs]=Ge=new Gr(h)),T=Ge.add(y,T,A,fe,X),T.proxy)return T;if(A=oc(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)Se||(W=fe),W===void 0&&(W=!1),h.addEventListener(y.toString(),A,W);else if(h.attachEvent)h.attachEvent(Qr(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function oc(){function h(T){return y.call(h.src,h.listener,T)}const y=sl;return h}function bo(h,y,T,A,W){if(Array.isArray(y))for(var X=0;X<y.length;X++)bo(h,y[X],T,A,W);else A=p(A)?!!A.capture:!!A,T=ol(T),h&&h[J]?(h=h.i,y=String(y).toString(),y in h.g&&(X=h.g[y],T=Ri(X,T,A,W),-1<T&&(St(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete h.g[y],h.h--)))):h&&(h=ko(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ri(y,T,A,W)),(T=-1<h?y[h]:null)&&Kr(T))}function Kr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[J])xo(y.i,h);else{var T=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(T,A,h.capture):y.detachEvent?y.detachEvent(Qr(T),A):y.addListener&&y.removeListener&&y.removeListener(A),(T=ko(y))?(xo(T,h),T.h==0&&(T.src=null,y[Rs]=null)):St(h)}}}function Qr(h){return h in Ro?Ro[h]:Ro[h]="on"+h}function sl(h,y){if(h.da)h=!0;else{y=new ke(y,this);var T=h.listener,A=h.ha||h.src;h.fa&&Kr(h),h=T.call(A,y)}return h}function ko(h){return h=h[Rs],h instanceof Gr?h:null}var No="__closure_events_fn_"+(1e9*Math.random()>>>0);function ol(h){return typeof h=="function"?h:(h[No]||(h[No]=function(y){return h.handleEvent(y)}),h[No])}function bt(){Z.call(this),this.i=new Gr(this),this.M=this,this.F=null}C(bt,Z),bt.prototype[J]=!0,bt.prototype.removeEventListener=function(h,y,T,A){bo(this,h,y,T,A)};function kt(h,y){var T,A=h.F;if(A)for(T=[];A;A=A.F)T.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new pe(y,h);else if(y instanceof pe)y.target=y.target||h;else{var W=y;y=new pe(A,h),L(y,W)}if(W=!0,T)for(var X=T.length-1;0<=X;X--){var fe=y.g=T[X];W=Yr(fe,A,!0,y)&&W}if(fe=y.g=h,W=Yr(fe,A,!0,y)&&W,W=Yr(fe,A,!1,y)&&W,T)for(X=0;X<T.length;X++)fe=y.g=T[X],W=Yr(fe,A,!1,y)&&W}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var T=h.g[y],A=0;A<T.length;A++)St(T[A]);delete h.g[y],h.h--}}this.F=null},bt.prototype.K=function(h,y,T,A){return this.i.add(String(h),y,!1,T,A)},bt.prototype.L=function(h,y,T,A){return this.i.add(String(h),y,!0,T,A)};function Yr(h,y,T,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var W=!0,X=0;X<y.length;++X){var fe=y[X];if(fe&&!fe.da&&fe.capture==T){var Ge=fe.listener,Nt=fe.ha||fe.src;fe.fa&&xo(h.i,fe),W=Ge.call(Nt,A)!==!1&&W}}return W&&!A.defaultPrevented}function al(h,y,T){if(typeof h=="function")T&&(h=_(h,T));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(h,y||0)}function bi(h){h.g=al(()=>{h.g=null,h.i&&(h.i=!1,bi(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class bs extends Z{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(h){Z.call(this),this.h=h,this.g={}}C(ks,Z);var ll=[];function ul(h){he(h.g,function(y,T){this.g.hasOwnProperty(T)&&Kr(y)},h),h.g={}}ks.prototype.N=function(){ks.aa.N.call(this),ul(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cl=c.JSON.stringify,hl=c.JSON.parse,dl=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ns(){}Ns.prototype.h=null;function Do(h){return h.h||(h.h=h.i())}function Vo(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){pe.call(this,"d")}C(wr,pe);function Lo(){pe.call(this,"c")}C(Lo,pe);var Er={},fl=null;function Ds(){return fl=fl||new bt}Er.La="serverreachability";function pl(h){pe.call(this,Er.La,h)}C(pl,pe);function Xr(h){const y=Ds();kt(y,new pl(y))}Er.STAT_EVENT="statevent";function ml(h,y){pe.call(this,Er.STAT_EVENT,h),this.stat=y}C(ml,pe);function gt(h){const y=Ds();kt(y,new ml(y,h))}Er.Ma="timingevent";function Oo(h,y){pe.call(this,Er.Ma,h),this.size=y}C(Oo,pe);function Xn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Vs(){this.g=!0}Vs.prototype.xa=function(){this.g=!1};function Ls(h,y,T,A,W,X){h.info(function(){if(h.g)if(X)for(var fe="",Ge=X.split("&"),Nt=0;Nt<Ge.length;Nt++){var je=Ge[Nt].split("=");if(1<je.length){var Ot=je[0];je=je[1];var It=Ot.split("_");fe=2<=It.length&&It[1]=="type"?fe+(Ot+"="+je+"&"):fe+(Ot+"=redacted&")}}else fe=null;else fe=X;return"XMLHTTP REQ ("+A+") [attempt "+W+"]: "+y+`
`+T+`
`+fe})}function Mo(h,y,T,A,W,X,fe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+W+"]: "+y+`
`+T+`
`+X+" "+fe})}function Jn(h,y,T,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+hf(h,T)+(A?" "+A:"")})}function gl(h,y){h.info(function(){return"TIMEOUT: "+y})}Vs.prototype.info=function(){};function hf(h,y){if(!h.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var A=T[h];if(!(2>A.length)){var W=A[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var fe=1;fe<W.length;fe++)W[fe]=""}}}}return cl(T)}catch{return y}}var Fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ac={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Os(){}C(Os,Ns),Os.prototype.g=function(){return new XMLHttpRequest},Os.prototype.i=function(){return{}},Zn=new Os;function er(h,y,T,A){this.j=h,this.i=y,this.l=T,this.R=A||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lc}function lc(){this.i=null,this.g="",this.h=!1}var yl={},Uo={};function Bo(h,y,T){h.L=1,h.v=Li(Pn(y)),h.m=T,h.P=!0,vl(h,null)}function vl(h,y){h.F=Date.now(),Qe(h),h.A=Pn(h.v);var T=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Mi(T.i,"t",A),h.C=0,T=h.j.J,h.h=new lc,h.g=Pc(h.j,T?y:null,!h.m),0<h.O&&(h.M=new bs(_(h.Y,h,h.g),h.O)),y=h.U,T=h.g,A=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(ll[0]=W.toString()),W=ll);for(var X=0;X<W.length;X++){var fe=rl(T,W[X],A||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=h.H?P(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Xr(),Ls(h.i,h.u,h.A,h.l,h.R,h.m)}er.prototype.ca=function(h){h=h.target;const y=this.M;y&&pn(h)==3?y.j():this.Y(h)},er.prototype.Y=function(h){try{if(h==this.g)e:{const It=pn(this.g);var y=this.g.Ba();const Fn=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Il(this.g)))){this.J||It!=4||y==7||(y==8||0>=Fn?Xr(3):Xr(2)),Ms(this);var T=this.g.Z();this.X=T;t:if(uc(this)){var A=Il(this.g);h="";var W=A.length,X=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){On(this),ki(this);var fe="";break t}this.h.i=new c.TextDecoder}for(y=0;y<W;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(X&&y==W-1)});A.length=0,this.h.g+=h,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=T==200,Mo(this.i,this.u,this.A,this.l,this.R,It,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Nt=this.g;if((Ge=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ge)){var je=Ge;break t}}je=null}if(T=je)Jn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_l(this,T);else{this.o=!1,this.s=3,gt(12),On(this),ki(this);break e}}if(this.P){T=!0;let xn;for(;!this.J&&this.C<fe.length;)if(xn=df(this,fe),xn==Uo){It==4&&(this.s=4,gt(14),T=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==yl){this.s=4,gt(15),Jn(this.i,this.l,fe,"[Invalid Chunk]"),T=!1;break}else Jn(this.i,this.l,xn,null),_l(this,xn);if(uc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||fe.length!=0||this.h.h||(this.s=1,gt(16),T=!1),this.o=this.o&&T,!T)Jn(this.i,this.l,fe,"[Invalid Chunked Response]"),On(this),ki(this);else if(0<fe.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Pl(Ot),Ot.M=!0,gt(11))}}else Jn(this.i,this.l,fe,null),_l(this,fe);It==4&&On(this),this.o&&!this.J&&(It==4?Xo(this.j,this):(this.o=!1,Qe(this)))}else qo(this.g),T==400&&0<fe.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),On(this),ki(this)}}}catch{}finally{}};function uc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function df(h,y){var T=h.C,A=y.indexOf(`
`,T);return A==-1?Uo:(T=Number(y.substring(T,A)),isNaN(T)?yl:(A+=1,A+T>y.length?Uo:(y=y.slice(A,A+T),h.C=A+T,y)))}er.prototype.cancel=function(){this.J=!0,On(this)};function Qe(h){h.S=Date.now()+h.I,cc(h,h.I)}function cc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Xn(_(h.ba,h),y)}function Ms(h){h.B&&(c.clearTimeout(h.B),h.B=null)}er.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(gl(this.i,this.A),this.L!=2&&(Xr(),gt(17)),On(this),this.s=2,ki(this)):cc(this,this.S-h)};function ki(h){h.j.G==0||h.J||Xo(h.j,h)}function On(h){Ms(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,ul(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function _l(h,y){try{var T=h.j;if(T.G!=0&&(T.g==h||on(T.h,h))){if(!h.K&&on(T.h,h)&&T.G==3){try{var A=T.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var W=A;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Yo(T),sr(T);else break e;Qo(T),gt(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=Xn(_(T.Za,T),6e3));if(1>=dc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ni(T,11)}else if((h.K||T.g==h)&&Yo(T),!z(y))for(W=T.Da.g.parse(y),y=0;y<W.length;y++){let je=W[y];if(T.T=je[0],je=je[1],T.G==2)if(je[0]=="c"){T.K=je[1],T.ia=je[2];const Ot=je[3];Ot!=null&&(T.la=Ot,T.j.info("VER="+T.la));const It=je[4];It!=null&&(T.Aa=It,T.j.info("SVER="+T.Aa));const Fn=je[5];Fn!=null&&typeof Fn=="number"&&0<Fn&&(A=1.5*Fn,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const xn=h.g;if(xn){const Ws=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ws){var X=A.h;X.g||Ws.indexOf("spdy")==-1&&Ws.indexOf("quic")==-1&&Ws.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(wl(X,X.h),X.h=null))}if(A.D){const Zo=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(A.ya=Zo,Ke(A.I,A.D,Zo))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var fe=h;if(A.qa=Ac(A,A.J?A.ia:null,A.W),fe.K){fc(A.h,fe);var Ge=fe,Nt=A.L;Nt&&(Ge.I=Nt),Ge.B&&(Ms(Ge),Qe(Ge)),A.g=fe}else $s(A);0<T.i.length&&Ar(T)}else je[0]!="stop"&&je[0]!="close"||ni(T,7);else T.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?ni(T,7):$t(T):je[0]!="noop"&&T.l&&T.l.ta(je),T.v=0)}}Xr(4)}catch{}}var hc=class{constructor(h,y){this.g=h,this.map=y}};function Fs(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function dc(h){return h.h?1:h.g?h.g.size:0}function on(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function wl(h,y){h.g?h.g.add(y):h.h=y}function fc(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Fs.prototype.cancel=function(){if(this.i=pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.D);return y}return D(h.i)}function jo(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var y=[],T=h.length,A=0;A<T;A++)y.push(h[A]);return y}y=[],T=0;for(A in h)y[T++]=h[A];return y}function zo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var y=[];h=h.length;for(var T=0;T<h;T++)y.push(T);return y}y=[],T=0;for(const A in h)y[T++]=A;return y}}}function Ni(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var T=zo(h),A=jo(h),W=A.length,X=0;X<W;X++)y.call(void 0,A[X],T&&T[X],h)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ff(h,y){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var A=h[T].indexOf("="),W=null;if(0<=A){var X=h[T].substring(0,A);W=h[T].substring(A+1)}else X=h[T];y(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Jr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Jr){this.h=h.h,Bs(this,h.j),this.o=h.o,this.g=h.g,Di(this,h.s),this.l=h.l;var y=h.i,T=new Tr;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),Vi(this,T),this.m=h.m}else h&&(y=String(h).match(Us))?(this.h=!1,Bs(this,y[1]||"",!0),this.o=Be(y[2]||""),this.g=Be(y[3]||"",!0),Di(this,y[4]),this.l=Be(y[5]||"",!0),Vi(this,y[6]||"",!0),this.m=Be(y[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}Jr.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Oi(y,$o,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Oi(y,$o,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Oi(T,T.charAt(0)=="/"?yc:gc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Oi(T,El)),h.join("")};function Pn(h){return new Jr(h)}function Bs(h,y,T){h.j=T?Be(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Di(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Vi(h,y,T){y instanceof Tr?(h.i=y,Sr(h.i,h.h)):(T||(y=Oi(y,vc)),h.i=new Tr(y,h.h))}function Ke(h,y,T){h.i.set(y,T)}function Li(h){return Ke(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Be(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Oi(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,mc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var $o=/[#\/\?@]/g,gc=/[#\?:]/g,yc=/[#\?]/g,vc=/[#\?@]/g,El=/#/g;function Tr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function zt(h){h.g||(h.g=new Map,h.h=0,h.i&&ff(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}t=Tr.prototype,t.add=function(h,y){zt(this),this.i=null,h=Mn(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function tr(h,y){zt(h),y=Mn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function nr(h,y){return zt(h),y=Mn(h,y),h.g.has(y)}t.forEach=function(h,y){zt(this),this.g.forEach(function(T,A){T.forEach(function(W){h.call(y,W,A,this)},this)},this)},t.na=function(){zt(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let A=0;A<y.length;A++){const W=h[A];for(let X=0;X<W.length;X++)T.push(y[A])}return T},t.V=function(h){zt(this);let y=[];if(typeof h=="string")nr(this,h)&&(y=y.concat(this.g.get(Mn(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)y=y.concat(h[T])}return y},t.set=function(h,y){return zt(this),this.i=null,h=Mn(this,h),nr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Mi(h,y,T){tr(h,y),0<T.length&&(h.i=null,h.g.set(Mn(h,y),D(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var A=y[T];const X=encodeURIComponent(String(A)),fe=this.V(A);for(A=0;A<fe.length;A++){var W=X;fe[A]!==""&&(W+="="+encodeURIComponent(String(fe[A]))),h.push(W)}}return this.i=h.join("&")};function Mn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Sr(h,y){y&&!h.j&&(zt(h),h.i=null,h.g.forEach(function(T,A){var W=A.toLowerCase();A!=W&&(tr(this,A),Mi(this,W,T))},h)),h.j=y}function pf(h,y){const T=new Vs;if(c.Image){const A=new Image;A.onload=S(fn,T,"TestLoadImage: loaded",!0,y,A),A.onerror=S(fn,T,"TestLoadImage: error",!1,y,A),A.onabort=S(fn,T,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(fn,T,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function _c(h,y){const T=new Vs,A=new AbortController,W=setTimeout(()=>{A.abort(),fn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(W),X.ok?fn(T,"TestPingServer: ok",!0,y):fn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),fn(T,"TestPingServer: error",!1,y)})}function fn(h,y,T,A,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),A(T)}catch{}}function mf(){this.g=new dl}function wc(h,y,T){const A=T||"";try{Ni(h,function(W,X){let fe=W;p(W)&&(fe=cl(W)),y.push(A+X+"="+encodeURIComponent(fe))})}catch(W){throw y.push(A+"type="+encodeURIComponent("_badmap")),W}}function Zr(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Zr,Ns),Zr.prototype.g=function(){return new js(this.l,this.j)},Zr.prototype.i=(function(h){return function(){return h}})({});function js(h,y){bt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(js,bt),t=js.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,ir(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ec(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ec(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?rr(this):ir(this),this.readyState==3&&Ec(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,rr(this))},t.Qa=function(h){this.g&&(this.response=h,rr(this))},t.ga=function(){this.g&&rr(this)};function rr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ir(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function ir(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ei(h){let y="";return he(h,function(T,A){y+=A,y+=":",y+=T,y+=`\r
`}),y}function Fi(h,y,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=ei(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Ke(h,y,T))}function nt(h){bt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(nt,bt);var gf=/^https?$/i,Tl=["POST","PUT"];t=nt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Do(this.o):Do(Zn),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(X){zs(this,X);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var W in A)T.set(W,A[W]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())T.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),W=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Tl,y,void 0))||A||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of T)this.g.setRequestHeader(X,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ho(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){zs(this,X)}};function zs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Wo(h),Cn(h)}function Wo(h){h.A||(h.A=!0,kt(h,"complete"),kt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,kt(this,"complete"),kt(this,"abort"),Cn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cn(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Sl(this):this.bb())},t.bb=function(){Sl(this)};function Sl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||pn(h)!=4||h.Z()!=2)){if(h.u&&pn(h)==4)al(h.Ea,0,h);else if(kt(h,"readystatechange"),pn(h)==4){h.h=!1;try{const fe=h.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var A;if(A=fe===0){var W=String(h.D).match(Us)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),A=!gf.test(W?W.toLowerCase():"")}T=A}if(T)kt(h,"complete"),kt(h,"success");else{h.m=6;try{var X=2<pn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Wo(h)}}finally{Cn(h)}}}}function Cn(h,y){if(h.g){Ho(h);const T=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||kt(h,"ready");try{T.onreadystatechange=A}catch{}}}function Ho(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function pn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),hl(y)}};function Il(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qo(h){const y={};h=(h.g&&2<=pn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(z(h[A]))continue;var T=M(h[A]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=y[W]||[];y[W]=X,X.push(T)}V(y,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Al(h){this.Aa=0,this.i=[],this.j=new Vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,h),this.cb=Ir("retryDelaySeedMs",1e4,h),this.Wa=Ir("forwardChannelMaxRetries",2,h),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Fs(h&&h.concurrentRequestLimit),this.Da=new mf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Al.prototype,t.la=8,t.G=1,t.connect=function(h,y,T,A){gt(0),this.W=h,this.H=y||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=Ac(this,null,this.W),Ar(this)};function $t(h){if(Go(h),h.G==3){var y=h.U++,T=Pn(h.I);if(Ke(T,"SID",h.K),Ke(T,"RID",y),Ke(T,"TYPE","terminate"),ti(h,T),y=new er(h,h.j,y),y.L=2,y.v=Li(Pn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.v,T=!0),T||(y.g=Pc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Qe(y)}Ic(h)}function sr(h){h.g&&(Pl(h),h.g.cancel(),h.g=null)}function Go(h){sr(h),h.u&&(c.clearTimeout(h.u),h.u=null),Yo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function Ar(h){if(!An(h.h)&&!h.s){h.s=!0;var y=h.Ga;Q||le(),H||(Q(),H=!0),ne.add(y,h),h.B=0}}function yf(h,y){return dc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Xn(_(h.Ga,h,y),Sc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new er(this,this.j,h);let X=this.o;if(this.S&&(X?(X=P(X),L(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Ui(this,W,y),T=Pn(this.I),Ke(T,"RID",h),Ke(T,"CVER",22),this.D&&Ke(T,"X-HTTP-Session-Id",this.D),ti(this,T),X&&(this.O?y="headers="+encodeURIComponent(String(ei(X)))+"&"+y:this.m&&Fi(T,this.m,X)),wl(this.h,W),this.Ua&&Ke(T,"TYPE","init"),this.P?(Ke(T,"$req",y),Ke(T,"SID","null"),W.T=!0,Bo(W,T,null)):Bo(W,T,y),this.G=2}}else this.G==3&&(h?Ko(this,h):this.i.length==0||An(this.h)||Ko(this))};function Ko(h,y){var T;y?T=y.l:T=h.U++;const A=Pn(h.I);Ke(A,"SID",h.K),Ke(A,"RID",T),Ke(A,"AID",h.T),ti(h,A),h.m&&h.o&&Fi(A,h.m,h.o),T=new er(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Ui(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),wl(h.h,T),Bo(T,A,y)}function ti(h,y){h.H&&he(h.H,function(T,A){Ke(y,A,T)}),h.l&&Ni({},function(T,A){Ke(y,A,T)})}function Ui(h,y,T){T=Math.min(h.i.length,T);var A=h.l?_(h.l.Na,h.l,h):null;e:{var W=h.i;let X=-1;for(;;){const fe=["count="+T];X==-1?0<T?(X=W[0].g,fe.push("ofs="+X)):X=0:fe.push("ofs="+X);let Ge=!0;for(let Nt=0;Nt<T;Nt++){let je=W[Nt].g;const Ot=W[Nt].map;if(je-=X,0>je)X=Math.max(0,W[Nt].g-100),Ge=!1;else try{wc(Ot,fe,"req"+je+"_")}catch{A&&A(Ot)}}if(Ge){A=fe.join("&");break e}}}return h=h.i.splice(0,T),y.D=h,A}function $s(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;Q||le(),H||(Q(),H=!0),ne.add(y,h),h.v=0}}function Qo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Xn(_(h.Fa,h),Sc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Xn(_(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),sr(this),Tc(this))};function Pl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Tc(h){h.g=new er(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Pn(h.qa);Ke(y,"RID","rpc"),Ke(y,"SID",h.K),Ke(y,"AID",h.T),Ke(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ke(y,"TO",h.ja),Ke(y,"TYPE","xmlhttp"),ti(h,y),h.m&&h.o&&Fi(y,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Li(Pn(y)),T.m=null,T.P=!0,vl(T,h)}t.Za=function(){this.C!=null&&(this.C=null,sr(this),Qo(this),gt(19))};function Yo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Xo(h,y){var T=null;if(h.g==y){Yo(h),Pl(h),h.g=null;var A=2}else if(on(h.h,y))T=y.D,fc(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var W=h.B;A=Ds(),kt(A,new Oo(A,T)),Ar(h)}else $s(h);else if(W=y.s,W==3||W==0&&0<y.X||!(A==1&&yf(h,y)||A==2&&Qo(h)))switch(T&&0<T.length&&(y=h.h,y.i=y.i.concat(T)),W){case 1:ni(h,5);break;case 4:ni(h,10);break;case 3:ni(h,6);break;default:ni(h,2)}}}function Sc(h,y){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*y}function ni(h,y){if(h.j.info("Error code "+y),y==2){var T=_(h.fb,h),A=h.Xa;const W=!A;A=new Jr(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Bs(A,"https"),Li(A),W?pf(A.toString(),T):_c(A.toString(),T)}else gt(2);h.G=0,h.l&&h.l.sa(y),Ic(h),Go(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Ic(h){if(h.G=0,h.ka=[],h.l){const y=pc(h.h);(y.length!=0||h.i.length!=0)&&(R(h.ka,y),R(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function Ac(h,y,T){var A=T instanceof Jr?Pn(T):new Jr(T);if(A.g!="")y&&(A.g=y+"."+A.g),Di(A,A.s);else{var W=c.location;A=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;var X=new Jr(null);A&&Bs(X,A),y&&(X.g=y),W&&Di(X,W),T&&(X.l=T),A=X}return T=h.D,y=h.ya,T&&y&&Ke(A,T,y),Ke(A,"VER",h.la),ti(h,A),A}function Pc(h,y,T){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new nt(new Zr({eb:T})):new nt(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cl(){}t=Cl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jo(){}Jo.prototype.g=function(h,y){return new an(h,y)};function an(h,y){bt.call(this),this.g=new Al(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!z(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!z(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Pr(this)}C(an,bt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){$t(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=cl(h),h=T);y.i.push(new hc(y.Ya++,h)),y.G==3&&Ar(y)},an.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,an.aa.N.call(this)};function Cc(h){wr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const T in y){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}C(Cc,wr);function xc(){Lo.call(this),this.status=1}C(xc,Lo);function Pr(h){this.g=h}C(Pr,Cl),Pr.prototype.ua=function(){kt(this.g,"a")},Pr.prototype.ta=function(h){kt(this.g,new Cc(h))},Pr.prototype.sa=function(h){kt(this.g,new xc)},Pr.prototype.ra=function(){kt(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,PI=function(){return new Jo},AI=function(){return Ds()},II=Er,ig={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fo.NO_ERROR=0,Fo.TIMEOUT=8,Fo.HTTP_ERROR=6,qh=Fo,ac.COMPLETE="complete",SI=ac,Vo.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",bt.prototype.listen=bt.prototype.K,iu=Vo,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,TI=nt}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const AE="@firebase/firestore",PE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new my("@firebase/firestore");function wa(){return _o.logLevel}function ve(t,...e){if(_o.logLevel<=Me.DEBUG){const n=e.map(xy);_o.debug(`Firestore (${Ja}): ${t}`,...n)}}function Ai(t,...e){if(_o.logLevel<=Me.ERROR){const n=e.map(xy);_o.error(`Firestore (${Ja}): ${t}`,...n)}}function Fa(t,...e){if(_o.logLevel<=Me.WARN){const n=e.map(xy);_o.warn(`Firestore (${Ja}): ${t}`,...n)}}function xy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CI(t,r,n)}function CI(t,e,n){let r=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ai(r),new Error(r)}function qe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||CI(e,s,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class QO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class YO{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new vi,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},c=f=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vi)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new xI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class XO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new XO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=eM(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function sg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return fm(s)===fm(a)?Fe(s,a):fm(s)?1:-1}return Fe(t.length,e.length)}const tM=55296,nM=57343;function fm(t){const e=t.charCodeAt(0);return e>=tM&&e<=nM}function Ua(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__name__";class kr{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=kr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Fe(e.length,n.length)}static compareSegments(e,n){const r=kr.isNumericId(e),s=kr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?kr.extractNumericId(e).compare(kr.extractNumericId(n)):sg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class Je extends kr{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const rM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends kr{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return rM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new Kt([xE])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Je.fromString(e))}static fromName(e){return new Ie(Je.fromString(e).popFirst(5))}static empty(){return new Ie(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e,n){if(!n)throw new me(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iM(t,e,n,r){if(e===!0&&r===!0)throw new me(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RE(t){if(!Ie.isDocumentKey(t))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bE(t){if(Ie.isDocumentKey(t))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Bd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bd(t);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xu(t,e){if(!bI(t))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new me(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=-62135596800,NE=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*NE);return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kE)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xu(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:Rt("string",Ze._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Ze(0,0))}static max(){return new Ne(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=-1;function sM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new ps(s,Ie.empty(),e)}function oM(t){return new ps(t.readTime,t.key,ku)}class ps{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ps(Ne.min(),Ie.empty(),ku)}static max(){return new ps(Ne.max(),Ie.empty(),ku)}}function aM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==lM)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let s=0,a=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++a,l&&a===s&&n()}),(f=>r(f)))})),l=!0,a===s&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((s=>s?se.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((m=>{l[p]=m,++c,c===a&&r(l)}),(m=>s(m)))}}))}static doWhile(e,n){return new se(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function cM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function el(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-1;function zd(t){return t==null}function dd(t){return t===0&&1/t==-1/0}function hM(t){return typeof t=="number"&&Number.isInteger(t)&&!dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="";function dM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DE(e)),e=fM(t.get(n),e);return DE(e)}function fM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case kI:n+="";break;default:n+=a}}return n}function DE(t){return t+kI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=s??Gt.EMPTY,this.right=a??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Gt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Lt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DI("Invalid base64 string: "+a):a}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const pM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=pM.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gs(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="server_timestamp",LI="__type__",OI="__previous_value__",MI="__local_write_time__";function ky(t){return(t?.mapValue?.fields||{})[LI]?.stringValue===VI}function $d(t){const e=t.mapValue.fields[OI];return ky(e)?$d(e):e}function Nu(t){const e=ms(t.mapValue.fields[MI].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,r,s,a,l,c,f,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=m}}const fd="(default)";class Du{constructor(e,n){this.projectId=e,this.database=n||fd}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===fd}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="__type__",gM="__max__",Rh={mapValue:{}},UI="__vector__",pd="value";function ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ky(t)?4:vM(t)?9007199254740991:yM(t)?10:11:xe(28295,{value:t})}function Hr(t,e){if(t===e)return!0;const n=ys(t);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nu(t).isEqual(Nu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ms(s.timestampValue),c=ms(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return gs(s.bytesValue).isEqual(gs(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return wt(s.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(s.geoPointValue.longitude)===wt(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return wt(s.integerValue)===wt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=wt(s.doubleValue),c=wt(a.doubleValue);return l===c?dd(l)===dd(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Ua(t.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(VE(l)!==VE(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Hr(l[f],c[f])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function Vu(t,e){return(t.values||[]).find((n=>Hr(n,e)))!==void 0}function Ba(t,e){if(t===e)return 0;const n=ys(t),r=ys(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=wt(a.integerValue||a.doubleValue),f=wt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return OE(t.timestampValue,e.timestampValue);case 4:return OE(Nu(t),Nu(e));case 5:return sg(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=gs(a),f=gs(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const m=Fe(c[p],f[p]);if(m!==0)return m}return Fe(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Fe(wt(a.latitude),wt(l.latitude));return c!==0?c:Fe(wt(a.longitude),wt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ME(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},f=l.fields||{},p=c[pd]?.arrayValue,m=f[pd]?.arrayValue,w=Fe(p?.values?.length||0,m?.values?.length||0);return w!==0?w:ME(p,m)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Rh.mapValue&&l===Rh.mapValue)return 0;if(a===Rh.mapValue)return 1;if(l===Rh.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let w=0;w<f.length&&w<m.length;++w){const _=sg(f[w],m[w]);if(_!==0)return _;const S=Ba(c[f[w]],p[m[w]]);if(S!==0)return S}return Fe(f.length,m.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function OE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=ms(t),r=ms(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function ME(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ba(n[s],r[s]);if(a)return a}return Fe(n.length,r.length)}function ja(t){return og(t)}function og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ms(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return gs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=og(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${og(n.fields[l])}`;return s+"}"})(t.mapValue):xe(61005,{value:t})}function Gh(t){switch(ys(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$d(t);return e?16+Gh(e):16;case 5:return 2*t.stringValue.length;case 6:return gs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Gh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Ps(r.fields,((a,l)=>{s+=a.length+Gh(l)})),s})(t.mapValue);default:throw xe(13486,{value:t})}}function FE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ag(t){return!!t&&"integerValue"in t}function Ny(t){return!!t&&"arrayValue"in t}function UE(t){return!!t&&"nullValue"in t}function BE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kh(t){return!!t&&"mapValue"in t}function yM(t){return(t?.mapValue?.fields||{})[FI]?.stringValue===UI}function mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ps(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=mu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return{...t}}function vM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=Kt.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=mu(l):s.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Kh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ps(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Sn(mu(this.value))}}function BI(t){const e=[];return Ps(t.fields,((n,r)=>{const s=new Kt([n]);if(Kh(r)){const a=BI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new nn(e,0,Ne.min(),Ne.min(),Ne.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,s){return new nn(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new nn(e,2,n,Ne.min(),Ne.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ne.min(),Ne.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.position=e,this.inclusive=n}}function jE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=Ba(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function _M(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{}class xt extends jI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EM(e,n,r):n==="array-contains"?new IM(e,r):n==="in"?new AM(e,r):n==="not-in"?new PM(e,r):n==="array-contains-any"?new CM(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TM(e,r):new SM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ba(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(Ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends jI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yr(e,n)}matches(e){return zI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zI(t){return t.op==="and"}function $I(t){return wM(t)&&zI(t)}function wM(t){for(const e of t.filters)if(e instanceof yr)return!1;return!0}function lg(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+ja(t.value);if($I(t))return t.filters.map((e=>lg(e))).join(",");{const e=t.filters.map((n=>lg(n))).join(",");return`${t.op}(${e})`}}function WI(t,e){return t instanceof xt?(function(r,s){return s instanceof xt&&r.op===s.op&&r.field.isEqual(s.field)&&Hr(r.value,s.value)})(t,e):t instanceof yr?(function(r,s){return s instanceof yr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,c)=>a&&WI(l,s.filters[c])),!0):!1})(t,e):void xe(19439)}function HI(t){return t instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`})(t):t instanceof yr?(function(n){return n.op.toString()+" {"+n.getFilters().map(HI).join(" ,")+"}"})(t):"Filter"}class EM extends xt{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class TM extends xt{constructor(e,n){super(e,"in",n),this.keys=qI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SM extends xt{constructor(e,n){super(e,"not-in",n),this.keys=qI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qI(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class IM extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ny(n)&&Vu(n.arrayValue,this.value)}}class AM extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class PM extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vu(this.value.arrayValue,n)}}class CM extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Vu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function $E(t,e=null,n=[],r=[],s=null,a=null,l=null){return new xM(t,e,n,r,s,a,l)}function Dy(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>lg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ja(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ja(r))).join(",")),e.Te=n}return e.Te}function Vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_M(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function ug(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RM(t,e,n,r,s,a,l,c){return new tl(t,e,n,r,s,a,l,c)}function Ly(t){return new tl(t)}function WE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GI(t){return t.collectionGroup!==null}function gu(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Lt(Kt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Lu(a,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Lu(Kt.keyField(),r))}return e.Ie}function jr(t){const e=Ve(t);return e.Ee||(e.Ee=bM(e,gu(t))),e.Ee}function bM(t,e){if(t.limitType==="F")return $E(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Lu(s.field,a)}));const n=t.endAt?new md(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new md(t.startAt.position,t.startAt.inclusive):null;return $E(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cg(t,e){const n=t.filters.concat([e]);return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hg(t,e,n){return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wd(t,e){return Vy(jr(t),jr(e))&&t.limitType===e.limitType}function KI(t){return`${Dy(jr(t))}|lt:${t.limitType}`}function Ea(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>HI(s))).join(", ")}]`),zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>ja(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>ja(s))).join(",")),`Target(${r})`})(jr(t))}; limitType=${t.limitType})`}function Hd(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of gu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,f){const p=jE(l,c,f);return l.inclusive?p<=0:p<0})(r.startAt,gu(r),s)||r.endAt&&!(function(l,c,f){const p=jE(l,c,f);return l.inclusive?p>=0:p>0})(r.endAt,gu(r),s))})(t,e)}function kM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QI(t){return(e,n)=>{let r=!1;for(const s of gu(t)){const a=NM(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function NM(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?Ba(f,p):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return NI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new ht(Ie.comparator);function Pi(){return DM}const YI=new ht(Ie.comparator);function su(...t){let e=YI;for(const n of t)e=e.insert(n.key,n);return e}function XI(t){let e=YI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function uo(){return yu()}function JI(){return yu()}function yu(){return new So((t=>t.toString()),((t,e)=>t.isEqual(e)))}const VM=new ht(Ie.comparator),LM=new Lt(Ie.comparator);function Ue(...t){let e=LM;for(const n of t)e=e.add(n);return e}const OM=new Lt(Fe);function MM(){return OM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function ZI(t){return{integerValue:""+t}}function FM(t,e){return hM(e)?ZI(e):Oy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this._=void 0}}function UM(t,e,n){return t instanceof Ou?(function(s,a){const l={fields:{[LI]:{stringValue:VI},[MI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ky(a)&&(a=$d(a)),a&&(l.fields[OI]=a),{mapValue:l}})(n,e):t instanceof Mu?tA(t,e):t instanceof Fu?nA(t,e):(function(s,a){const l=eA(s,a),c=HE(l)+HE(s.Ae);return ag(l)&&ag(s.Ae)?ZI(c):Oy(s.serializer,c)})(t,e)}function BM(t,e,n){return t instanceof Mu?tA(t,e):t instanceof Fu?nA(t,e):n}function eA(t,e){return t instanceof gd?(function(r){return ag(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Ou extends qd{}class Mu extends qd{constructor(e){super(),this.elements=e}}function tA(t,e){const n=rA(e);for(const r of t.elements)n.some((s=>Hr(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Fu extends qd{constructor(e){super(),this.elements=e}}function nA(t,e){let n=rA(e);for(const r of t.elements)n=n.filter((s=>!Hr(s,r)));return{arrayValue:{values:n}}}class gd extends qd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function HE(t){return wt(t.integerValue||t.doubleValue)}function rA(t){return Ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.field=e,this.transform=n}}function zM(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Mu&&s instanceof Mu||r instanceof Fu&&s instanceof Fu?Ua(r.elements,s.elements,Hr):r instanceof gd&&s instanceof gd?Hr(r.Ae,s.Ae):r instanceof Ou&&s instanceof Ou})(t.transform,e.transform)}class $M{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gd{}function iA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new My(t.key,Qn.none()):new Ju(t.key,t.data,Qn.none());{const n=t.data,r=Sn.empty();let s=new Lt(Kt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Cs(t.key,r,new Dn(s.toArray()),Qn.none())}}function WM(t,e,n){t instanceof Ju?(function(s,a,l){const c=s.value.clone(),f=GE(s.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Cs?(function(s,a,l){if(!Qh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=GE(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(sA(s)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function vu(t,e,n,r){return t instanceof Ju?(function(a,l,c,f){if(!Qh(a.precondition,l))return c;const p=a.value.clone(),m=KE(a.fieldTransforms,f,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Cs?(function(a,l,c,f){if(!Qh(a.precondition,l))return c;const p=KE(a.fieldTransforms,f,l),m=l.data;return m.setAll(sA(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(t,e,n,r):(function(a,l,c){return Qh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function HM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=eA(r.transform,s||null);a!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,a))}return n||null}function qE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ua(r,s,((a,l)=>zM(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ju extends Gd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Cs extends Gd{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function GE(t,e,n){const r=new Map;qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,BM(l,c,n[s]))}return r}function KE(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,UM(a,l,e))}return r}class My extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qM extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&WM(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JI();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const f=iA(l,c);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,((n,r)=>qE(n,r)))&&Ua(this.baseMutations,e.baseMutations,((n,r)=>qE(n,r)))}}class Fy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return VM})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Fy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,ze;function YM(t){switch(t){case ie.OK:return xe(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function oA(t){if(t===void 0)return Ai("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Pt.OK:return ie.OK;case Pt.CANCELLED:return ie.CANCELLED;case Pt.UNKNOWN:return ie.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ie.INTERNAL;case Pt.UNAVAILABLE:return ie.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ie.NOT_FOUND;case Pt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Pt.ABORTED:return ie.ABORTED;case Pt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Pt.DATA_LOSS:return ie.DATA_LOSS;default:return xe(39323,{code:t})}}(ze=Pt||(Pt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new us([4294967295,4294967295],0);function QE(t){const e=XM().encode(t),n=new EI;return n.update(e),new Uint8Array(n.digest())}function YE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new us([n,r],0),new us([s,a],0)]}class Uy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(r<0)throw new ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=us.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(us.fromNumber(r)));return s.compare(JM)===1&&(s=new us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=QE(e),[r,s]=YE(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Uy(a,s,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=QE(e),[r,s]=YE(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kd(Ne.min(),s,new ht(Fe),Pi(),Ue())}}class Zu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zu(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class aA{constructor(e,n){this.targetId=e,this.Ce=n}}class lA{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class XE{constructor(){this.ve=0,this.Fe=JE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe(38017,{changeType:a})}})),new Zu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=JE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pi(),this.Je=bh(),this.He=bh(),this.Ye=new ht(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(ug(a))if(r===0){const l=new Ie(a.path);this.et(n,l,nn.newNoDocument(l,Ne.min()))}else qe(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=gs(r).toUint8Array()}catch(f){if(f instanceof DI)return Fa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Uy(l,s,a)}catch(f){return Fa(f instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&ug(c.target)){const f=new Ie(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,nn.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Ue();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new Kd(e,n,this.Ye,this.je,r);return this.je=Pi(),this.Je=bh(),this.He=bh(),this.Ye=new ht(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new XE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bh(){return new ht(Ie.comparator)}function JE(){return new ht(Ie.comparator)}const e4={asc:"ASCENDING",desc:"DESCENDING"},t4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n4={and:"AND",or:"OR"};class r4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||zd(e)?e:{value:e}}function yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i4(t,e){return yd(t,e.toTimestamp())}function zr(t){return qe(!!t,49232),Ne.fromTimestamp((function(n){const r=ms(n);return new Ze(r.seconds,r.nanos)})(t))}function By(t,e){return fg(t,e).canonicalString()}function fg(t,e){const n=(function(s){return new Je(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function cA(t){const e=Je.fromString(t);return qe(mA(e),10190,{key:e.toString()}),e}function pg(t,e){return By(t.databaseId,e.path)}function pm(t,e){const n=cA(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(dA(n))}function hA(t,e){return By(t.databaseId,e)}function s4(t){const e=cA(t);return e.length===4?Je.emptyPath():dA(e)}function mg(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dA(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZE(t,e,n){return{name:pg(t,e),fields:n.value.mapValue.fields}}function o4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,m){return p.useProto3Json?(qe(m===void 0||typeof m=="string",58123),Qt.fromBase64String(m||"")):(qe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Qt.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const m=p.code===void 0?ie.UNKNOWN:oA(p.code);return new me(m,p.message||"")})(l);n=new lA(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=pm(t,r.document.name),a=zr(r.document.updateTime),l=r.document.createTime?zr(r.document.createTime):Ne.min(),c=new Sn({mapValue:{fields:r.document.fields}}),f=nn.newFoundDocument(s,a,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];n=new Yh(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=pm(t,r.document),a=r.readTime?zr(r.readTime):Ne.min(),l=nn.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Yh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=pm(t,r.document),a=r.removedTargetIds||[];n=new Yh([],a,s,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new QM(s,a),c=r.targetId;n=new aA(c,l)}}return n}function a4(t,e){let n;if(e instanceof Ju)n={update:ZE(t,e.key,e.value)};else if(e instanceof My)n={delete:pg(t,e.key)};else if(e instanceof Cs)n={update:ZE(t,e.key,e.data),updateMask:g4(e.fieldMask)};else{if(!(e instanceof qM))return xe(16599,{Vt:e.type});n={verify:pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof Ou)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Mu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Fu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw xe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:i4(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)})(t,e.precondition)),n}function l4(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?zr(s.updateTime):zr(a);return l.isEqual(Ne.min())&&(l=zr(a)),new $M(l,s.transformResults||[])})(n,e)))):[]}function u4(t,e){return{documents:[hA(t,e.path)]}}function c4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hA(t,s);const a=(function(p){if(p.length!==0)return pA(yr.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((m=>(function(_){return{field:Ta(_.field),direction:f4(_.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=dg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function h4(t){let e=s4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qe(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(w){const _=fA(w);return _ instanceof yr&&$I(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(w){return w.map((_=>(function(C){return new Lu(Sa(C.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(n.orderBy));let c=null;n.limit&&(c=(function(w){let _;return _=typeof w=="object"?w.value:w,zd(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(w){const _=!!w.before,S=w.values||[];return new md(S,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(w){const _=!w.before,S=w.values||[];return new md(S,_)})(n.endAt)),RM(e,s,l,a,c,"F",f,p)}function d4(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sa(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Sa(n.unaryFilter.field);return xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Sa(n.unaryFilter.field);return xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Sa(n.unaryFilter.field);return xt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xt.create(Sa(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return yr.create(n.compositeFilter.filters.map((r=>fA(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function f4(t){return e4[t]}function p4(t){return t4[t]}function m4(t){return n4[t]}function Ta(t){return{fieldPath:t.canonicalString()}}function Sa(t){return Kt.fromServerFormat(t.fieldPath)}function pA(t){return t instanceof xt?(function(n){if(n.op==="=="){if(BE(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NAN"}};if(UE(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BE(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NAN"}};if(UE(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(n.field),op:p4(n.op),value:n.value}}})(t):t instanceof yr?(function(n){const r=n.getFilters().map((s=>pA(s)));return r.length===1?r[0]:{compositeFilter:{op:m4(n.op),filters:r}}})(t):xe(54877,{filter:t})}function g4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,s,a=Ne.min(),l=Ne.min(),c=Qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.yt=e}}function v4(t){const e=h4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.Cn=new w4}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ps.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class w4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Lt(Je.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gA=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(gA,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new za(0)}static cr(){return new za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="LruGarbageCollector",E4=1048576;function nT([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class T4{constructor(e){this.Ir=e,this.buffer=new Lt(nT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class S4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(tT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){el(n)?ve(tT,"Ignoring IndexedDB error during garbage collection: ",n):await Za(n)}await this.Vr(3e5)}))}}class I4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(jd.ce);const r=new T4(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(eT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,c,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,l=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(r=w,c=Date.now(),this.removeTargets(e,r,n)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(p=Date.now(),wa()<=Me.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w}))))}}function A4(t,e){return new I4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.changes=new So((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&vu(r.mutation,s,Dn.empty(),Ze.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const s=uo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=su();return a.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=uo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,s){let a=Pi();const l=yu(),c=(function(){return yu()})();return n.forEach(((f,p)=>{const m=r.get(p.key);s.has(p.key)&&(m===void 0||m.mutation instanceof Cs)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),vu(m.mutation,p,m.mutation.getFieldMask(),Ze.now())):l.set(p.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,m)=>l.set(p,m))),n.forEach(((p,m)=>c.set(p,new C4(m,l.get(p)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=yu();let s=new ht(((l,c)=>l-c)),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let m=r.get(f)||Dn.empty();m=c.applyToLocalView(p,m),r.set(f,m);const w=(s.get(c.batchId)||Ue()).add(f);s=s.insert(c.batchId,w)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,m=f.value,w=JI();m.forEach((_=>{if(!a.has(_)){const S=iA(n.get(_),r.get(_));S!==null&&w.set(_,S),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,w))}return se.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):se.resolve(uo());let c=ku,f=a;return l.next((p=>se.forEach(p,((m,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),a.get(m)?se.resolve():this.remoteDocumentCache.getEntry(e,m).next((_=>{f=f.insert(m,_)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Ue()))).next((m=>({batchId:c,changes:XI(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let s=su();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=su();return this.indexManager.getCollectionParents(e,a).next((c=>se.forEach(c,(f=>{const p=(function(w,_){return new tl(_,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((m=>{m.forEach(((w,_)=>{l=l.insert(w,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((f,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,nn.newInvalidDocument(m)))}));let c=su();return l.forEach(((f,p)=>{const m=a.get(f);m!==void 0&&vu(m.mutation,p,Dn.empty(),Ze.now()),Hd(n,p)&&(c=c.insert(f,p))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:zr(s.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:v4(s.bundledQuery),readTime:zr(s.readTime)}})(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.overlays=new ht(Ie.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uo();return se.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.St(e,n,a)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const s=uo(),a=n.length+1,l=new Ie(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ht(((p,m)=>p-m));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=uo(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=uo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,m)=>c.set(p,m))),!(c.size()>=s)););return se.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new KM(n,r));let a=this.qr.get(n);a===void 0&&(a=Ue(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.Qr=new Lt(Bt.$r),this.Ur=new Lt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ie(new Je([])),r=new Bt(n,e),s=new Bt(n,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new Je([])),r=new Bt(n,e),s=new Bt(n,e+1);let a=Ue();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Bt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Bt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new GM(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new Bt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?by:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),s=new Bt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const c=this.Xr(l.Yr);a.push(c)})),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Fe);return n.forEach((s=>{const a=new Bt(s,0),l=new Bt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const l=new Bt(new Ie(a),0);let c=new Lt(Fe);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(f.Yr)),!0)}),l),se.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,(s=>{const a=new Bt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Bt(n,0),s=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.ri=e,this.docs=(function(){return new ht(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():nn.newInvalidDocument(s))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Pi();const l=n.path,c=new Ie(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||aM(oM(m),r)<=0||(s.has(m.key)||Hd(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,n,r,s){xe(9500)}ii(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new V4(this)}getSize(e){return se.resolve(this.size)}}class V4 extends P4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.persistence=e,this.si=new So((n=>Dy(n)),Vy),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new jy,this.targetCount=0,this.ai=za.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new za(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),se.waitFor(a).next((()=>s))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),se.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n){this.ui={},this.overlays={},this.ci=new jd(0),this.li=!1,this.li=!0,this.hi=new k4,this.referenceDelegate=e(this),this.Pi=new L4(this),this.indexManager=new _4,this.remoteDocumentCache=(function(s){return new D4(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new y4(n),this.Ii=new R4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new N4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const s=new O4(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,n){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class O4 extends uM{constructor(e){super(),this.currentSequenceNumber=e}}class zy{constructor(e){this.persistence=e,this.Ri=new jy,this.Vi=null}static mi(e){return new zy(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const s=Ie.fromPath(r);return this.gi(e,s).next((a=>{a||n.removeEntry(s,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vd{constructor(e,n){this.persistence=e,this.pi=new So((r=>dM(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=A4(this,n)}static mi(e,n){return new vd(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?se.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,a.removeEntry(l,Ne.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gh(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ue(),s=Ue();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new $y(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fD()?8:cM(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new M4;return this.Ss(e,n,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>a.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(wa()<=Me.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(wa()<=Me.DEBUG&&ve("QueryEngine","Query:",Ea(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(wa()<=Me.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(n))):se.resolve())}ys(e,n){if(WE(n))return se.resolve(null);let r=jr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=hg(n,null,"F"),r=jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ue(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(n,c);return this.Cs(n,p,l,f.readTime)?this.ys(e,hg(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,r,s){return WE(n)||s.isEqual(Ne.min())?se.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?se.resolve(null):(wa()<=Me.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ea(n)),this.vs(e,l,n,sM(s,ku)).next((c=>c)))}))}Ds(e,n){let r=new Lt(QI(e));return n.forEach(((s,a)=>{Hd(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return wa()<=Me.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Ea(n)),this.ps.getDocumentsMatchingQuery(e,n,ps.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LocalStore",U4=3e8;class B4{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ht(Fe),this.xs=new So((a=>Dy(a)),Vy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function j4(t,e,n,r){return new B4(t,e,n,r)}async function vA(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let f=Ue();for(const p of s){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of a){c.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function z4(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,p,m){const w=p.batch,_=w.keys();let S=se.resolve();return _.forEach((C=>{S=S.next((()=>m.getEntry(f,C))).next((D=>{const R=p.docVersions.get(C);qe(R!==null,48541),D.version.compareTo(R)<0&&(w.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),m.addEntry(D)))}))})),S.next((()=>c.mutationQueue.removeMutationBatch(f,w)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Ue();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function _A(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function $4(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((m,w)=>{const _=s.get(w);if(!_)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,w))));let S=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(Qt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),s=s.insert(w,S),(function(D,R,U){return D.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=U4?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(_,S,m)&&c.push(n.Pi.updateTargetData(a,S))}));let f=Pi(),p=Ue();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(W4(a,l,e.documentUpdates).next((m=>{f=m.ks,p=m.qs}))),!r.isEqual(Ne.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((w=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return se.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.Ms=s,a)))}function W4(t,e,n){let r=Ue(),s=Ue();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Pi();return n.forEach(((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):ve(Wy,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)})),{ks:l,qs:s}}))}function H4(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=by),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function q4(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((a=>a?(s=a,se.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new os(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function gg(t,e,n){const r=Ve(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!el(l))throw l;ve(Wy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function rT(t,e,n){const r=Ve(t);let s=Ne.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,m){const w=Ve(f),_=w.xs.get(m);return _!==void 0?se.resolve(w.Ms.get(_)):w.Pi.getTargetData(p,m)})(r,l,jr(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:Ne.min(),n?a:Ue()))).next((c=>(G4(r,kM(e),c),{documents:c,Qs:a})))))}function G4(t,e,n){let r=t.Os.get(e)||Ne.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class iT{constructor(){this.activeTargetIds=MM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K4{constructor(){this.Mo=new iT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="ConnectivityMonitor";class oT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(sT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(sT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function yg(){return kh===null?kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",Y4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===fd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=yg(),c=this.zo(e,n.toUriEncodedString());ve(mm,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(c),m=Ts(p);return this.Jo(e,c,f,r,m).then((w=>(ve(mm,`Received RPC '${e}' ${l}: `,w),w)),(w=>{throw Fa(mm,`RPC '${e}' ${l} failed with error: `,w,"url: ",c,"request:",r),w}))}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ja})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,n){const r=Y4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class Z4 extends X4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=yg();return new Promise(((c,f)=>{const p=new TI;p.setWithCredentials(!0),p.listenOnce(SI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qh.NO_ERROR:const w=p.getResponseJson();ve(en,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),c(w);break;case qh.TIMEOUT:ve(en,`RPC '${e}' ${l} timed out`),f(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const _=p.getStatus();if(ve(en,`RPC '${e}' ${l} failed with status:`,_,"response text:",p.getResponseText()),_>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S?.error;if(C&&C.status&&C.message){const D=(function(U){const z=U.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(z)>=0?z:ie.UNKNOWN})(C.status);f(new me(D,C.message))}else f(new me(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new me(ie.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ve(en,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(s);ve(en,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=yg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=PI(),c=AI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=a.join("");ve(en,`Creating RPC '${e}' stream ${s}: ${m}`,f);const w=l.createWebChannel(m,f);this.I_(w);let _=!1,S=!1;const C=new J4({Yo:R=>{S?ve(en,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(_||(ve(en,`Opening RPC '${e}' stream ${s} transport.`),w.open(),_=!0),ve(en,`RPC '${e}' stream ${s} sending:`,R),w.send(R))},Zo:()=>w.close()}),D=(R,U,z)=>{R.listen(U,(j=>{try{z(j)}catch(re){setTimeout((()=>{throw re}),0)}}))};return D(w,iu.EventType.OPEN,(()=>{S||(ve(en,`RPC '${e}' stream ${s} transport opened.`),C.o_())})),D(w,iu.EventType.CLOSE,(()=>{S||(S=!0,ve(en,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(w))})),D(w,iu.EventType.ERROR,(R=>{S||(S=!0,Fa(en,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),C.a_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),D(w,iu.EventType.MESSAGE,(R=>{if(!S){const U=R.data[0];qe(!!U,16349);const z=U,j=z?.error||z[0]?.error;if(j){ve(en,`RPC '${e}' stream ${s} received error:`,j);const re=j.status;let oe=(function(P){const x=Pt[P];if(x!==void 0)return oA(x)})(re),he=j.message;oe===void 0&&(oe=ie.INTERNAL,he="Unknown error status: "+re+" with message "+j.message),S=!0,C.a_(new me(oe,he)),w.close()}else ve(en,`RPC '${e}' stream ${s} received:`,U),C.u_(U)}})),D(c,II.STAT_EVENT,(R=>{R.stat===ig.PROXY?ve(en,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===ig.NOPROXY&&ve(en,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){return new r4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="PersistentStream";class EA{constructor(e,n,r,s,a,l,c,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new me(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(aT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(aT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class e3 extends EA{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=o4(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ne.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?zr(l.readTime):Ne.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=mg(this.serializer),n.addTarget=(function(a,l){let c;const f=l.target;if(c=ug(f)?{documents:u4(a,f)}:{query:c4(a,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=uA(a,l.resumeToken);const p=dg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ne.min())>0){c.readTime=yd(a,l.snapshotVersion.toTimestamp());const p=dg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=d4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=mg(this.serializer),n.removeTarget=e,this.q_(n)}}class t3 extends EA{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=l4(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=mg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>a4(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{}class r3 extends n3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,fg(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(ie.UNKNOWN,a.toString())}))}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,fg(n,r),s,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class i3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="RemoteStore";class s3{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Io(this)&&(ve(wo,"Restarting streams for network reachability change."),await(async function(f){const p=Ve(f);p.Ea.add(4),await ec(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Yd(p)})(this))}))})),this.Ra=new i3(r,s)}}async function Yd(t){if(Io(t))for(const e of t.da)await e(!0)}async function ec(t){for(const e of t.da)await e(!1)}function TA(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ky(n)?Gy(n):nl(n).O_()&&qy(n,e))}function Hy(t,e){const n=Ve(t),r=nl(n);n.Ia.delete(e),r.O_()&&SA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Io(n)&&n.Ra.set("Unknown"))}function qy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(t).Y_(e)}function SA(t,e){t.Va.Ue(e),nl(t).Z_(e)}function Gy(t){t.Va=new ZM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),nl(t).start(),t.Ra.ua()}function Ky(t){return Io(t)&&!nl(t).x_()&&t.Ia.size>0}function Io(t){return Ve(t).Ea.size===0}function IA(t){t.Va=void 0}async function o3(t){t.Ra.set("Online")}async function a3(t){t.Ia.forEach(((e,n)=>{qy(t,e)}))}async function l3(t,e){IA(t),Ky(t)?(t.Ra.ha(e),Gy(t)):t.Ra.set("Unknown")}async function u3(t,e,n){if(t.Ra.set("Online"),e instanceof lA&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){ve(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _d(t,r)}else if(e instanceof Yh?t.Va.Ze(e):e instanceof aA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const r=await _A(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ia.get(p);m&&a.Ia.set(p,m.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,p)=>{const m=a.Ia.get(f);if(!m)return;a.Ia.set(f,m.withResumeToken(Qt.EMPTY_BYTE_STRING,m.snapshotVersion)),SA(a,f);const w=new os(m.target,f,p,m.sequenceNumber);qy(a,w)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ve(wo,"Failed to raise snapshot:",r),await _d(t,r)}}async function _d(t,e,n){if(!el(e))throw e;t.Ea.add(1),await ec(t),t.Ra.set("Offline"),n||(n=()=>_A(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(wo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yd(t)}))}function AA(t,e){return e().catch((n=>_d(t,n,e)))}async function Xd(t){const e=Ve(t),n=vs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:by;for(;c3(e);)try{const s=await H4(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,h3(e,s)}catch(s){await _d(e,s)}PA(e)&&CA(e)}function c3(t){return Io(t)&&t.Ta.length<10}function h3(t,e){t.Ta.push(e);const n=vs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function PA(t){return Io(t)&&!vs(t).x_()&&t.Ta.length>0}function CA(t){vs(t).start()}async function d3(t){vs(t).ra()}async function f3(t){const e=vs(t);for(const n of t.Ta)e.ea(n.mutations)}async function p3(t,e,n){const r=t.Ta.shift(),s=Fy.from(r,e,n);await AA(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Xd(t)}async function m3(t,e){e&&vs(t).X_&&await(async function(r,s){if((function(l){return YM(l)&&l!==ie.ABORTED})(s.code)){const a=r.Ta.shift();vs(r).B_(),await AA(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Xd(r)}})(t,e),PA(t)&&CA(t)}async function lT(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),ve(wo,"RemoteStore received new credentials");const r=Io(n);n.Ea.add(3),await ec(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yd(n)}async function g3(t,e){const n=Ve(t);e?(n.Ea.delete(2),await Yd(n)):e||(n.Ea.add(2),await ec(n),n.Ra.set("Unknown"))}function nl(t){return t.ma||(t.ma=(function(n,r,s){const a=Ve(n);return a.sa(),new e3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:o3.bind(null,t),t_:a3.bind(null,t),r_:l3.bind(null,t),H_:u3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ky(t)?Gy(t):t.Ra.set("Unknown")):(await t.ma.stop(),IA(t))}))),t.ma}function vs(t){return t.fa||(t.fa=(function(n,r,s){const a=Ve(n);return a.sa(),new t3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:d3.bind(null,t),r_:m3.bind(null,t),ta:f3.bind(null,t),na:p3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Xd(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(wo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new Qy(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),el(t))return new me(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{static emptySet(e){return new Va(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=su(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.ga=new ht(Ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class $a{constructor(e,n,r,s,a,l,c,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new $a(e,n,Va.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class v3{constructor(){this.queries=cT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ve(n),a=s.queries;s.queries=cT(),a.forEach(((l,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function cT(){return new So((t=>KI(t)),Wd)}async function xA(t,e){const n=Ve(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new y3,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Yy(l,`Initialization of query '${Ea(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Xy(n)}async function RA(t,e){const n=Ve(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _3(t,e){const n=Ve(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(s)&&(r=!0);l.wa=s}}r&&Xy(n)}function w3(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function Xy(t){t.Ca.forEach((e=>{e.next()}))}var vg,hT;(hT=vg||(vg={})).Ma="default",hT.Cache="cache";class bA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new $a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.key=e}}class NA{constructor(e){this.key=e}}class E3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=QI(e),this.tu=new Va(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new uT,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,w)=>{const _=s.get(m),S=Hd(this.query,w)?w:null,C=!!_&&this.mutatedKeys.has(_.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;_&&S?_.data.isEqual(S.data)?C!==D&&(r.track({type:3,doc:S}),R=!0):this.su(_,S)||(r.track({type:2,doc:S}),R=!0,(f&&this.eu(S,f)>0||p&&this.eu(S,p)<0)&&(c=!0)):!_&&S?(r.track({type:0,doc:S}),R=!0):_&&!S&&(r.track({type:1,doc:_}),R=!0,(f||p)&&(c=!0)),R&&(S?(l=l.add(S),a=D?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,w)=>(function(S,C){const D=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:R})}};return D(S)-D(C)})(m.type,w.type)||this.eu(m.doc,w.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new $a(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new NA(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new kA(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jy="SyncEngine";class T3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class S3{constructor(e){this.key=e,this.hu=!1}}class I3{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new So((c=>KI(c)),Wd),this.Iu=new Map,this.Eu=new Set,this.du=new ht(Ie.comparator),this.Au=new Map,this.Ru=new jy,this.Vu={},this.mu=new Map,this.fu=za.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function A3(t,e,n=!0){const r=FA(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await DA(r,e,n,!0),s}async function P3(t,e){const n=FA(t);await DA(n,e,!0,!1)}async function DA(t,e,n,r){const s=await q4(t.localStore,jr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await C3(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&TA(t.remoteStore,s),c}async function C3(t,e,n,r,s){t.pu=(w,_,S)=>(async function(D,R,U,z){let j=R.view.ru(U);j.Cs&&(j=await rT(D.localStore,R.query,!1).then((({documents:V})=>R.view.ru(V,j))));const re=z&&z.targetChanges.get(R.targetId),oe=z&&z.targetMismatches.get(R.targetId)!=null,he=R.view.applyChanges(j,D.isPrimaryClient,re,oe);return fT(D,R.targetId,he.au),he.snapshot})(t,w,_,S);const a=await rT(t.localStore,e,!0),l=new E3(e,a.Qs),c=l.ru(a.documents),f=Zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,f);fT(t,n,p.au);const m=new T3(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function x3(t,e,n){const r=Ve(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Wd(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Hy(r.remoteStore,s.targetId),_g(r,s.targetId)})).catch(Za)):(_g(r,s.targetId),await gg(r.localStore,s.targetId,!0))}async function R3(t,e){const n=Ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hy(n.remoteStore,r.targetId))}async function b3(t,e,n){const r=M3(t);try{const s=await(function(l,c){const f=Ve(l),p=Ze.now(),m=c.reduce(((S,C)=>S.add(C.key)),Ue());let w,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let C=Pi(),D=Ue();return f.Ns.getEntries(S,m).next((R=>{C=R,C.forEach(((U,z)=>{z.isValidDocument()||(D=D.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,C))).next((R=>{w=R;const U=[];for(const z of c){const j=HM(z,w.get(z.key).overlayedDocument);j!=null&&U.push(new Cs(z.key,j,BI(j.value.mapValue),Qn.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,U,c)})).next((R=>{_=R;const U=R.applyToLocalDocumentSet(w,D);return f.documentOverlayCache.saveOverlays(S,R.batchId,U)}))})).then((()=>({batchId:_.batchId,changes:XI(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new ht(Fe)),p=p.insert(c,f),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,n),await tc(r,s.changes),await Xd(r.remoteStore)}catch(s){const a=Yy(s,"Failed to persist write");n.reject(a)}}async function VA(t,e){const n=Ve(t);try{const r=await $4(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?qe(l.hu,14607):s.removedDocuments.size>0&&(qe(l.hu,42227),l.hu=!1))})),await tc(n,r,e)}catch(r){await Za(r)}}function dT(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const f=Ve(l);f.onlineState=c;let p=!1;f.queries.forEach(((m,w)=>{for(const _ of w.Sa)_.va(c)&&(p=!0)})),p&&Xy(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k3(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new ht(Ie.comparator);l=l.insert(a,nn.newNoDocument(a,Ne.min()));const c=Ue().add(a),f=new Kd(Ne.min(),new Map,new ht(Fe),l,c);await VA(r,f),r.du=r.du.remove(a),r.Au.delete(e),Zy(r)}else await gg(r.localStore,e,!1).then((()=>_g(r,e,n))).catch(Za)}async function N3(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await z4(n.localStore,e);OA(n,r,null),LA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tc(n,s)}catch(s){await Za(s)}}async function D3(t,e,n){const r=Ve(t);try{const s=await(function(l,c){const f=Ve(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return f.mutationQueue.lookupMutationBatch(p,c).next((w=>(qe(w!==null,37113),m=w.keys(),f.mutationQueue.removeMutationBatch(p,w)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>f.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);OA(r,e,n),LA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tc(r,s)}catch(s){await Za(s)}}function LA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function OA(t,e,n){const r=Ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function _g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||MA(t,r)}))}function MA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Hy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zy(t))}function fT(t,e,n){for(const r of n)r instanceof kA?(t.Ru.addReference(r.key,e),V3(t,r)):r instanceof NA?(ve(Jy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||MA(t,r.key)):xe(19791,{wu:r})}function V3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ve(Jy,"New document in limbo: "+n),t.Eu.add(r),Zy(t))}function Zy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new S3(n)),t.du=t.du.insert(n,r),TA(t.remoteStore,new os(jr(Ly(n.path)),r,"TargetPurposeLimboResolution",jd.ce))}}async function tc(t,e,n){const r=Ve(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const m=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(p){s.push(p);const m=$y.As(f.targetId,p);a.push(m)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(f,p){const m=Ve(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>se.forEach(p,(_=>se.forEach(_.Es,(S=>m.persistence.referenceDelegate.addReference(w,_.targetId,S))).next((()=>se.forEach(_.ds,(S=>m.persistence.referenceDelegate.removeReference(w,_.targetId,S)))))))))}catch(w){if(!el(w))throw w;ve(Wy,"Failed to update sequence numbers: "+w)}for(const w of p){const _=w.targetId;if(!w.fromCache){const S=m.Ms.get(_),C=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(C);m.Ms=m.Ms.insert(_,D)}}})(r.localStore,a))}async function L3(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){ve(Jy,"User change. New user:",e.toKey());const r=await vA(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((f=>{f.reject(new me(ie.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tc(n,r.Ls)}}function O3(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let s=Ue();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function FA(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k3.bind(null,e),e.Pu.H_=_3.bind(null,e.eventManager),e.Pu.yu=w3.bind(null,e.eventManager),e}function M3(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D3.bind(null,e),e}class wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return j4(this.persistence,new F4,e.initialUser,this.serializer)}Cu(e){return new yA(zy.mi,this.serializer)}Du(e){return new K4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wd.provider={build:()=>new wd};class F3 extends wd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof vd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new S4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new yA((r=>vd.mi(r,n)),this.serializer)}}class wg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=L3.bind(null,this.syncEngine),await g3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new v3})()}createDatastore(e){const n=Qd(e.databaseInfo.databaseId),r=(function(a){return new Z4(a)})(e.databaseInfo);return(function(a,l,c,f){return new r3(a,l,c,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,c){return new s3(r,s,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>dT(this.syncEngine,n,0)),(function(){return oT.v()?new oT:new Q4})())}createSyncEngine(e,n){return(function(s,a,l,c,f,p,m){const w=new I3(s,a,l,c,f,p);return m&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);ve(wo,"RemoteStore shutting down."),r.Ea.add(5),await ec(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wg.provider={build:()=>new wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class U3{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=tn.UNAUTHENTICATED,this.clientId=Ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ve(_s,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ve(_s,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ym(t,e){t.asyncQueue.verifyOperationInProgress(),ve(_s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await vA(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await B3(t);ve(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>lT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>lT(e.remoteStore,s))),t._onlineComponents=e}async function B3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(_s,"Using user provided OfflineComponentProvider");try{await ym(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await ym(t,new wd)}}else ve(_s,"Using default OfflineComponentProvider"),await ym(t,new F3(void 0));return t._offlineComponents}async function BA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(_s,"Using user provided OnlineComponentProvider"),await pT(t,t._uninitializedComponentsProvider._online)):(ve(_s,"Using default OnlineComponentProvider"),await pT(t,new wg))),t._onlineComponents}function j3(t){return BA(t).then((e=>e.syncEngine))}async function jA(t){const e=await BA(t),n=e.eventManager;return n.onListen=A3.bind(null,e.syncEngine),n.onUnlisten=x3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R3.bind(null,e.syncEngine),n}function z3(t,e,n={}){const r=new vi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,p){const m=new UA({next:_=>{m.Nu(),l.enqueueAndForget((()=>RA(a,w)));const S=_.docs.has(c);!S&&_.fromCache?p.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&f&&f.source==="server"?p.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),w=new bA(Ly(c.path),m,{includeMetadataChanges:!0,qa:!0});return xA(a,w)})(await jA(t),t.asyncQueue,e,n,r))),r.promise}function $3(t,e,n={}){const r=new vi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,p){const m=new UA({next:_=>{m.Nu(),l.enqueueAndForget((()=>RA(a,w))),_.fromCache&&f.source==="server"?p.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),w=new bA(c,m,{includeMetadataChanges:!0,qa:!0});return xA(a,w)})(await jA(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firestore.googleapis.com",gT=!0;class yT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$A,this.ssl=gT}else this.host=e.host,this.ssl=e.ssl??gT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E4)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KO;switch(r.type){case"firstParty":return new JO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=mT.get(n);r&&(ve("ComponentProvider","Removing Datastore"),mT.delete(n),r.terminate())})(this),Promise.resolve()}}function W3(t,e,n,r={}){t=gr(t,Jd);const s=Ts(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(fy(`https://${c}`),py("Firestore",!0)),a.host!==$A&&a.host!==c&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:c,ssl:s,emulatorOptions:r};if(!mo(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=tn.MOCK_USER;else{p=O1(r.mockUserToken,t._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new tn(w)}t._authCredentials=new QO(new xI(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xu(n,Tt._jsonSchema))return new Tt(e,r||null,new Ie(Je.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Rt("string",Tt._jsonSchemaVersion),referencePath:Rt("string")};class cs extends Ao{constructor(e,n,r){super(e,n,Ly(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Ie(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Dr(t,e,...n){if(t=ct(t),RI("collection","path",e),t instanceof Jd){const r=Je.fromString(e,...n);return bE(r),new cs(t,null,r)}{if(!(t instanceof Tt||t instanceof cs))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return bE(r),new cs(t.firestore,null,r)}}function Et(t,e,...n){if(t=ct(t),arguments.length===1&&(e=Ry.newId()),RI("doc","path",e),t instanceof Jd){const r=Je.fromString(e,...n);return RE(r),new Tt(t,null,new Ie(r))}{if(!(t instanceof Tt||t instanceof cs))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return RE(r),new Tt(t.firestore,t instanceof cs?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="AsyncQueue";class _T{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wA(this,"async_queue_retry"),this._c=()=>{const r=gm();r&&ve(vT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!el(e))throw e;ve(vT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",wT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Qy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&xe(47125,{Pc:wT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Po extends Jd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new _T,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _T(e),this._firestoreClient=void 0,await e}}}function H3(t,e){const n=typeof t=="object"?t:Od(),r=typeof t=="string"?t:fd,s=Ld(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=D1("firestore");a&&W3(s,...a)}return s}function ev(t){if(t._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||q3(t),t._firestoreClient}function q3(t){const e=t._freezeSettings(),n=(function(s,a,l,c){return new mM(s,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,zA(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new U3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Qt.fromBase64String(e))}catch(n){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Rt("string",Gn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$r._jsonSchemaVersion}}static fromJSON(e){if(Xu(e,$r._jsonSchema))return new $r(e.latitude,e.longitude)}}$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:Rt("string",$r._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xu(e,Wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wr(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wr._jsonSchemaVersion="firestore/vectorValue/1.0",Wr._jsonSchema={type:Rt("string",Wr._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=/^__.*__$/;class K3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ju(e,this.data,n,this.fieldTransforms)}}class WA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class tv{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ed(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HA(this.Ac)&&G3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Q3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qd(e)}Cc(e,n,r,s=!1){return new tv({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(t){const e=t._freezeSettings(),n=Qd(t._databaseId);return new Q3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qA(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);rv("Data must be an object, but it was:",l,r);const c=GA(r,l);let f,p;if(a.merge)f=new Dn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const w of a.mergeFields){const _=Eg(e,w,n);if(!l.contains(_))throw new me(ie.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);QA(m,_)||m.push(_)}f=new Dn(m),p=l.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,p=l.fieldTransforms;return new K3(new Sn(c),f,p)}class nf extends ef{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}class nv extends ef{_toFieldTransform(e){return new jM(e.path,new Ou)}isEqual(e){return e instanceof nv}}function Y3(t,e,n,r){const s=t.Cc(1,e,n);rv("Data must be an object, but it was:",s,r);const a=[],l=Sn.empty();Ps(r,((f,p)=>{const m=iv(e,f,n);p=ct(p);const w=s.yc(m);if(p instanceof nf)a.push(m);else{const _=nc(p,w);_!=null&&(a.push(m),l.set(m,_))}}));const c=new Dn(a);return new WA(l,c,s.fieldTransforms)}function X3(t,e,n,r,s,a){const l=t.Cc(1,e,n),c=[Eg(e,r,n)],f=[s];if(a.length%2!=0)throw new me(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(Eg(e,a[_])),f.push(a[_+1]);const p=[],m=Sn.empty();for(let _=c.length-1;_>=0;--_)if(!QA(p,c[_])){const S=c[_];let C=f[_];C=ct(C);const D=l.yc(S);if(C instanceof nf)p.push(S);else{const R=nc(C,D);R!=null&&(p.push(S),m.set(S,R))}}const w=new Dn(p);return new WA(m,w,l.fieldTransforms)}function J3(t,e,n,r=!1){return nc(n,t.Cc(r?4:3,e))}function nc(t,e){if(KA(t=ct(t)))return rv("Unsupported field value:",e,t),GA(t,e);if(t instanceof ef)return(function(r,s){if(!HA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const c of r){let f=nc(c,s.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ze.fromDate(r);return{timestampValue:yd(s.serializer,a)}}if(r instanceof Ze){const a=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yd(s.serializer,a)}}if(r instanceof $r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:uA(s.serializer,r._byteString)};if(r instanceof Tt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:By(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Wr)return(function(l,c){return{mapValue:{fields:{[FI]:{stringValue:UI},[pd]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw c.Sc("VectorValues must only contain numeric values.");return Oy(c.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Bd(r)}`)})(t,e)}function GA(t,e){const n={};return NI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(t,((r,s)=>{const a=nc(s,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function KA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof $r||t instanceof Gn||t instanceof Tt||t instanceof ef||t instanceof Wr)}function rv(t,e,n){if(!KA(n)||!bI(n)){const r=Bd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Eg(t,e,n){if((e=ct(e))instanceof Zd)return e._internalPath;if(typeof e=="string")return iv(t,e);throw Ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const Z3=new RegExp("[~\\*/\\[\\]]");function iv(t,e,n){if(e.search(Z3)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zd(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ed(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new me(ie.INVALID_ARGUMENT,c+t+f)}function QA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e6 extends YA{data(){return super.data()}}function rf(t,e){return typeof e=="string"?iv(t,e):e instanceof Zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sv{}class XA extends sv{}function rc(t,e,...n){let r=[];e instanceof sv&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof ov)).length,c=a.filter((f=>f instanceof sf)).length;if(l>1||l>0&&c>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class sf extends XA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sf(e,n,r)}_apply(e){const n=this._parse(e);return JA(e._query,n),new Ao(e.firestore,e.converter,cg(e._query,n))}_parse(e){const n=tf(e.firestore);return(function(a,l,c,f,p,m,w){let _;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){TT(w,m);const C=[];for(const D of w)C.push(ET(f,a,D));_={arrayValue:{values:C}}}else _=ET(f,a,w)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||TT(w,m),_=J3(c,l,w,m==="in"||m==="not-in");return xt.create(p,m,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Td(t,e,n){const r=e,s=rf("where",t);return sf._create(s,r,n)}class ov extends sv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ov(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const c=a.getFlattenedFilters();for(const f of c)JA(l,f),l=cg(l,f)})(e._query,n),new Ao(e.firestore,e.converter,cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class av extends XA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new av(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(a,l)})(e._query,this._field,this._direction);return new Ao(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new tl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function n6(t,e="asc"){const n=e,r=rf("orderBy",t);return av._create(r,n)}function ET(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GI(e)&&n.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!Ie.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return FE(t,new Ie(r))}if(n instanceof Tt)return FE(t,n._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bd(n)}.`)}function TT(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JA(t,e){const n=(function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r6{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ps(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[pd].arrayValue?.values?.map((r=>wt(r.doubleValue)));return new Wr(n)}convertGeoPoint(e){return new $r(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$d(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nu(e));default:return null}}convertTimestamp(e){const n=ms(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);qe(mA(r),9688,{name:e});const s=new Du(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return s.isEqual(n)||Ai(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fo extends YA{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",fo._jsonSchema={type:Rt("string",fo._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Xh extends fo{data(e={}){return super.data(e)}}class La{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new au(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Xh(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const f=new Xh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new au(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const f=new Xh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new au(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:i6(c.type),doc:f,oldIndex:p,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function i6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){t=gr(t,Tt);const e=gr(t.firestore,Po);return z3(ev(e),t._key).then((n=>s6(e,t,n)))}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:Rt("string",La._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class eP extends r6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function _i(t){t=gr(t,Ao);const e=gr(t.firestore,Po),n=ev(e),r=new eP(e);return t6(t._query),$3(n,t._query).then((s=>new La(e,r,t,s)))}function Tg(t,e,n){t=gr(t,Tt);const r=gr(t.firestore,Po),s=ZA(t.converter,e);return of(r,[qA(tf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Qn.none())])}function mi(t,e,n,...r){t=gr(t,Tt);const s=gr(t.firestore,Po),a=tf(s);let l;return l=typeof(e=ct(e))=="string"||e instanceof Zd?X3(a,"updateDoc",t._key,e,n,r):Y3(a,"updateDoc",t._key,e),of(s,[l.toMutation(t._key,Qn.exists(!0))])}function Sd(t){return of(gr(t.firestore,Po),[new My(t._key,Qn.none())])}function tP(t,e){const n=gr(t.firestore,Po),r=Et(t),s=ZA(t.converter,e);return of(n,[qA(tf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then((()=>r))}function of(t,e){return(function(r,s){const a=new vi;return r.asyncQueue.enqueueAndForget((async()=>b3(await j3(r),s,a))),a.promise})(ev(t),e)}function s6(t,e,n){const r=n.docs.get(e._key),s=new eP(t);return new fo(t,s,e._key,r,new au(n.hasPendingWrites,n.fromCache),e.converter)}function Wa(){return new nv("serverTimestamp")}(function(e,n=!0){(function(s){Ja=s})(To),go(new fs("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Po(new YO(r.getProvider("auth-internal")),new ZO(l,r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(p.options.projectId,m)})(l,s),l);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Ur(AE,PE,e),Ur(AE,PE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="firebasestorage.googleapis.com",rP="storageBucket",o6=120*1e3,a6=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends qr{constructor(e,n,r=0){super(vm(e),`Firebase Storage: ${n} (${vm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function vm(t){return"storage/"+t}function lv(){const t="An unknown error occurred, please check the error payload for server response.";return new mt(pt.UNKNOWN,t)}function l6(t){return new mt(pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function u6(t){return new mt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function c6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(pt.UNAUTHENTICATED,t)}function h6(){return new mt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function d6(t){return new mt(pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function f6(){return new mt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p6(){return new mt(pt.CANCELED,"User canceled the upload/download.")}function m6(t){return new mt(pt.INVALID_URL,"Invalid URL '"+t+"'.")}function g6(t){return new mt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function y6(){return new mt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rP+"' property when initializing the app?")}function v6(){return new mt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _6(){return new mt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w6(t){return new mt(pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sg(t){return new mt(pt.INVALID_ARGUMENT,t)}function iP(){return new mt(pt.APP_DELETED,"The Firebase app was deleted.")}function E6(t){return new mt(pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _u(t,e){return new mt(pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function eu(t){throw new mt(pt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vn.makeFromUrl(e,n)}catch{return new Vn(e,"")}if(r.path==="")return r;throw g6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function p(re){re.path_=decodeURIComponent(re.path)}const m="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",S=new RegExp(`^https?://${w}/${m}/b/${s}/o${_}`,"i"),C={bucket:1,path:3},D=n===nP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",U=new RegExp(`^https?://${D}/${s}/${R}`,"i"),j=[{regex:c,indices:f,postModify:a},{regex:S,indices:C,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let re=0;re<j.length;re++){const oe=j[re],he=oe.regex.exec(e);if(he){const V=he[oe.indices.bucket];let P=he[oe.indices.path];P||(P=""),r=new Vn(V,P),oe.postModify(r);break}}if(r==null)throw m6(e);return r}}class T6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t,e,n){let r=1,s=null,a=null,l=!1,c=0;function f(){return c===2}let p=!1;function m(...R){p||(p=!0,e.apply(null,R))}function w(R){s=setTimeout(()=>{s=null,t(S,f())},R)}function _(){a&&clearTimeout(a)}function S(R,...U){if(p){_();return}if(R){_(),m.call(null,R,...U);return}if(f()||l){_(),m.call(null,R,...U);return}r<64&&(r*=2);let j;c===1?(c=2,j=0):j=(r+Math.random())*1e3,w(j)}let C=!1;function D(R){C||(C=!0,_(),!p&&(s!==null?(R||(c=2),clearTimeout(s),w(0)):R||(c=1)))}return w(0),a=setTimeout(()=>{l=!0,D(!0)},n),D}function I6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){return t!==void 0}function P6(t){return typeof t=="object"&&!Array.isArray(t)}function uv(t){return typeof t=="string"||t instanceof String}function ST(t){return cv()&&t instanceof Blob}function cv(){return typeof Blob<"u"}function IT(t,e,n,r){if(r<e)throw Sg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Sg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function sP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var po;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(po||(po={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n,r,s,a,l,c,f,p,m,w,_=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=w,this.retry=_,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,D)=>{this.resolve_=C,this.reject_=D,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Nh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const f=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===po.NO_ERROR,f=a.getStatus();if(!c||C6(f,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===po.ABORT;r(!1,new Nh(!1,null,m));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Nh(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());A6(f)?a(f):a()}catch(f){l(f)}else if(c!==null){const f=lv();f.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,f)):l(f)}else if(s.canceled){const f=this.appDelete_?iP():p6();l(f)}else{const f=f6();l(f)}};this.canceled_?n(!1,new Nh(!1,null,!0)):this.backoffId_=S6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&I6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function R6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function b6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function k6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function N6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function D6(t,e,n,r,s,a,l=!0,c=!1){const f=sP(t.urlParams),p=t.url+f,m=Object.assign({},t.headers);return k6(m,e),R6(m,n),b6(m,a),N6(m,r),new x6(p,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function L6(...t){const e=V6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(cv())return new Blob(t);throw new mt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function O6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){if(typeof atob>"u")throw w6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _m{constructor(e,n){this.data=e,this.contentType=n||null}}function F6(t,e){switch(t){case Vr.RAW:return new _m(oP(e));case Vr.BASE64:case Vr.BASE64URL:return new _m(aP(t,e));case Vr.DATA_URL:return new _m(B6(e),j6(e))}throw lv()}function oP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function U6(t){let e;try{e=decodeURIComponent(t)}catch{throw _u(Vr.DATA_URL,"Malformed data URL.")}return oP(e)}function aP(t,e){switch(t){case Vr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw _u(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Vr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw _u(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=M6(e)}catch(s){throw s.message.includes("polyfill")?s:_u(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class lP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _u(Vr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=z6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function B6(t){const e=new lP(t);return e.base64?aP(Vr.BASE64,e.rest):U6(e.rest)}function j6(t){return new lP(t).contentType}function z6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){let r=0,s="";ST(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(ST(this.data_)){const r=this.data_,s=O6(r,e,n);return s===null?null:new is(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new is(r,!0)}}static getBlob(...e){if(cv()){const n=e.map(r=>r instanceof is?r.data_:r);return new is(L6.apply(null,n))}else{const n=e.map(l=>uv(l)?F6(Vr.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[a++]=l[c]}),new is(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){let e;try{e=JSON.parse(t)}catch{return null}return P6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function W6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function cP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t,e){return e}class cn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||H6}}let Dh=null;function q6(t){return!uv(t)||t.length<2?t:cP(t)}function hP(){if(Dh)return Dh;const t=[];t.push(new cn("bucket")),t.push(new cn("generation")),t.push(new cn("metageneration")),t.push(new cn("name","fullPath",!0));function e(a,l){return q6(l)}const n=new cn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new cn("size");return s.xform=r,t.push(s),t.push(new cn("timeCreated")),t.push(new cn("updated")),t.push(new cn("md5Hash",null,!0)),t.push(new cn("cacheControl",null,!0)),t.push(new cn("contentDisposition",null,!0)),t.push(new cn("contentEncoding",null,!0)),t.push(new cn("contentLanguage",null,!0)),t.push(new cn("contentType",null,!0)),t.push(new cn("metadata","customMetadata",!0)),Dh=t,Dh}function G6(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new Vn(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function K6(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return G6(r,t),r}function dP(t,e,n){const r=uP(e);return r===null?null:K6(t,r,n)}function Q6(t,e,n,r){const s=uP(e);if(s===null||!uv(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const m=t.bucket,w=t.fullPath,_="/b/"+l(m)+"/o/"+l(w),S=af(_,n,r),C=sP({alt:"media",token:p});return S+C})[0]}function Y6(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class hv{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){if(!t)throw lv()}function X6(t,e){function n(r,s){const a=dP(t,s,e);return fP(a!==null),a}return n}function J6(t,e){function n(r,s){const a=dP(t,s,e);return fP(a!==null),Q6(a,s,t.host,t._protocol)}return n}function pP(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=h6():s=c6():n.getStatus()===402?s=u6(t.bucket):n.getStatus()===403?s=d6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function mP(t){const e=pP(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=l6(t.path)),a.serverResponse=s.serverResponse,a}return n}function Z6(t,e,n){const r=e.fullServerUrl(),s=af(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new hv(s,a,J6(t,n),l);return c.errorHandler=mP(e),c}function eF(t,e){const n=e.fullServerUrl(),r=af(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function l(f,p){}const c=new hv(r,s,l,a);return c.successCodes=[200,204],c.errorHandler=mP(e),c}function tF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function nF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=tF(null,e)),r}function rF(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let j="";for(let re=0;re<2;re++)j=j+Math.random().toString().slice(2);return j}const f=c();l["Content-Type"]="multipart/related; boundary="+f;const p=nF(e,r,s),m=Y6(p,n),w="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,_=`\r
--`+f+"--",S=is.getBlob(w,r,_);if(S===null)throw v6();const C={name:p.fullPath},D=af(a,t.host,t._protocol),R="POST",U=t.maxUploadRetryTime,z=new hv(D,R,X6(t,n),U);return z.urlParams=C,z.headers=l,z.body=S.uploadData(),z.errorHandler=pP(e),z}class iF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=po.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=po.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=po.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw eu("cannot .send() more than once");if(Ts(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw eu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw eu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw eu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw eu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sF extends iF{initXhr(){this.xhr_.responseType="text"}}function dv(){return new sF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this._service=e,n instanceof Vn?this._location=n:this._location=Vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Eo(e,n)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cP(this._location.path)}get storage(){return this._service}get parent(){const e=$6(this._location.path);if(e===null)return null;const n=new Vn(this._location.bucket,e);return new Eo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw E6(e)}}function oF(t,e,n){t._throwIfRoot("uploadBytes");const r=rF(t.storage,t._location,hP(),new is(e,!0),n);return t.storage.makeRequestWithTokens(r,dv).then(s=>({metadata:s,ref:t}))}function aF(t){t._throwIfRoot("getDownloadURL");const e=Z6(t.storage,t._location,hP());return t.storage.makeRequestWithTokens(e,dv).then(n=>{if(n===null)throw _6();return n})}function lF(t){t._throwIfRoot("deleteObject");const e=eF(t.storage,t._location);return t.storage.makeRequestWithTokens(e,dv)}function uF(t,e){const n=W6(t._location.path,e),r=new Vn(t._location.bucket,n);return new Eo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){return/^[A-Za-z]+:\/\//.test(t)}function hF(t,e){return new Eo(t,e)}function gP(t,e){if(t instanceof fv){const n=t;if(n._bucket==null)throw y6();const r=new Eo(n,n._bucket);return e!=null?gP(r,e):r}else return e!==void 0?uF(t,e):t}function dF(t,e){if(e&&cF(e)){if(t instanceof fv)return hF(t,e);throw Sg("To use ref(service, url), the first argument must be a Storage instance.")}else return gP(t,e)}function AT(t,e){const n=e?.[rP];return n==null?null:Vn.makeFromBucketSpec(n,t)}function fF(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ts(e);s&&(fy(`https://${t.host}/b`),py("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:O1(a,t.app.options.projectId))}class fv{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=nP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o6,this._maxUploadRetryTime=a6,this._requests=new Set,s!=null?this._bucket=Vn.makeFromBucketSpec(s,this._host):this._bucket=AT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=AT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eo(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new T6(iP());{const l=D6(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const PT="@firebase/storage",CT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="storage";function vP(t,e,n){return t=ct(t),oF(t,e,n)}function _P(t){return t=ct(t),aF(t)}function wP(t){return t=ct(t),lF(t)}function Id(t,e){return t=ct(t),dF(t,e)}function pF(t=Od(),e){t=ct(t);const r=Ld(t,yP).getImmediate({identifier:e}),s=D1("storage");return s&&mF(r,...s),r}function mF(t,e,n,r={}){fF(t,e,n,r)}function gF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new fv(n,r,s,e,To)}function yF(){go(new fs(yP,gF,"PUBLIC").setMultipleInstances(!0)),Ur(PT,CT,""),Ur(PT,CT,"esm2020")}yF();const vF={apiKey:"AIzaSyCcMTrPRrddN84zbsoZZtKQ068wqOYJelY",authDomain:"myamravati-market-17248.firebaseapp.com",projectId:"myamravati-market-17248",storageBucket:"myamravati-market-17248.firebasestorage.app",messagingSenderId:"390266313293",appId:"1:390266313293:web:fe9ecb9eae7bcd05361a04"},pv=EV().length?Od():U1(vF),jt=qO(pv),He=H3(pv),Ad=pF(pv);let _F={data:""},wF=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||_F,EF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,TF=/\/\*[^]*?\*\/|  +/g,xT=/\n+/g,ss=(t,e)=>{let n="",r="",s="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+l+";":r+=a[1]=="f"?ss(l,a):a+"{"+ss(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=ss(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ss.p?ss.p(a,l):a+":"+l+";")}return n+(e&&s?e+"{"+s+"}":s)+r},hi={},EP=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+EP(t[n]);return e}return t},SF=(t,e,n,r,s)=>{let a=EP(t),l=hi[a]||(hi[a]=(f=>{let p=0,m=11;for(;p<f.length;)m=101*m+f.charCodeAt(p++)>>>0;return"go"+m})(a));if(!hi[l]){let f=a!==t?t:(p=>{let m,w,_=[{}];for(;m=EF.exec(p.replace(TF,""));)m[4]?_.shift():m[3]?(w=m[3].replace(xT," ").trim(),_.unshift(_[0][w]=_[0][w]||{})):_[0][m[1]]=m[2].replace(xT," ").trim();return _[0]})(t);hi[l]=ss(s?{["@keyframes "+l]:f}:f,n?"":"."+l)}let c=n&&hi.g?hi.g:null;return n&&(hi.g=hi[l]),((f,p,m,w)=>{w?p.data=p.data.replace(w,f):p.data.indexOf(f)===-1&&(p.data=m?f+p.data:p.data+f)})(hi[l],e,r,c),l},IF=(t,e,n)=>t.reduce((r,s,a)=>{let l=e[a];if(l&&l.call){let c=l(n),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=f?"."+f:c&&typeof c=="object"?c.props?"":ss(c,""):c===!1?"":c}return r+s+(l??"")},"");function lf(t){let e=this||{},n=t.call?t(e.p):t;return SF(n.unshift?n.raw?IF(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,wF(e.target),e.g,e.o,e.k)}let TP,Ig,Ag;lf.bind({g:1});let Ci=lf.bind({k:1});function AF(t,e,n,r){ss.p=e,TP=t,Ig=n,Ag=r}function xs(t,e){let n=this||{};return function(){let r=arguments;function s(a,l){let c=Object.assign({},a),f=c.className||s.className;n.p=Object.assign({theme:Ig&&Ig()},c),n.o=/ *go\d+/.test(f),c.className=lf.apply(n,r)+(f?" "+f:"");let p=t;return t[0]&&(p=c.as||t,delete c.as),Ag&&p[0]&&Ag(c),TP(p,c)}return s}}var PF=t=>typeof t=="function",Pd=(t,e)=>PF(t)?t(e):t,CF=(()=>{let t=0;return()=>(++t).toString()})(),SP=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),xF=20,mv="default",IP=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return IP(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},Jh=[],AP={toasts:[],pausedAt:void 0,settings:{toastLimit:xF}},Lr={},PP=(t,e=mv)=>{Lr[e]=IP(Lr[e]||AP,t),Jh.forEach(([n,r])=>{n===e&&r(Lr[e])})},CP=t=>Object.keys(Lr).forEach(e=>PP(t,e)),RF=t=>Object.keys(Lr).find(e=>Lr[e].toasts.some(n=>n.id===t)),uf=(t=mv)=>e=>{PP(e,t)},bF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},kF=(t={},e=mv)=>{let[n,r]=b.useState(Lr[e]||AP),s=b.useRef(Lr[e]);b.useEffect(()=>(s.current!==Lr[e]&&r(Lr[e]),Jh.push([e,r]),()=>{let l=Jh.findIndex(([c])=>c===e);l>-1&&Jh.splice(l,1)}),[e]);let a=n.toasts.map(l=>{var c,f,p;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((c=t[l.type])==null?void 0:c.removeDelay)||t?.removeDelay,duration:l.duration||((f=t[l.type])==null?void 0:f.duration)||t?.duration||bF[l.type],style:{...t.style,...(p=t[l.type])==null?void 0:p.style,...l.style}}});return{...n,toasts:a}},NF=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||CF()}),ic=t=>(e,n)=>{let r=NF(e,t,n);return uf(r.toasterId||RF(r.id))({type:2,toast:r}),r.id},it=(t,e)=>ic("blank")(t,e);it.error=ic("error");it.success=ic("success");it.loading=ic("loading");it.custom=ic("custom");it.dismiss=(t,e)=>{let n={type:3,toastId:t};e?uf(e)(n):CP(n)};it.dismissAll=t=>it.dismiss(void 0,t);it.remove=(t,e)=>{let n={type:4,toastId:t};e?uf(e)(n):CP(n)};it.removeAll=t=>it.remove(void 0,t);it.promise=(t,e,n)=>{let r=it.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let a=e.success?Pd(e.success,s):void 0;return a?it.success(a,{id:r,...n,...n?.success}):it.dismiss(r),s}).catch(s=>{let a=e.error?Pd(e.error,s):void 0;a?it.error(a,{id:r,...n,...n?.error}):it.dismiss(r)}),t};var DF=1e3,VF=(t,e="default")=>{let{toasts:n,pausedAt:r}=kF(t,e),s=b.useRef(new Map).current,a=b.useCallback((w,_=DF)=>{if(s.has(w))return;let S=setTimeout(()=>{s.delete(w),l({type:4,toastId:w})},_);s.set(w,S)},[]);b.useEffect(()=>{if(r)return;let w=Date.now(),_=n.map(S=>{if(S.duration===1/0)return;let C=(S.duration||0)+S.pauseDuration-(w-S.createdAt);if(C<0){S.visible&&it.dismiss(S.id);return}return setTimeout(()=>it.dismiss(S.id,e),C)});return()=>{_.forEach(S=>S&&clearTimeout(S))}},[n,r,e]);let l=b.useCallback(uf(e),[e]),c=b.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=b.useCallback((w,_)=>{l({type:1,toast:{id:w,height:_}})},[l]),p=b.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),m=b.useCallback((w,_)=>{let{reverseOrder:S=!1,gutter:C=8,defaultPosition:D}=_||{},R=n.filter(j=>(j.position||D)===(w.position||D)&&j.height),U=R.findIndex(j=>j.id===w.id),z=R.filter((j,re)=>re<U&&j.visible).length;return R.filter(j=>j.visible).slice(...S?[z+1]:[0,z]).reduce((j,re)=>j+(re.height||0)+C,0)},[n]);return b.useEffect(()=>{n.forEach(w=>{if(w.dismissed)a(w.id,w.removeDelay);else{let _=s.get(w.id);_&&(clearTimeout(_),s.delete(w.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:f,startPause:c,endPause:p,calculateOffset:m}}},LF=Ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,OF=Ci`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MF=Ci`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,FF=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${OF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${MF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,UF=Ci`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,BF=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${UF} 1s linear infinite;
`,jF=Ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zF=Ci`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,$F=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WF=xs("div")`
  position: absolute;
`,HF=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qF=Ci`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GF=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qF} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,KF=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?b.createElement(GF,null,e):e:n==="blank"?null:b.createElement(HF,null,b.createElement(BF,{...r}),n!=="loading"&&b.createElement(WF,null,n==="error"?b.createElement(FF,{...r}):b.createElement($F,{...r})))},QF=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,YF=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,XF="0%{opacity:0;} 100%{opacity:1;}",JF="0%{opacity:1;} 100%{opacity:0;}",ZF=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eU=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tU=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=SP()?[XF,JF]:[QF(n),YF(n)];return{animation:e?`${Ci(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ci(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nU=b.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?tU(t.position||e||"top-center",t.visible):{opacity:0},a=b.createElement(KF,{toast:t}),l=b.createElement(eU,{...t.ariaProps},Pd(t.message,t));return b.createElement(ZF,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:a,message:l}):b.createElement(b.Fragment,null,a,l))});AF(b.createElement);var rU=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let a=b.useCallback(l=>{if(l){let c=()=>{let f=l.getBoundingClientRect().height;r(t,f)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return b.createElement("div",{ref:a,className:e,style:n},s)},iU=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:SP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},sU=lf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vh=16,gv=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:a,containerStyle:l,containerClassName:c})=>{let{toasts:f,handlers:p}=VF(n,a);return b.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Vh,left:Vh,right:Vh,bottom:Vh,pointerEvents:"none",...l},className:c,onMouseEnter:p.startPause,onMouseLeave:p.endPause},f.map(m=>{let w=m.position||e,_=p.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),S=iU(w,_);return b.createElement(rU,{id:m.id,key:m.id,onHeightUpdate:p.updateHeight,className:m.visible?sU:"",style:S},m.type==="custom"?Pd(m.message,m):s?s(m):b.createElement(nU,{toast:m,position:w}))}))},Xe=it;function oU(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,a]=b.useState(!1),[l,c]=b.useState(""),f=ws(),p=new Nr,m=new di,w=async C=>{if(C.preventDefault(),!t||!n){Xe.error(" Please fill all fields");return}a(!0);try{await DL(jt,t,n),Xe.success(" Logged in successfully!"),f("/dashboard")}catch(D){console.error(D),c("Invalid credentials. Please try again."),Xe.error(" Invalid email or password")}a(!1)},_=async()=>{a(!0);try{await rg(jt,p),Xe.success(" Logged in with Google!"),f("/dashboard")}catch(C){console.error(C),Xe.error(" Google login failed")}a(!1)},S=async()=>{a(!0);try{await rg(jt,m),Xe.success(" Logged in with Facebook!"),f("/dashboard")}catch(C){console.error(C),Xe.error(" Facebook login failed")}a(!1)};return E.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4"},E.createElement("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 sm:p-8"},E.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6"},"Welcome Back "),l&&E.createElement("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-2"},l),E.createElement("form",{onSubmit:w,className:"space-y-4"},E.createElement("div",null,E.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email Address"),E.createElement("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:t,onChange:C=>e(C.target.value),placeholder:"you@example.com",required:!0})),E.createElement("div",null,E.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),E.createElement("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:n,onChange:C=>r(C.target.value),placeholder:"",required:!0})),E.createElement("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 rounded-lg transition duration-200 disabled:opacity-60"},s?"Logging in...":"Login")),E.createElement("div",{className:"flex items-center my-6"},E.createElement("div",{className:"flex-grow border-t border-gray-300"}),E.createElement("span",{className:"mx-3 text-sm text-gray-500"},"or"),E.createElement("div",{className:"flex-grow border-t border-gray-300"})),E.createElement("div",{className:"flex flex-col space-y-3"},E.createElement("button",{onClick:_,className:"flex items-center justify-center w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition"},E.createElement("img",{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"),E.createElement("button",{onClick:S,className:"flex items-center justify-center w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition"},E.createElement("img",{src:"https://www.svgrepo.com/show/303145/facebook-icon-logo.svg",alt:"Facebook",className:"w-5 h-5 mr-2"}),"Continue with Facebook")),E.createElement("p",{className:"mt-6 text-sm text-gray-600 text-center"},"Dont have an account?"," ",E.createElement(_t,{to:"/signup",className:"text-blue-600 hover:underline font-medium"},"Sign up"))))}function aU(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,a]=b.useState(""),[l,c]=b.useState(!1),f=ws(),p=new Nr,m=async _=>{_.preventDefault(),a(""),c(!0);try{const C=(await NL(jt,t,n)).user;await Tg(Et(He,"users",C.uid),{email:C.email,role:"customer",createdAt:Wa()}),Xe.success(" Signup successful!"),f("/dashboard")}catch(S){console.error(" Signup error:",S),a(S.message),Xe.error(" Signup failed! "+S.message)}finally{c(!1)}},w=async()=>{a(""),c(!0);try{const S=(await rg(jt,p)).user,C=Et(He,"users",S.uid);(await Co(C)).exists()||await Tg(C,{email:S.email,name:S.displayName,photoURL:S.photoURL,role:"customer",createdAt:Wa()}),Xe.success(" Signed in with Google!"),f("/dashboard")}catch(_){console.error(" Google signup error:",_),a(_.message),Xe.error("Google sign-in failed: "+_.message)}finally{c(!1)}};return E.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4"},E.createElement("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 sm:p-8"},E.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6"},"Create an Account "),s&&E.createElement("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-2"},s),E.createElement("form",{onSubmit:m,className:"space-y-4"},E.createElement("div",null,E.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email Address"),E.createElement("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:t,onChange:_=>e(_.target.value),placeholder:"you@example.com",required:!0})),E.createElement("div",null,E.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),E.createElement("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:n,onChange:_=>r(_.target.value),placeholder:"",required:!0})),E.createElement("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 rounded-lg transition duration-200 disabled:opacity-60"},l?"Signing up...":"Sign Up")),E.createElement("div",{className:"flex items-center my-4"},E.createElement("div",{className:"flex-grow h-px bg-gray-200"}),E.createElement("span",{className:"text-gray-500 text-sm mx-3"},"OR"),E.createElement("div",{className:"flex-grow h-px bg-gray-200"})),E.createElement("button",{onClick:w,disabled:l,className:"w-full border border-gray-300 flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-50 transition disabled:opacity-60"},E.createElement("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),E.createElement("span",{className:"text-gray-700 font-medium text-sm"},"Continue with Google")),E.createElement("p",{className:"mt-4 text-sm text-gray-600 text-center"},"Already have an account?"," ",E.createElement(_t,{to:"/login",className:"text-blue-600 hover:underline font-medium"},"Login"))))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function lU(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(m){try{p(r.next(m))}catch(w){l(w)}}function f(m){try{p(r.throw(m))}catch(w){l(w)}}function p(m){m.done?a(m.value):s(m.value).then(c,f)}p((r=r.apply(t,[])).next())})}function uU(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(m){return f([p,m])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(m){p=[6,m],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ra=function(){return Ra=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ra.apply(this,arguments)},xP=function(t){return{loading:t==null,value:t}},cU=function(){return function(t,e){switch(e.type){case"error":return Ra(Ra({},t),{error:e.error,loading:!1,value:void 0});case"reset":return xP(e.defaultValue);case"value":return Ra(Ra({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},hU=(function(t){var e=t?t():void 0,n=b.useReducer(cU(),xP(e)),r=n[0],s=n[1],a=b.useCallback(function(){var f=t?t():void 0;s({type:"reset",defaultValue:f})},[t]),l=b.useCallback(function(f){s({type:"error",error:f})},[]),c=b.useCallback(function(f){s({type:"value",value:f})},[]);return b.useMemo(function(){return{error:r.error,loading:r.loading,reset:a,setError:l,setValue:c,value:r.value}},[r.error,r.loading,a,l,c,r.value])}),cf=(function(t,e){var n=hU(function(){return t.currentUser}),r=n.error,s=n.loading,a=n.setError,l=n.setValue,c=n.value;return b.useEffect(function(){var f=Ay(t,function(p){return lU(void 0,void 0,void 0,function(){var m;return uU(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return w.sent(),[3,4];case 3:return m=w.sent(),a(m),[3,4];case 4:return l(p),[2]}})})},a);return function(){f()}},[t]),[c,s,r]});function dU(){const[t]=cf(jt),[e,n]=b.useState([]),[r,s]=b.useState(null),[a,l]=b.useState(!1),c=[{price:49,days:7,label:"49  7 days"},{price:99,days:15,label:"99  15 days"},{price:199,days:30,label:"199  30 days"}],f=async()=>{if(t)try{const S=rc(Dr(He,"products"),Td("userId","==",t.uid)),D=(await _i(S)).docs.map(R=>({id:R.id,...R.data()}));n(D)}catch(S){console.error("Error fetching products:",S),Xe.error(" Failed to load products.")}};b.useEffect(()=>{f()},[t]);const p=async(S,C)=>{if(window.confirm("Are you sure you want to delete this product?"))try{if(C){const D=Id(Ad,C);await wP(D)}await Sd(Et(He,"products",S)),n(D=>D.filter(R=>R.id!==S)),Xe.success(" Product deleted successfully!")}catch(D){console.error(" Error deleting product:",D),Xe.error(" Failed to delete product.")}},m=async S=>{try{const C=Et(He,"products",S);await mi(C,{featuredRequest:!0,featured:!1}),Xe.success(" Featured request sent! Admin will review."),f()}catch(C){console.error("Error requesting featured:",C),Xe.error(" Failed to request featured.")}},w=S=>{s(S),l(!0)},_=async S=>{if(r){Xe(` Pay ${S.price} at  9322264040-2@ybl
Boost for ${S.days} days.`,{duration:5e3});try{await mi(Et(He,"products",r),{isPromoted:!0,promotionPlan:S.label,promotionPrice:S.price,promotionExpiresAt:Ze.fromDate(new Date(Date.now()+S.days*24*60*60*1e3))}),Xe.success(` Promoted for ${S.days} days!`),f(),l(!1),s(null)}catch(C){console.error("Error promoting product:",C),Xe.error(" Failed to promote product.")}}};return E.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},E.createElement("div",{className:"text-center mb-6"},E.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800"}," My Dashboard"),E.createElement("p",{className:"text-gray-600 mt-1"}," ",t?.email),E.createElement("p",{className:"text-gray-600"}," Total uploads: ",e.length)),e.length===0?E.createElement("p",{className:"text-center text-gray-500"},"No products uploaded yet."):E.createElement("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},e.map(S=>E.createElement("div",{key:S.id,className:"bg-white rounded-xl shadow-md hover:shadow-lg transition flex flex-col"},E.createElement("img",{src:S.imageURL,alt:S.productName,className:"h-48 w-full object-cover rounded-t-xl"}),E.createElement("div",{className:"p-4 flex-1 flex flex-col"},E.createElement("h5",{className:"text-lg font-semibold text-gray-800"},S.productName),E.createElement("p",{className:"text-blue-600 font-bold mt-1"},"",S.price),E.createElement("p",{className:"text-sm text-gray-600 mt-1"}," ",S.location),E.createElement("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2"},S.description),S.isPromoted&&S.promotionExpiresAt?.toDate()>new Date?E.createElement("span",{className:"mt-2 inline-block text-xs px-3 py-1 bg-green-100 text-green-700 rounded-lg"}," Promoted till"," ",S.promotionExpiresAt.toDate().toLocaleDateString()," (",S.promotionPlan,")"):E.createElement("span",{className:"mt-2 inline-block text-xs px-3 py-1 bg-gray-100 text-gray-500 rounded-lg"},"Not Promoted"),E.createElement("div",{className:"flex flex-wrap gap-2 mt-4"},E.createElement(_t,{to:`/edit/${S.id}`,className:"flex-1 px-3 py-2 text-sm bg-yellow-400 hover:bg-yellow-500 text-white rounded-lg text-center transition"}," Edit"),E.createElement("button",{onClick:()=>p(S.id,S.imageURL),className:"flex-1 px-3 py-2 text-sm bg-red-500 hover:bg-red-600 text-white rounded-lg transition"}," Delete"),S.featured?E.createElement("span",{className:"flex-1 px-3 py-2 text-sm bg-green-500 text-white rounded-lg text-center"}," Featured"):S.featuredRequest?E.createElement("span",{className:"flex-1 px-3 py-2 text-sm bg-yellow-300 text-gray-800 rounded-lg text-center"}," Pending Approval"):E.createElement("button",{onClick:()=>m(S.id),className:"flex-1 px-3 py-2 text-sm border border-yellow-400 text-yellow-600 hover:bg-yellow-50 rounded-lg transition"}," Request Featured"),E.createElement("button",{onClick:()=>w(S.id),className:"flex-1 px-3 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition"}," Promote")))))),a&&E.createElement("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},E.createElement("div",{className:"bg-white rounded-xl shadow-lg p-6 w-80"},E.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-4"}," Choose Promotion Plan"),E.createElement("div",{className:"space-y-3"},c.map((S,C)=>E.createElement("button",{key:C,onClick:()=>_(S),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition"},S.label))),E.createElement("button",{onClick:()=>l(!1),className:"mt-4 w-full px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg transition"}," Cancel"))))}const fU=()=>{const[t,e]=b.useState({title:"",description:"",price:"",category:"Books & Notes",location:"",sellerPhone:""}),[n,r]=b.useState([]),[s,a]=b.useState([]),[l,c]=b.useState(!1),f=ws(),p=3;b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(async S=>{const{latitude:C,longitude:D}=S.coords;try{const U=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${C}&lon=${D}`)).json(),z=U.address?.village||U.address?.city||U.address?.town||"";z&&e(j=>({...j,location:z}))}catch(R){console.warn("Location fetch failed:",R)}},()=>console.warn("Geolocation permission denied."))},[]);const m=S=>{e(C=>({...C,[S.target.name]:S.target.value}))},w=S=>{const C=Array.from(S.target.files);if(C.length>6){Xe.error(" You can upload up to 6 images only.");return}r(C),a(C.map(D=>URL.createObjectURL(D)))},_=async S=>{if(S.preventDefault(),!t.title||!t.description||!t.price){Xe.error(" Please fill all required fields.");return}if(n.length===0){Xe.error(" Please select at least one image.");return}if(!jt.currentUser){Xe.error(" You must be logged in to add a product.");return}c(!0);try{const C=new Date;C.setHours(0,0,0,0);const D=Dr(He,"products"),R=rc(D,Td("userId","==",jt.currentUser.uid),Td("createdAt",">=",C));if((await _i(R)).size>=p){Xe.error(" Daily post limit reached (3 per day)."),c(!1);return}const z=[];for(const j of n){const re=Id(Ad,`productImages/${Date.now()}_${j.name}`);await vP(re,j);const oe=await _P(re);z.push(oe)}await tP(D,{...t,price:parseFloat(t.price),imageUrls:z,userId:jt.currentUser.uid,userEmail:jt.currentUser.email,createdAt:Wa(),featured:!1,featuredExpires:null}),Xe.success(" Product added successfully!"),setTimeout(()=>f("/dashboard"),1500)}catch(C){console.error("Error adding product:",C),Xe.error(" Something went wrong. Please try again.")}finally{c(!1)}};return E.createElement("div",{className:"flex justify-center items-center py-10 px-4 bg-gray-100 min-h-screen"},E.createElement(gv,{position:"top-center",reverseOrder:!1}),E.createElement("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-6 sm:p-8"},E.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center text-gray-800"}," Add New Product"),E.createElement("form",{onSubmit:_,className:"space-y-5"},E.createElement("input",{type:"text",name:"title",value:t.title,onChange:m,placeholder:"Product Name",required:!0,className:"w-full px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"}),E.createElement("textarea",{name:"description",value:t.description,onChange:m,placeholder:"Feature Description",required:!0,rows:"4",className:"w-full px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"}),E.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},E.createElement("input",{type:"number",name:"price",value:t.price,onChange:m,placeholder:"Price ()",required:!0,className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"}),E.createElement("input",{type:"text",name:"location",value:t.location,onChange:m,placeholder:"Your Village / Local Area",required:!0,className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})),E.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},E.createElement("select",{name:"category",value:t.category,onChange:m,className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"},E.createElement("option",{value:"Books & Notes"}," Books & Notes"),E.createElement("option",{value:"Handmade Items"}," Handmade Items"),E.createElement("option",{value:"Homemade Food"}," Homemade Food"),E.createElement("option",{value:"Second-hand Items"}," Second-hand Items"),E.createElement("option",{value:"New Items"}," New Items"),E.createElement("option",{value:"From Shop"}," From shop")),E.createElement("input",{type:"tel",name:"sellerPhone",value:t.sellerPhone,onChange:m,placeholder:"WhatsApp Number",required:!0,pattern:"[0-9]{10}",className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})),E.createElement("div",null,E.createElement("label",{className:"block text-sm mb-2 font-medium text-gray-700"},"Upload Product Images (Max 6)"),E.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:w,required:!0,className:"w-full px-4 py-2 border rounded-xl shadow-sm text-sm sm:text-base"}),s.length>0&&E.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mt-4"},s.map((S,C)=>E.createElement("div",{key:C,className:"relative group"},E.createElement("img",{src:S,alt:`Preview ${C}`,className:"rounded-xl w-full h-32 object-cover border shadow"}))))),E.createElement("button",{type:"submit",disabled:l,className:`w-full py-3 rounded-xl font-semibold text-white text-base sm:text-lg shadow-md transition ${l?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`},l?" Uploading...":" Add Product"))))};function pU(){const[t,e]=b.useState(null),[n,r]=b.useState(null),[s,a]=b.useState(!1),l=ws();b.useEffect(()=>{const f=Ay(jt,async p=>{if(e(p),p){const m=await Co(Et(He,"users",p.uid));m.exists()&&r(m.data().role||"user")}else r(null)});return()=>f()},[]);const c=()=>{OL(jt),l("/")};return E.createElement("nav",{className:"bg-white shadow-md sticky top-0 z-50"},E.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},E.createElement("div",{className:"flex justify-between items-center h-16"},E.createElement(_t,{to:"/",className:"flex items-center gap-2"},E.createElement("img",{src:"/logo192.png",alt:"MyAmravati Logo",className:"h-10 w-10 object-contain"}),E.createElement("span",{className:"text-xl font-bold text-blue-600"},"MyAmravati Market")),E.createElement("button",{className:"sm:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:bg-gray-100",onClick:()=>a(!s)},E.createElement("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}))),E.createElement("div",{className:`${s?"flex":"hidden"} sm:flex flex-col sm:flex-row sm:items-center sm:gap-3 absolute sm:static top-16 left-0 w-full sm:w-auto bg-white sm:bg-transparent shadow sm:shadow-none p-4 sm:p-0`},t?E.createElement(E.Fragment,null,E.createElement(_t,{to:"/dashboard",className:"px-3 py-1 border border-blue-600 text-blue-600 rounded hover:bg-blue-600 hover:text-white text-sm mb-2 sm:mb-0"},"Dashboard"),n==="admin"&&E.createElement(_t,{to:"/admin",className:"px-3 py-1 bg-yellow-400 text-black rounded hover:bg-yellow-500 text-sm mb-2 sm:mb-0"}," Admin"),E.createElement("span",{className:"text-gray-700 text-sm mb-2 sm:mb-0"},t.email),E.createElement("button",{onClick:c,className:"px-3 py-1 border border-red-600 text-red-600 rounded hover:bg-red-600 hover:text-white text-sm mb-2 sm:mb-0"},"Logout"),E.createElement(_t,{to:"/favorites",className:"px-3 py-1 text-gray-600 hover:text-red-500 text-sm"}," Wishlist")):E.createElement(E.Fragment,null,E.createElement(_t,{to:"/login",className:"px-3 py-1 border border-blue-600 text-blue-600 rounded hover:bg-blue-600 hover:text-white text-sm mb-2 sm:mb-0"},"Login"),E.createElement(_t,{to:"/signup",className:"px-3 py-1 border border-green-600 text-green-600 rounded hover:bg-green-600 hover:text-white text-sm"},"Signup"))))))}function Lh({children:t}){const[e,n]=cf(jt);return n?E.createElement("p",null,"Loading..."):e?t:E.createElement(Dx,{to:"/login"})}const mU=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(""),[s,a]=b.useState(""),[l,c]=b.useState(""),[f,p]=b.useState("newest");b.useEffect(()=>{(async()=>{try{const S=Dr(He,"products"),C=rc(S,n6("createdAt","desc")),R=(await _i(C)).docs.map(U=>({id:U.id,...U.data()}));e(R)}catch(S){console.error("Error fetching products:",S)}})()},[]);const m=async _=>{const S=jt.currentUser;if(!S)return alert("Please login to save favorites");const C=Et(He,"users",S.uid,"favorites",_.id);try{(await Co(C)).exists()?(await Sd(C),alert("Removed from favorites!")):(await Tg(C,{productId:_.id,title:_.title||"",imageUrl:_.imageUrl||"",price:_.price||0,description:_.description||"",category:_.category||"",location:_.location||"",sellerPhone:_.sellerPhone||"",createdAt:_.createdAt||Wa()}),alert("Added to favorites!"))}catch(D){console.error("Error saving favorite:",D)}},w=t.filter(_=>{const S=n?_.location===n:!0,C=s?_.category===s:!0,D=_.title?.toLowerCase().includes(l.toLowerCase());return S&&C&&D}).sort((_,S)=>_.promoted&&!S.promoted?-1:!_.promoted&&S.promoted?1:_.promoted&&S.promoted?(S.promotedAt?.seconds||0)-(_.promotedAt?.seconds||0):f==="priceLowHigh"?_.price-S.price:f==="priceHighLow"?S.price-_.price:f==="newest"?(S.createdAt?.seconds||0)-(_.createdAt?.seconds||0):0);return E.createElement(Nn.div,{className:"px-4 pb-24 pt-4 bg-gray-50 min-h-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6}},E.createElement("h1",{className:"text-xl sm:text-2xl font-bold mb-6 text-center"}," Explore MyAmravati Market"),E.createElement("div",{className:"mb-6 space-y-3"},E.createElement("div",null,E.createElement("label",{className:"font-semibold block mb-1 text-sm"},"Search Products:"),E.createElement("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Search by title...",className:"border px-3 py-2 rounded-lg w-full text-sm focus:ring focus:ring-blue-300"})),E.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},E.createElement("div",null,E.createElement("label",{className:"font-semibold block mb-1 text-sm"},"Filter by Location:"),E.createElement("select",{value:n,onChange:_=>r(_.target.value),className:"border px-3 py-2 rounded-lg w-full text-sm focus:ring focus:ring-blue-300"},E.createElement("option",{value:""},"All"),["Amravati","Achalpur","Anjangaon Surji","Bhatkuli","Chandur Bazar","Chandur Railway","Chikhaldara","Warud","Dhamangaon Railway","Dharni","Daryapur","Morshi","Nandgaon Khandeshwar","Teosa","Anjangaon"].map(_=>E.createElement("option",{key:_,value:_},_)))),E.createElement("div",null,E.createElement("label",{className:"font-semibold block mb-1 text-sm"},"Filter by Category:"),E.createElement("select",{value:s,onChange:_=>a(_.target.value),className:"border px-3 py-2 rounded-lg w-full text-sm focus:ring focus:ring-blue-300"},E.createElement("option",{value:""},"All"),["Books & Notes","Handmade Items","Homemade Food","Second-hand Items","New Items","From Shop"].map(_=>E.createElement("option",{key:_,value:_},_)))),E.createElement("div",null,E.createElement("label",{className:"font-semibold block mb-1 text-sm"},"Sort By:"),E.createElement("select",{value:f,onChange:_=>p(_.target.value),className:"border px-3 py-2 rounded-lg w-full text-sm focus:ring focus:ring-blue-300"},E.createElement("option",{value:"newest"},"Newest First"),E.createElement("option",{value:"priceLowHigh"},"Price: Low to High"),E.createElement("option",{value:"priceHighLow"},"Price: High to Low"))))),E.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},w.length===0?E.createElement("p",{className:"text-center col-span-full text-sm"},"No products found."):w.map((_,S)=>E.createElement(Nn.div,{key:_.id,initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:S*.05},whileHover:{scale:1.02},className:"bg-white rounded-2xl shadow-md hover:shadow-lg transition-shadow duration-300 p-4 flex flex-col relative"},_.promoted&&E.createElement("span",{className:"absolute top-2 left-2 bg-yellow-400 text-xs font-bold px-2 py-1 rounded-full shadow"}," Promoted"),E.createElement(_t,{to:`/product/${_.id}`,className:"flex flex-col flex-grow"},E.createElement("div",{className:"relative w-full aspect-[4/3] rounded-xl overflow-hidden bg-gray-100"},E.createElement("img",{src:_.imageUrls?.[0]||_.imageUrl||"/placeholder.png",alt:_.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"lazy"})),E.createElement("div",{className:"mt-3 flex flex-col flex-grow"},E.createElement("h2",{className:"text-sm sm:text-base font-semibold mb-1 line-clamp-2"},_.title),E.createElement("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 line-clamp-2"},_.description),E.createElement("p",{className:"text-sm sm:text-base font-bold text-green-600 mb-2"},"",_.price),E.createElement("div",{className:"flex justify-between text-xs text-gray-500 mt-auto"},E.createElement("span",{className:"bg-blue-100 px-2 py-1 rounded-full"},_.category),E.createElement("span",{className:"bg-yellow-100 px-2 py-1 rounded-full"},_.location)))),E.createElement("button",{className:"w-full border border-red-500 text-red-500 hover:bg-red-100 text-xs sm:text-sm px-2 sm:px-3 py-2 rounded-lg mt-3 transition-colors",onClick:()=>m(_)}," Add to Favorites")))))};function gU(){const{id:t}=$T(),e=ws(),[n,r]=b.useState(!0),[s,a]=b.useState({title:"",description:"",price:"",location:"",category:"",imageUrl:""}),[l,c]=b.useState(null);b.useEffect(()=>{(async()=>{try{const _=Et(He,"products",t),S=await Co(_);if(S.exists()){const C=S.data();a({title:C.title||"",description:C.description||"",price:C.price||"",location:C.location||"",category:C.category||"",imageUrl:C.imageUrl||""})}else alert("Product not found!"),e("/dashboard")}catch(_){console.error("Error fetching product:",_),alert("Failed to load product"),e("/dashboard")}finally{r(!1)}})()},[t,e]);const f=w=>{const{name:_,value:S}=w.target;a(C=>({...C,[_]:S}))},p=w=>{w.target.files[0]&&c(w.target.files[0])},m=async w=>{w.preventDefault();try{const _=Et(He,"products",t);let S=s.imageUrl;if(l){if(s.imageUrl){const D=Id(Ad,s.imageUrl);await wP(D).catch(()=>console.warn("Old image not found"))}const C=Id(Ad,`productImages/${Date.now()}-${l.name}`);await vP(C,l),S=await _P(C)}await mi(_,{title:s.title,description:s.description,price:Number(s.price),location:s.location,category:s.category,imageUrl:S,updatedAt:Wa()}),alert(" Product updated successfully"),e("/dashboard")}catch(_){console.error("Update error:",_),alert(" Failed to update product")}};return E.createElement("div",{className:"container my-4"},E.createElement("h2",{className:"text-xl font-semibold mb-4"}," Edit Product"),n?E.createElement("p",null,"Loading product..."):E.createElement("form",{onSubmit:m,className:"space-y-3"},E.createElement("input",{type:"text",name:"title",value:s.title,onChange:f,placeholder:"Product Title",className:"form-control",required:!0}),E.createElement("textarea",{name:"description",value:s.description,onChange:f,placeholder:"Description",className:"form-control",required:!0}),E.createElement("input",{type:"number",name:"price",value:s.price,onChange:f,placeholder:"Price ",className:"form-control",required:!0}),E.createElement("input",{type:"text",name:"location",value:s.location,onChange:f,placeholder:"Location",className:"form-control",required:!0}),E.createElement("select",{name:"category",value:s.category,onChange:f,className:"form-control",required:!0},E.createElement("option",{value:""},"Select Category"),E.createElement("option",null,"Books & Notes"),E.createElement("option",null,"Handmade Items"),E.createElement("option",null,"Homemade Food"),E.createElement("option",null,"Second-hand Items"),E.createElement("option",null,"New Items"),E.createElement("option",null,"From shop")),E.createElement("label",null,"Change Image (optional):"),E.createElement("input",{type:"file",onChange:p,className:"form-control"}),E.createElement("button",{type:"submit",className:"btn btn-warning"},"Update Product")))}const yU=()=>React.createElement("div",{className:"text-center mt-5"},React.createElement("h2",null,"404  Page Not Found"),React.createElement("p",null,"Oops! This page doesn't exist.")),vU=()=>{const[t]=cf(jt),[e,n]=b.useState([]);return b.useEffect(()=>{(async()=>{if(t)try{const s=Dr(He,`users/${t.uid}/favorites`),l=(await _i(s)).docs.map(c=>({id:c.id,...c.data()}));n(l)}catch(s){console.error(" Error fetching favorites:",s)}})()},[t]),E.createElement("div",{className:"container mt-4"},E.createElement("h2",null,"Your Wishlist"),e.length===0?E.createElement("p",null,"No items in wishlist yet."):E.createElement("div",{className:"row"},e.map(r=>E.createElement("div",{className:"col-md-4 mb-4",key:r.id},E.createElement("div",{className:"card"},E.createElement("img",{src:r.image,className:"card-img-top",alt:r.title}),E.createElement("div",{className:"card-body"},E.createElement("h5",{className:"card-title"},r.title),E.createElement("p",{className:"card-text"},"",r.price),E.createElement("p",{className:"card-text"},E.createElement("strong",null,"Category:")," ",r.category),E.createElement("p",{className:"card-text"},E.createElement("strong",null,"Location:")," ",r.location)))))))};function RP(t,e,n){return Math.max(t,Math.min(e,n))}class _U{advance(e){if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(r=this.value,s=this.to,a=60*this.lerp,l=e,(function(c,f,p){return(1-p)*c+p*f})(r,s,1-Math.exp(-a*l))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;const c=RP(0,this.currentTime/this.duration,1);n=c>=1;const f=n?1:this.easing(c);this.value=this.from+(this.to-this.from)*f}var r,s,a,l;this.onUpdate?.(this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(e,n,{lerp:r=.1,duration:s=1,easing:a=(f=>f),onStart:l,onUpdate:c}){this.from=this.value=e,this.to=n,this.lerp=r,this.duration=s,this.easing=a,this.currentTime=0,this.isRunning=!0,l?.(),this.onUpdate=c}}class wU{constructor({wrapper:e,content:n,autoResize:r=!0,debounce:s=250}={}){this.wrapper=e,this.content=n,r&&(this.debouncedResize=(function(a,l){let c;return function(){let f=arguments,p=this;clearTimeout(c),c=setTimeout((function(){a.apply(p,f)}),l)}})(this.resize,s),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class bP{constructor(){this.events={}}emit(e,...n){let r=this.events[e]||[];for(let s=0,a=r.length;s<a;s++)r[s](...n)}on(e,n){return this.events[e]?.push(n)||(this.events[e]=[n]),()=>{this.events[e]=this.events[e]?.filter((r=>n!==r))}}off(e,n){this.events[e]=this.events[e]?.filter((r=>n!==r))}destroy(){this.events={}}}const RT=100/6;class EU{constructor(e,{wheelMultiplier:n=1,touchMultiplier:r=1}){this.element=e,this.wheelMultiplier=n,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new bP,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,n){return this.emitter.on(e,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}onTouchStart=e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e,s=-(n-this.touchStart.x)*this.touchMultiplier,a=-(r-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:s,y:a},this.emitter.emit("scroll",{deltaX:s,deltaY:a,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:n,deltaY:r,deltaMode:s}=e;n*=s===1?RT:s===2?this.windowWidth:1,r*=s===1?RT:s===2?this.windowHeight:1,n*=this.wheelMultiplier,r*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:r,event:e})};onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}class TU{constructor({wrapper:e=window,content:n=document.documentElement,wheelEventsTarget:r=e,eventsTarget:s=r,smoothWheel:a=!0,syncTouch:l=!1,syncTouchLerp:c=.075,touchInertiaMultiplier:f=35,duration:p,easing:m=(j=>Math.min(1,1.001-Math.pow(2,-10*j))),lerp:w=!p&&.1,infinite:_=!1,orientation:S="vertical",gestureOrientation:C="vertical",touchMultiplier:D=1,wheelMultiplier:R=1,autoResize:U=!0,__experimental__naiveDimensions:z=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:j,deltaY:re,event:oe})=>{if(oe.ctrlKey)return;const he=oe.type.includes("touch"),V=oe.type.includes("wheel");if(this.options.syncTouch&&he&&oe.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const P=j===0&&re===0,x=this.options.gestureOrientation==="vertical"&&re===0||this.options.gestureOrientation==="horizontal"&&j===0;if(P||x)return;let L=oe.composedPath();if(L=L.slice(0,L.indexOf(this.rootElement)),L.find((ee=>{var K,te,Q,H,ne;return((K=ee.hasAttribute)===null||K===void 0?void 0:K.call(ee,"data-lenis-prevent"))||he&&((te=ee.hasAttribute)===null||te===void 0?void 0:te.call(ee,"data-lenis-prevent-touch"))||V&&((Q=ee.hasAttribute)===null||Q===void 0?void 0:Q.call(ee,"data-lenis-prevent-wheel"))||((H=ee.classList)===null||H===void 0?void 0:H.contains("lenis"))&&!(!((ne=ee.classList)===null||ne===void 0)&&ne.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void oe.preventDefault();if(this.isSmooth=this.options.syncTouch&&he||this.options.smoothWheel&&V,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();oe.preventDefault();let M=re;this.options.gestureOrientation==="both"?M=Math.abs(re)>Math.abs(j)?re:j:this.options.gestureOrientation==="horizontal"&&(M=j);const $=he&&this.options.syncTouch,N=he&&oe.type==="touchend"&&Math.abs(M)>5;N&&(M=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+M,Object.assign({programmatic:!1},$?{lerp:N?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const j=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-j),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:n,wheelEventsTarget:r,eventsTarget:s,smoothWheel:a,syncTouch:l,syncTouchLerp:c,touchInertiaMultiplier:f,duration:p,easing:m,lerp:w,infinite:_,gestureOrientation:C,orientation:S,touchMultiplier:D,wheelMultiplier:R,autoResize:U,__experimental__naiveDimensions:z},this.animate=new _U,this.emitter=new bP,this.dimensions=new wU({wrapper:e,content:n,autoResize:U}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=l||a,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new EU(s,{touchMultiplier:D,wheelMultiplier:R}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,n){return this.emitter.on(e,n)}off(e,n){return this.emitter.off(e,n)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const n=e-(this.time||e);this.time=e,this.animate.advance(.001*n)}scrollTo(e,{offset:n=0,immediate:r=!1,lock:s=!1,duration:a=this.options.duration,easing:l=this.options.easing,lerp:c=!a&&this.options.lerp,onComplete:f,force:p=!1,programmatic:m=!0}={}){if(!this.isStopped&&!this.isLocked||p){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let w;if(typeof e=="string"?w=document.querySelector(e):e?.nodeType&&(w=e),w){if(this.options.wrapper!==window){const S=this.options.wrapper.getBoundingClientRect();n-=this.isHorizontal?S.left:S.top}const _=w.getBoundingClientRect();e=(this.isHorizontal?_.left:_.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=n,e=Math.round(e),this.options.infinite?m&&(this.targetScroll=this.animatedScroll=this.scroll):e=RP(0,e,this.limit),r)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(f==null||f(this));if(!m){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:a,easing:l,lerp:c,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(w,_)=>{this.isScrolling=!0,this.velocity=w-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=w,this.setScroll(this.scroll),m&&(this.targetScroll=w),_||this.emit(),_&&(this.reset(),this.emit(),f?.(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,n=this.limit,(e%n+n)%n):this.animatedScroll;var e,n}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,n){this.rootElement.classList.toggle(e,n),this.emitter.emit("className change",this)}}function SU(){b.useEffect(()=>{const t=new TU({duration:1.2,easing:n=>Math.min(1,1.001-Math.pow(2,-10*n)),smooth:!0});function e(n){t.raf(n),requestAnimationFrame(e)}return requestAnimationFrame(e),()=>{t.destroy()}},[])}var kP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bT=E.createContext&&E.createContext(kP),IU=["attr","size","title"];function AU(t,e){if(t==null)return{};var n=PU(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cd.apply(this,arguments)}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){CU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CU(t,e,n){return e=xU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xU(t){var e=RU(t,"string");return typeof e=="symbol"?e:e+""}function RU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NP(t){return t&&t.map((e,n)=>E.createElement(e.tag,xd({key:n},e.attr),NP(e.child)))}function sc(t){return e=>E.createElement(bU,Cd({attr:xd({},t.attr)},e),NP(t.child))}function bU(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=AU(t,IU),c=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),E.createElement("svg",Cd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:xd(xd({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&E.createElement("title",null,a),t.children)};return bT!==void 0?E.createElement(bT.Consumer,null,n=>e(n)):e(kP)}function kU(t){return sc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(t)}function NU(t){return sc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function DU(t){return sc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function VU(t){return sc({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function LU(t){return sc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(t)}const OU=()=>{const{id:t}=$T(),e=ws(),[n,r]=b.useState(null),[s,a]=b.useState([]),[l,c]=b.useState(!0),[f,p]=b.useState(!0),[m,w]=b.useState(!1),[_,S]=b.useState(null);b.useEffect(()=>{(async()=>{try{const U=Et(He,"products",t),z=await Co(U);if(z.exists()){const j={id:z.id,...z.data()};r(j),j.imageUrls?.length>0?S(j.imageUrls[0]):j.imageUrl&&S(j.imageUrl)}else it.error("Product not found"),e("/browse")}catch(U){console.error("Error fetching product:",U),it.error("Something went wrong"),e("/browse")}finally{c(!1)}})()},[t,e]),b.useEffect(()=>{n&&(async()=>{if(n?.category){p(!0);try{const U=Dr(He,"products"),z=rc(U),re=(await _i(z)).docs.map(oe=>({id:oe.id,...oe.data()})).filter(oe=>oe.id!==t&&oe.category===n.category).slice(0,6);a(re)}catch(U){console.error("Error fetching similar products:",U)}finally{p(!1)}}})()},[n,t]);const C=()=>{const R=`${window.location.origin}/product/${t}`;navigator.clipboard.writeText(R),it.success(" Link copied to clipboard!"),w(!1)},D=()=>{if(!jt.currentUser){it.error(" Please login or signup to contact the seller"),e("/login");return}const U=n.contact||n.sellerPhone;if(!U){it.error(" Seller contact not available");return}const z=`Hi! I'm interested in your product "${n.title}" on MyAmravati Market.`,j=`https://wa.me/91${U}?text=${encodeURIComponent(z)}`;window.open(j,"_blank")};return l||!n?E.createElement("div",{className:"p-4 text-center"}," Loading product..."):E.createElement(Nn.div,{className:"px-4 py-6 min-h-screen bg-gray-50 max-w-6xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},E.createElement("button",{onClick:()=>e(-1),className:"mb-4 text-blue-600 text-sm hover:underline"}," Back to Browse"),E.createElement("div",{className:"bg-white rounded-2xl shadow p-5 relative grid grid-cols-1 md:grid-cols-2 gap-6"},E.createElement("div",null,_&&E.createElement("img",{src:_,alt:n.title,className:"w-full aspect-square object-contain rounded-xl bg-gray-100"}),E.createElement("div",{className:"flex gap-2 overflow-x-auto sm:grid sm:grid-cols-5 mb-4"},(n.imageUrls?.length>0?n.imageUrls:[n.imageUrl]).filter(Boolean).map((R,U)=>E.createElement("img",{key:U,src:R,alt:`thumb-${U}`,onClick:()=>S(R),className:`w-20 h-20 object-cover rounded-lg cursor-pointer border transition ${_===R?"border-blue-500 shadow":"border-gray-300"}`})))),E.createElement("div",null,E.createElement("div",{className:"absolute top-4 right-4"},E.createElement("button",{onClick:()=>w(!m),className:"bg-white border shadow p-2 rounded-full hover:bg-gray-100"},E.createElement(LU,{size:18})),m&&E.createElement("div",{className:"absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-md z-10"},E.createElement("a",{href:`https://wa.me/?text=${encodeURIComponent(`Check out this product: ${window.location.origin}/product/${t}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm hover:bg-gray-100"},E.createElement(NU,{className:"text-green-600 mr-2"})," WhatsApp"),E.createElement("a",{href:`https://t.me/share/url?url=${encodeURIComponent(`${window.location.origin}/product/${t}`)}&text=${encodeURIComponent("Check out this product!")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm hover:bg-gray-100"},E.createElement(kU,{className:"text-blue-500 mr-2"})," Telegram"),E.createElement("button",{onClick:C,className:"w-full flex items-center px-4 py-2 text-sm hover:bg-gray-100"},E.createElement(DU,{className:"text-gray-700 mr-2"})," Copy Link"))),E.createElement("h1",{className:"text-2xl font-bold mb-3"},n.title),E.createElement("p",{className:"text-gray-700 mb-3"},n.description),E.createElement("div",{className:"text-2xl text-green-600 font-bold mb-4"},"",n.price),E.createElement("div",{className:"flex flex-wrap items-center gap-2 mb-5"},E.createElement("span",{className:"inline-flex items-center gap-1 text-sm px-3 py-1 bg-yellow-100 rounded-full"}," ",n.category),E.createElement("span",{className:"inline-flex items-center gap-1 text-sm px-3 py-1 bg-pink-100 rounded-full"},E.createElement(VU,{className:"text-pink-600"})," ",n.location)),n.contact||n.sellerPhone?E.createElement("div",{className:"fixed bottom-0 left-0 w-full bg-white p-3 border-t md:static md:border-none md:p-0"},E.createElement("button",{onClick:D,className:"w-full bg-green-500 hover:bg-green-600 text-white font-medium py-3 rounded-lg shadow md:py-2"}," Contact Seller via WhatsApp")):E.createElement("p",{className:"text-red-500 text-sm"},"No seller contact info available."))),E.createElement("div",{className:"mt-12"},E.createElement("h3",{className:"text-lg font-semibold mb-4"}," Similar Products"),f?E.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Array.from({length:3}).map((R,U)=>E.createElement("div",{key:U,className:"animate-pulse bg-white p-4 rounded-2xl shadow h-48"}))):s.length>0?E.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},s.map(R=>E.createElement(Nn.div,{key:R.id,whileHover:{scale:1.02},className:"bg-white rounded-2xl shadow p-3 flex flex-col h-full"},E.createElement(_t,{to:`/product/${R.id}`,className:"block bg-white rounded-2xl shadow p-3 hover:shadow-md transition"},E.createElement("img",{src:R.imageUrls?.[0]||R.imageUrl||"/placeholder.png",alt:R.title,className:"w-full h-32 sm:h-36 object-cover rounded-xl mb-2"}),E.createElement("div",{className:"flex flex-col flex-grow"}),E.createElement("h4",{className:"text-sm font-semibold line-clamp-2"},R.title),E.createElement("p",{className:"text-sm text-green-600 font-bold"},"",R.price),E.createElement("p",{className:"text-xs text-gray-500"}," ",R.location))))):E.createElement("p",{className:"text-sm text-gray-600"},"No similar products found.")))},MU=()=>E.createElement("div",{className:"max-w-4xl mx-auto p-6 text-gray-800"},E.createElement("h1",{className:"text-3xl font-bold mb-4"},"Terms and Conditions"),E.createElement("p",null,"Last updated: July 31, 2025"),E.createElement("p",{className:"mt-4"},"Welcome to ",E.createElement("strong",null,"MyAmravati Market"),". By accessing or using our platform, you agree to comply with and be bound by the following terms and conditions."),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"1. Acceptance of Terms"),E.createElement("p",null,"By registering, listing products, or browsing MyAmravati Market, you agree to these Terms. If you do not agree, please do not use the platform."),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"2. User Responsibilities"),E.createElement("ul",{className:"list-disc ml-6"},E.createElement("li",null,"You are responsible for the accuracy of the information you provide."),E.createElement("li",null,"You must not post illegal, fake, or misleading products."),E.createElement("li",null,"You must be located in or around Amravati District, Maharashtra.")),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"3. Posting Limits"),E.createElement("p",null,"Users can post up to 3 products per day. We may adjust these limits at our discretion."),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"4. Prohibited Content"),E.createElement("p",null,"Users must not post items that are illegal, banned, harmful, or infringe intellectual property rights."),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"5. Termination"),E.createElement("p",null,"We reserve the right to remove any listings or ban users who violate these terms without prior notice."),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"6. Changes"),E.createElement("p",null,"These Terms may change from time to time. We'll update this page and notify users when major changes occur."),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"7. Contact"),E.createElement("p",null,"For any queries, contact us at: ",E.createElement("strong",null,"sanidhyapethe@gmail.com"))),FU=()=>E.createElement("div",{className:"max-w-4xl mx-auto p-6 text-gray-800"},E.createElement("h1",{className:"text-3xl font-bold mb-4"},"Privacy Policy"),E.createElement("p",null,"Last updated: July 31, 2025"),E.createElement("p",{className:"mt-4"},"MyAmravati Market is committed to protecting your privacy. This policy outlines what information we collect and how we use it."),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"1. Information We Collect"),E.createElement("ul",{className:"list-disc ml-6"},E.createElement("li",null,"Your name, email, and phone number (if provided)"),E.createElement("li",null,"Product listings, images, and location (if shared)"),E.createElement("li",null,"Technical data like IP address, device info")),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"2. How We Use Your Data"),E.createElement("ul",{className:"list-disc ml-6"},E.createElement("li",null,"To show your listings on the platform"),E.createElement("li",null,"To help other users contact you via WhatsApp"),E.createElement("li",null,"To improve the platform experience")),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"3. Data Sharing"),E.createElement("p",null,"We do not sell your personal data. We only show your data to buyers who view your listing (e.g., phone number on WhatsApp button)."),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"4. Cookies"),E.createElement("p",null,"We may use cookies for analytics and improving user experience."),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"5. Your Rights"),E.createElement("p",null,"You can request deletion of your data by contacting us."),E.createElement("h2",{className:"text-xl font-semibold mt-6"},"6. Contact"),E.createElement("p",null,"For any privacy-related questions, email: ",E.createElement("strong",null,"sanidhyapethe@gmail.com")));function UU(){const[t,e]=b.useState(null),[n,r]=b.useState(null),[s,a]=b.useState(!0),[l,c]=b.useState([]),[f,p]=b.useState([]),[m,w]=b.useState([]),[_,S]=b.useState(""),[C,D]=b.useState(""),[R,U]=b.useState(""),[z,j]=b.useState("newest"),[re,oe]=b.useState("products"),[he,V]=b.useState({name:"",price:"",days:""}),[P,x]=b.useState(null),[L,M]=b.useState(""),[$,N]=b.useState(1),ee=5;b.useEffect(()=>{const J=Ay(jt,async ye=>{if(ye){e(ye);const De=await Co(Et(He,"users",ye.uid));De.exists()&&r(De.data().role||"user")}a(!1)});return()=>J()},[]);const K=async()=>{const J=await _i(Dr(He,"products"));c(J.docs.map(ye=>({id:ye.id,...ye.data()})))},te=async()=>{const J=await _i(Dr(He,"promotionPlans"));p(J.docs.map(ye=>({id:ye.id,...ye.data()})))},Q=async()=>{const J=await _i(Dr(He,"users"));w(J.docs.map(ye=>({id:ye.id,...ye.data()})))};b.useEffect(()=>{n==="admin"&&(K(),te(),Q())},[n]);const H=async(J,ye)=>{try{const De=new Date;De.setDate(De.getDate()+ye),await mi(Et(He,"products",J),{promoted:!0,promotedAt:Wa(),promotedUntil:De}),alert(` Product promoted for ${ye} days!`),K()}catch(De){console.error("Error promoting product:",De)}},ne=async J=>{try{await mi(Et(He,"products",J),{promoted:!1,promotedUntil:null}),alert("Promotion removed."),K()}catch(ye){console.error("Error removing promotion:",ye)}},le=async J=>{window.confirm("Are you sure you want to delete this product?")&&(await Sd(Et(He,"products",J)),c(ye=>ye.filter(De=>De.id!==J)))},F=async()=>{if(!he.name||!he.price||!he.days){alert("Fill all fields!");return}P?(await mi(Et(He,"promotionPlans",P.id),{name:he.name,price:Number(he.price),days:Number(he.days)}),alert(" Plan updated!"),x(null)):(await tP(Dr(He,"promotionPlans"),{name:he.name,price:Number(he.price),days:Number(he.days)}),alert(" Plan added!")),V({name:"",price:"",days:""}),te()},Z=async J=>{window.confirm("Delete this plan?")&&(await Sd(Et(He,"promotionPlans",J)),te())},pe=async(J,ye)=>{await mi(Et(He,"users",J),{role:ye}),alert(" Role updated!"),Q()},Se=l.filter(J=>{const ye=_?J.location===_:!0,De=C?J.category===C:!0,St=J.title?.toLowerCase().includes(R.toLowerCase());return ye&&De&&St}).sort((J,ye)=>J.promoted&&!ye.promoted?-1:!J.promoted&&ye.promoted?1:J.promoted&&ye.promoted?(ye.promotedAt?.seconds||0)-(J.promotedAt?.seconds||0):z==="priceLowHigh"?J.price-ye.price:z==="priceHighLow"?ye.price-J.price:z==="newest"?(ye.createdAt?.seconds||0)-(J.createdAt?.seconds||0):0),ke=m.filter(J=>J.email.toLowerCase().includes(L.toLowerCase())),Le=ke.slice(($-1)*ee,$*ee);return s?E.createElement("p",null," Checking access..."):t?n!=="admin"?E.createElement("p",null," Access denied. Admins only."):E.createElement(Nn.div,{className:"p-6 bg-gray-50 min-h-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6}},E.createElement("h1",{className:"text-2xl font-bold mb-6 text-center"}," Admin Dashboard"),E.createElement("p",{className:"text-center mb-6"},"Welcome ",t.email,", you have admin access!"),E.createElement("div",{className:"flex justify-center mb-6 gap-4"},["products","plans","users"].map(J=>E.createElement("button",{key:J,onClick:()=>oe(J),className:`px-4 py-2 rounded-lg font-medium ${re===J?"bg-blue-500 text-white":"bg-gray-200"}`},J==="products"?" Products":J==="plans"?" Plans":" Users"))),re==="products"&&E.createElement(E.Fragment,null,E.createElement("div",{className:"mb-6 grid grid-cols-1 sm:grid-cols-4 gap-4"},E.createElement("input",{type:"text",placeholder:" Search by title...",value:R,onChange:J=>U(J.target.value),className:"border px-3 py-2 rounded text-sm w-full"}),E.createElement("select",{value:_,onChange:J=>S(J.target.value),className:"border px-3 py-2 rounded text-sm w-full"},E.createElement("option",{value:""},"All Locations"),["Amravati","Achalpur","Anjangaon Surji","Bhatkuli","Chandur Bazar","Chandur Railway","Chikhaldara","Warud","Dhamangaon Railway","Dharni","Daryapur","Morshi","Nandgaon Khandeshwar","Teosa","Anjangaon"].map(J=>E.createElement("option",{key:J,value:J},J))),E.createElement("select",{value:C,onChange:J=>D(J.target.value),className:"border px-3 py-2 rounded text-sm w-full"},E.createElement("option",{value:""},"All Categories"),["Books & Notes","Handmade Items","Homemade Food","Second-hand Items","New Items"].map(J=>E.createElement("option",{key:J,value:J},J))),E.createElement("select",{value:z,onChange:J=>j(J.target.value),className:"border px-3 py-2 rounded text-sm w-full"},E.createElement("option",{value:"newest"},"Newest First"),E.createElement("option",{value:"priceLowHigh"},"Price: Low to High"),E.createElement("option",{value:"priceHighLow"},"Price: High to Low"))),E.createElement("div",{className:"overflow-x-auto bg-white rounded-2xl shadow p-4"},E.createElement("table",{className:"w-full text-sm"},E.createElement("thead",null,E.createElement("tr",{className:"bg-gray-100"},E.createElement("th",{className:"p-2 text-left"},"Title"),E.createElement("th",{className:"p-2"},"Price"),E.createElement("th",{className:"p-2"},"Category"),E.createElement("th",{className:"p-2"},"Location"),E.createElement("th",{className:"p-2"},"Seller"),E.createElement("th",{className:"p-2"},"Promotion"),E.createElement("th",{className:"p-2"},"Actions"))),E.createElement("tbody",null,Se.length===0?E.createElement("tr",null,E.createElement("td",{colSpan:"7",className:"text-center py-4 text-gray-500"},"No products found")):Se.map((J,ye)=>E.createElement(Nn.tr,{key:J.id,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ye*.05},className:"border-b"},E.createElement("td",{className:"p-2"},J.title),E.createElement("td",{className:"p-2"},"",J.price),E.createElement("td",{className:"p-2"},J.category),E.createElement("td",{className:"p-2"},J.location),E.createElement("td",{className:"p-2"},J.sellerPhone||"N/A"),E.createElement("td",{className:"p-2"},J.promoted?E.createElement("span",{className:"bg-green-100 text-green-600 px-2 py-1 rounded text-xs"},"Active until"," ",J.promotedUntil?new Date(J.promotedUntil.seconds*1e3).toLocaleDateString():"N/A"):E.createElement("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded text-xs"},"Not Promoted")),E.createElement("td",{className:"p-2 flex flex-col gap-2"},J.promoted?E.createElement("button",{className:"px-3 py-1 bg-yellow-500 text-white rounded text-xs",onClick:()=>ne(J.id)},"Remove Promotion"):f.map(De=>E.createElement("button",{key:De.id,className:"px-3 py-1 bg-blue-500 text-white rounded text-xs",onClick:()=>H(J.id,De.days)},"Promote (",De.name,"  ",De.price,")")),E.createElement("button",{className:"px-3 py-1 bg-red-500 text-white rounded text-xs",onClick:()=>le(J.id)},"Delete")))))))),re==="plans"&&E.createElement("div",{className:"bg-white rounded-2xl shadow p-4"},E.createElement("h2",{className:"text-lg font-semibold mb-4"}," Manage Promotion Plans"),E.createElement("div",{className:"flex gap-2 mb-4"},E.createElement("input",{type:"text",placeholder:"Plan Name",value:he.name,onChange:J=>V({...he,name:J.target.value}),className:"border px-3 py-2 rounded text-sm w-1/3"}),E.createElement("input",{type:"number",placeholder:"Price",value:he.price,onChange:J=>V({...he,price:J.target.value}),className:"border px-3 py-2 rounded text-sm w-1/3"}),E.createElement("input",{type:"number",placeholder:"Days",value:he.days,onChange:J=>V({...he,days:J.target.value}),className:"border px-3 py-2 rounded text-sm w-1/3"}),E.createElement("button",{onClick:F,className:"px-4 py-2 bg-green-500 text-white rounded"},P?"Update":"Add")),E.createElement("table",{className:"w-full text-sm"},E.createElement("thead",null,E.createElement("tr",{className:"bg-gray-100"},E.createElement("th",{className:"p-2"},"Name"),E.createElement("th",{className:"p-2"},"Price"),E.createElement("th",{className:"p-2"},"Days"),E.createElement("th",{className:"p-2"},"Actions"))),E.createElement("tbody",null,f.map(J=>E.createElement("tr",{key:J.id,className:"border-b"},E.createElement("td",{className:"p-2"},J.name),E.createElement("td",{className:"p-2"},"",J.price),E.createElement("td",{className:"p-2"},J.days),E.createElement("td",{className:"p-2 flex gap-2"},E.createElement("button",{className:"px-3 py-1 bg-yellow-500 text-white rounded text-xs",onClick:()=>{x(J),V({name:J.name,price:J.price,days:J.days})}},"Edit"),E.createElement("button",{className:"px-3 py-1 bg-red-500 text-white rounded text-xs",onClick:()=>Z(J.id)},"Delete"))))))),re==="users"&&E.createElement("div",{className:"bg-white rounded-2xl shadow p-4"},E.createElement("h2",{className:"text-lg font-semibold mb-4"}," Manage Users"),E.createElement("input",{type:"text",placeholder:"Search by email...",value:L,onChange:J=>M(J.target.value),className:"border px-3 py-2 rounded text-sm mb-4 w-full"}),E.createElement("table",{className:"w-full text-sm"},E.createElement("thead",null,E.createElement("tr",{className:"bg-gray-100"},E.createElement("th",{className:"p-2"},"Email"),E.createElement("th",{className:"p-2"},"Role"),E.createElement("th",{className:"p-2"},"Actions"))),E.createElement("tbody",null,Le.length===0?E.createElement("tr",null,E.createElement("td",{colSpan:"3",className:"text-center py-4 text-gray-500"},"No users found")):Le.map(J=>E.createElement("tr",{key:J.id,className:"border-b"},E.createElement("td",{className:"p-2"},J.email),E.createElement("td",{className:"p-2"},J.role),E.createElement("td",{className:"p-2 flex gap-2"},E.createElement("button",{className:"px-3 py-1 bg-blue-500 text-white rounded text-xs",onClick:()=>pe(J.id,"user")},"Make User"),E.createElement("button",{className:"px-3 py-1 bg-green-500 text-white rounded text-xs",onClick:()=>pe(J.id,"admin")},"Make Admin")))))),E.createElement("div",{className:"flex justify-between items-center mt-4"},E.createElement("button",{onClick:()=>N(J=>Math.max(J-1,1)),disabled:$===1,className:"px-3 py-1 bg-gray-300 rounded text-xs disabled:opacity-50"},"Prev"),E.createElement("span",null,"Page ",$," of ",Math.ceil(ke.length/ee)),E.createElement("button",{onClick:()=>N(J=>J<Math.ceil(ke.length/ee)?J+1:J),disabled:$>=Math.ceil(ke.length/ee),className:"px-3 py-1 bg-gray-300 rounded text-xs disabled:opacity-50"},"Next")))):E.createElement("p",null," Please login to access Admin page.")}function BU(){const[t]=cf(jt),[e,n]=b.useState([]),[r,s]=b.useState(!1),a=async p=>{try{const m=Et(He,"roles",p),w=await Co(m);s(w.exists()&&w.data().admin===!0)}catch(m){console.error("Error checking admin role:",m)}},l=async()=>{try{const p=rc(Dr(He,"products"),Td("featuredRequest","==",!0)),w=(await _i(p)).docs.map(_=>({id:_.id,..._.data()}));n(w)}catch(p){console.error("Error fetching requests:",p)}};b.useEffect(()=>{t&&a(t.uid)},[t]),b.useEffect(()=>{r&&l()},[r]);const c=async p=>{try{const m=Et(He,"products",p);await mi(m,{featured:!0,featuredRequest:!1}),alert(" Approved & marked as Featured!"),l()}catch(m){console.error("Error approving:",m)}},f=async p=>{try{const m=Et(He,"products",p);await mi(m,{featuredRequest:!1}),alert(" Request Rejected!"),l()}catch(m){console.error("Error rejecting:",m)}};return t?r?E.createElement("div",{className:"container my-4"},E.createElement("h2",null," Admin Dashboard"),e.length===0?E.createElement("p",null,"No pending featured requests "):E.createElement("div",{className:"row"},e.map(p=>E.createElement("div",{className:"col-md-4 mb-4",key:p.id},E.createElement("div",{className:"card h-100 shadow-sm"},E.createElement("img",{src:p.imageURL,className:"card-img-top",alt:p.productName}),E.createElement("div",{className:"card-body"},E.createElement("h5",{className:"card-title"},p.productName),E.createElement("p",{className:"card-text"},"",p.price),E.createElement("p",{className:"card-text",style:{fontSize:"14px"}},p.description),E.createElement("div",{className:"d-flex gap-2"},E.createElement("button",{className:"btn btn-success",onClick:()=>c(p.id)}," Approve"),E.createElement("button",{className:"btn btn-danger",onClick:()=>f(p.id)}," Reject")))))))):E.createElement("p",null," Access Denied  Admin Only"):E.createElement("p",null," Please Log In")}var wm={},Em={},Tm={},NT;function jU(){return NT||(NT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(typeof window<"u"){var c;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(c=window).gtag.apply(c,a)}},n=e;t.default=n})(Tm)),Tm}var Sm={},DT;function zU(){return DT||(DT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(c){return c.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(f,p,m){return p>0&&p+f.length!==m.length&&f.search(e)>-1&&m.charAt(p-2)!==":"&&(m.charAt(p+f.length)!=="-"||m.charAt(p-1)==="-")&&m.charAt(p-1).search(/[^\s-]/)<0?f.toLowerCase():f.substr(1).search(/[A-Z]|\../)>-1?f:f.charAt(0).toUpperCase()+f.substr(1)})}function r(c){return typeof c=="string"&&c.indexOf("@")!==-1}var s="REDACTED (Potential Email Address)";function a(c){return r(c)?(console.warn("This arg looks like an email address, redacting."),s):c}function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m=c||"";return f&&(m=n(c)),p&&(m=a(m)),m}})(Sm)),Sm}var VT;function $U(){return VT||(VT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=l(jU()),n=l(zU()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],s=["title","location"],a=["page","hitType"];function l(ee){return ee&&ee.__esModule?ee:{default:ee}}function c(ee,K){if(ee==null)return{};var te=f(ee,K),Q,H;if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(ee);for(H=0;H<ne.length;H++)Q=ne[H],!(K.indexOf(Q)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,Q)&&(te[Q]=ee[Q])}return te}function f(ee,K){if(ee==null)return{};var te={},Q=Object.keys(ee),H,ne;for(ne=0;ne<Q.length;ne++)H=Q[ne],!(K.indexOf(H)>=0)&&(te[H]=ee[H]);return te}function p(ee){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},p(ee)}function m(ee){return S(ee)||_(ee)||z(ee)||w()}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function S(ee){if(Array.isArray(ee))return j(ee)}function C(ee,K){var te=Object.keys(ee);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(ee);K&&(Q=Q.filter(function(H){return Object.getOwnPropertyDescriptor(ee,H).enumerable})),te.push.apply(te,Q)}return te}function D(ee){for(var K=1;K<arguments.length;K++){var te=arguments[K]!=null?arguments[K]:{};K%2?C(Object(te),!0).forEach(function(Q){x(ee,Q,te[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(te)):C(Object(te)).forEach(function(Q){Object.defineProperty(ee,Q,Object.getOwnPropertyDescriptor(te,Q))})}return ee}function R(ee,K){return oe(ee)||re(ee,K)||z(ee,K)||U()}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(ee,K){if(ee){if(typeof ee=="string")return j(ee,K);var te=Object.prototype.toString.call(ee).slice(8,-1);if(te==="Object"&&ee.constructor&&(te=ee.constructor.name),te==="Map"||te==="Set")return Array.from(ee);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return j(ee,K)}}function j(ee,K){(K==null||K>ee.length)&&(K=ee.length);for(var te=0,Q=new Array(K);te<K;te++)Q[te]=ee[te];return Q}function re(ee,K){var te=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(te!=null){var Q,H,ne,le,F=[],Z=!0,pe=!1;try{if(ne=(te=te.call(ee)).next,K!==0)for(;!(Z=(Q=ne.call(te)).done)&&(F.push(Q.value),F.length!==K);Z=!0);}catch(Se){pe=!0,H=Se}finally{try{if(!Z&&te.return!=null&&(le=te.return(),Object(le)!==le))return}finally{if(pe)throw H}}return F}}function oe(ee){if(Array.isArray(ee))return ee}function he(ee,K){if(!(ee instanceof K))throw new TypeError("Cannot call a class as a function")}function V(ee,K){for(var te=0;te<K.length;te++){var Q=K[te];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(ee,L(Q.key),Q)}}function P(ee,K,te){return K&&V(ee.prototype,K),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function x(ee,K,te){return K=L(K),K in ee?Object.defineProperty(ee,K,{value:te,enumerable:!0,configurable:!0,writable:!0}):ee[K]=te,ee}function L(ee){var K=M(ee,"string");return p(K)==="symbol"?K:String(K)}function M(ee,K){if(p(ee)!=="object"||ee===null)return ee;var te=ee[Symbol.toPrimitive];if(te!==void 0){var Q=te.call(ee,K);if(p(Q)!=="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(ee)}var $=(function(){function ee(){var K=this;he(this,ee),x(this,"reset",function(){K.isInitialized=!1,K._testMode=!1,K._currentMeasurementId,K._hasLoadedGA=!1,K._isQueuing=!1,K._queueGtag=[]}),x(this,"_gtag",function(){for(var te=arguments.length,Q=new Array(te),H=0;H<te;H++)Q[H]=arguments[H];K._testMode||K._isQueuing?K._queueGtag.push(Q):e.default.apply(void 0,Q)}),x(this,"_loadGA",function(te,Q){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!K._hasLoadedGA){var ne=document.createElement("script");ne.async=!0,ne.src="".concat(H,"?id=").concat(te),Q&&ne.setAttribute("nonce",Q),document.body.appendChild(ne),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},K._hasLoadedGA=!0}}),x(this,"_toGtagOptions",function(te){if(te){var Q={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},H=Object.entries(te).reduce(function(ne,le){var F=R(le,2),Z=F[0],pe=F[1];return Q[Z]?ne[Q[Z]]=pe:ne[Z]=pe,ne},{});return H}}),x(this,"initialize",function(te){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!te)throw new Error("Require GA_MEASUREMENT_ID");var H=typeof te=="string"?[{trackingId:te}]:te;K._currentMeasurementId=H[0].trackingId;var ne=Q.gaOptions,le=Q.gtagOptions,F=Q.nonce,Z=Q.testMode,pe=Z===void 0?!1:Z,Se=Q.gtagUrl;if(K._testMode=pe,pe||K._loadGA(K._currentMeasurementId,F,Se),K.isInitialized||(K._gtag("js",new Date),H.forEach(function(J){var ye=D(D(D({},K._toGtagOptions(D(D({},ne),J.gaOptions))),le),J.gtagOptions);Object.keys(ye).length?K._gtag("config",J.trackingId,ye):K._gtag("config",J.trackingId)})),K.isInitialized=!0,!pe){var ke=m(K._queueGtag);for(K._queueGtag=[],K._isQueuing=!1;ke.length;){var Le=ke.shift();K._gtag.apply(K,m(Le)),Le[0]==="get"&&(K._isQueuing=!0)}}}),x(this,"set",function(te){if(!te){console.warn("`fieldsObject` is required in .set()");return}if(p(te)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(te).length===0&&console.warn("empty `fieldsObject` given to .set()"),K._gaCommand("set",te)}),x(this,"_gaCommandSendEvent",function(te,Q,H,ne,le){K._gtag("event",Q,D(D({event_category:te,event_label:H,value:ne},le&&{non_interaction:le.nonInteraction}),K._toGtagOptions(le)))}),x(this,"_gaCommandSendEventParameters",function(){for(var te=arguments.length,Q=new Array(te),H=0;H<te;H++)Q[H]=arguments[H];if(typeof Q[0]=="string")K._gaCommandSendEvent.apply(K,m(Q.slice(1)));else{var ne=Q[0],le=ne.eventCategory,F=ne.eventAction,Z=ne.eventLabel,pe=ne.eventValue;ne.hitType;var Se=c(ne,r);K._gaCommandSendEvent(le,F,Z,pe,Se)}}),x(this,"_gaCommandSendTiming",function(te,Q,H,ne){K._gtag("event","timing_complete",{name:Q,value:H,event_category:te,event_label:ne})}),x(this,"_gaCommandSendPageview",function(te,Q){if(Q&&Object.keys(Q).length){var H=K._toGtagOptions(Q),ne=H.title,le=H.location,F=c(H,s);K._gtag("event","page_view",D(D(D(D({},te&&{page_path:te}),ne&&{page_title:ne}),le&&{page_location:le}),F))}else te?K._gtag("event","page_view",{page_path:te}):K._gtag("event","page_view")}),x(this,"_gaCommandSendPageviewParameters",function(){for(var te=arguments.length,Q=new Array(te),H=0;H<te;H++)Q[H]=arguments[H];if(typeof Q[0]=="string")K._gaCommandSendPageview.apply(K,m(Q.slice(1)));else{var ne=Q[0],le=ne.page;ne.hitType;var F=c(ne,a);K._gaCommandSendPageview(le,F)}}),x(this,"_gaCommandSend",function(){for(var te=arguments.length,Q=new Array(te),H=0;H<te;H++)Q[H]=arguments[H];var ne=typeof Q[0]=="string"?Q[0]:Q[0].hitType;switch(ne){case"event":K._gaCommandSendEventParameters.apply(K,Q);break;case"pageview":K._gaCommandSendPageviewParameters.apply(K,Q);break;case"timing":K._gaCommandSendTiming.apply(K,m(Q.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(ne));break;default:console.warn("Send command doesn't exist: ".concat(ne))}}),x(this,"_gaCommandSet",function(){for(var te=arguments.length,Q=new Array(te),H=0;H<te;H++)Q[H]=arguments[H];typeof Q[0]=="string"&&(Q[0]=x({},Q[0],Q[1])),K._gtag("set",K._toGtagOptions(Q[0]))}),x(this,"_gaCommand",function(te){for(var Q=arguments.length,H=new Array(Q>1?Q-1:0),ne=1;ne<Q;ne++)H[ne-1]=arguments[ne];switch(te){case"send":K._gaCommandSend.apply(K,H);break;case"set":K._gaCommandSet.apply(K,H);break;default:console.warn("Command doesn't exist: ".concat(te))}}),x(this,"ga",function(){for(var te=arguments.length,Q=new Array(te),H=0;H<te;H++)Q[H]=arguments[H];if(typeof Q[0]=="string")K._gaCommand.apply(K,Q);else{var ne=Q[0];K._gtag("get",K._currentMeasurementId,"client_id",function(le){K._isQueuing=!1;var F=K._queueGtag;for(ne({get:function(Se){return Se==="clientId"?le:Se==="trackingId"?K._currentMeasurementId:Se==="apiVersion"?"1":void 0}});F.length;){var Z=F.shift();K._gtag.apply(K,m(Z))}}),K._isQueuing=!0}return K.ga}),x(this,"event",function(te,Q){if(typeof te=="string")K._gtag("event",te,K._toGtagOptions(Q));else{var H=te.action,ne=te.category,le=te.label,F=te.value,Z=te.nonInteraction,pe=te.transport;if(!ne||!H){console.warn("args.category AND args.action are required in event()");return}var Se={hitType:"event",eventCategory:(0,n.default)(ne),eventAction:(0,n.default)(H)};le&&(Se.eventLabel=(0,n.default)(le)),typeof F<"u"&&(typeof F!="number"?console.warn("Expected `args.value` arg to be a Number."):Se.eventValue=F),typeof Z<"u"&&(typeof Z!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Se.nonInteraction=Z),typeof pe<"u"&&(typeof pe!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(pe)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Se.transport=pe)),K._gaCommand("send",Se)}}),x(this,"send",function(te){K._gaCommand("send",te)}),this.reset()}return P(ee,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),ee})();t.GA4=$;var N=new $;t.default=N})(Em)),Em}var LT;function WU(){return LT||(LT=1,(function(t){function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},e(c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var n=s($U());function r(c){if(typeof WeakMap!="function")return null;var f=new WeakMap,p=new WeakMap;return(r=function(w){return w?p:f})(c)}function s(c,f){if(c&&c.__esModule)return c;if(c===null||e(c)!=="object"&&typeof c!="function")return{default:c};var p=r(f);if(p&&p.has(c))return p.get(c);var m={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in c)if(_!=="default"&&Object.prototype.hasOwnProperty.call(c,_)){var S=w?Object.getOwnPropertyDescriptor(c,_):null;S&&(S.get||S.set)?Object.defineProperty(m,_,S):m[_]=c[_]}return m.default=c,p&&p.set(c,m),m}var a=n.GA4;t.ReactGAImplementation=a;var l=n.default;t.default=l})(wm)),wm}var HU=WU();const DP=Pg(HU);function qU(){const t=xi();b.useEffect(()=>{DP.send({hitType:"pageview",page:t.pathname+t.search})},[t])}DP.initialize("G-4PWTPFE8LR");function GU(){return SU(),E.createElement(iR,null,E.createElement(KU,null),E.createElement(pU,null),E.createElement(gv,{position:"top-right",reverseOrder:!1}),E.createElement(Lx,null,E.createElement(hn,{path:"/",element:E.createElement(Q2,null)}),E.createElement(hn,{path:"/login",element:E.createElement(oU,null)}),E.createElement(hn,{path:"/signup",element:E.createElement(aU,null)}),E.createElement(hn,{path:"/browse",element:E.createElement(mU,null)}),E.createElement(hn,{path:"/terms",element:E.createElement(MU,null)}),E.createElement(hn,{path:"/privacy",element:E.createElement(FU,null)}),E.createElement(hn,{path:"*",element:E.createElement(yU,null)}),E.createElement(hn,{path:"/admin",element:E.createElement(BU,null)}),E.createElement(hn,{path:"/admin-page",element:E.createElement(UU,null)}),E.createElement(hn,{path:"/dashboard",element:E.createElement(Lh,null,E.createElement(dU,null))}),E.createElement(hn,{path:"/add-product",element:E.createElement(Lh,null,E.createElement(fU,null))}),E.createElement(hn,{path:"/edit/:id",element:E.createElement(Lh,null,E.createElement(gU,null))}),E.createElement(hn,{path:"/favorites",element:E.createElement(Lh,null,E.createElement(vU,null))}),E.createElement(hn,{path:"/product/:id",element:E.createElement(OU,null)})))}function KU(){return qU(),null}WC.createRoot(document.getElementById("root")).render(E.createElement(E.StrictMode,null,E.createElement(GU,null),E.createElement(gv,{position:"top-right",reverseOrder:!1})));
