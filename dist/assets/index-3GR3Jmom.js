(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function xg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Op={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function zP(){if(A0)return De;A0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),E=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=E&&B[E]||B["@@iterator"],typeof B=="function"?B:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,D={};function C(B,Z,fe){this.props=B,this.context=Z,this.refs=D,this.updater=fe||I}C.prototype.isReactComponent={},C.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function U(){}U.prototype=C.prototype;function $(B,Z,fe){this.props=B,this.context=Z,this.refs=D,this.updater=fe||I}var z=$.prototype=new U;z.constructor=$,P(z,C.prototype),z.isPureReactComponent=!0;var ne=Array.isArray,oe=Object.prototype.hasOwnProperty,de={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function x(B,Z,fe){var Ee,Ne={},Le=null,Oe=null;if(Z!=null)for(Ee in Z.ref!==void 0&&(Oe=Z.ref),Z.key!==void 0&&(Le=""+Z.key),Z)oe.call(Z,Ee)&&!O.hasOwnProperty(Ee)&&(Ne[Ee]=Z[Ee]);var je=arguments.length-2;if(je===1)Ne.children=fe;else if(1<je){for(var Qe=Array(je),Ot=0;Ot<je;Ot++)Qe[Ot]=arguments[Ot+2];Ne.children=Qe}if(B&&B.defaultProps)for(Ee in je=B.defaultProps,je)Ne[Ee]===void 0&&(Ne[Ee]=je[Ee]);return{$$typeof:t,type:B,key:Le,ref:Oe,props:Ne,_owner:de.current}}function R(B,Z){return{$$typeof:t,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function L(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function F(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(fe){return Z[fe]})}var W=/\/+/g;function V(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):Z.toString(36)}function te(B,Z,fe,Ee,Ne){var Le=typeof B;(Le==="undefined"||Le==="boolean")&&(B=null);var Oe=!1;if(B===null)Oe=!0;else switch(Le){case"string":case"number":Oe=!0;break;case"object":switch(B.$$typeof){case t:case e:Oe=!0}}if(Oe)return Oe=B,Ne=Ne(Oe),B=Ee===""?"."+V(Oe,0):Ee,ne(Ne)?(fe="",B!=null&&(fe=B.replace(W,"$&/")+"/"),te(Ne,Z,fe,"",function(Ot){return Ot})):Ne!=null&&(L(Ne)&&(Ne=R(Ne,fe+(!Ne.key||Oe&&Oe.key===Ne.key?"":(""+Ne.key).replace(W,"$&/")+"/")+B)),Z.push(Ne)),1;if(Oe=0,Ee=Ee===""?".":Ee+":",ne(B))for(var je=0;je<B.length;je++){Le=B[je];var Qe=Ee+V(Le,je);Oe+=te(Le,Z,fe,Qe,Ne)}else if(Qe=w(B),typeof Qe=="function")for(B=Qe.call(B),je=0;!(Le=B.next()).done;)Le=Le.value,Qe=Ee+V(Le,je++),Oe+=te(Le,Z,fe,Qe,Ne);else if(Le==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Q(B,Z,fe){if(B==null)return B;var Ee=[],Ne=0;return te(B,Ee,"","",function(Le){return Z.call(fe,Le,Ne++)}),Ee}function ee(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(fe){(B._status===0||B._status===-1)&&(B._status=1,B._result=fe)},function(fe){(B._status===0||B._status===-1)&&(B._status=2,B._result=fe)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var Y={current:null},k={transition:null},G={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:k,ReactCurrentOwner:de};function ie(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:Q,forEach:function(B,Z,fe){Q(B,function(){Z.apply(this,arguments)},fe)},count:function(B){var Z=0;return Q(B,function(){Z++}),Z},toArray:function(B){return Q(B,function(Z){return Z})||[]},only:function(B){if(!L(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},De.Component=C,De.Fragment=n,De.Profiler=s,De.PureComponent=$,De.StrictMode=r,De.Suspense=f,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,De.act=ie,De.cloneElement=function(B,Z,fe){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ee=P({},B.props),Ne=B.key,Le=B.ref,Oe=B._owner;if(Z!=null){if(Z.ref!==void 0&&(Le=Z.ref,Oe=de.current),Z.key!==void 0&&(Ne=""+Z.key),B.type&&B.type.defaultProps)var je=B.type.defaultProps;for(Qe in Z)oe.call(Z,Qe)&&!O.hasOwnProperty(Qe)&&(Ee[Qe]=Z[Qe]===void 0&&je!==void 0?je[Qe]:Z[Qe])}var Qe=arguments.length-2;if(Qe===1)Ee.children=fe;else if(1<Qe){je=Array(Qe);for(var Ot=0;Ot<Qe;Ot++)je[Ot]=arguments[Ot+2];Ee.children=je}return{$$typeof:t,type:B.type,key:Ne,ref:Le,props:Ee,_owner:Oe}},De.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},De.createElement=x,De.createFactory=function(B){var Z=x.bind(null,B);return Z.type=B,Z},De.createRef=function(){return{current:null}},De.forwardRef=function(B){return{$$typeof:c,render:B}},De.isValidElement=L,De.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:ee}},De.memo=function(B,Z){return{$$typeof:p,type:B,compare:Z===void 0?null:Z}},De.startTransition=function(B){var Z=k.transition;k.transition={};try{B()}finally{k.transition=Z}},De.unstable_act=ie,De.useCallback=function(B,Z){return Y.current.useCallback(B,Z)},De.useContext=function(B){return Y.current.useContext(B)},De.useDebugValue=function(){},De.useDeferredValue=function(B){return Y.current.useDeferredValue(B)},De.useEffect=function(B,Z){return Y.current.useEffect(B,Z)},De.useId=function(){return Y.current.useId()},De.useImperativeHandle=function(B,Z,fe){return Y.current.useImperativeHandle(B,Z,fe)},De.useInsertionEffect=function(B,Z){return Y.current.useInsertionEffect(B,Z)},De.useLayoutEffect=function(B,Z){return Y.current.useLayoutEffect(B,Z)},De.useMemo=function(B,Z){return Y.current.useMemo(B,Z)},De.useReducer=function(B,Z,fe){return Y.current.useReducer(B,Z,fe)},De.useRef=function(B){return Y.current.useRef(B)},De.useState=function(B){return Y.current.useState(B)},De.useSyncExternalStore=function(B,Z,fe){return Y.current.useSyncExternalStore(B,Z,fe)},De.useTransition=function(){return Y.current.useTransition()},De.version="18.3.1",De}var x0;function Pg(){return x0||(x0=1,Op.exports=zP()),Op.exports}var b=Pg();const _=xg(b);var Ih={},Mp={exports:{}},En={},Fp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function $P(){return P0||(P0=1,(function(t){function e(k,G){var ie=k.length;k.push(G);e:for(;0<ie;){var B=ie-1>>>1,Z=k[B];if(0<s(Z,G))k[B]=G,k[ie]=Z,ie=B;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var G=k[0],ie=k.pop();if(ie!==G){k[0]=ie;e:for(var B=0,Z=k.length,fe=Z>>>1;B<fe;){var Ee=2*(B+1)-1,Ne=k[Ee],Le=Ee+1,Oe=k[Le];if(0>s(Ne,ie))Le<Z&&0>s(Oe,Ne)?(k[B]=Oe,k[Le]=ie,B=Le):(k[B]=Ne,k[Ee]=ie,B=Ee);else if(Le<Z&&0>s(Oe,ie))k[B]=Oe,k[Le]=ie,B=Le;else break e}}return G}function s(k,G){var ie=k.sortIndex-G.sortIndex;return ie!==0?ie:k.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],p=[],m=1,E=null,w=3,I=!1,P=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(k){for(var G=n(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=k)r(p),G.sortIndex=G.expirationTime,e(f,G);else break;G=n(p)}}function ne(k){if(D=!1,z(k),!P)if(n(f)!==null)P=!0,ee(oe);else{var G=n(p);G!==null&&Y(ne,G.startTime-k)}}function oe(k,G){P=!1,D&&(D=!1,U(x),x=-1),I=!0;var ie=w;try{for(z(G),E=n(f);E!==null&&(!(E.expirationTime>G)||k&&!F());){var B=E.callback;if(typeof B=="function"){E.callback=null,w=E.priorityLevel;var Z=B(E.expirationTime<=G);G=t.unstable_now(),typeof Z=="function"?E.callback=Z:E===n(f)&&r(f),z(G)}else r(f);E=n(f)}if(E!==null)var fe=!0;else{var Ee=n(p);Ee!==null&&Y(ne,Ee.startTime-G),fe=!1}return fe}finally{E=null,w=ie,I=!1}}var de=!1,O=null,x=-1,R=5,L=-1;function F(){return!(t.unstable_now()-L<R)}function W(){if(O!==null){var k=t.unstable_now();L=k;var G=!0;try{G=O(!0,k)}finally{G?V():(de=!1,O=null)}}else de=!1}var V;if(typeof $=="function")V=function(){$(W)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Q=te.port2;te.port1.onmessage=W,V=function(){Q.postMessage(null)}}else V=function(){C(W,0)};function ee(k){O=k,de||(de=!0,V())}function Y(k,G){x=C(function(){k(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){P||I||(P=!0,ee(oe))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(k){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var ie=w;w=G;try{return k()}finally{w=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,G){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ie=w;w=k;try{return G()}finally{w=ie}},t.unstable_scheduleCallback=function(k,G,ie){var B=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?B+ie:B):ie=B,k){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ie+Z,k={id:m++,callback:G,priorityLevel:k,startTime:ie,expirationTime:Z,sortIndex:-1},ie>B?(k.sortIndex=ie,e(p,k),n(f)===null&&k===n(p)&&(D?(U(x),x=-1):D=!0,Y(ne,ie-B))):(k.sortIndex=Z,e(f,k),P||I||(P=!0,ee(oe))),k},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(k){var G=w;return function(){var ie=w;w=G;try{return k.apply(this,arguments)}finally{w=ie}}}})(Up)),Up}var C0;function WP(){return C0||(C0=1,Fp.exports=$P()),Fp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function HP(){if(R0)return En;R0=1;var t=Pg(),e=WP();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},E={};function w(i){return f.call(E,i)?!0:f.call(m,i)?!1:p.test(i)?E[i]=!0:(m[i]=!0,!1)}function I(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,u,d){if(o===null||typeof o>"u"||I(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,u,d,g,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function $(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(U,$);C[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(U,$);C[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(U,$);C[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function z(i,o,u,d){var g=C.hasOwnProperty(o)?C[o]:null;(g!==null?g.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,g,d)&&(u=null),d||g===null?w(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,d=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var ne=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),de=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),k=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Object.assign,B;function Z(i){if(B===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var fe=!1;function Ee(i,o){if(!i||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var d=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){d=X}i.call(o.prototype)}else{try{throw Error()}catch(X){d=X}i()}}catch(X){if(X&&d&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),v=d.stack.split(`
`),S=g.length-1,N=v.length-1;1<=S&&0<=N&&g[S]!==v[N];)N--;for(;1<=S&&0<=N;S--,N--)if(g[S]!==v[N]){if(S!==1||N!==1)do if(S--,N--,0>N||g[S]!==v[N]){var M=`
`+g[S].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=S&&0<=N);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Z(i):""}function Ne(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=Ee(i.type,!1),i;case 11:return i=Ee(i.type.render,!1),i;case 1:return i=Ee(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case de:return"Portal";case R:return"Profiler";case x:return"StrictMode";case V:return"Suspense";case te:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case W:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Q:return o=i.displayName||null,o!==null?o:Le(i.type)||"Memo";case ee:o=i._payload,i=i._init;try{return Le(i(o))}catch{}}return null}function Oe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ot(i){var o=Qe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Qr(i){i._valueTracker||(i._valueTracker=Ot(i))}function bo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=Qe(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function bi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function bs(i,o){var u=o.checked;return ie({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function ko(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=je(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function sl(i,o){o=o.checked,o!=null&&z(i,"checked",o,!1)}function ol(i,o){sl(i,o);var u=je(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?No(i,o.type,u):o.hasOwnProperty("defaultValue")&&No(i,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function uc(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function No(i,o,u){(o!=="number"||bi(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Yr=Array.isArray;function Xr(i,o,u,d){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&d&&(i[u].defaultSelected=!0)}else{for(u=""+je(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function al(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Do(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Yr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:je(u)}}function Vo(i,o){var u=je(o.value),d=je(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function ll(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function bt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?bt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Jr,ul=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Jr=Jr||document.createElement("div"),Jr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Jr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ki(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ns=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(i){Ns.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ks[o]=ks[i]})});function cl(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ks.hasOwnProperty(i)&&ks[i]?(""+o).trim():o+"px"}function hl(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,g=cl(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,g):i[u]=g}}var dl=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fl(i,o){if(o){if(dl[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function pl(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ds=null;function Lo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Oo=null,On=null,Tr=null;function Mo(i){if(i=Fl(i)){if(typeof Oo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Uc(o),Oo(i.stateNode,i.type,o))}}function Sr(i){On?Tr?Tr.push(i):Tr=[i]:On=i}function ml(){if(On){var i=On,o=Tr;if(Tr=On=null,Mo(i),o)for(i=0;i<o.length;i++)Mo(o[i])}}function Vs(i,o){return i(o)}function gl(){}var Zr=!1;function yl(i,o,u){if(Zr)return i(o,u);Zr=!0;try{return Vs(i,o,u)}finally{Zr=!1,(On!==null||Tr!==null)&&(gl(),ml())}}function vt(i,o){var u=i.stateNode;if(u===null)return null;var d=Uc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Fo=!1;if(c)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{Fo=!1}function Ls(i,o,u,d,g,v,S,N,M){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(le){this.onError(le)}}var Os=!1,Uo=null,er=!1,vl=null,cf={onError:function(i){Os=!0,Uo=i}};function Bo(i,o,u,d,g,v,S,N,M){Os=!1,Uo=null,Ls.apply(cf,arguments)}function cc(i,o,u,d,g,v,S,N,M){if(Bo.apply(this,arguments),Os){if(Os){var X=Uo;Os=!1,Uo=null}else throw Error(n(198));er||(er=!0,vl=X)}}function tr(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ms(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function nr(i){if(tr(i)!==i)throw Error(n(188))}function hc(i){var o=i.alternate;if(!o){if(o=tr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,d=o;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return nr(g),i;if(v===d)return nr(g),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=g,d=v;else{for(var S=!1,N=g.child;N;){if(N===u){S=!0,u=g,d=v;break}if(N===d){S=!0,d=g,u=v;break}N=N.sibling}if(!S){for(N=v.child;N;){if(N===u){S=!0,u=v,d=g;break}if(N===d){S=!0,d=v,u=g;break}N=N.sibling}if(!S)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function _l(i){return i=hc(i),i!==null?jo(i):null}function jo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=jo(i);if(o!==null)return o;i=i.sibling}return null}var zo=e.unstable_scheduleCallback,wl=e.unstable_cancelCallback,dc=e.unstable_shouldYield,hf=e.unstable_requestPaint,Ye=e.unstable_now,fc=e.unstable_getCurrentPriorityLevel,Fs=e.unstable_ImmediatePriority,Ni=e.unstable_UserBlockingPriority,Mn=e.unstable_NormalPriority,El=e.unstable_LowPriority,pc=e.unstable_IdlePriority,Us=null,Pn=null;function mc(i){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Us,i,void 0,(i.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:yc,Tl=Math.log,gc=Math.LN2;function yc(i){return i>>>=0,i===0?32:31-(Tl(i)/gc|0)|0}var $o=64,Wo=4194304;function Di(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Bs(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,v=i.pingedLanes,S=u&268435455;if(S!==0){var N=S&~g;N!==0?d=Di(N):(v&=S,v!==0&&(d=Di(v)))}else S=u&~g,S!==0?d=Di(S):v!==0&&(d=Di(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&g)===0&&(g=d&-d,v=o&-o,g>=v||g===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-an(o),g=1<<u,d|=i[u],o&=~g;return d}function df(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ei(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes;0<v;){var S=31-an(v),N=1<<S,M=g[S];M===-1?((N&u)===0||(N&d)!==0)&&(g[S]=df(N,o)):M<=o&&(i.expiredLanes|=N),v&=~N}}function Cn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function js(){var i=$o;return $o<<=1,($o&4194240)===0&&($o=64),i}function Vi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Li(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-an(o),i[o]=u}function Ke(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-an(u),v=1<<g;o[g]=0,d[g]=-1,i[g]=-1,u&=~v}}function Oi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-an(u),g=1<<d;g&o|i[d]&o&&(i[d]|=o),u&=~g}}var Be=0;function Mi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var vc,Ho,_c,wc,Ec,Sl=!1,Ir=[],zt=null,rr=null,ir=null,Fi=new Map,Fn=new Map,Ar=[],ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tc(i,o){switch(i){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Fi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(o.pointerId)}}function pn(i,o,u,d,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},o!==null&&(o=Fl(o),o!==null&&Ho(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function pf(i,o,u,d,g){switch(o){case"focusin":return zt=pn(zt,i,o,u,d,g),!0;case"dragenter":return rr=pn(rr,i,o,u,d,g),!0;case"mouseover":return ir=pn(ir,i,o,u,d,g),!0;case"pointerover":var v=g.pointerId;return Fi.set(v,pn(Fi.get(v)||null,i,o,u,d,g)),!0;case"gotpointercapture":return v=g.pointerId,Fn.set(v,pn(Fn.get(v)||null,i,o,u,d,g)),!0}return!1}function Sc(i){var o=qs(i.target);if(o!==null){var u=tr(o);if(u!==null){if(o=u.tag,o===13){if(o=Ms(u),o!==null){i.blockedOn=o,Ec(i.priority,function(){_c(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ti(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=qo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);Ds=d,u.target.dispatchEvent(d),Ds=null}else return o=Fl(u),o!==null&&Ho(o),i.blockedOn=u,!1;o.shift()}return!0}function zs(i,o,u){ti(i)&&u.delete(o)}function Ic(){Sl=!1,zt!==null&&ti(zt)&&(zt=null),rr!==null&&ti(rr)&&(rr=null),ir!==null&&ti(ir)&&(ir=null),Fi.forEach(zs),Fn.forEach(zs)}function sr(i,o){i.blockedOn===o&&(i.blockedOn=null,Sl||(Sl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ic)))}function or(i){function o(g){return sr(g,i)}if(0<Ir.length){sr(Ir[0],i);for(var u=1;u<Ir.length;u++){var d=Ir[u];d.blockedOn===i&&(d.blockedOn=null)}}for(zt!==null&&sr(zt,i),rr!==null&&sr(rr,i),ir!==null&&sr(ir,i),Fi.forEach(o),Fn.forEach(o),u=0;u<Ar.length;u++)d=Ar[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<Ar.length&&(u=Ar[0],u.blockedOn===null);)Sc(u),u.blockedOn===null&&Ar.shift()}var ni=ne.ReactCurrentBatchConfig,Ui=!0;function nt(i,o,u,d){var g=Be,v=ni.transition;ni.transition=null;try{Be=1,Il(i,o,u,d)}finally{Be=g,ni.transition=v}}function mf(i,o,u,d){var g=Be,v=ni.transition;ni.transition=null;try{Be=4,Il(i,o,u,d)}finally{Be=g,ni.transition=v}}function Il(i,o,u,d){if(Ui){var g=qo(i,o,u,d);if(g===null)xf(i,o,d,$s,u),Tc(i,d);else if(pf(g,i,o,u,d))d.stopPropagation();else if(Tc(i,d),o&4&&-1<ff.indexOf(i)){for(;g!==null;){var v=Fl(g);if(v!==null&&vc(v),v=qo(i,o,u,d),v===null&&xf(i,o,d,$s,u),v===g)break;g=v}g!==null&&d.stopPropagation()}else xf(i,o,d,null,u)}}var $s=null;function qo(i,o,u,d){if($s=null,i=Lo(d),i=qs(i),i!==null)if(o=tr(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ms(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return $s=i,null}function Al(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fc()){case Fs:return 1;case Ni:return 4;case Mn:case El:return 16;case pc:return 536870912;default:return 16}default:return 16}}var Rn=null,Go=null,mn=null;function xl(){if(mn)return mn;var i,o=Go,u=o.length,d,g="value"in Rn?Rn.value:Rn.textContent,v=g.length;for(i=0;i<u&&o[i]===g[i];i++);var S=u-i;for(d=1;d<=S&&o[u-d]===g[v-d];d++);return mn=g.slice(i,1<d?1-d:void 0)}function Ko(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function xr(){return!0}function Pl(){return!1}function $t(i){function o(u,d,g,v,S){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?xr:Pl,this.isPropagationStopped=Pl,this}return ie(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),o}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=$t(ar),Pr=ie({},ar,{view:0,detail:0}),gf=$t(Pr),Yo,ri,Bi,Ws=ie({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Bi&&(Bi&&i.type==="mousemove"?(Yo=i.screenX-Bi.screenX,ri=i.screenY-Bi.screenY):ri=Yo=0,Bi=i),Yo)},movementY:function(i){return"movementY"in i?i.movementY:ri}}),Xo=$t(Ws),Cl=ie({},Ws,{dataTransfer:0}),Ac=$t(Cl),Jo=ie({},Pr,{relatedTarget:0}),Zo=$t(Jo),xc=ie({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),ii=$t(xc),Pc=ie({},ar,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cc=$t(Pc),Rc=ie({},ar,{data:0}),Rl=$t(Rc),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=bc[i])?!!o[i]:!1}function Cr(){return kc}var h=ie({},Pr,{key:function(i){if(i.key){var o=ea[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ko(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ln[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(i){return i.type==="keypress"?Ko(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ko(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=$t(h),T=ie({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=$t(T),H=ie({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),J=$t(H),he=ie({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=$t(he),Nt=ie({},Ws,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=$t(Nt),Mt=[9,13,27,32],St=c&&"CompositionEvent"in window,Un=null;c&&"documentMode"in document&&(Un=document.documentMode);var bn=c&&"TextEvent"in window&&!Un,Hs=c&&(!St||Un&&8<Un&&11>=Un),ta=" ",_v=!1;function wv(i,o){switch(i){case"keyup":return Mt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ev(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var na=!1;function Ux(i,o){switch(i){case"compositionend":return Ev(o);case"keypress":return o.which!==32?null:(_v=!0,ta);case"textInput":return i=o.data,i===ta&&_v?null:i;default:return null}}function Bx(i,o){if(na)return i==="compositionend"||!St&&wv(i,o)?(i=xl(),mn=Go=Rn=null,na=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Hs&&o.locale!=="ko"?null:o.data;default:return null}}var jx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!jx[i.type]:o==="textarea"}function Sv(i,o,u,d){Sr(d),o=Oc(o,"onChange"),0<o.length&&(u=new Qo("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var bl=null,kl=null;function zx(i){jv(i,0)}function Nc(i){var o=aa(i);if(bo(o))return i}function $x(i,o){if(i==="change")return o}var Iv=!1;if(c){var yf;if(c){var vf="oninput"in document;if(!vf){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),vf=typeof Av.oninput=="function"}yf=vf}else yf=!1;Iv=yf&&(!document.documentMode||9<document.documentMode)}function xv(){bl&&(bl.detachEvent("onpropertychange",Pv),kl=bl=null)}function Pv(i){if(i.propertyName==="value"&&Nc(kl)){var o=[];Sv(o,kl,i,Lo(i)),yl(zx,o)}}function Wx(i,o,u){i==="focusin"?(xv(),bl=o,kl=u,bl.attachEvent("onpropertychange",Pv)):i==="focusout"&&xv()}function Hx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nc(kl)}function qx(i,o){if(i==="click")return Nc(o)}function Gx(i,o){if(i==="input"||i==="change")return Nc(o)}function Kx(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var lr=typeof Object.is=="function"?Object.is:Kx;function Nl(i,o){if(lr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!f.call(o,g)||!lr(i[g],o[g]))return!1}return!0}function Cv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Rv(i,o){var u=Cv(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Cv(u)}}function bv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?bv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function kv(){for(var i=window,o=bi();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=bi(i.document)}return o}function _f(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Qx(i){var o=kv(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&bv(u.ownerDocument.documentElement,u)){if(d!==null&&_f(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,v=Math.min(d.start,g);d=d.end===void 0?v:Math.min(d.end,g),!i.extend&&v>d&&(g=d,d=v,v=g),g=Rv(u,v);var S=Rv(u,d);g&&S&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Yx=c&&"documentMode"in document&&11>=document.documentMode,ra=null,wf=null,Dl=null,Ef=!1;function Nv(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ef||ra==null||ra!==bi(d)||(d=ra,"selectionStart"in d&&_f(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Dl&&Nl(Dl,d)||(Dl=d,d=Oc(wf,"onSelect"),0<d.length&&(o=new Qo("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=ra)))}function Dc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ia={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Tf={},Dv={};c&&(Dv=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function Vc(i){if(Tf[i])return Tf[i];if(!ia[i])return i;var o=ia[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Dv)return Tf[i]=o[u];return i}var Vv=Vc("animationend"),Lv=Vc("animationiteration"),Ov=Vc("animationstart"),Mv=Vc("transitionend"),Fv=new Map,Uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(i,o){Fv.set(i,o),a(o,[i])}for(var Sf=0;Sf<Uv.length;Sf++){var If=Uv[Sf],Xx=If.toLowerCase(),Jx=If[0].toUpperCase()+If.slice(1);ji(Xx,"on"+Jx)}ji(Vv,"onAnimationEnd"),ji(Lv,"onAnimationIteration"),ji(Ov,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(Mv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function Bv(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,cc(d,o,void 0,i),i.currentTarget=null}function jv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],g=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var S=d.length-1;0<=S;S--){var N=d[S],M=N.instance,X=N.currentTarget;if(N=N.listener,M!==v&&g.isPropagationStopped())break e;Bv(g,N,X),v=M}else for(S=0;S<d.length;S++){if(N=d[S],M=N.instance,X=N.currentTarget,N=N.listener,M!==v&&g.isPropagationStopped())break e;Bv(g,N,X),v=M}}}if(er)throw i=vl,er=!1,vl=null,i}function et(i,o){var u=o[Nf];u===void 0&&(u=o[Nf]=new Set);var d=i+"__bubble";u.has(d)||(zv(o,i,2,!1),u.add(d))}function Af(i,o,u){var d=0;o&&(d|=4),zv(u,i,d,o)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Ll(i){if(!i[Lc]){i[Lc]=!0,r.forEach(function(u){u!=="selectionchange"&&(Zx.has(u)||Af(u,!1,i),Af(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Lc]||(o[Lc]=!0,Af("selectionchange",!1,o))}}function zv(i,o,u,d){switch(Al(o)){case 1:var g=nt;break;case 4:g=mf;break;default:g=Il}u=g.bind(null,o,u,i),g=void 0,!Fo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function xf(i,o,u,d,g){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var N=d.stateNode.containerInfo;if(N===g||N.nodeType===8&&N.parentNode===g)break;if(S===4)for(S=d.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===g||M.nodeType===8&&M.parentNode===g))return;S=S.return}for(;N!==null;){if(S=qs(N),S===null)return;if(M=S.tag,M===5||M===6){d=v=S;continue e}N=N.parentNode}}d=d.return}yl(function(){var X=v,le=Lo(u),ue=[];e:{var ae=Fv.get(i);if(ae!==void 0){var me=Qo,ve=i;switch(i){case"keypress":if(Ko(u)===0)break e;case"keydown":case"keyup":me=y;break;case"focusin":ve="focus",me=Zo;break;case"focusout":ve="blur",me=Zo;break;case"beforeblur":case"afterblur":me=Zo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=J;break;case Vv:case Lv:case Ov:me=ii;break;case Mv:me=Ge;break;case"scroll":me=gf;break;case"wheel":me=ze;break;case"copy":case"cut":case"paste":me=Cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=A}var _e=(o&4)!==0,_t=!_e&&i==="scroll",q=_e?ae!==null?ae+"Capture":null:ae;_e=[];for(var j=X,K;j!==null;){K=j;var ce=K.stateNode;if(K.tag===5&&ce!==null&&(K=ce,q!==null&&(ce=vt(j,q),ce!=null&&_e.push(Ol(j,ce,K)))),_t)break;j=j.return}0<_e.length&&(ae=new me(ae,ve,null,u,le),ue.push({event:ae,listeners:_e}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",ae&&u!==Ds&&(ve=u.relatedTarget||u.fromElement)&&(qs(ve)||ve[si]))break e;if((me||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,me?(ve=u.relatedTarget||u.toElement,me=X,ve=ve?qs(ve):null,ve!==null&&(_t=tr(ve),ve!==_t||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(me=null,ve=X),me!==ve)){if(_e=Xo,ce="onMouseLeave",q="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(_e=A,ce="onPointerLeave",q="onPointerEnter",j="pointer"),_t=me==null?ae:aa(me),K=ve==null?ae:aa(ve),ae=new _e(ce,j+"leave",me,u,le),ae.target=_t,ae.relatedTarget=K,ce=null,qs(le)===X&&(_e=new _e(q,j+"enter",ve,u,le),_e.target=K,_e.relatedTarget=_t,ce=_e),_t=ce,me&&ve)t:{for(_e=me,q=ve,j=0,K=_e;K;K=sa(K))j++;for(K=0,ce=q;ce;ce=sa(ce))K++;for(;0<j-K;)_e=sa(_e),j--;for(;0<K-j;)q=sa(q),K--;for(;j--;){if(_e===q||q!==null&&_e===q.alternate)break t;_e=sa(_e),q=sa(q)}_e=null}else _e=null;me!==null&&$v(ue,ae,me,_e,!1),ve!==null&&_t!==null&&$v(ue,_t,ve,_e,!0)}}e:{if(ae=X?aa(X):window,me=ae.nodeName&&ae.nodeName.toLowerCase(),me==="select"||me==="input"&&ae.type==="file")var we=$x;else if(Tv(ae))if(Iv)we=Gx;else{we=Hx;var Se=Wx}else(me=ae.nodeName)&&me.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(we=qx);if(we&&(we=we(i,X))){Sv(ue,we,u,le);break e}Se&&Se(i,ae,X),i==="focusout"&&(Se=ae._wrapperState)&&Se.controlled&&ae.type==="number"&&No(ae,"number",ae.value)}switch(Se=X?aa(X):window,i){case"focusin":(Tv(Se)||Se.contentEditable==="true")&&(ra=Se,wf=X,Dl=null);break;case"focusout":Dl=wf=ra=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,Nv(ue,u,le);break;case"selectionchange":if(Yx)break;case"keydown":case"keyup":Nv(ue,u,le)}var Ie;if(St)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else na?wv(i,u)&&(Re="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(Hs&&u.locale!=="ko"&&(na||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&na&&(Ie=xl()):(Rn=le,Go="value"in Rn?Rn.value:Rn.textContent,na=!0)),Se=Oc(X,Re),0<Se.length&&(Re=new Rl(Re,i,null,u,le),ue.push({event:Re,listeners:Se}),Ie?Re.data=Ie:(Ie=Ev(u),Ie!==null&&(Re.data=Ie)))),(Ie=bn?Ux(i,u):Bx(i,u))&&(X=Oc(X,"onBeforeInput"),0<X.length&&(le=new Rl("onBeforeInput","beforeinput",null,u,le),ue.push({event:le,listeners:X}),le.data=Ie))}jv(ue,o)})}function Ol(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Oc(i,o){for(var u=o+"Capture",d=[];i!==null;){var g=i,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=vt(i,u),v!=null&&d.unshift(Ol(i,v,g)),v=vt(i,o),v!=null&&d.push(Ol(i,v,g))),i=i.return}return d}function sa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function $v(i,o,u,d,g){for(var v=o._reactName,S=[];u!==null&&u!==d;){var N=u,M=N.alternate,X=N.stateNode;if(M!==null&&M===d)break;N.tag===5&&X!==null&&(N=X,g?(M=vt(u,v),M!=null&&S.unshift(Ol(u,M,N))):g||(M=vt(u,v),M!=null&&S.push(Ol(u,M,N)))),u=u.return}S.length!==0&&i.push({event:o,listeners:S})}var eP=/\r\n?/g,tP=/\u0000|\uFFFD/g;function Wv(i){return(typeof i=="string"?i:""+i).replace(eP,`
`).replace(tP,"")}function Mc(i,o,u){if(o=Wv(o),Wv(i)!==o&&u)throw Error(n(425))}function Fc(){}var Pf=null,Cf=null;function Rf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var bf=typeof setTimeout=="function"?setTimeout:void 0,nP=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,rP=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(i){return Hv.resolve(null).then(i).catch(iP)}:bf;function iP(i){setTimeout(function(){throw i})}function kf(i,o){var u=o,d=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(d===0){i.removeChild(g),or(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=g}while(u);or(o)}function zi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function qv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var oa=Math.random().toString(36).slice(2),Rr="__reactFiber$"+oa,Ml="__reactProps$"+oa,si="__reactContainer$"+oa,Nf="__reactEvents$"+oa,sP="__reactListeners$"+oa,oP="__reactHandles$"+oa;function qs(i){var o=i[Rr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[si]||u[Rr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=qv(i);i!==null;){if(u=i[Rr])return u;i=qv(i)}return o}i=u,u=i.parentNode}return null}function Fl(i){return i=i[Rr]||i[si],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function aa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Uc(i){return i[Ml]||null}var Df=[],la=-1;function $i(i){return{current:i}}function tt(i){0>la||(i.current=Df[la],Df[la]=null,la--)}function Xe(i,o){la++,Df[la]=i.current,i.current=o}var Wi={},Yt=$i(Wi),gn=$i(!1),Gs=Wi;function ua(i,o){var u=i.type.contextTypes;if(!u)return Wi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in u)g[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function yn(i){return i=i.childContextTypes,i!=null}function Bc(){tt(gn),tt(Yt)}function Gv(i,o,u){if(Yt.current!==Wi)throw Error(n(168));Xe(Yt,o),Xe(gn,u)}function Kv(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var g in d)if(!(g in o))throw Error(n(108,Oe(i)||"Unknown",g));return ie({},u,d)}function jc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Wi,Gs=Yt.current,Xe(Yt,i),Xe(gn,gn.current),!0}function Qv(i,o,u){var d=i.stateNode;if(!d)throw Error(n(169));u?(i=Kv(i,o,Gs),d.__reactInternalMemoizedMergedChildContext=i,tt(gn),tt(Yt),Xe(Yt,i)):tt(gn),Xe(gn,u)}var oi=null,zc=!1,Vf=!1;function Yv(i){oi===null?oi=[i]:oi.push(i)}function aP(i){zc=!0,Yv(i)}function Hi(){if(!Vf&&oi!==null){Vf=!0;var i=0,o=Be;try{var u=oi;for(Be=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}oi=null,zc=!1}catch(g){throw oi!==null&&(oi=oi.slice(i+1)),zo(Fs,Hi),g}finally{Be=o,Vf=!1}}return null}var ca=[],ha=0,$c=null,Wc=0,Bn=[],jn=0,Ks=null,ai=1,li="";function Qs(i,o){ca[ha++]=Wc,ca[ha++]=$c,$c=i,Wc=o}function Xv(i,o,u){Bn[jn++]=ai,Bn[jn++]=li,Bn[jn++]=Ks,Ks=i;var d=ai;i=li;var g=32-an(d)-1;d&=~(1<<g),u+=1;var v=32-an(o)+g;if(30<v){var S=g-g%5;v=(d&(1<<S)-1).toString(32),d>>=S,g-=S,ai=1<<32-an(o)+g|u<<g|d,li=v+i}else ai=1<<v|u<<g|d,li=i}function Lf(i){i.return!==null&&(Qs(i,1),Xv(i,1,0))}function Of(i){for(;i===$c;)$c=ca[--ha],ca[ha]=null,Wc=ca[--ha],ca[ha]=null;for(;i===Ks;)Ks=Bn[--jn],Bn[jn]=null,li=Bn[--jn],Bn[jn]=null,ai=Bn[--jn],Bn[jn]=null}var kn=null,Nn=null,rt=!1,ur=null;function Jv(i,o){var u=Hn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Zv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,kn=i,Nn=zi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,kn=i,Nn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ks!==null?{id:ai,overflow:li}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Hn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,kn=i,Nn=null,!0):!1;default:return!1}}function Mf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ff(i){if(rt){var o=Nn;if(o){var u=o;if(!Zv(i,o)){if(Mf(i))throw Error(n(418));o=zi(u.nextSibling);var d=kn;o&&Zv(i,o)?Jv(d,u):(i.flags=i.flags&-4097|2,rt=!1,kn=i)}}else{if(Mf(i))throw Error(n(418));i.flags=i.flags&-4097|2,rt=!1,kn=i}}}function e_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;kn=i}function Hc(i){if(i!==kn)return!1;if(!rt)return e_(i),rt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Rf(i.type,i.memoizedProps)),o&&(o=Nn)){if(Mf(i))throw t_(),Error(n(418));for(;o;)Jv(i,o),o=zi(o.nextSibling)}if(e_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Nn=zi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Nn=null}}else Nn=kn?zi(i.stateNode.nextSibling):null;return!0}function t_(){for(var i=Nn;i;)i=zi(i.nextSibling)}function da(){Nn=kn=null,rt=!1}function Uf(i){ur===null?ur=[i]:ur.push(i)}var lP=ne.ReactCurrentBatchConfig;function Ul(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,i));var g=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var N=g.refs;S===null?delete N[v]:N[v]=S},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function qc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function n_(i){var o=i._init;return o(i._payload)}function r_(i){function o(q,j){if(i){var K=q.deletions;K===null?(q.deletions=[j],q.flags|=16):K.push(j)}}function u(q,j){if(!i)return null;for(;j!==null;)o(q,j),j=j.sibling;return null}function d(q,j){for(q=new Map;j!==null;)j.key!==null?q.set(j.key,j):q.set(j.index,j),j=j.sibling;return q}function g(q,j){return q=Zi(q,j),q.index=0,q.sibling=null,q}function v(q,j,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<j?(q.flags|=2,j):K):(q.flags|=2,j)):(q.flags|=1048576,j)}function S(q){return i&&q.alternate===null&&(q.flags|=2),q}function N(q,j,K,ce){return j===null||j.tag!==6?(j=bp(K,q.mode,ce),j.return=q,j):(j=g(j,K),j.return=q,j)}function M(q,j,K,ce){var we=K.type;return we===O?le(q,j,K.props.children,ce,K.key):j!==null&&(j.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ee&&n_(we)===j.type)?(ce=g(j,K.props),ce.ref=Ul(q,j,K),ce.return=q,ce):(ce=gh(K.type,K.key,K.props,null,q.mode,ce),ce.ref=Ul(q,j,K),ce.return=q,ce)}function X(q,j,K,ce){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=kp(K,q.mode,ce),j.return=q,j):(j=g(j,K.children||[]),j.return=q,j)}function le(q,j,K,ce,we){return j===null||j.tag!==7?(j=ro(K,q.mode,ce,we),j.return=q,j):(j=g(j,K),j.return=q,j)}function ue(q,j,K){if(typeof j=="string"&&j!==""||typeof j=="number")return j=bp(""+j,q.mode,K),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case oe:return K=gh(j.type,j.key,j.props,null,q.mode,K),K.ref=Ul(q,null,j),K.return=q,K;case de:return j=kp(j,q.mode,K),j.return=q,j;case ee:var ce=j._init;return ue(q,ce(j._payload),K)}if(Yr(j)||G(j))return j=ro(j,q.mode,K,null),j.return=q,j;qc(q,j)}return null}function ae(q,j,K,ce){var we=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return we!==null?null:N(q,j,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case oe:return K.key===we?M(q,j,K,ce):null;case de:return K.key===we?X(q,j,K,ce):null;case ee:return we=K._init,ae(q,j,we(K._payload),ce)}if(Yr(K)||G(K))return we!==null?null:le(q,j,K,ce,null);qc(q,K)}return null}function me(q,j,K,ce,we){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return q=q.get(K)||null,N(j,q,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case oe:return q=q.get(ce.key===null?K:ce.key)||null,M(j,q,ce,we);case de:return q=q.get(ce.key===null?K:ce.key)||null,X(j,q,ce,we);case ee:var Se=ce._init;return me(q,j,K,Se(ce._payload),we)}if(Yr(ce)||G(ce))return q=q.get(K)||null,le(j,q,ce,we,null);qc(j,ce)}return null}function ve(q,j,K,ce){for(var we=null,Se=null,Ie=j,Re=j=0,Bt=null;Ie!==null&&Re<K.length;Re++){Ie.index>Re?(Bt=Ie,Ie=null):Bt=Ie.sibling;var He=ae(q,Ie,K[Re],ce);if(He===null){Ie===null&&(Ie=Bt);break}i&&Ie&&He.alternate===null&&o(q,Ie),j=v(He,j,Re),Se===null?we=He:Se.sibling=He,Se=He,Ie=Bt}if(Re===K.length)return u(q,Ie),rt&&Qs(q,Re),we;if(Ie===null){for(;Re<K.length;Re++)Ie=ue(q,K[Re],ce),Ie!==null&&(j=v(Ie,j,Re),Se===null?we=Ie:Se.sibling=Ie,Se=Ie);return rt&&Qs(q,Re),we}for(Ie=d(q,Ie);Re<K.length;Re++)Bt=me(Ie,q,Re,K[Re],ce),Bt!==null&&(i&&Bt.alternate!==null&&Ie.delete(Bt.key===null?Re:Bt.key),j=v(Bt,j,Re),Se===null?we=Bt:Se.sibling=Bt,Se=Bt);return i&&Ie.forEach(function(es){return o(q,es)}),rt&&Qs(q,Re),we}function _e(q,j,K,ce){var we=G(K);if(typeof we!="function")throw Error(n(150));if(K=we.call(K),K==null)throw Error(n(151));for(var Se=we=null,Ie=j,Re=j=0,Bt=null,He=K.next();Ie!==null&&!He.done;Re++,He=K.next()){Ie.index>Re?(Bt=Ie,Ie=null):Bt=Ie.sibling;var es=ae(q,Ie,He.value,ce);if(es===null){Ie===null&&(Ie=Bt);break}i&&Ie&&es.alternate===null&&o(q,Ie),j=v(es,j,Re),Se===null?we=es:Se.sibling=es,Se=es,Ie=Bt}if(He.done)return u(q,Ie),rt&&Qs(q,Re),we;if(Ie===null){for(;!He.done;Re++,He=K.next())He=ue(q,He.value,ce),He!==null&&(j=v(He,j,Re),Se===null?we=He:Se.sibling=He,Se=He);return rt&&Qs(q,Re),we}for(Ie=d(q,Ie);!He.done;Re++,He=K.next())He=me(Ie,q,Re,He.value,ce),He!==null&&(i&&He.alternate!==null&&Ie.delete(He.key===null?Re:He.key),j=v(He,j,Re),Se===null?we=He:Se.sibling=He,Se=He);return i&&Ie.forEach(function(jP){return o(q,jP)}),rt&&Qs(q,Re),we}function _t(q,j,K,ce){if(typeof K=="object"&&K!==null&&K.type===O&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case oe:e:{for(var we=K.key,Se=j;Se!==null;){if(Se.key===we){if(we=K.type,we===O){if(Se.tag===7){u(q,Se.sibling),j=g(Se,K.props.children),j.return=q,q=j;break e}}else if(Se.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ee&&n_(we)===Se.type){u(q,Se.sibling),j=g(Se,K.props),j.ref=Ul(q,Se,K),j.return=q,q=j;break e}u(q,Se);break}else o(q,Se);Se=Se.sibling}K.type===O?(j=ro(K.props.children,q.mode,ce,K.key),j.return=q,q=j):(ce=gh(K.type,K.key,K.props,null,q.mode,ce),ce.ref=Ul(q,j,K),ce.return=q,q=ce)}return S(q);case de:e:{for(Se=K.key;j!==null;){if(j.key===Se)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){u(q,j.sibling),j=g(j,K.children||[]),j.return=q,q=j;break e}else{u(q,j);break}else o(q,j);j=j.sibling}j=kp(K,q.mode,ce),j.return=q,q=j}return S(q);case ee:return Se=K._init,_t(q,j,Se(K._payload),ce)}if(Yr(K))return ve(q,j,K,ce);if(G(K))return _e(q,j,K,ce);qc(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,j!==null&&j.tag===6?(u(q,j.sibling),j=g(j,K),j.return=q,q=j):(u(q,j),j=bp(K,q.mode,ce),j.return=q,q=j),S(q)):u(q,j)}return _t}var fa=r_(!0),i_=r_(!1),Gc=$i(null),Kc=null,pa=null,Bf=null;function jf(){Bf=pa=Kc=null}function zf(i){var o=Gc.current;tt(Gc),i._currentValue=o}function $f(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function ma(i,o){Kc=i,Bf=pa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(vn=!0),i.firstContext=null)}function zn(i){var o=i._currentValue;if(Bf!==i)if(i={context:i,memoizedValue:o,next:null},pa===null){if(Kc===null)throw Error(n(308));pa=i,Kc.dependencies={lanes:0,firstContext:i}}else pa=pa.next=i;return o}var Ys=null;function Wf(i){Ys===null?Ys=[i]:Ys.push(i)}function s_(i,o,u,d){var g=o.interleaved;return g===null?(u.next=u,Wf(o)):(u.next=g.next,g.next=u),o.interleaved=u,ui(i,d)}function ui(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var qi=!1;function Hf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o_(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ci(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Gi(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,ui(i,u)}return g=d.interleaved,g===null?(o.next=o,Wf(d)):(o.next=g.next,g.next=o),d.interleaved=o,ui(i,u)}function Qc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Oi(i,u)}}function a_(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?g=v=S:v=v.next=S,u=u.next}while(u!==null);v===null?g=v=o:v=v.next=o}else g=v=o;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Yc(i,o,u,d){var g=i.updateQueue;qi=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var M=N,X=M.next;M.next=null,S===null?v=X:S.next=X,S=M;var le=i.alternate;le!==null&&(le=le.updateQueue,N=le.lastBaseUpdate,N!==S&&(N===null?le.firstBaseUpdate=X:N.next=X,le.lastBaseUpdate=M))}if(v!==null){var ue=g.baseState;S=0,le=X=M=null,N=v;do{var ae=N.lane,me=N.eventTime;if((d&ae)===ae){le!==null&&(le=le.next={eventTime:me,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ve=i,_e=N;switch(ae=o,me=u,_e.tag){case 1:if(ve=_e.payload,typeof ve=="function"){ue=ve.call(me,ue,ae);break e}ue=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=_e.payload,ae=typeof ve=="function"?ve.call(me,ue,ae):ve,ae==null)break e;ue=ie({},ue,ae);break e;case 2:qi=!0}}N.callback!==null&&N.lane!==0&&(i.flags|=64,ae=g.effects,ae===null?g.effects=[N]:ae.push(N))}else me={eventTime:me,lane:ae,tag:N.tag,payload:N.payload,callback:N.callback,next:null},le===null?(X=le=me,M=ue):le=le.next=me,S|=ae;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;ae=N,N=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);if(le===null&&(M=ue),g.baseState=M,g.firstBaseUpdate=X,g.lastBaseUpdate=le,o=g.shared.interleaved,o!==null){g=o;do S|=g.lane,g=g.next;while(g!==o)}else v===null&&(g.shared.lanes=0);Zs|=S,i.lanes=S,i.memoizedState=ue}}function l_(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],g=d.callback;if(g!==null){if(d.callback=null,d=u,typeof g!="function")throw Error(n(191,g));g.call(d)}}}var Bl={},br=$i(Bl),jl=$i(Bl),zl=$i(Bl);function Xs(i){if(i===Bl)throw Error(n(174));return i}function qf(i,o){switch(Xe(zl,o),Xe(jl,i),Xe(br,Bl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:kt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=kt(o,i)}tt(br),Xe(br,o)}function ga(){tt(br),tt(jl),tt(zl)}function u_(i){Xs(zl.current);var o=Xs(br.current),u=kt(o,i.type);o!==u&&(Xe(jl,i),Xe(br,u))}function Gf(i){jl.current===i&&(tt(br),tt(jl))}var lt=$i(0);function Xc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Kf=[];function Qf(){for(var i=0;i<Kf.length;i++)Kf[i]._workInProgressVersionPrimary=null;Kf.length=0}var Jc=ne.ReactCurrentDispatcher,Yf=ne.ReactCurrentBatchConfig,Js=0,ut=null,Dt=null,Ft=null,Zc=!1,$l=!1,Wl=0,uP=0;function Xt(){throw Error(n(321))}function Xf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!lr(i[u],o[u]))return!1;return!0}function Jf(i,o,u,d,g,v){if(Js=v,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Jc.current=i===null||i.memoizedState===null?fP:pP,i=u(d,g),$l){v=0;do{if($l=!1,Wl=0,25<=v)throw Error(n(301));v+=1,Ft=Dt=null,o.updateQueue=null,Jc.current=mP,i=u(d,g)}while($l)}if(Jc.current=nh,o=Dt!==null&&Dt.next!==null,Js=0,Ft=Dt=ut=null,Zc=!1,o)throw Error(n(300));return i}function Zf(){var i=Wl!==0;return Wl=0,i}function kr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ut.memoizedState=Ft=i:Ft=Ft.next=i,Ft}function $n(){if(Dt===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=Dt.next;var o=Ft===null?ut.memoizedState:Ft.next;if(o!==null)Ft=o,Dt=i;else{if(i===null)throw Error(n(310));Dt=i,i={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ft===null?ut.memoizedState=Ft=i:Ft=Ft.next=i}return Ft}function Hl(i,o){return typeof o=="function"?o(i):o}function ep(i){var o=$n(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=Dt,g=d.baseQueue,v=u.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}d.baseQueue=g=v,u.pending=null}if(g!==null){v=g.next,d=d.baseState;var N=S=null,M=null,X=v;do{var le=X.lane;if((Js&le)===le)M!==null&&(M=M.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),d=X.hasEagerState?X.eagerState:i(d,X.action);else{var ue={lane:le,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};M===null?(N=M=ue,S=d):M=M.next=ue,ut.lanes|=le,Zs|=le}X=X.next}while(X!==null&&X!==v);M===null?S=d:M.next=N,lr(d,o.memoizedState)||(vn=!0),o.memoizedState=d,o.baseState=S,o.baseQueue=M,u.lastRenderedState=d}if(i=u.interleaved,i!==null){g=i;do v=g.lane,ut.lanes|=v,Zs|=v,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function tp(i){var o=$n(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=u.dispatch,g=u.pending,v=o.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do v=i(v,S.action),S=S.next;while(S!==g);lr(v,o.memoizedState)||(vn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function c_(){}function h_(i,o){var u=ut,d=$n(),g=o(),v=!lr(d.memoizedState,g);if(v&&(d.memoizedState=g,vn=!0),d=d.queue,np(p_.bind(null,u,d,i),[i]),d.getSnapshot!==o||v||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,ql(9,f_.bind(null,u,d,g,o),void 0,null),Ut===null)throw Error(n(349));(Js&30)!==0||d_(u,o,g)}return g}function d_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function f_(i,o,u,d){o.value=u,o.getSnapshot=d,m_(o)&&g_(i)}function p_(i,o,u){return u(function(){m_(o)&&g_(i)})}function m_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!lr(i,u)}catch{return!0}}function g_(i){var o=ui(i,1);o!==null&&fr(o,i,1,-1)}function y_(i){var o=kr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:i},o.queue=i,i=i.dispatch=dP.bind(null,ut,i),[o.memoizedState,i]}function ql(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function v_(){return $n().memoizedState}function eh(i,o,u,d){var g=kr();ut.flags|=i,g.memoizedState=ql(1|o,u,void 0,d===void 0?null:d)}function th(i,o,u,d){var g=$n();d=d===void 0?null:d;var v=void 0;if(Dt!==null){var S=Dt.memoizedState;if(v=S.destroy,d!==null&&Xf(d,S.deps)){g.memoizedState=ql(o,u,v,d);return}}ut.flags|=i,g.memoizedState=ql(1|o,u,v,d)}function __(i,o){return eh(8390656,8,i,o)}function np(i,o){return th(2048,8,i,o)}function w_(i,o){return th(4,2,i,o)}function E_(i,o){return th(4,4,i,o)}function T_(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function S_(i,o,u){return u=u!=null?u.concat([i]):null,th(4,4,T_.bind(null,o,i),u)}function rp(){}function I_(i,o){var u=$n();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Xf(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function A_(i,o){var u=$n();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Xf(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function x_(i,o,u){return(Js&21)===0?(i.baseState&&(i.baseState=!1,vn=!0),i.memoizedState=u):(lr(u,o)||(u=js(),ut.lanes|=u,Zs|=u,i.baseState=!0),o)}function cP(i,o){var u=Be;Be=u!==0&&4>u?u:4,i(!0);var d=Yf.transition;Yf.transition={};try{i(!1),o()}finally{Be=u,Yf.transition=d}}function P_(){return $n().memoizedState}function hP(i,o,u){var d=Xi(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},C_(i))R_(o,u);else if(u=s_(i,o,u,d),u!==null){var g=cn();fr(u,i,d,g),b_(u,o,d)}}function dP(i,o,u){var d=Xi(i),g={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(C_(i))R_(o,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,N=v(S,u);if(g.hasEagerState=!0,g.eagerState=N,lr(N,S)){var M=o.interleaved;M===null?(g.next=g,Wf(o)):(g.next=M.next,M.next=g),o.interleaved=g;return}}catch{}finally{}u=s_(i,o,g,d),u!==null&&(g=cn(),fr(u,i,d,g),b_(u,o,d))}}function C_(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function R_(i,o){$l=Zc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function b_(i,o,u){if((u&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Oi(i,u)}}var nh={readContext:zn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},fP={readContext:zn,useCallback:function(i,o){return kr().memoizedState=[i,o===void 0?null:o],i},useContext:zn,useEffect:__,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,eh(4194308,4,T_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return eh(4194308,4,i,o)},useInsertionEffect:function(i,o){return eh(4,2,i,o)},useMemo:function(i,o){var u=kr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=kr();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=hP.bind(null,ut,i),[d.memoizedState,i]},useRef:function(i){var o=kr();return i={current:i},o.memoizedState=i},useState:y_,useDebugValue:rp,useDeferredValue:function(i){return kr().memoizedState=i},useTransition:function(){var i=y_(!1),o=i[0];return i=cP.bind(null,i[1]),kr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=ut,g=kr();if(rt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Ut===null)throw Error(n(349));(Js&30)!==0||d_(d,o,u)}g.memoizedState=u;var v={value:u,getSnapshot:o};return g.queue=v,__(p_.bind(null,d,v,i),[i]),d.flags|=2048,ql(9,f_.bind(null,d,v,u,o),void 0,null),u},useId:function(){var i=kr(),o=Ut.identifierPrefix;if(rt){var u=li,d=ai;u=(d&~(1<<32-an(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Wl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=uP++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},pP={readContext:zn,useCallback:I_,useContext:zn,useEffect:np,useImperativeHandle:S_,useInsertionEffect:w_,useLayoutEffect:E_,useMemo:A_,useReducer:ep,useRef:v_,useState:function(){return ep(Hl)},useDebugValue:rp,useDeferredValue:function(i){var o=$n();return x_(o,Dt.memoizedState,i)},useTransition:function(){var i=ep(Hl)[0],o=$n().memoizedState;return[i,o]},useMutableSource:c_,useSyncExternalStore:h_,useId:P_,unstable_isNewReconciler:!1},mP={readContext:zn,useCallback:I_,useContext:zn,useEffect:np,useImperativeHandle:S_,useInsertionEffect:w_,useLayoutEffect:E_,useMemo:A_,useReducer:tp,useRef:v_,useState:function(){return tp(Hl)},useDebugValue:rp,useDeferredValue:function(i){var o=$n();return Dt===null?o.memoizedState=i:x_(o,Dt.memoizedState,i)},useTransition:function(){var i=tp(Hl)[0],o=$n().memoizedState;return[i,o]},useMutableSource:c_,useSyncExternalStore:h_,useId:P_,unstable_isNewReconciler:!1};function cr(i,o){if(i&&i.defaultProps){o=ie({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function ip(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:ie({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var rh={isMounted:function(i){return(i=i._reactInternals)?tr(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=cn(),g=Xi(i),v=ci(d,g);v.payload=o,u!=null&&(v.callback=u),o=Gi(i,v,g),o!==null&&(fr(o,i,g,d),Qc(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=cn(),g=Xi(i),v=ci(d,g);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Gi(i,v,g),o!==null&&(fr(o,i,g,d),Qc(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=cn(),d=Xi(i),g=ci(u,d);g.tag=2,o!=null&&(g.callback=o),o=Gi(i,g,d),o!==null&&(fr(o,i,d,u),Qc(o,i,d))}};function k_(i,o,u,d,g,v,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,S):o.prototype&&o.prototype.isPureReactComponent?!Nl(u,d)||!Nl(g,v):!0}function N_(i,o,u){var d=!1,g=Wi,v=o.contextType;return typeof v=="object"&&v!==null?v=zn(v):(g=yn(o)?Gs:Yt.current,d=o.contextTypes,v=(d=d!=null)?ua(i,g):Wi),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=rh,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=v),o}function D_(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&rh.enqueueReplaceState(o,o.state,null)}function sp(i,o,u,d){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Hf(i);var v=o.contextType;typeof v=="object"&&v!==null?g.context=zn(v):(v=yn(o)?Gs:Yt.current,g.context=ua(i,v)),g.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(ip(i,o,v,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&rh.enqueueReplaceState(g,g.state,null),Yc(i,u,g,d),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ya(i,o){try{var u="",d=o;do u+=Ne(d),d=d.return;while(d);var g=u}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:g,digest:null}}function op(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function ap(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var gP=typeof WeakMap=="function"?WeakMap:Map;function V_(i,o,u){u=ci(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){ch||(ch=!0,Tp=d),ap(i,o)},u}function L_(i,o,u){u=ci(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;u.payload=function(){return d(g)},u.callback=function(){ap(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){ap(i,o),typeof d!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function O_(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new gP;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(u)||(g.add(u),i=bP.bind(null,i,o,u),o.then(i,i))}function M_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function F_(i,o,u,d,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ci(-1,1),o.tag=2,Gi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var yP=ne.ReactCurrentOwner,vn=!1;function un(i,o,u,d){o.child=i===null?i_(o,null,u,d):fa(o,i.child,u,d)}function U_(i,o,u,d,g){u=u.render;var v=o.ref;return ma(o,g),d=Jf(i,o,u,d,v,g),u=Zf(),i!==null&&!vn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,hi(i,o,g)):(rt&&u&&Lf(o),o.flags|=1,un(i,o,d,g),o.child)}function B_(i,o,u,d,g){if(i===null){var v=u.type;return typeof v=="function"&&!Rp(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,j_(i,o,v,d,g)):(i=gh(u.type,null,d,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&g)===0){var S=v.memoizedProps;if(u=u.compare,u=u!==null?u:Nl,u(S,d)&&i.ref===o.ref)return hi(i,o,g)}return o.flags|=1,i=Zi(v,d),i.ref=o.ref,i.return=o,o.child=i}function j_(i,o,u,d,g){if(i!==null){var v=i.memoizedProps;if(Nl(v,d)&&i.ref===o.ref)if(vn=!1,o.pendingProps=d=v,(i.lanes&g)!==0)(i.flags&131072)!==0&&(vn=!0);else return o.lanes=i.lanes,hi(i,o,g)}return lp(i,o,u,d,g)}function z_(i,o,u){var d=o.pendingProps,g=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(_a,Dn),Dn|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Xe(_a,Dn),Dn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Xe(_a,Dn),Dn|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,Xe(_a,Dn),Dn|=d;return un(i,o,g,u),o.child}function $_(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function lp(i,o,u,d,g){var v=yn(u)?Gs:Yt.current;return v=ua(o,v),ma(o,g),u=Jf(i,o,u,d,v,g),d=Zf(),i!==null&&!vn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,hi(i,o,g)):(rt&&d&&Lf(o),o.flags|=1,un(i,o,u,g),o.child)}function W_(i,o,u,d,g){if(yn(u)){var v=!0;jc(o)}else v=!1;if(ma(o,g),o.stateNode===null)sh(i,o),N_(o,u,d),sp(o,u,d,g),d=!0;else if(i===null){var S=o.stateNode,N=o.memoizedProps;S.props=N;var M=S.context,X=u.contextType;typeof X=="object"&&X!==null?X=zn(X):(X=yn(u)?Gs:Yt.current,X=ua(o,X));var le=u.getDerivedStateFromProps,ue=typeof le=="function"||typeof S.getSnapshotBeforeUpdate=="function";ue||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==d||M!==X)&&D_(o,S,d,X),qi=!1;var ae=o.memoizedState;S.state=ae,Yc(o,d,S,g),M=o.memoizedState,N!==d||ae!==M||gn.current||qi?(typeof le=="function"&&(ip(o,u,le,d),M=o.memoizedState),(N=qi||k_(o,u,N,d,ae,M,X))?(ue||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=M),S.props=d,S.state=M,S.context=X,d=N):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{S=o.stateNode,o_(i,o),N=o.memoizedProps,X=o.type===o.elementType?N:cr(o.type,N),S.props=X,ue=o.pendingProps,ae=S.context,M=u.contextType,typeof M=="object"&&M!==null?M=zn(M):(M=yn(u)?Gs:Yt.current,M=ua(o,M));var me=u.getDerivedStateFromProps;(le=typeof me=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==ue||ae!==M)&&D_(o,S,d,M),qi=!1,ae=o.memoizedState,S.state=ae,Yc(o,d,S,g);var ve=o.memoizedState;N!==ue||ae!==ve||gn.current||qi?(typeof me=="function"&&(ip(o,u,me,d),ve=o.memoizedState),(X=qi||k_(o,u,X,d,ae,ve,M)||!1)?(le||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,ve,M),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,ve,M)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ve),S.props=d,S.state=ve,S.context=M,d=X):(typeof S.componentDidUpdate!="function"||N===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),d=!1)}return up(i,o,u,d,v,g)}function up(i,o,u,d,g,v){$_(i,o);var S=(o.flags&128)!==0;if(!d&&!S)return g&&Qv(o,u,!1),hi(i,o,v);d=o.stateNode,yP.current=o;var N=S&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&S?(o.child=fa(o,i.child,null,v),o.child=fa(o,null,N,v)):un(i,o,N,v),o.memoizedState=d.state,g&&Qv(o,u,!0),o.child}function H_(i){var o=i.stateNode;o.pendingContext?Gv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Gv(i,o.context,!1),qf(i,o.containerInfo)}function q_(i,o,u,d,g){return da(),Uf(g),o.flags|=256,un(i,o,u,d),o.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function hp(i){return{baseLanes:i,cachePool:null,transitions:null}}function G_(i,o,u){var d=o.pendingProps,g=lt.current,v=!1,S=(o.flags&128)!==0,N;if((N=S)||(N=i!==null&&i.memoizedState===null?!1:(g&2)!==0),N?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Xe(lt,g&1),i===null)return Ff(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=d.children,i=d.fallback,v?(d=o.mode,v=o.child,S={mode:"hidden",children:S},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=yh(S,d,0,null),i=ro(i,d,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=hp(u),o.memoizedState=cp,i):dp(o,S));if(g=i.memoizedState,g!==null&&(N=g.dehydrated,N!==null))return vP(i,o,S,d,N,g,u);if(v){v=d.fallback,S=o.mode,g=i.child,N=g.sibling;var M={mode:"hidden",children:d.children};return(S&1)===0&&o.child!==g?(d=o.child,d.childLanes=0,d.pendingProps=M,o.deletions=null):(d=Zi(g,M),d.subtreeFlags=g.subtreeFlags&14680064),N!==null?v=Zi(N,v):(v=ro(v,S,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,S=i.child.memoizedState,S=S===null?hp(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=i.childLanes&~u,o.memoizedState=cp,d}return v=i.child,i=v.sibling,d=Zi(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function dp(i,o){return o=yh({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ih(i,o,u,d){return d!==null&&Uf(d),fa(o,i.child,null,u),i=dp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function vP(i,o,u,d,g,v,S){if(u)return o.flags&256?(o.flags&=-257,d=op(Error(n(422))),ih(i,o,S,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,g=o.mode,d=yh({mode:"visible",children:d.children},g,0,null),v=ro(v,g,S,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&fa(o,i.child,null,S),o.child.memoizedState=hp(S),o.memoizedState=cp,v);if((o.mode&1)===0)return ih(i,o,S,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var N=d.dgst;return d=N,v=Error(n(419)),d=op(v,d,void 0),ih(i,o,S,d)}if(N=(S&i.childLanes)!==0,vn||N){if(d=Ut,d!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|S))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,ui(i,g),fr(d,i,g,-1))}return Cp(),d=op(Error(n(421))),ih(i,o,S,d)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=kP.bind(null,i),g._reactRetry=o,null):(i=v.treeContext,Nn=zi(g.nextSibling),kn=o,rt=!0,ur=null,i!==null&&(Bn[jn++]=ai,Bn[jn++]=li,Bn[jn++]=Ks,ai=i.id,li=i.overflow,Ks=o),o=dp(o,d.children),o.flags|=4096,o)}function K_(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),$f(i.return,o,u)}function fp(i,o,u,d,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=g)}function Q_(i,o,u){var d=o.pendingProps,g=d.revealOrder,v=d.tail;if(un(i,o,d.children,u),d=lt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&K_(i,u,o);else if(i.tag===19)K_(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Xe(lt,d),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&Xc(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),fp(o,!1,g,u,v);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Xc(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}fp(o,!0,u,null,v);break;case"together":fp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function sh(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function hi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Zs|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Zi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Zi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function _P(i,o,u){switch(o.tag){case 3:H_(o),da();break;case 5:u_(o);break;case 1:yn(o.type)&&jc(o);break;case 4:qf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,g=o.memoizedProps.value;Xe(Gc,d._currentValue),d._currentValue=g;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Xe(lt,lt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?G_(i,o,u):(Xe(lt,lt.current&1),i=hi(i,o,u),i!==null?i.sibling:null);Xe(lt,lt.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(i.flags&128)!==0){if(d)return Q_(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Xe(lt,lt.current),d)break;return null;case 22:case 23:return o.lanes=0,z_(i,o,u)}return hi(i,o,u)}var Y_,pp,X_,J_;Y_=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},pp=function(){},X_=function(i,o,u,d){var g=i.memoizedProps;if(g!==d){i=o.stateNode,Xs(br.current);var v=null;switch(u){case"input":g=bs(i,g),d=bs(i,d),v=[];break;case"select":g=ie({},g,{value:void 0}),d=ie({},d,{value:void 0}),v=[];break;case"textarea":g=al(i,g),d=al(i,d),v=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Fc)}fl(u,d);var S;u=null;for(X in g)if(!d.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var N=g[X];for(S in N)N.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?v||(v=[]):(v=v||[]).push(X,null));for(X in d){var M=d[X];if(N=g?.[X],d.hasOwnProperty(X)&&M!==N&&(M!=null||N!=null))if(X==="style")if(N){for(S in N)!N.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in M)M.hasOwnProperty(S)&&N[S]!==M[S]&&(u||(u={}),u[S]=M[S])}else u||(v||(v=[]),v.push(X,u)),u=M;else X==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,N=N?N.__html:void 0,M!=null&&N!==M&&(v=v||[]).push(X,M)):X==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(X,""+M):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(M!=null&&X==="onScroll"&&et("scroll",i),v||N===M||(v=[])):(v=v||[]).push(X,M))}u&&(v=v||[]).push("style",u);var X=v;(o.updateQueue=X)&&(o.flags|=4)}},J_=function(i,o,u,d){u!==d&&(o.flags|=4)};function Gl(i,o){if(!rt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Jt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function wP(i,o,u){var d=o.pendingProps;switch(Of(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return yn(o.type)&&Bc(),Jt(o),null;case 3:return d=o.stateNode,ga(),tt(gn),tt(Yt),Qf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Hc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ur!==null&&(Ap(ur),ur=null))),pp(i,o),Jt(o),null;case 5:Gf(o);var g=Xs(zl.current);if(u=o.type,i!==null&&o.stateNode!=null)X_(i,o,u,d,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Jt(o),null}if(i=Xs(br.current),Hc(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[Rr]=o,d[Ml]=v,i=(o.mode&1)!==0,u){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(g=0;g<Vl.length;g++)et(Vl[g],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":ko(d,v),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},et("invalid",d);break;case"textarea":Do(d,v),et("invalid",d)}fl(u,v),g=null;for(var S in v)if(v.hasOwnProperty(S)){var N=v[S];S==="children"?typeof N=="string"?d.textContent!==N&&(v.suppressHydrationWarning!==!0&&Mc(d.textContent,N,i),g=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(v.suppressHydrationWarning!==!0&&Mc(d.textContent,N,i),g=["children",""+N]):s.hasOwnProperty(S)&&N!=null&&S==="onScroll"&&et("scroll",d)}switch(u){case"input":Qr(d),uc(d,v,!0);break;case"textarea":Qr(d),ll(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Fc)}d=g,o.updateQueue=d,d!==null&&(o.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=bt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=S.createElement(u,{is:d.is}):(i=S.createElement(u),u==="select"&&(S=i,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):i=S.createElementNS(i,u),i[Rr]=o,i[Ml]=d,Y_(i,o,!1,!1),o.stateNode=i;e:{switch(S=pl(u,d),u){case"dialog":et("cancel",i),et("close",i),g=d;break;case"iframe":case"object":case"embed":et("load",i),g=d;break;case"video":case"audio":for(g=0;g<Vl.length;g++)et(Vl[g],i);g=d;break;case"source":et("error",i),g=d;break;case"img":case"image":case"link":et("error",i),et("load",i),g=d;break;case"details":et("toggle",i),g=d;break;case"input":ko(i,d),g=bs(i,d),et("invalid",i);break;case"option":g=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},g=ie({},d,{value:void 0}),et("invalid",i);break;case"textarea":Do(i,d),g=al(i,d),et("invalid",i);break;default:g=d}fl(u,g),N=g;for(v in N)if(N.hasOwnProperty(v)){var M=N[v];v==="style"?hl(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ul(i,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&ki(i,M):typeof M=="number"&&ki(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&et("scroll",i):M!=null&&z(i,v,M,S))}switch(u){case"input":Qr(i),uc(i,d,!1);break;case"textarea":Qr(i),ll(i);break;case"option":d.value!=null&&i.setAttribute("value",""+je(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?Xr(i,!!d.multiple,v,!1):d.defaultValue!=null&&Xr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Fc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(i&&o.stateNode!=null)J_(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=Xs(zl.current),Xs(br.current),Hc(o)){if(d=o.stateNode,u=o.memoizedProps,d[Rr]=o,(v=d.nodeValue!==u)&&(i=kn,i!==null))switch(i.tag){case 3:Mc(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Mc(d.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Rr]=o,o.stateNode=d}return Jt(o),null;case 13:if(tt(lt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(rt&&Nn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)t_(),da(),o.flags|=98560,v=!1;else if(v=Hc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Rr]=o}else da(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),v=!1}else ur!==null&&(Ap(ur),ur=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(lt.current&1)!==0?Vt===0&&(Vt=3):Cp())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return ga(),pp(i,o),i===null&&Ll(o.stateNode.containerInfo),Jt(o),null;case 10:return zf(o.type._context),Jt(o),null;case 17:return yn(o.type)&&Bc(),Jt(o),null;case 19:if(tt(lt),v=o.memoizedState,v===null)return Jt(o),null;if(d=(o.flags&128)!==0,S=v.rendering,S===null)if(d)Gl(v,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=Xc(i),S!==null){for(o.flags|=128,Gl(v,!1),d=S.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,i=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,i=S.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Xe(lt,lt.current&1|2),o.child}i=i.sibling}v.tail!==null&&Ye()>wa&&(o.flags|=128,d=!0,Gl(v,!1),o.lanes=4194304)}else{if(!d)if(i=Xc(S),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Gl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!rt)return Jt(o),null}else 2*Ye()-v.renderingStartTime>wa&&u!==1073741824&&(o.flags|=128,d=!0,Gl(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(u=v.last,u!==null?u.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ye(),o.sibling=null,u=lt.current,Xe(lt,d?u&1|2:u&1),o):(Jt(o),null);case 22:case 23:return Pp(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(Dn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function EP(i,o){switch(Of(o),o.tag){case 1:return yn(o.type)&&Bc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ga(),tt(gn),tt(Yt),Qf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Gf(o),null;case 13:if(tt(lt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));da()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return tt(lt),null;case 4:return ga(),null;case 10:return zf(o.type._context),null;case 22:case 23:return Pp(),null;case 24:return null;default:return null}}var oh=!1,Zt=!1,TP=typeof WeakSet=="function"?WeakSet:Set,ye=null;function va(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){pt(i,o,d)}else u.current=null}function mp(i,o,u){try{u()}catch(d){pt(i,o,d)}}var Z_=!1;function SP(i,o){if(Pf=Ui,i=kv(),_f(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var S=0,N=-1,M=-1,X=0,le=0,ue=i,ae=null;t:for(;;){for(var me;ue!==u||g!==0&&ue.nodeType!==3||(N=S+g),ue!==v||d!==0&&ue.nodeType!==3||(M=S+d),ue.nodeType===3&&(S+=ue.nodeValue.length),(me=ue.firstChild)!==null;)ae=ue,ue=me;for(;;){if(ue===i)break t;if(ae===u&&++X===g&&(N=S),ae===v&&++le===d&&(M=S),(me=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=me}u=N===-1||M===-1?null:{start:N,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Cf={focusedElem:i,selectionRange:u},Ui=!1,ye=o;ye!==null;)if(o=ye,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ye=i;else for(;ye!==null;){o=ye;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var _e=ve.memoizedProps,_t=ve.memoizedState,q=o.stateNode,j=q.getSnapshotBeforeUpdate(o.elementType===o.type?_e:cr(o.type,_e),_t);q.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){pt(o,o.return,ce)}if(i=o.sibling,i!==null){i.return=o.return,ye=i;break}ye=o.return}return ve=Z_,Z_=!1,ve}function Kl(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&i)===i){var v=g.destroy;g.destroy=void 0,v!==void 0&&mp(o,u,v)}g=g.next}while(g!==d)}}function ah(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function gp(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function e0(i){var o=i.alternate;o!==null&&(i.alternate=null,e0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Rr],delete o[Ml],delete o[Nf],delete o[sP],delete o[oP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function t0(i){return i.tag===5||i.tag===3||i.tag===4}function n0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||t0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yp(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Fc));else if(d!==4&&(i=i.child,i!==null))for(yp(i,o,u),i=i.sibling;i!==null;)yp(i,o,u),i=i.sibling}function vp(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(vp(i,o,u),i=i.sibling;i!==null;)vp(i,o,u),i=i.sibling}var Wt=null,hr=!1;function Ki(i,o,u){for(u=u.child;u!==null;)r0(i,o,u),u=u.sibling}function r0(i,o,u){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Us,u)}catch{}switch(u.tag){case 5:Zt||va(u,o);case 6:var d=Wt,g=hr;Wt=null,Ki(i,o,u),Wt=d,hr=g,Wt!==null&&(hr?(i=Wt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Wt.removeChild(u.stateNode));break;case 18:Wt!==null&&(hr?(i=Wt,u=u.stateNode,i.nodeType===8?kf(i.parentNode,u):i.nodeType===1&&kf(i,u),or(i)):kf(Wt,u.stateNode));break;case 4:d=Wt,g=hr,Wt=u.stateNode.containerInfo,hr=!0,Ki(i,o,u),Wt=d,hr=g;break;case 0:case 11:case 14:case 15:if(!Zt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var v=g,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&mp(u,o,S),g=g.next}while(g!==d)}Ki(i,o,u);break;case 1:if(!Zt&&(va(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(N){pt(u,o,N)}Ki(i,o,u);break;case 21:Ki(i,o,u);break;case 22:u.mode&1?(Zt=(d=Zt)||u.memoizedState!==null,Ki(i,o,u),Zt=d):Ki(i,o,u);break;default:Ki(i,o,u)}}function i0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new TP),o.forEach(function(d){var g=NP.bind(null,i,d);u.has(d)||(u.add(d),d.then(g,g))})}}function dr(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];try{var v=i,S=o,N=S;e:for(;N!==null;){switch(N.tag){case 5:Wt=N.stateNode,hr=!1;break e;case 3:Wt=N.stateNode.containerInfo,hr=!0;break e;case 4:Wt=N.stateNode.containerInfo,hr=!0;break e}N=N.return}if(Wt===null)throw Error(n(160));r0(v,S,g),Wt=null,hr=!1;var M=g.alternate;M!==null&&(M.return=null),g.return=null}catch(X){pt(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)s0(o,i),o=o.sibling}function s0(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dr(o,i),Nr(i),d&4){try{Kl(3,i,i.return),ah(3,i)}catch(_e){pt(i,i.return,_e)}try{Kl(5,i,i.return)}catch(_e){pt(i,i.return,_e)}}break;case 1:dr(o,i),Nr(i),d&512&&u!==null&&va(u,u.return);break;case 5:if(dr(o,i),Nr(i),d&512&&u!==null&&va(u,u.return),i.flags&32){var g=i.stateNode;try{ki(g,"")}catch(_e){pt(i,i.return,_e)}}if(d&4&&(g=i.stateNode,g!=null)){var v=i.memoizedProps,S=u!==null?u.memoizedProps:v,N=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{N==="input"&&v.type==="radio"&&v.name!=null&&sl(g,v),pl(N,S);var X=pl(N,v);for(S=0;S<M.length;S+=2){var le=M[S],ue=M[S+1];le==="style"?hl(g,ue):le==="dangerouslySetInnerHTML"?ul(g,ue):le==="children"?ki(g,ue):z(g,le,ue,X)}switch(N){case"input":ol(g,v);break;case"textarea":Vo(g,v);break;case"select":var ae=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var me=v.value;me!=null?Xr(g,!!v.multiple,me,!1):ae!==!!v.multiple&&(v.defaultValue!=null?Xr(g,!!v.multiple,v.defaultValue,!0):Xr(g,!!v.multiple,v.multiple?[]:"",!1))}g[Ml]=v}catch(_e){pt(i,i.return,_e)}}break;case 6:if(dr(o,i),Nr(i),d&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,v=i.memoizedProps;try{g.nodeValue=v}catch(_e){pt(i,i.return,_e)}}break;case 3:if(dr(o,i),Nr(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{or(o.containerInfo)}catch(_e){pt(i,i.return,_e)}break;case 4:dr(o,i),Nr(i);break;case 13:dr(o,i),Nr(i),g=i.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Ep=Ye())),d&4&&i0(i);break;case 22:if(le=u!==null&&u.memoizedState!==null,i.mode&1?(Zt=(X=Zt)||le,dr(o,i),Zt=X):dr(o,i),Nr(i),d&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!le&&(i.mode&1)!==0)for(ye=i,le=i.child;le!==null;){for(ue=ye=le;ye!==null;){switch(ae=ye,me=ae.child,ae.tag){case 0:case 11:case 14:case 15:Kl(4,ae,ae.return);break;case 1:va(ae,ae.return);var ve=ae.stateNode;if(typeof ve.componentWillUnmount=="function"){d=ae,u=ae.return;try{o=d,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(_e){pt(d,u,_e)}}break;case 5:va(ae,ae.return);break;case 22:if(ae.memoizedState!==null){l0(ue);continue}}me!==null?(me.return=ae,ye=me):l0(ue)}le=le.sibling}e:for(le=null,ue=i;;){if(ue.tag===5){if(le===null){le=ue;try{g=ue.stateNode,X?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(N=ue.stateNode,M=ue.memoizedProps.style,S=M!=null&&M.hasOwnProperty("display")?M.display:null,N.style.display=cl("display",S))}catch(_e){pt(i,i.return,_e)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=X?"":ue.memoizedProps}catch(_e){pt(i,i.return,_e)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===i)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===i)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===i)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:dr(o,i),Nr(i),d&4&&i0(i);break;case 21:break;default:dr(o,i),Nr(i)}}function Nr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(t0(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(ki(g,""),d.flags&=-33);var v=n0(i);vp(i,v,g);break;case 3:case 4:var S=d.stateNode.containerInfo,N=n0(i);yp(i,N,S);break;default:throw Error(n(161))}}catch(M){pt(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function IP(i,o,u){ye=i,o0(i)}function o0(i,o,u){for(var d=(i.mode&1)!==0;ye!==null;){var g=ye,v=g.child;if(g.tag===22&&d){var S=g.memoizedState!==null||oh;if(!S){var N=g.alternate,M=N!==null&&N.memoizedState!==null||Zt;N=oh;var X=Zt;if(oh=S,(Zt=M)&&!X)for(ye=g;ye!==null;)S=ye,M=S.child,S.tag===22&&S.memoizedState!==null?u0(g):M!==null?(M.return=S,ye=M):u0(g);for(;v!==null;)ye=v,o0(v),v=v.sibling;ye=g,oh=N,Zt=X}a0(i)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,ye=v):a0(i)}}function a0(i){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Zt||ah(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Zt)if(u===null)d.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:cr(o.type,u.memoizedProps);d.componentDidUpdate(g,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&l_(o,v,d);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}l_(o,S,u)}break;case 5:var N=o.stateNode;if(u===null&&o.flags&4){u=N;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var le=X.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&or(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zt||o.flags&512&&gp(o)}catch(ae){pt(o,o.return,ae)}}if(o===i){ye=null;break}if(u=o.sibling,u!==null){u.return=o.return,ye=u;break}ye=o.return}}function l0(i){for(;ye!==null;){var o=ye;if(o===i){ye=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ye=u;break}ye=o.return}}function u0(i){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{ah(4,o)}catch(M){pt(o,u,M)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var g=o.return;try{d.componentDidMount()}catch(M){pt(o,g,M)}}var v=o.return;try{gp(o)}catch(M){pt(o,v,M)}break;case 5:var S=o.return;try{gp(o)}catch(M){pt(o,S,M)}}}catch(M){pt(o,o.return,M)}if(o===i){ye=null;break}var N=o.sibling;if(N!==null){N.return=o.return,ye=N;break}ye=o.return}}var AP=Math.ceil,lh=ne.ReactCurrentDispatcher,_p=ne.ReactCurrentOwner,Wn=ne.ReactCurrentBatchConfig,We=0,Ut=null,It=null,Ht=0,Dn=0,_a=$i(0),Vt=0,Ql=null,Zs=0,uh=0,wp=0,Yl=null,_n=null,Ep=0,wa=1/0,di=null,ch=!1,Tp=null,Qi=null,hh=!1,Yi=null,dh=0,Xl=0,Sp=null,fh=-1,ph=0;function cn(){return(We&6)!==0?Ye():fh!==-1?fh:fh=Ye()}function Xi(i){return(i.mode&1)===0?1:(We&2)!==0&&Ht!==0?Ht&-Ht:lP.transition!==null?(ph===0&&(ph=js()),ph):(i=Be,i!==0||(i=window.event,i=i===void 0?16:Al(i.type)),i)}function fr(i,o,u,d){if(50<Xl)throw Xl=0,Sp=null,Error(n(185));Li(i,u,d),((We&2)===0||i!==Ut)&&(i===Ut&&((We&2)===0&&(uh|=u),Vt===4&&Ji(i,Ht)),wn(i,d),u===1&&We===0&&(o.mode&1)===0&&(wa=Ye()+500,zc&&Hi()))}function wn(i,o){var u=i.callbackNode;ei(i,o);var d=Bs(i,i===Ut?Ht:0);if(d===0)u!==null&&wl(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&wl(u),o===1)i.tag===0?aP(h0.bind(null,i)):Yv(h0.bind(null,i)),rP(function(){(We&6)===0&&Hi()}),u=null;else{switch(Mi(d)){case 1:u=Fs;break;case 4:u=Ni;break;case 16:u=Mn;break;case 536870912:u=pc;break;default:u=Mn}u=_0(u,c0.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function c0(i,o){if(fh=-1,ph=0,(We&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Ea()&&i.callbackNode!==u)return null;var d=Bs(i,i===Ut?Ht:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=mh(i,d);else{o=d;var g=We;We|=2;var v=f0();(Ut!==i||Ht!==o)&&(di=null,wa=Ye()+500,to(i,o));do try{CP();break}catch(N){d0(i,N)}while(!0);jf(),lh.current=v,We=g,It!==null?o=0:(Ut=null,Ht=0,o=Vt)}if(o!==0){if(o===2&&(g=Cn(i),g!==0&&(d=g,o=Ip(i,g))),o===1)throw u=Ql,to(i,0),Ji(i,d),wn(i,Ye()),u;if(o===6)Ji(i,d);else{if(g=i.current.alternate,(d&30)===0&&!xP(g)&&(o=mh(i,d),o===2&&(v=Cn(i),v!==0&&(d=v,o=Ip(i,v))),o===1))throw u=Ql,to(i,0),Ji(i,d),wn(i,Ye()),u;switch(i.finishedWork=g,i.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:no(i,_n,di);break;case 3:if(Ji(i,d),(d&130023424)===d&&(o=Ep+500-Ye(),10<o)){if(Bs(i,0)!==0)break;if(g=i.suspendedLanes,(g&d)!==d){cn(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=bf(no.bind(null,i,_n,di),o);break}no(i,_n,di);break;case 4:if(Ji(i,d),(d&4194240)===d)break;for(o=i.eventTimes,g=-1;0<d;){var S=31-an(d);v=1<<S,S=o[S],S>g&&(g=S),d&=~v}if(d=g,d=Ye()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*AP(d/1960))-d,10<d){i.timeoutHandle=bf(no.bind(null,i,_n,di),d);break}no(i,_n,di);break;case 5:no(i,_n,di);break;default:throw Error(n(329))}}}return wn(i,Ye()),i.callbackNode===u?c0.bind(null,i):null}function Ip(i,o){var u=Yl;return i.current.memoizedState.isDehydrated&&(to(i,o).flags|=256),i=mh(i,o),i!==2&&(o=_n,_n=u,o!==null&&Ap(o)),i}function Ap(i){_n===null?_n=i:_n.push.apply(_n,i)}function xP(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var g=u[d],v=g.getSnapshot;g=g.value;try{if(!lr(v(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ji(i,o){for(o&=~wp,o&=~uh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-an(o),d=1<<u;i[u]=-1,o&=~d}}function h0(i){if((We&6)!==0)throw Error(n(327));Ea();var o=Bs(i,0);if((o&1)===0)return wn(i,Ye()),null;var u=mh(i,o);if(i.tag!==0&&u===2){var d=Cn(i);d!==0&&(o=d,u=Ip(i,d))}if(u===1)throw u=Ql,to(i,0),Ji(i,o),wn(i,Ye()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,no(i,_n,di),wn(i,Ye()),null}function xp(i,o){var u=We;We|=1;try{return i(o)}finally{We=u,We===0&&(wa=Ye()+500,zc&&Hi())}}function eo(i){Yi!==null&&Yi.tag===0&&(We&6)===0&&Ea();var o=We;We|=1;var u=Wn.transition,d=Be;try{if(Wn.transition=null,Be=1,i)return i()}finally{Be=d,Wn.transition=u,We=o,(We&6)===0&&Hi()}}function Pp(){Dn=_a.current,tt(_a)}function to(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,nP(u)),It!==null)for(u=It.return;u!==null;){var d=u;switch(Of(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Bc();break;case 3:ga(),tt(gn),tt(Yt),Qf();break;case 5:Gf(d);break;case 4:ga();break;case 13:tt(lt);break;case 19:tt(lt);break;case 10:zf(d.type._context);break;case 22:case 23:Pp()}u=u.return}if(Ut=i,It=i=Zi(i.current,null),Ht=Dn=o,Vt=0,Ql=null,wp=uh=Zs=0,_n=Yl=null,Ys!==null){for(o=0;o<Ys.length;o++)if(u=Ys[o],d=u.interleaved,d!==null){u.interleaved=null;var g=d.next,v=u.pending;if(v!==null){var S=v.next;v.next=g,d.next=S}u.pending=d}Ys=null}return i}function d0(i,o){do{var u=It;try{if(jf(),Jc.current=nh,Zc){for(var d=ut.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Zc=!1}if(Js=0,Ft=Dt=ut=null,$l=!1,Wl=0,_p.current=null,u===null||u.return===null){Vt=1,Ql=o,It=null;break}e:{var v=i,S=u.return,N=u,M=o;if(o=Ht,N.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var X=M,le=N,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var me=M_(S);if(me!==null){me.flags&=-257,F_(me,S,N,v,o),me.mode&1&&O_(v,X,o),o=me,M=X;var ve=o.updateQueue;if(ve===null){var _e=new Set;_e.add(M),o.updateQueue=_e}else ve.add(M);break e}else{if((o&1)===0){O_(v,X,o),Cp();break e}M=Error(n(426))}}else if(rt&&N.mode&1){var _t=M_(S);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),F_(_t,S,N,v,o),Uf(ya(M,N));break e}}v=M=ya(M,N),Vt!==4&&(Vt=2),Yl===null?Yl=[v]:Yl.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var q=V_(v,M,o);a_(v,q);break e;case 1:N=M;var j=v.type,K=v.stateNode;if((v.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Qi===null||!Qi.has(K)))){v.flags|=65536,o&=-o,v.lanes|=o;var ce=L_(v,N,o);a_(v,ce);break e}}v=v.return}while(v!==null)}m0(u)}catch(we){o=we,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function f0(){var i=lh.current;return lh.current=nh,i===null?nh:i}function Cp(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ut===null||(Zs&268435455)===0&&(uh&268435455)===0||Ji(Ut,Ht)}function mh(i,o){var u=We;We|=2;var d=f0();(Ut!==i||Ht!==o)&&(di=null,to(i,o));do try{PP();break}catch(g){d0(i,g)}while(!0);if(jf(),We=u,lh.current=d,It!==null)throw Error(n(261));return Ut=null,Ht=0,Vt}function PP(){for(;It!==null;)p0(It)}function CP(){for(;It!==null&&!dc();)p0(It)}function p0(i){var o=v0(i.alternate,i,Dn);i.memoizedProps=i.pendingProps,o===null?m0(i):It=o,_p.current=null}function m0(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=wP(u,o,Dn),u!==null){It=u;return}}else{if(u=EP(u,o),u!==null){u.flags&=32767,It=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Vt=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=i}while(o!==null);Vt===0&&(Vt=5)}function no(i,o,u){var d=Be,g=Wn.transition;try{Wn.transition=null,Be=1,RP(i,o,u,d)}finally{Wn.transition=g,Be=d}return null}function RP(i,o,u,d){do Ea();while(Yi!==null);if((We&6)!==0)throw Error(n(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Ke(i,v),i===Ut&&(It=Ut=null,Ht=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||hh||(hh=!0,_0(Mn,function(){return Ea(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Wn.transition,Wn.transition=null;var S=Be;Be=1;var N=We;We|=4,_p.current=null,SP(i,u),s0(u,i),Qx(Cf),Ui=!!Pf,Cf=Pf=null,i.current=u,IP(u),hf(),We=N,Be=S,Wn.transition=v}else i.current=u;if(hh&&(hh=!1,Yi=i,dh=g),v=i.pendingLanes,v===0&&(Qi=null),mc(u.stateNode),wn(i,Ye()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],d(g.value,{componentStack:g.stack,digest:g.digest});if(ch)throw ch=!1,i=Tp,Tp=null,i;return(dh&1)!==0&&i.tag!==0&&Ea(),v=i.pendingLanes,(v&1)!==0?i===Sp?Xl++:(Xl=0,Sp=i):Xl=0,Hi(),null}function Ea(){if(Yi!==null){var i=Mi(dh),o=Wn.transition,u=Be;try{if(Wn.transition=null,Be=16>i?16:i,Yi===null)var d=!1;else{if(i=Yi,Yi=null,dh=0,(We&6)!==0)throw Error(n(331));var g=We;for(We|=4,ye=i.current;ye!==null;){var v=ye,S=v.child;if((ye.flags&16)!==0){var N=v.deletions;if(N!==null){for(var M=0;M<N.length;M++){var X=N[M];for(ye=X;ye!==null;){var le=ye;switch(le.tag){case 0:case 11:case 15:Kl(8,le,v)}var ue=le.child;if(ue!==null)ue.return=le,ye=ue;else for(;ye!==null;){le=ye;var ae=le.sibling,me=le.return;if(e0(le),le===X){ye=null;break}if(ae!==null){ae.return=me,ye=ae;break}ye=me}}}var ve=v.alternate;if(ve!==null){var _e=ve.child;if(_e!==null){ve.child=null;do{var _t=_e.sibling;_e.sibling=null,_e=_t}while(_e!==null)}}ye=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,ye=S;else e:for(;ye!==null;){if(v=ye,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Kl(9,v,v.return)}var q=v.sibling;if(q!==null){q.return=v.return,ye=q;break e}ye=v.return}}var j=i.current;for(ye=j;ye!==null;){S=ye;var K=S.child;if((S.subtreeFlags&2064)!==0&&K!==null)K.return=S,ye=K;else e:for(S=j;ye!==null;){if(N=ye,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:ah(9,N)}}catch(we){pt(N,N.return,we)}if(N===S){ye=null;break e}var ce=N.sibling;if(ce!==null){ce.return=N.return,ye=ce;break e}ye=N.return}}if(We=g,Hi(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Us,i)}catch{}d=!0}return d}finally{Be=u,Wn.transition=o}}return!1}function g0(i,o,u){o=ya(u,o),o=V_(i,o,1),i=Gi(i,o,1),o=cn(),i!==null&&(Li(i,1,o),wn(i,o))}function pt(i,o,u){if(i.tag===3)g0(i,i,u);else for(;o!==null;){if(o.tag===3){g0(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Qi===null||!Qi.has(d))){i=ya(u,i),i=L_(o,i,1),o=Gi(o,i,1),i=cn(),o!==null&&(Li(o,1,i),wn(o,i));break}}o=o.return}}function bP(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=cn(),i.pingedLanes|=i.suspendedLanes&u,Ut===i&&(Ht&u)===u&&(Vt===4||Vt===3&&(Ht&130023424)===Ht&&500>Ye()-Ep?to(i,0):wp|=u),wn(i,o)}function y0(i,o){o===0&&((i.mode&1)===0?o=1:(o=Wo,Wo<<=1,(Wo&130023424)===0&&(Wo=4194304)));var u=cn();i=ui(i,o),i!==null&&(Li(i,o,u),wn(i,u))}function kP(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),y0(i,u)}function NP(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),y0(i,u)}var v0;v0=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||gn.current)vn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return vn=!1,_P(i,o,u);vn=(i.flags&131072)!==0}else vn=!1,rt&&(o.flags&1048576)!==0&&Xv(o,Wc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;sh(i,o),i=o.pendingProps;var g=ua(o,Yt.current);ma(o,u),g=Jf(null,o,d,i,g,u);var v=Zf();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,yn(d)?(v=!0,jc(o)):v=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Hf(o),g.updater=rh,o.stateNode=g,g._reactInternals=o,sp(o,d,i,u),o=up(null,o,d,!0,v,u)):(o.tag=0,rt&&v&&Lf(o),un(null,o,g,u),o=o.child),o;case 16:d=o.elementType;e:{switch(sh(i,o),i=o.pendingProps,g=d._init,d=g(d._payload),o.type=d,g=o.tag=VP(d),i=cr(d,i),g){case 0:o=lp(null,o,d,i,u);break e;case 1:o=W_(null,o,d,i,u);break e;case 11:o=U_(null,o,d,i,u);break e;case 14:o=B_(null,o,d,cr(d.type,i),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:cr(d,g),lp(i,o,d,g,u);case 1:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:cr(d,g),W_(i,o,d,g,u);case 3:e:{if(H_(o),i===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,g=v.element,o_(i,o),Yc(o,d,null,u);var S=o.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){g=ya(Error(n(423)),o),o=q_(i,o,d,u,g);break e}else if(d!==g){g=ya(Error(n(424)),o),o=q_(i,o,d,u,g);break e}else for(Nn=zi(o.stateNode.containerInfo.firstChild),kn=o,rt=!0,ur=null,u=i_(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(da(),d===g){o=hi(i,o,u);break e}un(i,o,d,u)}o=o.child}return o;case 5:return u_(o),i===null&&Ff(o),d=o.type,g=o.pendingProps,v=i!==null?i.memoizedProps:null,S=g.children,Rf(d,g)?S=null:v!==null&&Rf(d,v)&&(o.flags|=32),$_(i,o),un(i,o,S,u),o.child;case 6:return i===null&&Ff(o),null;case 13:return G_(i,o,u);case 4:return qf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=fa(o,null,d,u):un(i,o,d,u),o.child;case 11:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:cr(d,g),U_(i,o,d,g,u);case 7:return un(i,o,o.pendingProps,u),o.child;case 8:return un(i,o,o.pendingProps.children,u),o.child;case 12:return un(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,g=o.pendingProps,v=o.memoizedProps,S=g.value,Xe(Gc,d._currentValue),d._currentValue=S,v!==null)if(lr(v.value,S)){if(v.children===g.children&&!gn.current){o=hi(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var N=v.dependencies;if(N!==null){S=v.child;for(var M=N.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=ci(-1,u&-u),M.tag=2;var X=v.updateQueue;if(X!==null){X=X.shared;var le=X.pending;le===null?M.next=M:(M.next=le.next,le.next=M),X.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),$f(v.return,u,o),N.lanes|=u;break}M=M.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(n(341));S.lanes|=u,N=S.alternate,N!==null&&(N.lanes|=u),$f(S,u,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}un(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,d=o.pendingProps.children,ma(o,u),g=zn(g),d=d(g),o.flags|=1,un(i,o,d,u),o.child;case 14:return d=o.type,g=cr(d,o.pendingProps),g=cr(d.type,g),B_(i,o,d,g,u);case 15:return j_(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:cr(d,g),sh(i,o),o.tag=1,yn(d)?(i=!0,jc(o)):i=!1,ma(o,u),N_(o,d,g),sp(o,d,g,u),up(null,o,d,!0,i,u);case 19:return Q_(i,o,u);case 22:return z_(i,o,u)}throw Error(n(156,o.tag))};function _0(i,o){return zo(i,o)}function DP(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(i,o,u,d){return new DP(i,o,u,d)}function Rp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function VP(i){if(typeof i=="function")return Rp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===W)return 11;if(i===Q)return 14}return 2}function Zi(i,o){var u=i.alternate;return u===null?(u=Hn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function gh(i,o,u,d,g,v){var S=2;if(d=i,typeof i=="function")Rp(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case O:return ro(u.children,g,v,o);case x:S=8,g|=8;break;case R:return i=Hn(12,u,o,g|2),i.elementType=R,i.lanes=v,i;case V:return i=Hn(13,u,o,g),i.elementType=V,i.lanes=v,i;case te:return i=Hn(19,u,o,g),i.elementType=te,i.lanes=v,i;case Y:return yh(u,g,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:S=10;break e;case F:S=9;break e;case W:S=11;break e;case Q:S=14;break e;case ee:S=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Hn(S,u,o,g),o.elementType=i,o.type=d,o.lanes=v,o}function ro(i,o,u,d){return i=Hn(7,i,d,o),i.lanes=u,i}function yh(i,o,u,d){return i=Hn(22,i,d,o),i.elementType=Y,i.lanes=u,i.stateNode={isHidden:!1},i}function bp(i,o,u){return i=Hn(6,i,null,o),i.lanes=u,i}function kp(i,o,u){return o=Hn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function LP(i,o,u,d,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Np(i,o,u,d,g,v,S,N,M){return i=new LP(i,o,u,N,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Hn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hf(v),i}function OP(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function w0(i){if(!i)return Wi;i=i._reactInternals;e:{if(tr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(yn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(yn(u))return Kv(i,u,o)}return o}function E0(i,o,u,d,g,v,S,N,M){return i=Np(u,d,!0,i,g,v,S,N,M),i.context=w0(null),u=i.current,d=cn(),g=Xi(u),v=ci(d,g),v.callback=o??null,Gi(u,v,g),i.current.lanes=g,Li(i,g,d),wn(i,d),i}function vh(i,o,u,d){var g=o.current,v=cn(),S=Xi(g);return u=w0(u),o.context===null?o.context=u:o.pendingContext=u,o=ci(v,S),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Gi(g,o,S),i!==null&&(fr(i,g,S,v),Qc(i,g,S)),S}function _h(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function T0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Dp(i,o){T0(i,o),(i=i.alternate)&&T0(i,o)}function MP(){return null}var S0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Vp(i){this._internalRoot=i}wh.prototype.render=Vp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));vh(i,o,null,null)},wh.prototype.unmount=Vp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;eo(function(){vh(null,i,null,null)}),o[si]=null}};function wh(i){this._internalRoot=i}wh.prototype.unstable_scheduleHydration=function(i){if(i){var o=wc();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ar.length&&o!==0&&o<Ar[u].priority;u++);Ar.splice(u,0,i),u===0&&Sc(i)}};function Lp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Eh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function I0(){}function FP(i,o,u,d,g){if(g){if(typeof d=="function"){var v=d;d=function(){var X=_h(S);v.call(X)}}var S=E0(o,d,i,0,null,!1,!1,"",I0);return i._reactRootContainer=S,i[si]=S.current,Ll(i.nodeType===8?i.parentNode:i),eo(),S}for(;g=i.lastChild;)i.removeChild(g);if(typeof d=="function"){var N=d;d=function(){var X=_h(M);N.call(X)}}var M=Np(i,0,!1,null,null,!1,!1,"",I0);return i._reactRootContainer=M,i[si]=M.current,Ll(i.nodeType===8?i.parentNode:i),eo(function(){vh(o,M,u,d)}),M}function Th(i,o,u,d,g){var v=u._reactRootContainer;if(v){var S=v;if(typeof g=="function"){var N=g;g=function(){var M=_h(S);N.call(M)}}vh(o,S,i,g)}else S=FP(u,o,i,g,d);return _h(S)}vc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Di(o.pendingLanes);u!==0&&(Oi(o,u|1),wn(o,Ye()),(We&6)===0&&(wa=Ye()+500,Hi()))}break;case 13:eo(function(){var d=ui(i,1);if(d!==null){var g=cn();fr(d,i,1,g)}}),Dp(i,1)}},Ho=function(i){if(i.tag===13){var o=ui(i,134217728);if(o!==null){var u=cn();fr(o,i,134217728,u)}Dp(i,134217728)}},_c=function(i){if(i.tag===13){var o=Xi(i),u=ui(i,o);if(u!==null){var d=cn();fr(u,i,o,d)}Dp(i,o)}},wc=function(){return Be},Ec=function(i,o){var u=Be;try{return Be=i,o()}finally{Be=u}},Oo=function(i,o,u){switch(o){case"input":if(ol(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var g=Uc(d);if(!g)throw Error(n(90));bo(d),ol(d,g)}}}break;case"textarea":Vo(i,u);break;case"select":o=u.value,o!=null&&Xr(i,!!u.multiple,o,!1)}},Vs=xp,gl=eo;var UP={usingClientEntryPoint:!1,Events:[Fl,aa,Uc,Sr,ml,xp]},Jl={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BP={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=_l(i),i===null?null:i.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||MP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Us=Sh.inject(BP),Pn=Sh}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP,En.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(o))throw Error(n(200));return OP(i,o,null,u)},En.createRoot=function(i,o){if(!Lp(i))throw Error(n(299));var u=!1,d="",g=S0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Np(i,1,!1,null,null,u,!1,d,g),i[si]=o.current,Ll(i.nodeType===8?i.parentNode:i),new Vp(o)},En.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=_l(o),i=i===null?null:i.stateNode,i},En.flushSync=function(i){return eo(i)},En.hydrate=function(i,o,u){if(!Eh(o))throw Error(n(200));return Th(null,i,o,!0,u)},En.hydrateRoot=function(i,o,u){if(!Lp(i))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,g=!1,v="",S=S0;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=E0(o,null,i,1,u??null,g,!1,v,S),i[si]=o.current,Ll(i),d)for(i=0;i<d.length;i++)u=d[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new wh(o)},En.render=function(i,o,u){if(!Eh(o))throw Error(n(200));return Th(null,i,o,!1,u)},En.unmountComponentAtNode=function(i){if(!Eh(i))throw Error(n(40));return i._reactRootContainer?(eo(function(){Th(null,null,i,!1,function(){i._reactRootContainer=null,i[si]=null})}),!0):!1},En.unstable_batchedUpdates=xp,En.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!Eh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Th(i,o,u,!1,d)},En.version="18.3.1-next-f1338f8080-20240426",En}var b0;function qP(){if(b0)return Mp.exports;b0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mp.exports=HP(),Mp.exports}var k0;function GP(){if(k0)return Ih;k0=1;var t=qP();return Ih.createRoot=t.createRoot,Ih.hydrateRoot=t.hydrateRoot,Ih}var KP=GP();const QP=xg(KP);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N0="popstate";function YP(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Sm("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Tu(s)}return JP(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XP(){return Math.random().toString(36).substring(2,10)}function D0(t,e){return{usr:t.state,key:t.key,idx:e}}function Sm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ga(e):e,state:n,key:e&&e.key||r||XP()}}function Tu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ga(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function JP(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",f=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function E(){c="POP";let C=m(),U=C==null?null:C-p;p=C,f&&f({action:c,location:D.location,delta:U})}function w(C,U){c="PUSH";let $=Sm(D.location,C,U);p=m()+1;let z=D0($,p),ne=D.createHref($);try{l.pushState(z,"",ne)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;s.location.assign(ne)}a&&f&&f({action:c,location:D.location,delta:1})}function I(C,U){c="REPLACE";let $=Sm(D.location,C,U);p=m();let z=D0($,p),ne=D.createHref($);l.replaceState(z,"",ne),a&&f&&f({action:c,location:D.location,delta:0})}function P(C){return ZP(C)}let D={get action(){return c},get location(){return t(s,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(N0,E),f=C,()=>{s.removeEventListener(N0,E),f=null}},createHref(C){return e(s,C)},createURL:P,encodeLocation(C){let U=P(C);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:I,go(C){return l.go(C)}};return D}function ZP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Tu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function jT(t,e,n="/"){return eC(t,e,n,!1)}function eC(t,e,n,r){let s=typeof e=="string"?Ga(e):e,a=wi(s.pathname||"/",n);if(a==null)return null;let l=zT(t);tC(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=dC(a);c=cC(l[f],p,r)}return c}function zT(t,e=[],n=[],r="",s=!1){let a=(l,c,f=s,p)=>{let m={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&f)return;at(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let E=yi([r,m.relativePath]),w=n.concat(m);l.children&&l.children.length>0&&(at(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),zT(l.children,e,w,E,f)),!(l.path==null&&!l.index)&&e.push({path:E,score:lC(E,l.index),routesMeta:w})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let f of $T(l.path))a(l,c,!0,f)}),e}function $T(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=$T(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function tC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nC=/^:[\w-]+$/,rC=3,iC=2,sC=1,oC=10,aC=-2,V0=t=>t==="*";function lC(t,e){let n=t.split("/"),r=n.length;return n.some(V0)&&(r+=aC),e&&(r+=iC),n.filter(s=>!V0(s)).reduce((s,a)=>s+(nC.test(a)?rC:a===""?sC:oC),r)}function uC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function cC(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",E=nd({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),w=f.route;if(!E&&p&&n&&!r[r.length-1].route.index&&(E=nd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!E)return null;Object.assign(s,E.params),l.push({params:s,pathname:yi([a,E.pathname]),pathnameBase:gC(yi([a,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(a=yi([a,E.pathnameBase]))}return l}function nd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:E},w)=>{if(m==="*"){let P=c[w]||"";l=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const I=c[w];return E&&!I?p[m]=void 0:p[m]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function hC(t,e=!1,n=!0){yr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function dC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fC(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ga(t):t;return{pathname:n?n.startsWith("/")?n:pC(n,e):e,search:yC(r),hash:vC(s)}}function pC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cg(t){let e=mC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Rg(t,e,n,r=!1){let s;typeof t=="string"?s=Ga(t):(s={...t},at(!s.pathname||!s.pathname.includes("?"),Bp("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Bp("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Bp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let E=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),E-=1;s.pathname=w.join("/")}c=E>=0?e[E]:"/"}let f=fC(s,c),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var yi=t=>t.join("/").replace(/\/\/+/g,"/"),gC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _C(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var WT=["POST","PUT","PATCH","DELETE"];new Set(WT);var wC=["GET",...WT];new Set(wC);var Ka=b.createContext(null);Ka.displayName="DataRouter";var Cd=b.createContext(null);Cd.displayName="DataRouterState";b.createContext(!1);var HT=b.createContext({isTransitioning:!1});HT.displayName="ViewTransition";var EC=b.createContext(new Map);EC.displayName="Fetchers";var TC=b.createContext(null);TC.displayName="Await";var wr=b.createContext(null);wr.displayName="Navigation";var $u=b.createContext(null);$u.displayName="Location";var Er=b.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var bg=b.createContext(null);bg.displayName="RouteError";function SC(t,{relative:e}={}){at(Qa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(wr),{hash:s,pathname:a,search:l}=Wu(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:yi([n,a])),r.createHref({pathname:c,search:l,hash:s})}function Qa(){return b.useContext($u)!=null}function Ci(){return at(Qa(),"useLocation() may be used only in the context of a <Router> component."),b.useContext($u).location}var qT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(t){b.useContext(wr).static||b.useLayoutEffect(t)}function Es(){let{isDataRoute:t}=b.useContext(Er);return t?OC():IC()}function IC(){at(Qa(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Ka),{basename:e,navigator:n}=b.useContext(wr),{matches:r}=b.useContext(Er),{pathname:s}=Ci(),a=JSON.stringify(Cg(r)),l=b.useRef(!1);return GT(()=>{l.current=!0}),b.useCallback((f,p={})=>{if(yr(l.current,qT),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=Rg(f,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:yi([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,a,s,t])}b.createContext(null);function KT(){let{matches:t}=b.useContext(Er),e=t[t.length-1];return e?e.params:{}}function Wu(t,{relative:e}={}){let{matches:n}=b.useContext(Er),{pathname:r}=Ci(),s=JSON.stringify(Cg(n));return b.useMemo(()=>Rg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function AC(t,e){return QT(t,e)}function QT(t,e,n,r,s){at(Qa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(wr),{matches:l}=b.useContext(Er),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",E=c&&c.route;{let $=E&&E.path||"";YT(p,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=Ci(),I;if(e){let $=typeof e=="string"?Ga(e):e;at(m==="/"||$.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${$.pathname}" was given in the \`location\` prop.`),I=$}else I=w;let P=I.pathname||"/",D=P;if(m!=="/"){let $=m.replace(/^\//,"").split("/");D="/"+P.replace(/^\//,"").split("/").slice($.length).join("/")}let C=jT(t,{pathname:D});yr(E||C!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),yr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=bC(C&&C.map($=>Object.assign({},$,{params:Object.assign({},f,$.params),pathname:yi([m,a.encodeLocation?a.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?m:yi([m,a.encodeLocation?a.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),l,n,r,s);return e&&U?b.createElement($u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},U):U}function xC(){let t=LC(),e=_C(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,l)}var PC=b.createElement(xC,null),CC=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(Er.Provider,{value:this.props.routeContext},b.createElement(bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RC({routeContext:t,match:e,children:n}){let r=b.useContext(Ka);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Er.Provider,{value:t},n)}function bC(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,f=-1;if(n)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:E,errors:w}=n,I=m.route.loader&&!E.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||I){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,m,E)=>{let w,I=!1,P=null,D=null;n&&(w=l&&m.route.id?l[m.route.id]:void 0,P=m.route.errorElement||PC,c&&(f<0&&E===0?(YT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,D=null):f===E&&(I=!0,D=m.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,E+1)),U=()=>{let $;return w?$=P:I?$=D:m.route.Component?$=b.createElement(m.route.Component,null):m.route.element?$=m.route.element:$=p,b.createElement(RC,{match:m,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:$})};return n&&(m.route.ErrorBoundary||m.route.errorElement||E===0)?b.createElement(CC,{location:n.location,revalidation:n.revalidation,component:P,error:w,children:U(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):U()},null)}function kg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kC(t){let e=b.useContext(Ka);return at(e,kg(t)),e}function NC(t){let e=b.useContext(Cd);return at(e,kg(t)),e}function DC(t){let e=b.useContext(Er);return at(e,kg(t)),e}function Ng(t){let e=DC(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function VC(){return Ng("useRouteId")}function LC(){let t=b.useContext(bg),e=NC("useRouteError"),n=Ng("useRouteError");return t!==void 0?t:e.errors?.[n]}function OC(){let{router:t}=kC("useNavigate"),e=Ng("useNavigate"),n=b.useRef(!1);return GT(()=>{n.current=!0}),b.useCallback(async(s,a={})=>{yr(n.current,qT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var L0={};function YT(t,e,n){!e&&!L0[t]&&(L0[t]=!0,yr(!1,n))}b.memo(MC);function MC({routes:t,future:e,state:n,unstable_onError:r}){return QT(t,void 0,n,r,e)}function FC({to:t,replace:e,state:n,relative:r}){at(Qa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(wr);yr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=b.useContext(Er),{pathname:l}=Ci(),c=Es(),f=Rg(t,Cg(a),l,r==="path"),p=JSON.stringify(f);return b.useEffect(()=>{c(JSON.parse(p),{replace:e,state:n,relative:r})},[c,p,r,e,n]),null}function tn(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){at(!Qa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Ga(n));let{pathname:f="/",search:p="",hash:m="",state:E=null,key:w="default"}=n,I=b.useMemo(()=>{let P=wi(f,l);return P==null?null:{location:{pathname:P,search:p,hash:m,state:E,key:w},navigationType:r}},[l,f,p,m,E,w,r]);return yr(I!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:b.createElement(wr.Provider,{value:c},b.createElement($u.Provider,{children:e,value:I}))}function BC({children:t,location:e}){return AC(Im(t),e)}function Im(t,e=[]){let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let a=[...e,s];if(r.type===b.Fragment){n.push.apply(n,Im(r.props.children,a));return}at(r.type===tn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Im(r.props.children,a)),n.push(l)}),n}var Uh="get",Bh="application/x-www-form-urlencoded";function Rd(t){return t!=null&&typeof t.tagName=="string"}function jC(t){return Rd(t)&&t.tagName.toLowerCase()==="button"}function zC(t){return Rd(t)&&t.tagName.toLowerCase()==="form"}function $C(t){return Rd(t)&&t.tagName.toLowerCase()==="input"}function WC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HC(t,e){return t.button===0&&(!e||e==="_self")&&!WC(t)}var Ah=null;function qC(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var GC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jp(t){return t!=null&&!GC.has(t)?(yr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):t}function KC(t,e){let n,r,s,a,l;if(zC(t)){let c=t.getAttribute("action");r=c?wi(c,e):null,n=t.getAttribute("method")||Uh,s=jp(t.getAttribute("enctype"))||Bh,a=new FormData(t)}else if(jC(t)||$C(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(r=f?wi(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Uh,s=jp(t.getAttribute("formenctype"))||jp(c.getAttribute("enctype"))||Bh,a=new FormData(c,t),!qC()){let{name:p,type:m,value:E}=t;if(m==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,E)}}else{if(Rd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uh,r=null,s=Bh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QC(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&wi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function YC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function JC(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await YC(a,n);return l.links?l.links():[]}return[]}));return nR(r.flat(1).filter(XC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function O0(t,e,n,r,s,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,c=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function ZC(t,e,{includeHydrateFallback:n}={}){return eR(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function eR(t){return[...new Set(t)]}function tR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function nR(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(tR(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function XT(){let t=b.useContext(Ka);return Dg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rR(){let t=b.useContext(Cd);return Dg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vg=b.createContext(void 0);Vg.displayName="FrameworkContext";function JT(){let t=b.useContext(Vg);return Dg(t,"You must render this element inside a <HydratedRouter> element"),t}function iR(t,e){let n=b.useContext(Vg),[r,s]=b.useState(!1),[a,l]=b.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:E}=e,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let D=U=>{U.forEach($=>{l($.isIntersecting)})},C=new IntersectionObserver(D,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[t]),b.useEffect(()=>{if(r){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[r]);let I=()=>{s(!0)},P=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:Zl(c,I),onBlur:Zl(f,P),onMouseEnter:Zl(p,I),onMouseLeave:Zl(m,P),onTouchStart:Zl(E,I)}]:[!1,w,{}]}function Zl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function sR({page:t,...e}){let{router:n}=XT(),r=b.useMemo(()=>jT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(aR,{page:t,matches:r,...e}):null}function oR(t){let{manifest:e,routeModules:n}=JT(),[r,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return JC(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function aR({page:t,matches:e,...n}){let r=Ci(),{manifest:s,routeModules:a}=JT(),{basename:l}=XT(),{loaderData:c,matches:f}=rR(),p=b.useMemo(()=>O0(t,e,f,s,r,"data"),[t,e,f,s,r]),m=b.useMemo(()=>O0(t,e,f,s,r,"assets"),[t,e,f,s,r]),E=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let P=new Set,D=!1;if(e.forEach(U=>{let $=s.routes[U.route.id];!$||!$.hasLoader||(!p.some(z=>z.route.id===U.route.id)&&U.route.id in c&&a[U.route.id]?.shouldRevalidate||$.hasClientLoader?D=!0:P.add(U.route.id))}),P.size===0)return[];let C=QC(t,l,"data");return D&&P.size>0&&C.searchParams.set("_routes",e.filter(U=>P.has(U.route.id)).map(U=>U.route.id).join(",")),[C.pathname+C.search]},[l,c,r,s,p,e,t,a]),w=b.useMemo(()=>ZC(m,s),[m,s]),I=oR(m);return b.createElement(b.Fragment,null,E.map(P=>b.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),w.map(P=>b.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),I.map(({key:P,link:D})=>b.createElement("link",{key:P,nonce:n.nonce,...D})))}function lR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZT&&(window.__reactRouterVersion="7.9.1")}catch{}function uR({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=YP({window:n,v5Compat:!0}));let s=r.current,[a,l]=b.useState({action:s.action,location:s.location}),c=b.useCallback(f=>{b.startTransition(()=>l(f))},[l]);return b.useLayoutEffect(()=>s.listen(c),[s,c]),b.createElement(UC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var e1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:m,viewTransition:E,...w},I){let{basename:P}=b.useContext(wr),D=typeof p=="string"&&e1.test(p),C,U=!1;if(typeof p=="string"&&D&&(C=p,ZT))try{let R=new URL(window.location.href),L=p.startsWith("//")?new URL(R.protocol+p):new URL(p),F=wi(L.pathname,P);L.origin===R.origin&&F!=null?p=F+L.search+L.hash:U=!0}catch{yr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=SC(p,{relative:s}),[z,ne,oe]=iR(r,w),de=fR(p,{replace:l,state:c,target:f,preventScrollReset:m,relative:s,viewTransition:E});function O(R){e&&e(R),R.defaultPrevented||de(R)}let x=b.createElement("a",{...w,...oe,href:C||$,onClick:U||a?e:O,ref:lR(I,ne),target:f,"data-discover":!D&&n==="render"?"true":void 0});return z&&!D?b.createElement(b.Fragment,null,x,b.createElement(sR,{page:$})):x});ct.displayName="Link";var cR=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:f,...p},m){let E=Wu(l,{relative:p.relative}),w=Ci(),I=b.useContext(Cd),{navigator:P,basename:D}=b.useContext(wr),C=I!=null&&vR(E)&&c===!0,U=P.encodeLocation?P.encodeLocation(E).pathname:E.pathname,$=w.pathname,z=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||($=$.toLowerCase(),z=z?z.toLowerCase():null,U=U.toLowerCase()),z&&D&&(z=wi(z,D)||z);const ne=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let oe=$===U||!s&&$.startsWith(U)&&$.charAt(ne)==="/",de=z!=null&&(z===U||!s&&z.startsWith(U)&&z.charAt(U.length)==="/"),O={isActive:oe,isPending:de,isTransitioning:C},x=oe?e:void 0,R;typeof r=="function"?R=r(O):R=[r,oe?"active":null,de?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(O):a;return b.createElement(ct,{...p,"aria-current":x,className:R,ref:m,style:L,to:l,viewTransition:c},typeof f=="function"?f(O):f)});cR.displayName="NavLink";var hR=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=Uh,action:c,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:E,...w},I)=>{let P=gR(),D=yR(c,{relative:p}),C=l.toLowerCase()==="get"?"get":"post",U=typeof c=="string"&&e1.test(c),$=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let ne=z.nativeEvent.submitter,oe=ne?.getAttribute("formmethod")||l;P(ne||z.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:s,state:a,relative:p,preventScrollReset:m,viewTransition:E})};return b.createElement("form",{ref:I,method:C,action:D,onSubmit:r?f:$,...w,"data-discover":!U&&t==="render"?"true":void 0})});hR.displayName="Form";function dR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t1(t){let e=b.useContext(Ka);return at(e,dR(t)),e}function fR(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Es(),f=Ci(),p=Wu(t,{relative:a});return b.useCallback(m=>{if(HC(m,e)){m.preventDefault();let E=n!==void 0?n:Tu(f)===Tu(p);c(t,{replace:E,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[f,c,p,n,r,e,t,s,a,l])}var pR=0,mR=()=>`__${String(++pR)}__`;function gR(){let{router:t}=t1("useSubmit"),{basename:e}=b.useContext(wr),n=VC();return b.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:f,body:p}=KC(r,e);if(s.navigate===!1){let m=s.fetcherKey||mR();await t.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function yR(t,{relative:e}={}){let{basename:n}=b.useContext(wr),r=b.useContext(Er);at(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Wu(t||".",{relative:e})},l=Ci();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(E=>E).forEach(E=>c.append("index",E));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:yi([n,a.pathname])),Tu(a)}function vR(t,{relative:e}={}){let n=b.useContext(HT);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=t1("useViewTransitionState"),s=Wu(t,{relative:e});if(!n.isTransitioning)return!1;let a=wi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=wi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return nd(s.pathname,l)!=null||nd(s.pathname,a)!=null}var zp={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function _R(){if(M0)return eu;M0=1;var t=Pg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var m,E={},w=null,I=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(I=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(E[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)E[m]===void 0&&(E[m]=f[m]);return{$$typeof:e,type:c,key:w,ref:I,props:E,_owner:s.current}}return eu.Fragment=n,eu.jsx=l,eu.jsxs=l,eu}var F0;function wR(){return F0||(F0=1,zp.exports=_R()),zp.exports}var Am=wR();const n1=b.createContext({});function ER(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Lg=typeof window<"u",TR=Lg?b.useLayoutEffect:b.useEffect,Og=b.createContext(null);function Mg(t,e){t.indexOf(e)===-1&&t.push(e)}function Fg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ei=(t,e,n)=>n>e?e:n<t?t:n;let Ug=()=>{};const Ti={},r1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function i1(t){return typeof t=="object"&&t!==null}const s1=t=>/^0[^.\s]+$/u.test(t);function Bg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yn=t=>t,SR=(t,e)=>n=>e(t(n)),Hu=(...t)=>t.reduce(SR),Su=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class jg{constructor(){this.subscriptions=[]}add(e){return Mg(this.subscriptions,e),()=>Fg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fr=t=>t*1e3,Ur=t=>t/1e3;function o1(t,e){return e?t*(1e3/e):0}const a1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,IR=1e-7,AR=12;function xR(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=a1(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>IR&&++c<AR);return l}function qu(t,e,n,r){if(t===e&&n===r)return Yn;const s=a=>xR(a,0,1,t,n);return a=>a===0||a===1?a:a1(s(a),e,r)}const l1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,u1=t=>e=>1-t(1-e),c1=qu(.33,1.53,.69,.99),zg=u1(c1),h1=l1(zg),d1=t=>(t*=2)<1?.5*zg(t):.5*(2-Math.pow(2,-10*(t-1))),$g=t=>1-Math.sin(Math.acos(t)),f1=u1($g),p1=l1($g),PR=qu(.42,0,1,1),CR=qu(0,0,.58,1),m1=qu(.42,0,.58,1),RR=t=>Array.isArray(t)&&typeof t[0]!="number",g1=t=>Array.isArray(t)&&typeof t[0]=="number",bR={linear:Yn,easeIn:PR,easeInOut:m1,easeOut:CR,circIn:$g,circInOut:p1,circOut:f1,backIn:zg,backInOut:h1,backOut:c1,anticipate:d1},kR=t=>typeof t=="string",U0=t=>{if(g1(t)){Ug(t.length===4);const[e,n,r,s]=t;return qu(e,n,r,s)}else if(kR(t))return bR[t];return t},xh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function NR(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(m){l.has(m)&&(p.schedule(m),t()),m(c)}const p={schedule:(m,E=!1,w=!1)=>{const P=w&&s?n:r;return E&&l.add(m),P.has(m)||P.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,a&&(a=!1,p.process(m))}};return p}const DR=40;function y1(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=xh.reduce((z,ne)=>(z[ne]=NR(a),z),{}),{setup:c,read:f,resolveKeyframes:p,preUpdate:m,update:E,preRender:w,render:I,postRender:P}=l,D=()=>{const z=Ti.useManualTiming?s.timestamp:performance.now();n=!1,Ti.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(z-s.timestamp,DR),1)),s.timestamp=z,s.isProcessing=!0,c.process(s),f.process(s),p.process(s),m.process(s),E.process(s),w.process(s),I.process(s),P.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(D))},C=()=>{n=!0,r=!0,s.isProcessing||t(D)};return{schedule:xh.reduce((z,ne)=>{const oe=l[ne];return z[ne]=(de,O=!1,x=!1)=>(n||C(),oe.schedule(de,O,x)),z},{}),cancel:z=>{for(let ne=0;ne<xh.length;ne++)l[xh[ne]].cancel(z)},state:s,steps:l}}const{schedule:ot,cancel:ds,state:qt,steps:$p}=y1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yn,!0);let jh;function VR(){jh=void 0}const An={now:()=>(jh===void 0&&An.set(qt.isProcessing||Ti.useManualTiming?qt.timestamp:performance.now()),jh),set:t=>{jh=t,queueMicrotask(VR)}},v1=t=>e=>typeof e=="string"&&e.startsWith(t),Wg=v1("--"),LR=v1("var(--"),Hg=t=>LR(t)?OR.test(t.split("/*")[0].trim()):!1,OR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ya={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Iu={...Ya,transform:t=>Ei(0,1,t)},Ph={...Ya,default:1},cu=t=>Math.round(t*1e5)/1e5,qg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MR(t){return t==null}const FR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gg=(t,e)=>n=>!!(typeof n=="string"&&FR.test(n)&&n.startsWith(t)||e&&!MR(n)&&Object.prototype.hasOwnProperty.call(n,e)),_1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(qg);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},UR=t=>Ei(0,255,t),Wp={...Ya,transform:t=>Math.round(UR(t))},ao={test:Gg("rgb","red"),parse:_1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Wp.transform(t)+", "+Wp.transform(e)+", "+Wp.transform(n)+", "+cu(Iu.transform(r))+")"};function BR(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const xm={test:Gg("#"),parse:BR,transform:ao.transform},Gu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ns=Gu("deg"),Br=Gu("%"),Pe=Gu("px"),jR=Gu("vh"),zR=Gu("vw"),B0={...Br,parse:t=>Br.parse(t)/100,transform:t=>Br.transform(t*100)},xa={test:Gg("hsl","hue"),parse:_1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Br.transform(cu(e))+", "+Br.transform(cu(n))+", "+cu(Iu.transform(r))+")"},xt={test:t=>ao.test(t)||xm.test(t)||xa.test(t),parse:t=>ao.test(t)?ao.parse(t):xa.test(t)?xa.parse(t):xm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ao.transform(t):xa.transform(t),getAnimatableNone:t=>{const e=xt.parse(t);return e.alpha=0,xt.transform(e)}},$R=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WR(t){return isNaN(t)&&typeof t=="string"&&(t.match(qg)?.length||0)+(t.match($R)?.length||0)>0}const w1="number",E1="color",HR="var",qR="var(",j0="${}",GR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Au(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(GR,f=>(xt.test(f)?(r.color.push(a),s.push(E1),n.push(xt.parse(f))):f.startsWith(qR)?(r.var.push(a),s.push(HR),n.push(f)):(r.number.push(a),s.push(w1),n.push(parseFloat(f))),++a,j0)).split(j0);return{values:n,split:c,indexes:r,types:s}}function T1(t){return Au(t).values}function S1(t){const{split:e,types:n}=Au(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===w1?a+=cu(s[l]):c===E1?a+=xt.transform(s[l]):a+=s[l]}return a}}const KR=t=>typeof t=="number"?0:xt.test(t)?xt.getAnimatableNone(t):t;function QR(t){const e=T1(t);return S1(t)(e.map(KR))}const fs={test:WR,parse:T1,createTransformer:S1,getAnimatableNone:QR};function Hp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function YR({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,f=2*n-c;s=Hp(f,c,t+1/3),a=Hp(f,c,t),l=Hp(f,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function rd(t,e){return n=>n>0?e:t}const ht=(t,e,n)=>t+(e-t)*n,qp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},XR=[xm,ao,xa],JR=t=>XR.find(e=>e.test(t));function z0(t){const e=JR(t);if(!e)return!1;let n=e.parse(t);return e===xa&&(n=YR(n)),n}const $0=(t,e)=>{const n=z0(t),r=z0(e);if(!n||!r)return rd(t,e);const s={...n};return a=>(s.red=qp(n.red,r.red,a),s.green=qp(n.green,r.green,a),s.blue=qp(n.blue,r.blue,a),s.alpha=ht(n.alpha,r.alpha,a),ao.transform(s))},Pm=new Set(["none","hidden"]);function ZR(t,e){return Pm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function eb(t,e){return n=>ht(t,e,n)}function Kg(t){return typeof t=="number"?eb:typeof t=="string"?Hg(t)?rd:xt.test(t)?$0:rb:Array.isArray(t)?I1:typeof t=="object"?xt.test(t)?$0:tb:rd}function I1(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Kg(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function tb(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Kg(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function nb(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],c=t.values[l]??0;n[s]=c,r[a]++}return n}const rb=(t,e)=>{const n=fs.createTransformer(e),r=Au(t),s=Au(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Pm.has(t)&&!s.values.length||Pm.has(e)&&!r.values.length?ZR(t,e):Hu(I1(nb(r,s),s.values),n):rd(t,e)};function A1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):Kg(t)(t,e)}const ib=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ot.update(e,n),stop:()=>ds(e),now:()=>qt.isProcessing?qt.timestamp:An.now()}},x1=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},id=2e4;function Qg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<id;)e+=n,r=t.next(e);return e>=id?1/0:e}function sb(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Qg(r),id);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Ur(s)}}const ob=5;function P1(t,e,n){const r=Math.max(e-ob,0);return o1(n-t(r),e-r)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gp=.001;function ab({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:r=mt.mass}){let s,a,l=1-e;l=Ei(mt.minDamping,mt.maxDamping,l),t=Ei(mt.minDuration,mt.maxDuration,Ur(t)),l<1?(s=p=>{const m=p*l,E=m*t,w=m-n,I=Cm(p,l),P=Math.exp(-E);return Gp-w/I*P},a=p=>{const E=p*l*t,w=E*n+n,I=Math.pow(l,2)*Math.pow(p,2)*t,P=Math.exp(-E),D=Cm(Math.pow(p,2),l);return(-s(p)+Gp>0?-1:1)*((w-I)*P)/D}):(s=p=>{const m=Math.exp(-p*t),E=(p-n)*t+1;return-Gp+m*E},a=p=>{const m=Math.exp(-p*t),E=(n-p)*(t*t);return m*E});const c=5/t,f=ub(s,a,c);if(t=Fr(t),isNaN(f))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const lb=12;function ub(t,e,n){let r=n;for(let s=1;s<lb;s++)r=r-t(r)/e(r);return r}function Cm(t,e){return t*Math.sqrt(1-e*e)}const cb=["duration","bounce"],hb=["stiffness","damping","mass"];function W0(t,e){return e.some(n=>t[n]!==void 0)}function db(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!W0(t,hb)&&W0(t,cb))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Ei(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:mt.mass,stiffness:s,damping:a}}else{const n=ab(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function sd(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:f,damping:p,mass:m,duration:E,velocity:w,isResolvedFromDuration:I}=db({...n,velocity:-Ur(n.velocity||0)}),P=w||0,D=p/(2*Math.sqrt(f*m)),C=l-a,U=Ur(Math.sqrt(f/m)),$=Math.abs(C)<5;r||(r=$?mt.restSpeed.granular:mt.restSpeed.default),s||(s=$?mt.restDelta.granular:mt.restDelta.default);let z;if(D<1){const oe=Cm(U,D);z=de=>{const O=Math.exp(-D*U*de);return l-O*((P+D*U*C)/oe*Math.sin(oe*de)+C*Math.cos(oe*de))}}else if(D===1)z=oe=>l-Math.exp(-U*oe)*(C+(P+U*C)*oe);else{const oe=U*Math.sqrt(D*D-1);z=de=>{const O=Math.exp(-D*U*de),x=Math.min(oe*de,300);return l-O*((P+D*U*C)*Math.sinh(x)+oe*C*Math.cosh(x))/oe}}const ne={calculatedDuration:I&&E||null,next:oe=>{const de=z(oe);if(I)c.done=oe>=E;else{let O=oe===0?P:0;D<1&&(O=oe===0?Fr(P):P1(z,oe,de));const x=Math.abs(O)<=r,R=Math.abs(l-de)<=s;c.done=x&&R}return c.value=c.done?l:de,c},toString:()=>{const oe=Math.min(Qg(ne),id),de=x1(O=>ne.next(oe*O).value,oe,30);return oe+"ms "+de},toTransition:()=>{}};return ne}sd.applyToOptions=t=>{const e=sb(t,100,sd);return t.ease=e.ease,t.duration=Fr(e.duration),t.type="keyframes",t};function Rm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:f,restDelta:p=.5,restSpeed:m}){const E=t[0],w={done:!1,value:E},I=x=>c!==void 0&&x<c||f!==void 0&&x>f,P=x=>c===void 0?f:f===void 0||Math.abs(c-x)<Math.abs(f-x)?c:f;let D=n*e;const C=E+D,U=l===void 0?C:l(C);U!==C&&(D=U-E);const $=x=>-D*Math.exp(-x/r),z=x=>U+$(x),ne=x=>{const R=$(x),L=z(x);w.done=Math.abs(R)<=p,w.value=w.done?U:L};let oe,de;const O=x=>{I(w.value)&&(oe=x,de=sd({keyframes:[w.value,P(w.value)],velocity:P1(z,x,w.value),damping:s,stiffness:a,restDelta:p,restSpeed:m}))};return O(0),{calculatedDuration:null,next:x=>{let R=!1;return!de&&oe===void 0&&(R=!0,ne(x),O(x)),oe!==void 0&&x>=oe?de.next(x-oe):(!R&&ne(x),w)}}}function fb(t,e,n){const r=[],s=n||Ti.mix||A1,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Yn:e;c=Hu(f,c)}r.push(c)}return r}function pb(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Ug(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=fb(e,r,s),f=c.length,p=m=>{if(l&&m<t[0])return e[0];let E=0;if(f>1)for(;E<t.length-2&&!(m<t[E+1]);E++);const w=Su(t[E],t[E+1],m);return c[E](w)};return n?m=>p(Ei(t[0],t[a-1],m)):p}function mb(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Su(0,e,r);t.push(ht(n,1,s))}}function gb(t){const e=[0];return mb(e,t.length-1),e}function yb(t,e){return t.map(n=>n*e)}function vb(t,e){return t.map(()=>e||m1).splice(0,t.length-1)}function hu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=RR(r)?r.map(U0):U0(r),a={done:!1,value:e[0]},l=yb(n&&n.length===e.length?n:gb(e),t),c=pb(l,e,{ease:Array.isArray(s)?s:vb(e,s)});return{calculatedDuration:t,next:f=>(a.value=c(f),a.done=f>=t,a)}}const _b=t=>t!==null;function Yg(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(_b),c=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const wb={decay:Rm,inertia:Rm,tween:hu,keyframes:hu,spring:sd};function C1(t){typeof t.type=="string"&&(t.type=wb[t.type])}class Xg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Eb=t=>t/100;class Jg extends Xg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;C1(e);const{type:n=hu,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const f=n||hu;f!==hu&&typeof c[0]!="number"&&(this.mixKeyframes=Hu(Eb,A1(c[0],c[1])),c=[0,100]);const p=f({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...c].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Qg(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:m,repeat:E,repeatType:w,repeatDelay:I,type:P,onUpdate:D,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?U<0:U>s;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let z=this.currentTime,ne=r;if(E){const x=Math.min(this.currentTime,s)/c;let R=Math.floor(x),L=x%1;!L&&x>=1&&(L=1),L===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(w==="reverse"?(L=1-L,I&&(L-=I/c)):w==="mirror"&&(ne=l)),z=Ei(0,1,L)*c}const oe=$?{done:!1,value:m[0]}:ne.next(z);a&&(oe.value=a(oe.value));let{done:de}=oe;!$&&f!==null&&(de=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return O&&P!==Rm&&(oe.value=Yg(m,this.options,C,this.speed)),D&&D(oe.value),O&&this.finish(),oe}then(e,n){return this.finished.then(e,n)}get duration(){return Ur(this.calculatedDuration)}get time(){return Ur(this.currentTime)}set time(e){e=Fr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(An.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ur(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ib,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Tb(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const lo=t=>t*180/Math.PI,bm=t=>{const e=lo(Math.atan2(t[1],t[0]));return km(e)},Sb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:bm,rotateZ:bm,skewX:t=>lo(Math.atan(t[1])),skewY:t=>lo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},km=t=>(t=t%360,t<0&&(t+=360),t),H0=bm,q0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),G0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ib={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:q0,scaleY:G0,scale:t=>(q0(t)+G0(t))/2,rotateX:t=>km(lo(Math.atan2(t[6],t[5]))),rotateY:t=>km(lo(Math.atan2(-t[2],t[0]))),rotateZ:H0,rotate:H0,skewX:t=>lo(Math.atan(t[4])),skewY:t=>lo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Nm(t){return t.includes("scale")?1:0}function Dm(t,e){if(!t||t==="none")return Nm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Ib,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Sb,s=c}if(!s)return Nm(e);const a=r[e],l=s[1].split(",").map(xb);return typeof a=="function"?a(l):l[a]}const Ab=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Dm(n,e)};function xb(t){return parseFloat(t.trim())}const Xa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ja=new Set(Xa),K0=t=>t===Ya||t===Pe,Pb=new Set(["x","y","z"]),Cb=Xa.filter(t=>!Pb.has(t));function Rb(t){const e=[];return Cb.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ho={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dm(e,"x"),y:(t,{transform:e})=>Dm(e,"y")};ho.translateX=ho.x;ho.translateY=ho.y;const fo=new Set;let Vm=!1,Lm=!1,Om=!1;function R1(){if(Lm){const t=Array.from(fo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Rb(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lm=!1,Vm=!1,fo.forEach(t=>t.complete(Om)),fo.clear()}function b1(){fo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Lm=!0)})}function bb(){Om=!0,b1(),R1(),Om=!1}class Zg{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(fo.add(this),Vm||(Vm=!0,ot.read(b1),ot.resolveKeyframes(R1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}Tb(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fo.delete(this)}cancel(){this.state==="scheduled"&&(fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kb=t=>t.startsWith("--");function Nb(t,e,n){kb(e)?t.style.setProperty(e,n):t.style[e]=n}const Db=Bg(()=>window.ScrollTimeline!==void 0),Vb={};function Lb(t,e){const n=Bg(t);return()=>Vb[e]??n()}const k1=Lb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ru=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Q0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ru([0,.65,.55,1]),circOut:ru([.55,0,1,.45]),backIn:ru([.31,.01,.66,-.59]),backOut:ru([.33,1.53,.69,.99])};function N1(t,e){if(t)return typeof t=="function"?k1()?x1(t,e):"ease-out":g1(t)?ru(t):Array.isArray(t)?t.map(n=>N1(n,e)||Q0.easeOut):Q0[t]}function Ob(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:f}={},p=void 0){const m={[e]:n};f&&(m.offset=f);const E=N1(c,s);Array.isArray(E)&&(m.easing=E);const w={delay:r,duration:s,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(m,w)}function D1(t){return typeof t=="function"&&"applyToOptions"in t}function Mb({type:t,...e}){return D1(t)&&k1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Fb extends Xg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Ug(typeof e.type!="string");const p=Mb(e);this.animation=Ob(n,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Yg(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):Nb(n,r,m),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ur(Number(e))}get time(){return Ur(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Fr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Db()?(this.animation.timeline=e,Yn):n(this)}}const V1={anticipate:d1,backInOut:h1,circInOut:p1};function Ub(t){return t in V1}function Bb(t){typeof t.ease=="string"&&Ub(t.ease)&&(t.ease=V1[t.ease])}const Y0=10;class jb extends Fb{constructor(e){Bb(e),C1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Jg({...l,autoplay:!1}),f=Fr(this.finishedTime??this.time);n.setWithVelocity(c.sample(f-Y0).value,c.sample(f).value,Y0),c.stop()}}const X0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fs.test(t)||t==="0")&&!t.startsWith("url("));function zb(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $b(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=X0(s,e),c=X0(a,e);return!l||!c?!1:zb(t)||(n==="spring"||D1(n))&&r}function Mm(t){t.duration=0,t.type}const Wb=new Set(["opacity","clipPath","filter","transform"]),Hb=Bg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qb(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return Hb()&&n&&Wb.has(n)&&(n!=="transform"||!p)&&!f&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const Gb=40;class Kb extends Xg{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:f,motionValue:p,element:m,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const w={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:m,...E},I=m?.KeyframeResolver||Zg;this.keyframeResolver=new I(c,(P,D,C)=>this.onKeyframesResolved(P,D,w,!C),f,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:f,isHandoff:p,onUpdate:m}=r;this.resolvedAt=An.now(),$b(e,a,l,c)||((Ti.instantAnimations||!f)&&m?.(Yg(e,r,n)),e[0]=e[e.length-1],Mm(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Gb?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},I=!p&&qb(w)?new jb({...w,element:w.motionValue.owner.current}):new Jg(w);I.finished.then(()=>this.notifyFinished()).catch(Yn),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),bb()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Qb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yb(t){const e=Qb.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function L1(t,e,n=1){const[r,s]=Yb(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return r1(l)?parseFloat(l):l}return Hg(s)?L1(s,e,n+1):s}function ey(t,e){return t?.[e]??t?.default??t}const O1=new Set(["width","height","top","left","right","bottom",...Xa]),Xb={test:t=>t==="auto",parse:t=>t},M1=t=>e=>e.test(t),F1=[Ya,Pe,Br,ns,zR,jR,Xb],J0=t=>F1.find(M1(t));function Jb(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||s1(t):!0}const Zb=new Set(["brightness","contrast","saturate","opacity"]);function ek(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(qg)||[];if(!r)return t;const s=n.replace(r,"");let a=Zb.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const tk=/\b([a-z-]*)\(.*?\)/gu,Fm={...fs,getAnimatableNone:t=>{const e=t.match(tk);return e?e.map(ek).join(" "):t}},Z0={...Ya,transform:Math.round},nk={rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scale:Ph,scaleX:Ph,scaleY:Ph,scaleZ:Ph,skew:ns,skewX:ns,skewY:ns,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Iu,originX:B0,originY:B0,originZ:Pe},ty={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...nk,zIndex:Z0,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:Z0},rk={...ty,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:Fm,WebkitFilter:Fm},U1=t=>rk[t];function B1(t,e){let n=U1(t);return n!==Fm&&(n=fs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ik=new Set(["auto","none","0"]);function sk(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!ik.has(a)&&Au(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=B1(n,s)}class ok extends Zg{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Hg(p))){const m=L1(p,n.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!O1.has(r)||e.length!==2)return;const[s,a]=e,l=J0(s),c=J0(a);if(l!==c)if(K0(l)&&K0(c))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else ho[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Jb(e[s]))&&r.push(s);r.length&&sk(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ho[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=ho[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function j1(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const z1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ak(t){return i1(t)&&"offsetHeight"in t}const ew=30,lk=t=>!isNaN(parseFloat(t));class uk{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=An.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new jg);const r=this.events[e].add(n);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ew)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ew);return o1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ua(t,e){return new uk(t,e)}const{schedule:ny}=y1(queueMicrotask,!1),pr={x:!1,y:!1};function $1(){return pr.x||pr.y}function ck(t){return t==="x"||t==="y"?pr[t]?null:(pr[t]=!0,()=>{pr[t]=!1}):pr.x||pr.y?null:(pr.x=pr.y=!0,()=>{pr.x=pr.y=!1})}function W1(t,e){const n=j1(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function tw(t){return!(t.pointerType==="touch"||$1())}function hk(t,e,n={}){const[r,s,a]=W1(t,n),l=c=>{if(!tw(c))return;const{target:f}=c,p=e(f,c);if(typeof p!="function"||!f)return;const m=E=>{tw(E)&&(p(E),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const H1=(t,e)=>e?t===e?!0:H1(t,e.parentElement):!1,ry=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fk(t){return dk.has(t.tagName)||t.tabIndex!==-1}const zh=new WeakSet;function nw(t){return e=>{e.key==="Enter"&&t(e)}}function Kp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pk=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=nw(()=>{if(zh.has(n))return;Kp(n,"down");const s=nw(()=>{Kp(n,"up")}),a=()=>Kp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function rw(t){return ry(t)&&!$1()}function mk(t,e,n={}){const[r,s,a]=W1(t,n),l=c=>{const f=c.currentTarget;if(!rw(c))return;zh.add(f);const p=e(f,c),m=(I,P)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",w),zh.has(f)&&zh.delete(f),rw(I)&&typeof p=="function"&&p(I,{success:P})},E=I=>{m(I,f===window||f===document||n.useGlobalTarget||H1(f,I.target))},w=I=>{m(I,!1)};window.addEventListener("pointerup",E,s),window.addEventListener("pointercancel",w,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),ak(c)&&(c.addEventListener("focus",p=>pk(p,s)),!fk(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function q1(t){return i1(t)&&"ownerSVGElement"in t}function gk(t){return q1(t)&&t.tagName==="svg"}const sn=t=>!!(t&&t.getVelocity),yk=[...F1,xt,fs],vk=t=>yk.find(M1(t)),G1=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _k(t=!0){const e=b.useContext(Og);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=b.useId();b.useEffect(()=>{if(t)return s(a)},[t]);const l=b.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const K1=b.createContext({strict:!1}),iw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ba={};for(const t in iw)Ba[t]={isEnabled:e=>iw[t].some(n=>!!e[n])};function wk(t){for(const e in t)Ba[e]={...Ba[e],...t[e]}}const Ek=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function od(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ek.has(t)}let Q1=t=>!od(t);function Tk(t){typeof t=="function"&&(Q1=e=>e.startsWith("on")?!od(e):t(e))}try{Tk(require("@emotion/is-prop-valid").default)}catch{}function Sk(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Q1(s)||n===!0&&od(s)||!e&&!od(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const bd=b.createContext({});function kd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xu(t){return typeof t=="string"||Array.isArray(t)}const iy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sy=["initial",...iy];function Nd(t){return kd(t.animate)||sy.some(e=>xu(t[e]))}function Y1(t){return!!(Nd(t)||t.variants)}function Ik(t,e){if(Nd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xu(n)?n:void 0,animate:xu(r)?r:void 0}}return t.inherit!==!1?e:{}}function Ak(t){const{initial:e,animate:n}=Ik(t,b.useContext(bd));return b.useMemo(()=>({initial:e,animate:n}),[sw(e),sw(n)])}function sw(t){return Array.isArray(t)?t.join(" "):t}const Pu={};function xk(t){for(const e in t)Pu[e]=t[e],Wg(e)&&(Pu[e].isCSSVariable=!0)}function X1(t,{layout:e,layoutId:n}){return Ja.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Pu[t]||t==="opacity")}const Pk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ck=Xa.length;function Rk(t,e,n){let r="",s=!0;for(let a=0;a<Ck;a++){const l=Xa[a],c=t[l];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(l.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const p=z1(c,ty[l]);if(!f){s=!1;const m=Pk[l]||l;r+=`${m}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function oy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const f in e){const p=e[f];if(Ja.has(f)){l=!0;continue}else if(Wg(f)){s[f]=p;continue}else{const m=z1(p,ty[f]);f.startsWith("origin")?(c=!0,a[f]=m):r[f]=m}}if(e.transform||(l||n?r.transform=Rk(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${f} ${p} ${m}`}}const ay=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function J1(t,e,n){for(const r in e)!sn(e[r])&&!X1(r,n)&&(t[r]=e[r])}function bk({transformTemplate:t},e){return b.useMemo(()=>{const n=ay();return oy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function kk(t,e){const n=t.style||{},r={};return J1(r,n,t),Object.assign(r,bk(t,e)),r}function Nk(t,e){const n={},r=kk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Dk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vk={offset:"strokeDashoffset",array:"strokeDasharray"};function Lk(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?Dk:Vk;t[a.offset]=Pe.transform(-r);const l=Pe.transform(e),c=Pe.transform(n);t[a.array]=`${l} ${c}`}function Z1(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},f,p,m){if(oy(t,c,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:w}=t;E.transform&&(w.transform=E.transform,delete E.transform),(w.transform||E.transformOrigin)&&(w.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),w.transform&&(w.transformBox=m?.transformBox??"fill-box",delete E.transformBox),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),s!==void 0&&Lk(E,s,a,l,!1)}const eS=()=>({...ay(),attrs:{}}),tS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ok(t,e,n,r){const s=b.useMemo(()=>{const a=eS();return Z1(a,e,tS(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};J1(a,t.style,t),s.style={...a,...s.style}}return s}const Mk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ly(t){return typeof t!="string"||t.includes("-")?!1:!!(Mk.indexOf(t)>-1||/[A-Z]/u.test(t))}function Fk(t,e,n,{latestValues:r},s,a=!1){const c=(ly(t)?Ok:Nk)(e,r,s,t),f=Sk(e,typeof t=="string",a),p=t!==b.Fragment?{...f,...c,ref:n}:{},{children:m}=e,E=b.useMemo(()=>sn(m)?m.get():m,[m]);return b.createElement(t,{...p,children:E})}function ow(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function uy(t,e,n,r){if(typeof e=="function"){const[s,a]=ow(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=ow(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function $h(t){return sn(t)?t.get():t}function Uk({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Bk(n,r,s,t),renderState:e()}}function Bk(t,e,n,r){const s={},a=r(t,{});for(const w in a)s[w]=$h(a[w]);let{initial:l,animate:c}=t;const f=Nd(t),p=Y1(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const E=m?c:l;if(E&&typeof E!="boolean"&&!kd(E)){const w=Array.isArray(E)?E:[E];for(let I=0;I<w.length;I++){const P=uy(t,w[I]);if(P){const{transitionEnd:D,transition:C,...U}=P;for(const $ in U){let z=U[$];if(Array.isArray(z)){const ne=m?z.length-1:0;z=z[ne]}z!==null&&(s[$]=z)}for(const $ in D)s[$]=D[$]}}}return s}const nS=t=>(e,n)=>{const r=b.useContext(bd),s=b.useContext(Og),a=()=>Uk(t,e,r,s);return n?a():ER(a)};function cy(t,e,n){const{style:r}=t,s={};for(const a in r)(sn(r[a])||e.style&&sn(e.style[a])||X1(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}const jk=nS({scrapeMotionValuesFromProps:cy,createRenderState:ay});function rS(t,e,n){const r=cy(t,e,n);for(const s in t)if(sn(t[s])||sn(e[s])){const a=Xa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const zk=nS({scrapeMotionValuesFromProps:rS,createRenderState:eS}),$k=Symbol.for("motionComponentSymbol");function Pa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Wk(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Pa(n)&&(n.current=r))},[e])}const hy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Hk="framerAppearId",iS="data-"+hy(Hk),sS=b.createContext({});function qk(t,e,n,r,s){const{visualElement:a}=b.useContext(bd),l=b.useContext(K1),c=b.useContext(Og),f=b.useContext(G1).reducedMotion,p=b.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,E=b.useContext(sS);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&Gk(p.current,n,s,E);const w=b.useRef(!1);b.useInsertionEffect(()=>{m&&w.current&&m.update(n,c)});const I=n[iS],P=b.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return TR(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),P.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!P.current&&m.animationState&&m.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),P.current=!1),m.enteringChildren=void 0)}),m}function Gk(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:f,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oS(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&Pa(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:f,layoutRoot:p})}function oS(t){if(t)return t.options.allowProjection!==!1?t.projection:oS(t.parent)}function Qp(t,{forwardMotionProps:e=!1}={},n,r){n&&wk(n);const s=ly(t)?zk:jk;function a(c,f){let p;const m={...b.useContext(G1),...c,layoutId:Kk(c)},{isStatic:E}=m,w=Ak(c),I=s(c,E);if(!E&&Lg){Qk();const P=Yk(m);p=P.MeasureLayout,w.visualElement=qk(t,I,m,r,P.ProjectionNode)}return Am.jsxs(bd.Provider,{value:w,children:[p&&w.visualElement?Am.jsx(p,{visualElement:w.visualElement,...m}):null,Fk(t,c,Wk(I,w.visualElement,f),I,E,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(a);return l[$k]=t,l}function Kk({layoutId:t}){const e=b.useContext(n1).id;return e&&t!==void 0?e+"-"+t:t}function Qk(t,e){b.useContext(K1).strict}function Yk(t){const{drag:e,layout:n}=Ba;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Xk(t,e){if(typeof Proxy>"u")return Qp;const n=new Map,r=(a,l)=>Qp(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Qp(l,void 0,t,e)),n.get(l))})}function aS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Jk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Zk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yp(t){return t===void 0||t===1}function Um({scale:t,scaleX:e,scaleY:n}){return!Yp(t)||!Yp(e)||!Yp(n)}function so(t){return Um(t)||lS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lS(t){return aw(t.x)||aw(t.y)}function aw(t){return t&&t!=="0%"}function ad(t,e,n){const r=t-n,s=e*r;return n+s}function lw(t,e,n,r,s){return s!==void 0&&(t=ad(t,s,r)),ad(t,n,r)+e}function Bm(t,e=0,n=1,r,s){t.min=lw(t.min,e,n,r,s),t.max=lw(t.max,e,n,r,s)}function uS(t,{x:e,y:n}){Bm(t.x,e.translate,e.scale,e.originPoint),Bm(t.y,n.translate,n.scale,n.originPoint)}const uw=.999999999999,cw=1.0000000000001;function e2(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ra(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,uS(t,l)),r&&so(a.latestValues)&&Ra(t,a.latestValues))}e.x<cw&&e.x>uw&&(e.x=1),e.y<cw&&e.y>uw&&(e.y=1)}function Ca(t,e){t.min=t.min+e,t.max=t.max+e}function hw(t,e,n,r,s=.5){const a=ht(t.min,t.max,s);Bm(t,e,n,a,r)}function Ra(t,e){hw(t.x,e.x,e.scaleX,e.scale,e.originX),hw(t.y,e.y,e.scaleY,e.scale,e.originY)}function cS(t,e){return aS(Zk(t.getBoundingClientRect(),e))}function t2(t,e,n){const r=cS(t,n),{scroll:s}=e;return s&&(Ca(r.x,s.offset.x),Ca(r.y,s.offset.y)),r}const dw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ba=()=>({x:dw(),y:dw()}),fw=()=>({min:0,max:0}),wt=()=>({x:fw(),y:fw()}),jm={current:null},hS={current:!1};function n2(){if(hS.current=!0,!!Lg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jm.current=t.matches;t.addEventListener("change",e),e()}else jm.current=!1}const r2=new WeakMap;function i2(t,e,n){for(const r in e){const s=e[r],a=n[r];if(sn(s))t.addValue(r,s);else if(sn(a))t.addValue(r,Ua(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Ua(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const pw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s2{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=An.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ot.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Nd(n),this.isVariantNode=Y1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in E){const I=E[w];f[w]!==void 0&&sn(I)&&I.set(f[w])}}mount(e){this.current=e,r2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hS.current||n2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ds(this.notifyUpdate),ds(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ja.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ba){const n=Ba[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<pw.length;r++){const s=pw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=i2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ua(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(r1(r)||s1(r))?r=parseFloat(r):!vk(r)&&fs.test(n)&&(r=B1(e,n)),this.setBaseTarget(e,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=uy(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!sn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new jg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ny.render(this.render)}}class dS extends s2{constructor(){super(...arguments),this.KeyframeResolver=ok}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fS(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function o2(t){return window.getComputedStyle(t)}class a2 extends dS{constructor(){super(...arguments),this.type="html",this.renderInstance=fS}readValueFromInstance(e,n){if(Ja.has(n))return this.projection?.isProjecting?Nm(n):Ab(e,n);{const r=o2(e),s=(Wg(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cS(e,n)}build(e,n,r){oy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cy(e,n,r)}}const pS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l2(t,e,n,r){fS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(pS.has(s)?s:hy(s),e.attrs[s])}class u2 extends dS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ja.has(n)){const r=U1(n);return r&&r.default||0}return n=pS.has(n)?n:hy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return rS(e,n,r)}build(e,n,r){Z1(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){l2(e,n,r,s)}mount(e){this.isSVGTag=tS(e.tagName),super.mount(e)}}const c2=(t,e)=>ly(t)?new u2(e):new a2(e,{allowProjection:t!==b.Fragment});function Na(t,e,n){const r=t.getProps();return uy(r,e,n!==void 0?n:r.custom,t)}const zm=t=>Array.isArray(t);function h2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ua(n))}function d2(t){return zm(t)?t[t.length-1]||0:t}function f2(t,e){const n=Na(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=d2(a[l]);h2(t,l,c)}}function p2(t){return!!(sn(t)&&t.add)}function $m(t,e){const n=t.getValue("willChange");if(p2(n))return n.add(e);if(!n&&Ti.WillChange){const r=new Ti.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function mS(t){return t.props[iS]}const m2=t=>t!==null;function g2(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(m2),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const y2={type:"spring",stiffness:500,damping:25,restSpeed:10},v2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_2={type:"keyframes",duration:.8},w2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},E2=(t,{keyframes:e})=>e.length>2?_2:Ja.has(t)?t.startsWith("scale")?v2(e[1]):y2:w2;function T2({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const dy=(t,e,n,r={},s,a)=>l=>{const c=ey(r,t)||{},f=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Fr(f);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};T2(c)||Object.assign(m,E2(t,m)),m.duration&&(m.duration=Fr(m.duration)),m.repeatDelay&&(m.repeatDelay=Fr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let E=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Mm(m),m.delay===0&&(E=!0)),(Ti.instantAnimations||Ti.skipAnimations)&&(E=!0,Mm(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,E&&!a&&e.get()!==void 0){const w=g2(m.keyframes,c);if(w!==void 0){ot.update(()=>{m.onUpdate(w),m.onComplete()});return}}return c.isSync?new Jg(m):new Kb(m)};function S2({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function gS(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const f=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const m in c){const E=t.getValue(m,t.latestValues[m]??null),w=c[m];if(w===void 0||p&&S2(p,m))continue;const I={delay:n,...ey(a||{},m)},P=E.get();if(P!==void 0&&!E.isAnimating&&!Array.isArray(w)&&w===P&&!I.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const U=mS(t);if(U){const $=window.MotionHandoffAnimation(U,m,ot);$!==null&&(I.startTime=$,D=!0)}}$m(t,m),E.start(dy(m,E,w,t.shouldReduceMotion&&O1.has(m)?{type:!1}:I,t,D));const C=E.animation;C&&f.push(C)}return l&&Promise.all(f).then(()=>{ot.update(()=>{l&&f2(t,l)})}),f}function yS(t,e,n,r=0,s=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:c-a*r}function Wm(t,e,n={}){const r=Na(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(gS(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:E}=s;return I2(t,e,f,p,m,E,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,p]=c==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function I2(t,e,n=0,r=0,s=0,a=1,l){const c=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),c.push(Wm(f,e,{...l,delay:n+(typeof r=="function"?0:r)+yS(t.variantChildren,f,r,s,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(c)}function A2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Wm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Wm(t,e,n);else{const s=typeof e=="function"?Na(t,e,n.custom):e;r=Promise.all(gS(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function vS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const x2=sy.length;function _S(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_S(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<x2;n++){const r=sy[n],s=t.props[r];(xu(s)||s===!1)&&(e[r]=s)}return e}const P2=[...iy].reverse(),C2=iy.length;function R2(t){return e=>Promise.all(e.map(({animation:n,options:r})=>A2(t,n,r)))}function b2(t){let e=R2(t),n=mw(),r=!0;const s=f=>(p,m)=>{const E=Na(t,m,f==="exit"?t.presenceContext?.custom:void 0);if(E){const{transition:w,transitionEnd:I,...P}=E;p={...p,...P,...I}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,m=_S(t.parent)||{},E=[],w=new Set;let I={},P=1/0;for(let C=0;C<C2;C++){const U=P2[C],$=n[U],z=p[U]!==void 0?p[U]:m[U],ne=xu(z),oe=U===f?$.isActive:null;oe===!1&&(P=C);let de=z===m[U]&&z!==p[U]&&ne;if(de&&r&&t.manuallyAnimateOnMount&&(de=!1),$.protectedKeys={...I},!$.isActive&&oe===null||!z&&!$.prevProp||kd(z)||typeof z=="boolean")continue;const O=k2($.prevProp,z);let x=O||U===f&&$.isActive&&!de&&ne||C>P&&ne,R=!1;const L=Array.isArray(z)?z:[z];let F=L.reduce(s(U),{});oe===!1&&(F={});const{prevResolvedValues:W={}}=$,V={...W,...F},te=Y=>{x=!0,w.has(Y)&&(R=!0,w.delete(Y)),$.needsAnimating[Y]=!0;const k=t.getValue(Y);k&&(k.liveStyle=!1)};for(const Y in V){const k=F[Y],G=W[Y];if(I.hasOwnProperty(Y))continue;let ie=!1;zm(k)&&zm(G)?ie=!vS(k,G):ie=k!==G,ie?k!=null?te(Y):w.add(Y):k!==void 0&&w.has(Y)?te(Y):$.protectedKeys[Y]=!0}$.prevProp=z,$.prevResolvedValues=F,$.isActive&&(I={...I,...F}),r&&t.blockInitialAnimation&&(x=!1);const Q=de&&O;x&&(!Q||R)&&E.push(...L.map(Y=>{const k={type:U};if(typeof Y=="string"&&r&&!Q&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,ie=Na(G,Y);if(G.enteringChildren&&ie){const{delayChildren:B}=ie.transition||{};k.delay=yS(G.enteringChildren,t,B)}}return{animation:Y,options:k}}))}if(w.size){const C={};if(typeof p.initial!="boolean"){const U=Na(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(C.transition=U.transition)}w.forEach(U=>{const $=t.getBaseTarget(U),z=t.getValue(U);z&&(z.liveStyle=!0),C[U]=$??null}),E.push({animation:C})}let D=!!E.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(E):Promise.resolve()}function c(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(E=>E.animationState?.setActive(f,p)),n[f].isActive=p;const m=l(f);for(const E in n)n[E].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=mw(),r=!0}}}function k2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vS(e,t):!1}function io(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mw(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}class Ts{constructor(e){this.isMounted=!1,this.node=e}update(){}}class N2 extends Ts{constructor(e){super(e),e.animationState||(e.animationState=b2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let D2=0;class V2 extends Ts{constructor(){super(...arguments),this.id=D2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const L2={animation:{Feature:N2},exit:{Feature:V2}};function Cu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ku(t){return{point:{x:t.pageX,y:t.pageY}}}const O2=t=>e=>ry(e)&&t(e,Ku(e));function du(t,e,n,r){return Cu(t,e,O2(n),r)}const wS=1e-4,M2=1-wS,F2=1+wS,ES=.01,U2=0-ES,B2=0+ES;function dn(t){return t.max-t.min}function j2(t,e,n){return Math.abs(t-e)<=n}function gw(t,e,n,r=.5){t.origin=r,t.originPoint=ht(e.min,e.max,t.origin),t.scale=dn(n)/dn(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=M2&&t.scale<=F2||isNaN(t.scale))&&(t.scale=1),(t.translate>=U2&&t.translate<=B2||isNaN(t.translate))&&(t.translate=0)}function fu(t,e,n,r){gw(t.x,e.x,n.x,r?r.originX:void 0),gw(t.y,e.y,n.y,r?r.originY:void 0)}function yw(t,e,n){t.min=n.min+e.min,t.max=t.min+dn(e)}function z2(t,e,n){yw(t.x,e.x,n.x),yw(t.y,e.y,n.y)}function vw(t,e,n){t.min=e.min-n.min,t.max=t.min+dn(e)}function pu(t,e,n){vw(t.x,e.x,n.x),vw(t.y,e.y,n.y)}function Gn(t){return[t("x"),t("y")]}const TS=({current:t})=>t?t.ownerDocument.defaultView:null,_w=(t,e)=>Math.abs(t-e);function $2(t,e){const n=_w(t.x,e.x),r=_w(t.y,e.y);return Math.sqrt(n**2+r**2)}class SS{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Jp(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,P=$2(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!P)return;const{point:D}=w,{timestamp:C}=qt;this.history.push({...D,timestamp:C});const{onStart:U,onMove:$}=this.handlers;I||(U&&U(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,w)},this.handlePointerMove=(w,I)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Xp(I,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(w,I)=>{this.end();const{onEnd:P,onSessionEnd:D,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=Jp(w.type==="pointercancel"?this.lastMoveEventInfo:Xp(I,this.transformPagePoint),this.history);this.startEvent&&P&&P(w,U),D&&D(w,U)},!ry(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const c=Ku(e),f=Xp(c,this.transformPagePoint),{point:p}=f,{timestamp:m}=qt;this.history=[{...p,timestamp:m}];const{onSessionStart:E}=n;E&&E(e,Jp(f,this.history)),this.removeListeners=Hu(du(this.contextWindow,"pointermove",this.handlePointerMove),du(this.contextWindow,"pointerup",this.handlePointerUp),du(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ds(this.updatePoint)}}function Xp(t,e){return e?{point:e(t.point)}:t}function ww(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jp({point:t},e){return{point:t,delta:ww(t,IS(e)),offset:ww(t,W2(e)),velocity:H2(e,.1)}}function W2(t){return t[0]}function IS(t){return t[t.length-1]}function H2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=IS(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Fr(e)));)n--;if(!r)return{x:0,y:0};const a=Ur(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function q2(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ht(n,t,r.max):Math.min(t,n)),t}function Ew(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function G2(t,{top:e,left:n,bottom:r,right:s}){return{x:Ew(t.x,n,s),y:Ew(t.y,e,r)}}function Tw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function K2(t,e){return{x:Tw(t.x,e.x),y:Tw(t.y,e.y)}}function Q2(t,e){let n=.5;const r=dn(t),s=dn(e);return s>r?n=Su(e.min,e.max-r,t.min):r>s&&(n=Su(t.min,t.max-s,e.min)),Ei(0,1,n)}function Y2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hm=.35;function X2(t=Hm){return t===!1?t=0:t===!0&&(t=Hm),{x:Sw(t,"left","right"),y:Sw(t,"top","bottom")}}function Sw(t,e,n){return{min:Iw(t,e),max:Iw(t,n)}}function Iw(t,e){return typeof t=="number"?t:t[e]||0}const J2=new WeakMap;class Z2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=E=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ku(E).point)},l=(E,w)=>{const{drag:I,dragPropagation:P,onDragStart:D}=this.getProps();if(I&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ck(I),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(U=>{let $=this.getAxisMotionValue(U).get()||0;if(Br.test($)){const{projection:z}=this.visualElement;if(z&&z.layout){const ne=z.layout.layoutBox[U];ne&&($=dn(ne)*(parseFloat($)/100))}}this.originPoint[U]=$}),D&&ot.postRender(()=>D(E,w)),$m(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(E,w)=>{this.latestPointerEvent=E,this.latestPanInfo=w;const{dragPropagation:I,dragDirectionLock:P,onDirectionLock:D,onDrag:C}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:U}=w;if(P&&this.currentDirection===null){this.currentDirection=eN(U),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",w.point,U),this.updateAxis("y",w.point,U),this.visualElement.render(),C&&C(E,w)},f=(E,w)=>{this.latestPointerEvent=E,this.latestPanInfo=w,this.stop(E,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Gn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new SS(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:TS(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&ot.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ch(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=q2(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Pa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=G2(r.layoutBox,e):this.constraints=!1,this.elastic=X2(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Y2(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Pa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=t2(r,s.root,this.visualElement.getTransformPagePoint());let l=K2(s.layout.layoutBox,a);if(n){const c=n(Jk(l));this.hasMutatedConstraints=!!c,c&&(l=aS(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},p=Gn(m=>{if(!Ch(m,n,this.currentDirection))return;let E=f&&f[m]||{};l&&(E={min:0,max:0});const w=s?200:1e6,I=s?40:1e7,P={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,...E};return this.startAxisValueAnimation(m,P)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $m(this.visualElement,e),r.start(dy(e,r,0,n,this.visualElement,!1))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gn(n=>{const{drag:r}=this.getProps();if(!Ch(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-ht(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Pa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Gn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const f=c.get();s[l]=Q2({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(l=>{if(!Ch(l,e,null))return;const c=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];c.set(ht(f,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;J2.set(this.visualElement,this);const e=this.visualElement.current,n=du(e,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Pa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ot.read(r);const l=Cu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Gn(m=>{const E=this.getAxisMotionValue(m);E&&(this.originPoint[m]+=f[m].translate,E.set(E.get()+f[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Hm,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Ch(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function eN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tN extends Ts{constructor(e){super(e),this.removeGroupControls=Yn,this.removeListeners=Yn,this.controls=new Z2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Aw=t=>(e,n)=>{t&&ot.postRender(()=>t(e,n))};class nN extends Ts{constructor(){super(...arguments),this.removePointerDownListener=Yn}onPointerDown(e){this.session=new SS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Aw(e),onStart:Aw(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&ot.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=du(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=xw(t,e.target.x),r=xw(t,e.target.y);return`${n}% ${r}%`}},rN={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=fs.parse(t);if(s.length>5)return r;const a=fs.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=f;const p=ht(c,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};let Zp=!1;class iN extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;xk(sN),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),Zp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Wh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,Zp=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ot.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ny.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Zp=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AS(t){const[e,n]=_k(),r=b.useContext(n1);return Am.jsx(iN,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(sS),isPresent:e,safeToRemove:n})}const sN={borderRadius:{...tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tu,borderTopRightRadius:tu,borderBottomLeftRadius:tu,borderBottomRightRadius:tu,boxShadow:rN};function oN(t,e,n){const r=sn(t)?t:Ua(t);return r.start(dy("",r,e,n)),r.animation}const aN=(t,e)=>t.depth-e.depth;class lN{constructor(){this.children=[],this.isDirty=!1}add(e){Mg(this.children,e),this.isDirty=!0}remove(e){Fg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aN),this.isDirty=!1,this.children.forEach(e)}}function uN(t,e){const n=An.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(ds(r),t(a-e))};return ot.setup(r,!0),()=>ds(r)}const xS=["TopLeft","TopRight","BottomLeft","BottomRight"],cN=xS.length,Pw=t=>typeof t=="string"?parseFloat(t):t,Cw=t=>typeof t=="number"||Pe.test(t);function hN(t,e,n,r,s,a){s?(t.opacity=ht(0,n.opacity??1,dN(r)),t.opacityExit=ht(e.opacity??1,0,fN(r))):a&&(t.opacity=ht(e.opacity??1,n.opacity??1,r));for(let l=0;l<cN;l++){const c=`border${xS[l]}Radius`;let f=Rw(e,c),p=Rw(n,c);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Cw(f)===Cw(p)?(t[c]=Math.max(ht(Pw(f),Pw(p),r),0),(Br.test(p)||Br.test(f))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,r))}function Rw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const dN=PS(0,.5,f1),fN=PS(.5,.95,Yn);function PS(t,e,n){return r=>r<t?0:r>e?1:n(Su(t,e,r))}function bw(t,e){t.min=e.min,t.max=e.max}function qn(t,e){bw(t.x,e.x),bw(t.y,e.y)}function kw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Nw(t,e,n,r,s){return t-=e,t=ad(t,1/n,r),s!==void 0&&(t=ad(t,1/s,r)),t}function pN(t,e=0,n=1,r=.5,s,a=t,l=t){if(Br.test(e)&&(e=parseFloat(e),e=ht(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ht(a.min,a.max,r);t===a&&(c-=e),t.min=Nw(t.min,e,n,c,s),t.max=Nw(t.max,e,n,c,s)}function Dw(t,e,[n,r,s],a,l){pN(t,e[n],e[r],e[s],e.scale,a,l)}const mN=["x","scaleX","originX"],gN=["y","scaleY","originY"];function Vw(t,e,n,r){Dw(t.x,e,mN,n?n.x:void 0,r?r.x:void 0),Dw(t.y,e,gN,n?n.y:void 0,r?r.y:void 0)}function Lw(t){return t.translate===0&&t.scale===1}function CS(t){return Lw(t.x)&&Lw(t.y)}function Ow(t,e){return t.min===e.min&&t.max===e.max}function yN(t,e){return Ow(t.x,e.x)&&Ow(t.y,e.y)}function Mw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RS(t,e){return Mw(t.x,e.x)&&Mw(t.y,e.y)}function Fw(t){return dn(t.x)/dn(t.y)}function Uw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vN{constructor(){this.members=[]}add(e){Mg(this.members,e),e.scheduleRender()}remove(e){if(Fg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _N(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:E,rotateY:w,skewX:I,skewY:P}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),E&&(r+=`rotateX(${E}deg) `),w&&(r+=`rotateY(${w}deg) `),I&&(r+=`skewX(${I}deg) `),P&&(r+=`skewY(${P}deg) `)}const c=t.x.scale*e.x,f=t.y.scale*e.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}const em=["","X","Y","Z"],wN=1e3;let EN=0;function tm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ot,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bS(r)}function kS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=EN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(IN),this.nodes.forEach(CN),this.nodes.forEach(RN),this.nodes.forEach(AN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new lN)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new jg),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const f=this.eventHandlers.get(l);f&&f.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=q1(l)&&!gk(l),this.instance=l;const{layoutId:c,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),t){let m,E=0;const w=()=>this.root.updateBlockedByResize=!1;ot.read(()=>{E=window.innerWidth}),t(l,()=>{const I=window.innerWidth;I!==E&&(E=I,this.root.updateBlockedByResize=!0,m&&m(),m=uN(w,250),Wh.hasAnimatedSinceResize&&(Wh.hasAnimatedSinceResize=!1,this.nodes.forEach(zw)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:E,hasRelativeLayoutChanged:w,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||p.getDefaultTransition()||VN,{onLayoutAnimationStart:D,onLayoutAnimationComplete:C}=p.getProps(),U=!this.targetLayout||!RS(this.targetLayout,I),$=!E&&w;if(this.options.layoutRoot||this.resumeFrom||$||E&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...ey(P,"layout"),onPlay:D,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(m,$)}else E||zw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ds(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bN),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const E=this.path[m];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PN),this.nodes.forEach(TN),this.nodes.forEach(SN)):this.nodes.forEach(jw),this.clearAllSnapshots();const c=An.now();qt.delta=Ei(0,1e3/60,c-qt.timestamp),qt.timestamp=c,qt.isProcessing=!0,$p.update.process(qt),$p.preRender.process(qt),$p.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ny.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xN),this.sharedNodes.forEach(kN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!CS(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(c||so(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return l&&(f=this.removeTransform(f)),LN(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return wt();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ON))){const{scroll:p}=this.root;p&&(Ca(c.x,p.offset.x),Ca(c.y,p.offset.y))}return c}removeElementScroll(l){const c=wt();if(qn(c,l),this.scroll?.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:m,options:E}=p;p!==this.root&&m&&E.layoutScroll&&(m.wasRoot&&qn(c,l),Ca(c.x,m.offset.x),Ca(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const f=wt();qn(f,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ra(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),so(m.latestValues)&&Ra(f,m.latestValues)}return so(this.latestValues)&&Ra(f,this.latestValues),f}removeTransform(l){const c=wt();qn(c,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!so(p.latestValues))continue;Um(p.latestValues)&&p.updateSnapshot();const m=wt(),E=p.measurePageBox();qn(m,E),Vw(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return so(this.latestValues)&&Vw(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:E}=this.options;if(!(!this.layout||!(m||E))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),pu(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),z2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),uS(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),pu(this.relativeTargetOrigin,this.target,w.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Um(this.parent.latestValues)||lS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;qn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,w=this.treeScale.y;e2(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=wt());const{target:I}=l;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kw(this.prevProjectionDelta.x,this.projectionDelta.x),kw(this.prevProjectionDelta.y,this.projectionDelta.y)),fu(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==w||!Uw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Uw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ba(),this.projectionDelta=ba(),this.projectionDeltaWithTransform=ba()}setAnimationOrigin(l,c=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},E=ba();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=wt(),I=f?f.source:void 0,P=this.layout?this.layout.source:void 0,D=I!==P,C=this.getStack(),U=!C||C.members.length<=1,$=!!(D&&!U&&this.options.crossfade===!0&&!this.path.some(DN));this.animationProgress=0;let z;this.mixTargetDelta=ne=>{const oe=ne/1e3;$w(E.x,l.x,oe),$w(E.y,l.y,oe),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NN(this.relativeTarget,this.relativeTargetOrigin,w,oe),z&&yN(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=wt()),qn(z,this.relativeTarget)),D&&(this.animationValues=m,hN(m,p,this.latestValues,oe,$,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=oe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ds(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Wh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ua(0)),this.currentAnimation=oN(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:f,layout:p,latestValues:m}=l;if(!(!c||!f||!p)){if(this!==l&&this.layout&&p&&NS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||wt();const E=dn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+E;const w=dn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+w}qn(c,f),Ra(c,m),fu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new vN),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const p={};f.z&&tm("z",l,p,this.animationValues);for(let m=0;m<em.length;m++)tm(`rotate${em[m]}`,l,p,this.animationValues),tm(`skew${em[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=$h(c?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=$h(c?.pointerEvents)||""),this.hasProjected&&!so(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let E=_N(this.projectionDeltaWithTransform,this.treeScale,m);f&&(E=f(m,E)),l.transform=E;const{x:w,y:I}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${I.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const P in Pu){if(m[P]===void 0)continue;const{correct:D,applyTo:C,isCSSVariable:U}=Pu[P],$=E==="none"?m[P]:D(m[P],p);if(C){const z=C.length;for(let ne=0;ne<z;ne++)l[C[ne]]=$}else U?this.options.visualElement.renderState.vars[P]=$:l[P]=$}this.options.layoutId&&(l.pointerEvents=p===this?$h(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Bw),this.root.sharedNodes.clear()}}}function TN(t){t.updateLayout()}function SN(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?Gn(m=>{const E=a?e.measuredBox[m]:e.layoutBox[m],w=dn(E);E.min=n[m].min,E.max=E.min+w}):NS(s,e.layoutBox,n)&&Gn(m=>{const E=a?e.measuredBox[m]:e.layoutBox[m],w=dn(n[m]);E.max=E.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+w)});const l=ba();fu(l,n,e.layoutBox);const c=ba();a?fu(c,t.applyTransform(r,!0),e.measuredBox):fu(c,n,e.layoutBox);const f=!CS(l);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:E,layout:w}=m;if(E&&w){const I=wt();pu(I,e.layoutBox,E.layoutBox);const P=wt();pu(P,n,w.layoutBox),RS(I,P)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=I,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function IN(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function AN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xN(t){t.clearSnapshot()}function Bw(t){t.clearMeasurements()}function jw(t){t.isLayoutDirty=!1}function PN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CN(t){t.resolveTargetDelta()}function RN(t){t.calcProjection()}function bN(t){t.resetSkewAndRotation()}function kN(t){t.removeLeadSnapshot()}function $w(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ww(t,e,n,r){t.min=ht(e.min,n.min,r),t.max=ht(e.max,n.max,r)}function NN(t,e,n,r){Ww(t.x,e.x,n.x,r),Ww(t.y,e.y,n.y,r)}function DN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VN={duration:.45,ease:[.4,0,.1,1]},Hw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qw=Hw("applewebkit/")&&!Hw("chrome/")?Math.round:Yn;function Gw(t){t.min=qw(t.min),t.max=qw(t.max)}function LN(t){Gw(t.x),Gw(t.y)}function NS(t,e,n){return t==="position"||t==="preserve-aspect"&&!j2(Fw(e),Fw(n),.2)}function ON(t){return t!==t.root&&t.scroll?.wasRoot}const MN=kS({attachResizeListener:(t,e)=>Cu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nm={current:void 0},DS=kS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!nm.current){const t=new MN({});t.mount(window),t.setOptions({layoutScroll:!0}),nm.current=t}return nm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),FN={pan:{Feature:nN},drag:{Feature:tN,ProjectionNode:DS,MeasureLayout:AS}};function Kw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&ot.postRender(()=>a(e,Ku(e)))}class UN extends Ts{mount(){const{current:e}=this.node;e&&(this.unmount=hk(e,(n,r)=>(Kw(this.node,r,"Start"),s=>Kw(this.node,s,"End"))))}unmount(){}}class BN extends Ts{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(Cu(this.node.current,"focus",()=>this.onFocus()),Cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&ot.postRender(()=>a(e,Ku(e)))}class jN extends Ts{mount(){const{current:e}=this.node;e&&(this.unmount=mk(e,(n,r)=>(Qw(this.node,r,"Start"),(s,{success:a})=>Qw(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qm=new WeakMap,rm=new WeakMap,zN=t=>{const e=qm.get(t.target);e&&e(t)},$N=t=>{t.forEach(zN)};function WN({root:t,...e}){const n=t||document;rm.has(n)||rm.set(n,{});const r=rm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver($N,{root:t,...e})),r[s]}function HN(t,e,n){const r=WN(e);return qm.set(t,n),r.observe(t),()=>{qm.delete(t),r.unobserve(t)}}const qN={some:0,all:1};class GN extends Ts{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:qN[s]},c=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:E}=this.node.getProps(),w=p?m:E;w&&w(f)};return HN(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KN(e,n))&&this.startObserver()}unmount(){}}function KN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const QN={inView:{Feature:GN},tap:{Feature:jN},focus:{Feature:BN},hover:{Feature:UN}},YN={layout:{ProjectionNode:DS,MeasureLayout:AS}},XN={...L2,...QN,...FN,...YN},Kn=Xk(XN,c2),JN={some:0,all:1};function ZN(t,e,{root:n,margin:r,amount:s="some"}={}){const a=j1(t),l=new WeakMap,c=p=>{p.forEach(m=>{const E=l.get(m.target);if(m.isIntersecting!==!!E)if(m.isIntersecting){const w=e(m.target,m);typeof w=="function"?l.set(m.target,w):f.unobserve(m.target)}else typeof E=="function"&&(E(m),l.delete(m.target))})},f=new IntersectionObserver(c,{root:n,rootMargin:r,threshold:typeof s=="number"?s:JN[s]});return a.forEach(p=>f.observe(p)),()=>f.disconnect()}function im(t,{root:e,margin:n,amount:r,once:s=!1,initial:a=!1}={}){const[l,c]=b.useState(a);return b.useEffect(()=>{if(!t.current||s&&l)return;const f=()=>(c(!0),s?void 0:()=>c(!1)),p={root:e&&e.current||void 0,margin:n,amount:r};return ZN(t.current,f,p)},[e,t,n,s,r]),l}function eD(){const t=b.useRef(null),e=b.useRef(null),n=b.useRef(null),r=im(t,{once:!0}),s=im(e,{once:!0}),a=im(n,{once:!0});return _.createElement(_.Fragment,null,_.createElement(Kn.header,{initial:{y:-80,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"bg-gray-900 text-white flex justify-between items-center px-6 py-3 shadow-md"},_.createElement("span",{className:"font-bold text-lg sm:text-xl"},"MyAmravati Market"),_.createElement("nav",{className:"space-x-4 text-sm sm:text-base"},_.createElement(ct,{to:"/",className:"hover:text-blue-400 transition"},"Home"),_.createElement(ct,{to:"/browse",className:"hover:text-blue-400 transition"},"Browse"),_.createElement(ct,{to:"/add-product",className:"hover:text-blue-400 transition"},"Sell"))),_.createElement(Kn.section,{className:"text-center px-4 py-16 bg-gradient-to-r from-blue-50 to-green-50",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.7}},_.createElement("h1",{className:"font-bold text-3xl sm:text-5xl mb-4 leading-tight"}," Welcome to ",_.createElement("br",{className:"sm:hidden"})," ",_.createElement("span",{className:"text-blue-600"},"MyAmravati Market ")),_.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto mb-6 text-base sm:text-lg"},"A digital bazaar for students, home entrepreneurs, and locals of the Amravati district. Buy and sell books, crafts, handmade food, second-hand items, and more."),_.createElement("div",{className:"flex flex-wrap justify-center gap-4"},_.createElement(ct,{to:"/browse",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-md transition"},"Browse Products"),_.createElement(ct,{to:"/add-product",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-md transition"},"Add Your Product"))),_.createElement("section",{className:"bg-gray-100 py-16 px-6"},_.createElement("h2",{className:"text-3xl sm:text-4xl font-bold text-center text-gray-800 mb-12"},"How MyAmravati Market Works"),_.createElement("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8"},_.createElement(Kn.div,{ref:t,initial:{opacity:0,y:50},animate:r?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut"},className:"bg-white shadow-lg rounded-2xl p-6 text-center hover:scale-105 transform transition duration-300"},_.createElement("div",{className:"text-5xl mb-4"},""),_.createElement("h3",{className:"text-xl font-semibold mb-2"},"List Your Product"),_.createElement("p",{className:"text-gray-600"},"Upload a photo, set your price, write details, and share your WhatsApp number.")),_.createElement(Kn.div,{ref:e,initial:{opacity:0,y:50},animate:s?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut",delay:.1},className:"bg-white shadow-lg rounded-2xl p-6 text-center hover:scale-105 transform transition duration-300"},_.createElement("div",{className:"text-5xl mb-4"},""),_.createElement("h3",{className:"text-xl font-semibold mb-2"},"Browse & Contact"),_.createElement("p",{className:"text-gray-600"},"Buyers search local listings and chat directly with sellers via WhatsApp.")),_.createElement(Kn.div,{ref:n,initial:{opacity:0,y:50},animate:a?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut",delay:.2},className:"bg-white shadow-lg rounded-2xl p-6 text-center hover:scale-105 transform transition duration-300"},_.createElement("div",{className:"text-5xl mb-4"},""),_.createElement("h3",{className:"text-xl font-semibold mb-2"},"Deal & Deliver"),_.createElement("p",{className:"text-gray-600"},"Meet nearby, confirm the deal, and exchange items securely and quickly."))),_.createElement("div",{className:"text-center mt-12"},_.createElement(ct,{to:"/add-product"},_.createElement(Kn.button,{whileHover:{scale:1.05},className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-xl shadow-md transition"},"Start Selling Now")))),_.createElement(Kn.section,{className:"bg-white py-16 px-6 border-t border-gray-200",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0}},_.createElement("div",{className:"max-w-3xl mx-auto text-center"},_.createElement("h3",{className:"text-2xl font-bold text-gray-800 mb-4"},"Need Help?"),_.createElement("p",{className:"text-gray-600 mb-6"},"Facing issues or have questions? Were here to help you 24/7."),_.createElement("a",{href:"mailto:myamravatimart007@gmail.com?subject=Support Request  MyAmravati Market",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-xl shadow-md transition"},"Email Us: myamravatimart007@gmail.com"))),_.createElement("footer",{className:"bg-gray-900 text-gray-300 text-center py-6"},_.createElement("p",{className:"mb-2"}," 2025 MyAmravati Market  Made with  for Amravati"),_.createElement("div",{className:"space-x-3 text-sm"},_.createElement(ct,{to:"/terms",className:"hover:underline"},"Terms & Conditions"),_.createElement(ct,{to:"/privacy",className:"hover:underline"},"Privacy Policy")),_.createElement("p",{className:"mt-2 text-xs"},"Built for Amravati |"," ",_.createElement("a",{href:"#",className:"text-blue-400 hover:underline"},"Powered by you"))))}const tD=()=>{};var Yw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,m=a>>2,E=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,I=p&63;f||(I=64,l||(w=64)),r.push(n[m],n[E],n[w],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const E=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||E==null)throw new rD;const w=a<<2|c>>4;if(r.push(w),p!==64){const I=c<<4&240|p>>2;if(r.push(I),E!==64){const P=p<<6&192|E;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iD=function(t){const e=VS(t);return LS.encodeByteArray(e,!0)},ld=function(t){return iD(t).replace(/\./g,"")},OS=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=()=>sD().__FIREBASE_DEFAULTS__,aD=()=>{if(typeof process>"u"||typeof Yw>"u")return;const t=Yw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OS(t[1]);return e&&JSON.parse(e)},Dd=()=>{try{return tD()||oD()||aD()||lD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MS=t=>Dd()?.emulatorHosts?.[t],FS=t=>{const e=MS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},US=()=>Dd()?.config,BS=t=>Dd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ld(JSON.stringify(n)),ld(JSON.stringify(l)),""].join(".")}const mu={};function cD(){const t={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?t.emulator.push(e):t.prod.push(e);return t}function hD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xw=!1;function py(t,e){if(typeof window>"u"||typeof document>"u"||!Ss(window.location.host)||mu[t]===e||mu[t]||Xw)return;mu[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=cD().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Xw=!0,l()},w}function m(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=hD(r),I=n("text"),P=document.getElementById(I)||document.createElement("span"),D=n("learnmore"),C=document.getElementById(D)||document.createElement("a"),U=n("preprendIcon"),$=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const z=w.element;c(z),m(C,D);const ne=p();f($,U),z.append($,P,C,ne),document.body.appendChild(z)}a?(P.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function fD(){const t=Dd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yD(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vD(){return!fD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _D(){try{return typeof indexedDB=="object"}catch{return!1}}function wD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="FirebaseError";class Kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ED,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?TD(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Kr(s,c,r)}}function TD(t,e){return t.replace(SD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const SD=/\{\$([^}]+)}/g;function ID(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function go(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Jw(a)&&Jw(l)){if(!go(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Jw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function su(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AD(t,e){const n=new xD(t,e);return n.subscribe.bind(n)}class xD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=sm),s.error===void 0&&(s.error=sm),s.complete===void 0&&(s.complete=sm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bD(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RD(t){return t===oo?void 0:t}function bD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const ND={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},DD=Me.INFO,VD={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},LD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=VD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class my{constructor(e){this.name=e,this._logLevel=DD,this._logHandler=LD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ND[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const OD=(t,e)=>e.some(n=>t instanceof n);let Zw,eE;function MD(){return Zw||(Zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FD(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zS=new WeakMap,Gm=new WeakMap,$S=new WeakMap,om=new WeakMap,gy=new WeakMap;function UD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ls(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&zS.set(n,t)}).catch(()=>{}),gy.set(e,t),e}function BD(t){if(Gm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Gm.set(t,e)}let Km={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jD(t){Km=t(Km)}function zD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(am(this),e,...n);return $S.set(r,e.sort?e.sort():[e]),ls(r)}:FD().includes(t)?function(...e){return t.apply(am(this),e),ls(zS.get(this))}:function(...e){return ls(t.apply(am(this),e))}}function $D(t){return typeof t=="function"?zD(t):(t instanceof IDBTransaction&&BD(t),OD(t,MD())?new Proxy(t,Km):t)}function ls(t){if(t instanceof IDBRequest)return UD(t);if(om.has(t))return om.get(t);const e=$D(t);return e!==t&&(om.set(t,e),gy.set(e,t)),e}const am=t=>gy.get(t);function WD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=ls(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ls(l.result),f.oldVersion,f.newVersion,ls(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const HD=["get","getKey","getAll","getAllKeys","count"],qD=["put","add","delete","clear"],lm=new Map;function tE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=qD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||HD.includes(n)))return;const a=async function(l,...c){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&f.done]))[0]};return lm.set(e,a),a}jD(t=>({...t,get:(e,n,r)=>tE(e,n)||t.get(e,n,r),has:(e,n)=>!!tE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KD(t){return t.getComponent()?.type==="VERSION"}const Qm="@firebase/app",nE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new my("@firebase/app"),QD="@firebase/app-compat",YD="@firebase/analytics-compat",XD="@firebase/analytics",JD="@firebase/app-check-compat",ZD="@firebase/app-check",eV="@firebase/auth",tV="@firebase/auth-compat",nV="@firebase/database",rV="@firebase/data-connect",iV="@firebase/database-compat",sV="@firebase/functions",oV="@firebase/functions-compat",aV="@firebase/installations",lV="@firebase/installations-compat",uV="@firebase/messaging",cV="@firebase/messaging-compat",hV="@firebase/performance",dV="@firebase/performance-compat",fV="@firebase/remote-config",pV="@firebase/remote-config-compat",mV="@firebase/storage",gV="@firebase/storage-compat",yV="@firebase/firestore",vV="@firebase/ai",_V="@firebase/firestore-compat",wV="firebase",EV="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",TV={[Qm]:"fire-core",[QD]:"fire-core-compat",[XD]:"fire-analytics",[YD]:"fire-analytics-compat",[ZD]:"fire-app-check",[JD]:"fire-app-check-compat",[eV]:"fire-auth",[tV]:"fire-auth-compat",[nV]:"fire-rtdb",[rV]:"fire-data-connect",[iV]:"fire-rtdb-compat",[sV]:"fire-fn",[oV]:"fire-fn-compat",[aV]:"fire-iid",[lV]:"fire-iid-compat",[uV]:"fire-fcm",[cV]:"fire-fcm-compat",[hV]:"fire-perf",[dV]:"fire-perf-compat",[fV]:"fire-rc",[pV]:"fire-rc-compat",[mV]:"fire-gcs",[gV]:"fire-gcs-compat",[yV]:"fire-fst",[_V]:"fire-fst-compat",[vV]:"fire-vertex","fire-js":"fire-js",[wV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new Map,SV=new Map,Xm=new Map;function rE(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yo(t){const e=t.name;if(Xm.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,t);for(const n of Ru.values())rE(n,t);for(const n of SV.values())rE(n,t);return!0}function Vd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new Qu("app","Firebase",IV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=EV;function WS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ym,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw us.create("bad-app-name",{appName:String(s)});if(n||(n=US()),!n)throw us.create("no-options");const a=Ru.get(s);if(a){if(go(n,a.options)&&go(r,a.config))return a;throw us.create("duplicate-app",{appName:s})}const l=new kD(s);for(const f of Xm.values())l.addComponent(f);const c=new AV(n,r,l);return Ru.set(s,c),c}function Ld(t=Ym){const e=Ru.get(t);if(!e&&t===Ym&&US())return WS();if(!e)throw us.create("no-app",{appName:t});return e}function xV(){return Array.from(Ru.values())}function jr(t,e,n){let r=TV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(l.join(" "));return}yo(new ps(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="firebase-heartbeat-database",CV=1,bu="firebase-heartbeat-store";let um=null;function HS(){return um||(um=WD(PV,CV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bu)}catch(n){console.warn(n)}}}}).catch(t=>{throw us.create("idb-open",{originalErrorMessage:t.message})})),um}async function RV(t){try{const n=(await HS()).transaction(bu),r=await n.objectStore(bu).get(qS(t));return await n.done,r}catch(e){if(e instanceof Kr)Si.warn(e.message);else{const n=us.create("idb-get",{originalErrorMessage:e?.message});Si.warn(n.message)}}}async function iE(t,e){try{const r=(await HS()).transaction(bu,"readwrite");await r.objectStore(bu).put(e,qS(t)),await r.done}catch(n){if(n instanceof Kr)Si.warn(n.message);else{const r=us.create("idb-set",{originalErrorMessage:n?.message});Si.warn(r.message)}}}function qS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=1024,kV=30;class NV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>kV){const s=LV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Si.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sE(),{heartbeatsToSend:n,unsentEntries:r}=DV(this._heartbeatsCache.heartbeats),s=ld(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Si.warn(e),""}}}function sE(){return new Date().toISOString().substring(0,10)}function DV(t,e=bV){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),oE(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),oE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _D()?wD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oE(t){return ld(JSON.stringify({version:2,heartbeats:t})).length}function LV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t){yo(new ps("platform-logger",e=>new GD(e),"PRIVATE")),yo(new ps("heartbeat",e=>new NV(e),"PRIVATE")),jr(Qm,nE,t),jr(Qm,nE,"esm2020"),jr("fire-js","")}OV("");var MV="firebase",FV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(MV,FV,"app");function GS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UV=GS,KS=new Qu("auth","Firebase",GS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new my("@firebase/auth");function BV(t,...e){ud.logLevel<=Me.WARN&&ud.warn(`Auth (${Io}): ${t}`,...e)}function Hh(t,...e){ud.logLevel<=Me.ERROR&&ud.error(`Auth (${Io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw vy(t,...e)}function gr(t,...e){return vy(t,...e)}function yy(t,e,n){const r={...UV(),[e]:n};return new Qu("auth","Firebase",r).create(e,{appName:t.name})}function vi(t){return yy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jn(t,"argument-error"),yy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KS.create(t,...e)}function Ae(t,e,...n){if(!t)throw vy(e,...n)}function mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hh(e),new Error(e)}function Ii(t,e){t||mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){return typeof self<"u"&&self.location?.href||""}function zV(){return aE()==="http:"||aE()==="https:"}function aE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zV()||mD()||"connection"in navigator)?navigator.onLine:!0}function WV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=dD()||gD()}get(){return $V()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GV=new Xu(3e4,6e4);function Is(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function As(t,e,n,r,s={}){return YS(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Yu({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return pD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ss(t.emulatorConfig.host)&&(p.credentials="include"),QS.fetch()(await XS(t,t.config.apiHost,n,c),p)})}async function YS(t,e,n){t._canInitEmulator=!1;const r={...HV,...e};try{const s=new QV(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Rh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Rh(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Rh(t,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw yy(t,m,p);Jn(t,m)}}catch(s){if(s instanceof Kr)throw s;Jn(t,"network-request-failed",{message:String(s)})}}async function Ju(t,e,n,r,s={}){const a=await As(t,e,n,r,s);return"mfaPendingCredential"in a&&Jn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function XS(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?_y(t.config,s):`${t.config.apiScheme}://${s}`;return qV.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function KV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),GV.get())})}}function Rh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=gr(t,e,r);return s.customData._tokenResponse=n,s}function lE(t){return t!==void 0&&t.enterprise!==void 0}class YV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XV(t,e){return As(t,"GET","/v2/recaptchaConfig",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){return As(t,"POST","/v1/accounts:delete",e)}async function cd(t,e){return As(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZV(t,e=!1){const n=dt(t),r=await n.getIdToken(e),s=wy(r);Ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:gu(cm(s.auth_time)),issuedAtTime:gu(cm(s.iat)),expirationTime:gu(cm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function cm(t){return Number(t)*1e3}function wy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const s=OS(n);return s?JSON.parse(s):(Hh("Failed to decode base64 JWT payload"),null)}catch(s){return Hh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function uE(t){const e=wy(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kr&&eL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t){const e=t.auth,n=await t.getIdToken(),r=await ku(t,cd(e,{idToken:n}));Ae(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?JS(s.providerUserInfo):[],l=rL(t.providerData,a),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!l?.length,p=c?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Zm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function nL(t){const e=dt(t);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function JS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e){const n=await YS(t,{},async()=>{const r=Yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await XS(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ss(t.emulatorConfig.host)&&(f.credentials="include"),QS.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sL(t,e){return As(t,"POST","/v2/accounts:revokeToken",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=uE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await iL(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new Da;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ae(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new tL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ku(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZV(this,e)}reload(){return nL(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await ku(this,JV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:I,providerData:P,stsTokenManager:D}=n;Ae(E&&D,e,"internal-error");const C=Da.fromJSON(this.name,D);Ae(typeof E=="string",e,"internal-error"),ts(r,e.name),ts(s,e.name),Ae(typeof w=="boolean",e,"internal-error"),Ae(typeof I=="boolean",e,"internal-error"),ts(a,e.name),ts(l,e.name),ts(c,e.name),ts(f,e.name),ts(p,e.name),ts(m,e.name);const U=new mr({uid:E,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:C,createdAt:p,lastLoginAt:m});return P&&Array.isArray(P)&&(U.providerData=P.map($=>({...$}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(e,n,r=!1){const s=new Da;s.updateFromServerResponse(n);const a=new mr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await hd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ae(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?JS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new Da;c.updateFromIdToken(r);const f=new mr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Zm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;function gi(t){Ii(t instanceof Function,"Expected a class definition");let e=cE.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZS.type="NONE";const hE=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t,e,n){return`firebase:${t}:${e}:${n}`}class Va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=qh(this.userKey,s.apiKey,a),this.fullPersistenceKey=qh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cd(this.auth,{idToken:e}).catch(()=>{});return n?mr._fromGetAccountInfoResponse(this.auth,n,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Va(gi(hE),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||gi(hE);const l=qh(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=await p._get(l);if(m){let E;if(typeof m=="string"){const w=await cd(e,{idToken:m}).catch(()=>{});if(!w)break;E=await mr._fromGetAccountInfoResponse(e,w,m)}else E=mr._fromJSON(e,m);p!==a&&(c=E),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Va(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Va(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sI(e))return"Blackberry";if(oI(e))return"Webos";if(tI(e))return"Safari";if((e.includes("chrome/")||nI(e))&&!e.includes("edge/"))return"Chrome";if(iI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function eI(t=on()){return/firefox\//i.test(t)}function tI(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nI(t=on()){return/crios\//i.test(t)}function rI(t=on()){return/iemobile/i.test(t)}function iI(t=on()){return/android/i.test(t)}function sI(t=on()){return/blackberry/i.test(t)}function oI(t=on()){return/webos/i.test(t)}function Ey(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oL(t=on()){return Ey(t)&&!!window.navigator?.standalone}function aL(){return yD()&&document.documentMode===10}function aI(t=on()){return Ey(t)||iI(t)||oI(t)||sI(t)||/windows phone/i.test(t)||rI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,e=[]){let n;switch(t){case"Browser":n=dE(on());break;case"Worker":n=`${dE(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t,e={}){return As(t,"GET","/v2/passwordPolicy",Is(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=6;class hL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fE(this),this.idTokenSubscription=new fE(this),this.beforeStateQueue=new lL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cd(this,{idToken:e}),r=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(vi(this));const n=e?dt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uL(this),n=new hL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xs(t){return dt(t)}class fE{constructor(e){this.auth=e,this.observer=null,this.addObserver=AD(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fL(t){Od=t}function uI(t){return Od.loadJS(t)}function pL(){return Od.recaptchaEnterpriseScript}function mL(){return Od.gapiScript}function gL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class yL{constructor(){this.enterprise=new vL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _L="recaptcha-enterprise",cI="NO_RECAPTCHA";class wL{constructor(e){this.type=_L,this.auth=xs(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{XV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new YV(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function s(a,l,c){const f=window.grecaptcha;lE(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(cI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yL().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&lE(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=pL();f.length!==0&&(f+=c),uI(f).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function pE(t,e,n,r=!1,s=!1){const a=new wL(t);let l;if(s)l=cI;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function eg(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await pE(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await pE(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){const n=Vd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(go(a,e??{}))return s;Jn(s,"already-initialized")}return n.initialize({options:e})}function TL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function SL(t,e,n){const r=xs(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=hI(e),{host:l,port:c}=IL(e),f=c===null?"":`:${c}`,p={url:`${a}//${l}${f}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(go(p,r.config.emulator)&&go(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Ss(l)?(fy(`${a}//${l}${f}`),py("Auth",!0)):AL()}function hI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IL(t){const e=hI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:mE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:mE(l)}}}function mE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function xL(t,e){return As(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e){return Ju(t,"POST","/v1/accounts:signInWithPassword",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e){return Ju(t,"POST","/v1/accounts:signInWithEmailLink",Is(t,e))}async function RL(t,e){return Ju(t,"POST","/v1/accounts:signInWithEmailLink",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Ty{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,n,"signInWithPassword",PL);case"emailLink":return CL(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,r,"signUpPassword",xL);case"emailLink":return RL(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t,e){return Ju(t,"POST","/v1/accounts:signInWithIdp",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="http://localhost";class vo extends Ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new vo(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return La(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,La(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,La(e,n)}buildRequest(){const e={requestUri:bL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NL(t){const e=iu(su(t)).link,n=e?iu(su(e)).deep_link_id:null,r=iu(su(t)).deep_link_id;return(r?iu(su(r)).link:null)||r||n||e||t}class Sy{constructor(e){const n=iu(su(e)),r=n.apiKey??null,s=n.oobCode??null,a=kL(n.mode??null);Ae(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NL(e);try{return new Sy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(e,n){return Nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sy.parseLink(n);return Ae(r,"argument-error"),Nu._fromEmailAndCode(e,r.code,r.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends Iy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Zu{constructor(){super("facebook.com")}static credential(e){return vo._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vo._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Zu{constructor(){super("github.com")}static credential(e){return vo._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Zu{constructor(){super("twitter.com")}static credential(e,n){return vo._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return is.credential(n,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e){return Ju(t,"POST","/v1/accounts:signUp",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await mr._fromIdTokenResponse(e,r,s),l=gE(r);return new _o({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=gE(r);return new _o({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function gE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends Kr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new dd(e,n,r,s)}}function dI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(t,a,e,r):a})}async function VL(t,e,n=!1){const r=await ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e,n=!1){const{auth:r}=t;if(Sn(r.app))return Promise.reject(vi(r));const s="reauthenticate";try{const a=await ku(t,dI(r,s,e,t),n);Ae(a.idToken,r,"internal-error");const l=wy(a.idToken);Ae(l,r,"internal-error");const{sub:c}=l;return Ae(t.uid===c,r,"user-mismatch"),_o._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Jn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(t,e,n=!1){if(Sn(t.app))return Promise.reject(vi(t));const r="signIn",s=await dI(t,r,e),a=await _o._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function OL(t,e){return fI(xs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(t){const e=xs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ML(t,e,n){if(Sn(t.app))return Promise.reject(vi(t));const r=xs(t),l=await eg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DL).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&pI(t),f}),c=await _o._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function FL(t,e,n){return Sn(t.app)?Promise.reject(vi(t)):OL(dt(t),Za.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pI(t),r})}function UL(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function BL(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function Ay(t,e,n,r){return dt(t).onAuthStateChanged(e,n,r)}function jL(t){return dt(t).signOut()}const fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fd,"1"),this.storage.removeItem(fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=1e3,$L=10;class gI extends mI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);aL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$L):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gI.type="LOCAL";const WL=gI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends mI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yI.type="SESSION";const vI=yI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,a)),f=await HL(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=xy("",20);s.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(E){const w=E;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function GL(t){zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function KL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QL(){return navigator?.serviceWorker?.controller||null}function YL(){return _I()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firebaseLocalStorageDb",XL=1,pd="firebaseLocalStorage",EI="fbase_key";class ec{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fd(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function JL(){const t=indexedDB.deleteDatabase(wI);return new ec(t).toPromise()}function tg(){const t=indexedDB.open(wI,XL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pd,{keyPath:EI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),await JL(),e(await tg()))})})}async function yE(t,e,n){const r=Fd(t,!0).put({[EI]:e,value:n});return new ec(r).toPromise()}async function ZL(t,e){const n=Fd(t,!1).get(e),r=await new ec(n).toPromise();return r===void 0?null:r.value}function vE(t,e){const n=Fd(t,!0).delete(e);return new ec(n).toPromise()}const eO=800,tO=3;class TI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _I()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(YL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KL(),!this.activeServiceWorker)return;this.sender=new qL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await yE(e,fd,"1"),await vE(e,fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Fd(s,!1).getAll();return new ec(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TI.type="LOCAL";const nO=TI;new Xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e){return e?gi(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py extends Ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,n){return La(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rO(t){return fI(t.auth,new Py(t),t.bypassAuthState)}function iO(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),LL(n,new Py(t),t.bypassAuthState)}async function sO(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),VL(n,new Py(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rO;case"linkViaPopup":case"linkViaRedirect":return sO;case"reauthViaPopup":case"reauthViaRedirect":return iO;default:Jn(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new Xu(2e3,1e4);async function ng(t,e,n){if(Sn(t.app))return Promise.reject(gr(t,"operation-not-supported-in-this-environment"));const r=xs(t);jV(t,e,Iy);const s=SI(r,n);return new uo(r,"signInViaPopup",e,s).executeNotNull()}class uo extends II{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oO.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="pendingRedirect",Gh=new Map;class lO extends II{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gh.get(this.auth._key());if(!e){try{const r=await uO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gh.set(this.auth._key(),e)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uO(t,e){const n=dO(e),r=hO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function cO(t,e){Gh.set(t._key(),e)}function hO(t){return gi(t._redirectPersistence)}function dO(t){return qh(aO,t.config.apiKey,t.name)}async function fO(t,e,n=!1){if(Sn(t.app))return Promise.reject(vi(t));const r=xs(t),s=SI(r,e),l=await new lO(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=600*1e3;class mO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!AI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(gr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pO&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(e))}saveEventToCache(e){this.cachedEventUids.add(_E(e)),this.lastProcessedEventTime=Date.now()}}function _E(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(t,e={}){return As(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_O=/^https?/;async function wO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yO(t);for(const n of e)try{if(EO(n))return}catch{}Jn(t,"unauthorized-domain")}function EO(t){const e=Jm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!_O.test(n))return!1;if(vO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new Xu(3e4,6e4);function wE(){const t=zr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SO(t){return new Promise((e,n)=>{function r(){wE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wE(),n(gr(t,"network-request-failed"))},timeout:TO.get()})}if(zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zr().gapi?.load)r();else{const s=gL("iframefcb");return zr()[s]=()=>{gapi.load?r():n(gr(t,"network-request-failed"))},uI(`${mL()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function IO(t){return Kh=Kh||SO(t),Kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new Xu(5e3,15e3),xO="__/auth/iframe",PO="emulator/auth/iframe",CO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bO(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_y(e,PO):`https://${t.config.authDomain}/${xO}`,r={apiKey:e.apiKey,appName:t.name,v:Io},s=RO.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Yu(r).slice(1)}`}async function kO(t){const e=await IO(t),n=zr().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:bO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CO,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=gr(t,"network-request-failed"),c=zr().setTimeout(()=>{a(l)},AO.get());function f(){zr().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DO=500,VO=600,LO="_blank",OO="http://localhost";class EE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MO(t,e,n,r=DO,s=VO){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...NO,width:r.toString(),height:s.toString(),top:a,left:l},p=on().toLowerCase();n&&(c=nI(p)?LO:n),eI(p)&&(e=e||OO,f.scrollbars="yes");const m=Object.entries(f).reduce((w,[I,P])=>`${w}${I}=${P},`,"");if(oL(p)&&c!=="_self")return FO(e||"",c),new EE(null);const E=window.open(e||"",c,m);Ae(E,t,"popup-blocked");try{E.focus()}catch{}return new EE(E)}function FO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="__/auth/handler",BO="emulator/auth/handler",jO=encodeURIComponent("fac");async function TE(t,e,n,r,s,a){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Io,eventId:s};if(e instanceof Iy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",ID(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,E]of Object.entries({}))l[m]=E}if(e instanceof Zu){const m=e.getScopes().filter(E=>E!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await t._getAppCheckToken(),p=f?`#${jO}=${encodeURIComponent(f)}`:"";return`${zO(t)}?${Yu(c).slice(1)}${p}`}function zO({config:t}){return t.emulator?_y(t,BO):`https://${t.authDomain}/${UO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class $O{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vI,this._completeRedirectFn=fO,this._overrideRedirectResult=cO}async _openPopup(e,n,r,s){Ii(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await TE(e,n,r,Jm(),s);return MO(e,a,xy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await TE(e,n,r,Jm(),s);return GL(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Ii(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kO(e),r=new mO(e);return n.register("authEvent",s=>(Ae(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},s=>{const a=s?.[0]?.[hm];a!==void 0&&n(!!a),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aI()||tI()||Ey()}}const WO=$O;var SE="@firebase/auth",IE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GO(t){yo(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lI(t)},p=new dL(r,s,a,f);return TL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yo(new ps("auth-internal",e=>{const n=xs(e.getProvider("auth").getImmediate());return(r=>new HO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(SE,IE,qO(t)),jr(SE,IE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=300,QO=BS("authIdTokenMaxAge")||KO;let AE=null;const YO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QO)return;const s=n?.token;AE!==s&&(AE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function XO(t=Ld()){const e=Vd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EL(t,{popupRedirectResolver:WO,persistence:[nO,WL,vI]}),r=BS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=YO(a.toString());BL(n,l,()=>l(n.currentUser)),UL(n,c=>l(c))}}const s=MS("auth");return s&&SL(n,`http://${s}`),n}function JO(){return document.getElementsByTagName("head")?.[0]??document}fL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=gr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",JO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GO("Browser");var xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,xI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function R(){}R.prototype=x.prototype,O.D=x.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(L,F,W){for(var V=Array(arguments.length-2),te=2;te<arguments.length;te++)V[te-2]=arguments[te];return x.prototype[F].apply(L,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,x,R){R||(R=0);var L=Array(16);if(typeof x=="string")for(var F=0;16>F;++F)L[F]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(F=0;16>F;++F)L[F]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=O.g[0],R=O.g[1],F=O.g[2];var W=O.g[3],V=x+(W^R&(F^W))+L[0]+3614090360&4294967295;x=R+(V<<7&4294967295|V>>>25),V=W+(F^x&(R^F))+L[1]+3905402710&4294967295,W=x+(V<<12&4294967295|V>>>20),V=F+(R^W&(x^R))+L[2]+606105819&4294967295,F=W+(V<<17&4294967295|V>>>15),V=R+(x^F&(W^x))+L[3]+3250441966&4294967295,R=F+(V<<22&4294967295|V>>>10),V=x+(W^R&(F^W))+L[4]+4118548399&4294967295,x=R+(V<<7&4294967295|V>>>25),V=W+(F^x&(R^F))+L[5]+1200080426&4294967295,W=x+(V<<12&4294967295|V>>>20),V=F+(R^W&(x^R))+L[6]+2821735955&4294967295,F=W+(V<<17&4294967295|V>>>15),V=R+(x^F&(W^x))+L[7]+4249261313&4294967295,R=F+(V<<22&4294967295|V>>>10),V=x+(W^R&(F^W))+L[8]+1770035416&4294967295,x=R+(V<<7&4294967295|V>>>25),V=W+(F^x&(R^F))+L[9]+2336552879&4294967295,W=x+(V<<12&4294967295|V>>>20),V=F+(R^W&(x^R))+L[10]+4294925233&4294967295,F=W+(V<<17&4294967295|V>>>15),V=R+(x^F&(W^x))+L[11]+2304563134&4294967295,R=F+(V<<22&4294967295|V>>>10),V=x+(W^R&(F^W))+L[12]+1804603682&4294967295,x=R+(V<<7&4294967295|V>>>25),V=W+(F^x&(R^F))+L[13]+4254626195&4294967295,W=x+(V<<12&4294967295|V>>>20),V=F+(R^W&(x^R))+L[14]+2792965006&4294967295,F=W+(V<<17&4294967295|V>>>15),V=R+(x^F&(W^x))+L[15]+1236535329&4294967295,R=F+(V<<22&4294967295|V>>>10),V=x+(F^W&(R^F))+L[1]+4129170786&4294967295,x=R+(V<<5&4294967295|V>>>27),V=W+(R^F&(x^R))+L[6]+3225465664&4294967295,W=x+(V<<9&4294967295|V>>>23),V=F+(x^R&(W^x))+L[11]+643717713&4294967295,F=W+(V<<14&4294967295|V>>>18),V=R+(W^x&(F^W))+L[0]+3921069994&4294967295,R=F+(V<<20&4294967295|V>>>12),V=x+(F^W&(R^F))+L[5]+3593408605&4294967295,x=R+(V<<5&4294967295|V>>>27),V=W+(R^F&(x^R))+L[10]+38016083&4294967295,W=x+(V<<9&4294967295|V>>>23),V=F+(x^R&(W^x))+L[15]+3634488961&4294967295,F=W+(V<<14&4294967295|V>>>18),V=R+(W^x&(F^W))+L[4]+3889429448&4294967295,R=F+(V<<20&4294967295|V>>>12),V=x+(F^W&(R^F))+L[9]+568446438&4294967295,x=R+(V<<5&4294967295|V>>>27),V=W+(R^F&(x^R))+L[14]+3275163606&4294967295,W=x+(V<<9&4294967295|V>>>23),V=F+(x^R&(W^x))+L[3]+4107603335&4294967295,F=W+(V<<14&4294967295|V>>>18),V=R+(W^x&(F^W))+L[8]+1163531501&4294967295,R=F+(V<<20&4294967295|V>>>12),V=x+(F^W&(R^F))+L[13]+2850285829&4294967295,x=R+(V<<5&4294967295|V>>>27),V=W+(R^F&(x^R))+L[2]+4243563512&4294967295,W=x+(V<<9&4294967295|V>>>23),V=F+(x^R&(W^x))+L[7]+1735328473&4294967295,F=W+(V<<14&4294967295|V>>>18),V=R+(W^x&(F^W))+L[12]+2368359562&4294967295,R=F+(V<<20&4294967295|V>>>12),V=x+(R^F^W)+L[5]+4294588738&4294967295,x=R+(V<<4&4294967295|V>>>28),V=W+(x^R^F)+L[8]+2272392833&4294967295,W=x+(V<<11&4294967295|V>>>21),V=F+(W^x^R)+L[11]+1839030562&4294967295,F=W+(V<<16&4294967295|V>>>16),V=R+(F^W^x)+L[14]+4259657740&4294967295,R=F+(V<<23&4294967295|V>>>9),V=x+(R^F^W)+L[1]+2763975236&4294967295,x=R+(V<<4&4294967295|V>>>28),V=W+(x^R^F)+L[4]+1272893353&4294967295,W=x+(V<<11&4294967295|V>>>21),V=F+(W^x^R)+L[7]+4139469664&4294967295,F=W+(V<<16&4294967295|V>>>16),V=R+(F^W^x)+L[10]+3200236656&4294967295,R=F+(V<<23&4294967295|V>>>9),V=x+(R^F^W)+L[13]+681279174&4294967295,x=R+(V<<4&4294967295|V>>>28),V=W+(x^R^F)+L[0]+3936430074&4294967295,W=x+(V<<11&4294967295|V>>>21),V=F+(W^x^R)+L[3]+3572445317&4294967295,F=W+(V<<16&4294967295|V>>>16),V=R+(F^W^x)+L[6]+76029189&4294967295,R=F+(V<<23&4294967295|V>>>9),V=x+(R^F^W)+L[9]+3654602809&4294967295,x=R+(V<<4&4294967295|V>>>28),V=W+(x^R^F)+L[12]+3873151461&4294967295,W=x+(V<<11&4294967295|V>>>21),V=F+(W^x^R)+L[15]+530742520&4294967295,F=W+(V<<16&4294967295|V>>>16),V=R+(F^W^x)+L[2]+3299628645&4294967295,R=F+(V<<23&4294967295|V>>>9),V=x+(F^(R|~W))+L[0]+4096336452&4294967295,x=R+(V<<6&4294967295|V>>>26),V=W+(R^(x|~F))+L[7]+1126891415&4294967295,W=x+(V<<10&4294967295|V>>>22),V=F+(x^(W|~R))+L[14]+2878612391&4294967295,F=W+(V<<15&4294967295|V>>>17),V=R+(W^(F|~x))+L[5]+4237533241&4294967295,R=F+(V<<21&4294967295|V>>>11),V=x+(F^(R|~W))+L[12]+1700485571&4294967295,x=R+(V<<6&4294967295|V>>>26),V=W+(R^(x|~F))+L[3]+2399980690&4294967295,W=x+(V<<10&4294967295|V>>>22),V=F+(x^(W|~R))+L[10]+4293915773&4294967295,F=W+(V<<15&4294967295|V>>>17),V=R+(W^(F|~x))+L[1]+2240044497&4294967295,R=F+(V<<21&4294967295|V>>>11),V=x+(F^(R|~W))+L[8]+1873313359&4294967295,x=R+(V<<6&4294967295|V>>>26),V=W+(R^(x|~F))+L[15]+4264355552&4294967295,W=x+(V<<10&4294967295|V>>>22),V=F+(x^(W|~R))+L[6]+2734768916&4294967295,F=W+(V<<15&4294967295|V>>>17),V=R+(W^(F|~x))+L[13]+1309151649&4294967295,R=F+(V<<21&4294967295|V>>>11),V=x+(F^(R|~W))+L[4]+4149444226&4294967295,x=R+(V<<6&4294967295|V>>>26),V=W+(R^(x|~F))+L[11]+3174756917&4294967295,W=x+(V<<10&4294967295|V>>>22),V=F+(x^(W|~R))+L[2]+718787259&4294967295,F=W+(V<<15&4294967295|V>>>17),V=R+(W^(F|~x))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,O.g[2]=O.g[2]+F&4294967295,O.g[3]=O.g[3]+W&4294967295}r.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var R=x-this.blockSize,L=this.B,F=this.h,W=0;W<x;){if(F==0)for(;W<=R;)s(this,O,W),W+=this.blockSize;if(typeof O=="string"){for(;W<x;)if(L[F++]=O.charCodeAt(W++),F==this.blockSize){s(this,L),F=0;break}}else for(;W<x;)if(L[F++]=O[W++],F==this.blockSize){s(this,L),F=0;break}}this.h=F,this.o+=x},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var R=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=R&255,R/=256;for(this.u(O),O=Array(16),x=R=0;4>x;++x)for(var L=0;32>L;L+=8)O[R++]=this.g[x]>>>L&255;return O};function a(O,x){var R=c;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=x(O)}function l(O,x){this.h=x;for(var R=[],L=!0,F=O.length-1;0<=F;F--){var W=O[F]|0;L&&W==x||(R[F]=W,L=!1)}this.g=R}var c={};function f(O){return-128<=O&&128>O?a(O,function(x){return new l([x|0],0>x?-1:0)}):new l([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return C(p(-O));for(var x=[],R=1,L=0;O>=R;L++)x[L]=O/R|0,R*=4294967296;return new l(x,0)}function m(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return C(m(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(x,8)),L=E,F=0;F<O.length;F+=8){var W=Math.min(8,O.length-F),V=parseInt(O.substring(F,F+W),x);8>W?(W=p(Math.pow(x,W)),L=L.j(W).add(p(V))):(L=L.j(R),L=L.add(p(V)))}return L}var E=f(0),w=f(1),I=f(16777216);t=l.prototype,t.m=function(){if(D(this))return-C(this).m();for(var O=0,x=1,R=0;R<this.g.length;R++){var L=this.i(R);O+=(0<=L?L:4294967296+L)*x,x*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P(this))return"0";if(D(this))return"-"+C(this).toString(O);for(var x=p(Math.pow(O,6)),R=this,L="";;){var F=ne(R,x).g;R=U(R,F.j(x));var W=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=F,P(R))return W+L;for(;6>W.length;)W="0"+W;L=W+L}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function P(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function D(O){return O.h==-1}t.l=function(O){return O=U(this,O),D(O)?-1:P(O)?0:1};function C(O){for(var x=O.g.length,R=[],L=0;L<x;L++)R[L]=~O.g[L];return new l(R,~O.h).add(w)}t.abs=function(){return D(this)?C(this):this},t.add=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],L=0,F=0;F<=x;F++){var W=L+(this.i(F)&65535)+(O.i(F)&65535),V=(W>>>16)+(this.i(F)>>>16)+(O.i(F)>>>16);L=V>>>16,W&=65535,V&=65535,R[F]=V<<16|W}return new l(R,R[R.length-1]&-2147483648?-1:0)};function U(O,x){return O.add(C(x))}t.j=function(O){if(P(this)||P(O))return E;if(D(this))return D(O)?C(this).j(C(O)):C(C(this).j(O));if(D(O))return C(this.j(C(O)));if(0>this.l(I)&&0>O.l(I))return p(this.m()*O.m());for(var x=this.g.length+O.g.length,R=[],L=0;L<2*x;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<O.g.length;F++){var W=this.i(L)>>>16,V=this.i(L)&65535,te=O.i(F)>>>16,Q=O.i(F)&65535;R[2*L+2*F]+=V*Q,$(R,2*L+2*F),R[2*L+2*F+1]+=W*Q,$(R,2*L+2*F+1),R[2*L+2*F+1]+=V*te,$(R,2*L+2*F+1),R[2*L+2*F+2]+=W*te,$(R,2*L+2*F+2)}for(L=0;L<x;L++)R[L]=R[2*L+1]<<16|R[2*L];for(L=x;L<2*x;L++)R[L]=0;return new l(R,0)};function $(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function z(O,x){this.g=O,this.h=x}function ne(O,x){if(P(x))throw Error("division by zero");if(P(O))return new z(E,E);if(D(O))return x=ne(C(O),x),new z(C(x.g),C(x.h));if(D(x))return x=ne(O,C(x)),new z(C(x.g),x.h);if(30<O.g.length){if(D(O)||D(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,L=x;0>=L.l(O);)R=oe(R),L=oe(L);var F=de(R,1),W=de(L,1);for(L=de(L,2),R=de(R,2);!P(L);){var V=W.add(L);0>=V.l(O)&&(F=F.add(R),W=V),L=de(L,1),R=de(R,1)}return x=U(O,F.j(x)),new z(F,x)}for(F=E;0<=O.l(x);){for(R=Math.max(1,Math.floor(O.m()/x.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),W=p(R),V=W.j(x);D(V)||0<V.l(O);)R-=L,W=p(R),V=W.j(x);P(W)&&(W=w),F=F.add(W),O=U(O,V)}return new z(F,O)}t.A=function(O){return ne(this,O).h},t.and=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],L=0;L<x;L++)R[L]=this.i(L)&O.i(L);return new l(R,this.h&O.h)},t.or=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],L=0;L<x;L++)R[L]=this.i(L)|O.i(L);return new l(R,this.h|O.h)},t.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],L=0;L<x;L++)R[L]=this.i(L)^O.i(L);return new l(R,this.h^O.h)};function oe(O){for(var x=O.g.length+1,R=[],L=0;L<x;L++)R[L]=O.i(L)<<1|O.i(L-1)>>>31;return new l(R,O.h)}function de(O,x){var R=x>>5;x%=32;for(var L=O.g.length-R,F=[],W=0;W<L;W++)F[W]=0<x?O.i(W+R)>>>x|O.i(W+R+1)<<32-x:O.i(W+R);return new l(F,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,cs=l}).apply(typeof xE<"u"?xE:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PI,ou,CI,Qh,rg,RI,bI,kI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,T){return h==Array.prototype||h==Object.prototype||(h[y]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(h,y){if(y)e:{var T=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in T))break e;T=T[H]}h=h[h.length-1],A=T[h],y=y(A),y!=A&&y!=null&&e(T,h,{configurable:!0,writable:!0,value:y})}}function a(h,y){h instanceof String&&(h+="");var T=0,A=!1,H={next:function(){if(!A&&T<h.length){var J=T++;return{value:y(J,h[J]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(h){return h||function(){return a(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,T){return h.call.apply(h.bind,arguments)}function E(h,y,T){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),h.apply(y,H)}}return function(){return h.apply(y,arguments)}}function w(h,y,T){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:E,w.apply(null,arguments)}function I(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function P(h,y){function T(){}T.prototype=y.prototype,h.aa=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(A,H,J){for(var he=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)he[Ge-2]=arguments[Ge];return y.prototype[H].apply(A,he)}}function D(h){const y=h.length;if(0<y){const T=Array(y);for(let A=0;A<y;A++)T[A]=h[A];return T}return[]}function C(h,y){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(f(A)){const H=h.length||0,J=A.length||0;h.length=H+J;for(let he=0;he<J;he++)h[H+he]=A[he]}else h.push(A)}}class U{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(h){return/^[\s\xa0]*$/.test(h)}function z(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function ne(h){return ne[" "](h),h}ne[" "]=function(){};var oe=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function de(h,y,T){for(const A in h)y.call(T,h[A],A,h)}function O(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function x(h){const y={};for(const T in h)y[T]=h[T];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,y){let T,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(T in A)h[T]=A[T];for(let J=0;J<R.length;J++)T=R[J],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function F(h){var y=1;h=h.split(":");const T=[];for(;0<y&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function W(h){c.setTimeout(()=>{throw h},0)}function V(){var h=G;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,T){const A=Q.get();A.set(y,T),this.h?this.h.next=A:this.g=A,this.h=A}}var Q=new U(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,k=!1,G=new te,ie=()=>{const h=c.Promise.resolve(void 0);Y=()=>{h.then(B)}};var B=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(T){W(T)}var y=Q;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}k=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ee=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function Ne(h,y){if(fe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(oe){e:{try{ne(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Le[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}P(Ne,fe);var Le={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),je=0;function Qe(h,y,T,A,H){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!A,this.ha=H,this.key=++je,this.da=this.fa=!1}function Ot(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Qr(h){this.src=h,this.g={},this.h=0}Qr.prototype.add=function(h,y,T,A,H){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var he=bi(h,y,A,H);return-1<he?(y=h[he],T||(y.fa=!1)):(y=new Qe(y,this.src,J,!!A,H),y.fa=T,h.push(y)),y};function bo(h,y){var T=y.type;if(T in h.g){var A=h.g[T],H=Array.prototype.indexOf.call(A,y,void 0),J;(J=0<=H)&&Array.prototype.splice.call(A,H,1),J&&(Ot(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function bi(h,y,T,A){for(var H=0;H<h.length;++H){var J=h[H];if(!J.da&&J.listener==y&&J.capture==!!T&&J.ha==A)return H}return-1}var bs="closure_lm_"+(1e6*Math.random()|0),ko={};function sl(h,y,T,A,H){if(Array.isArray(y)){for(var J=0;J<y.length;J++)sl(h,y[J],T,A,H);return null}return T=ll(T),h&&h[Oe]?h.K(y,T,p(A)?!!A.capture:!1,H):ol(h,y,T,!1,A,H)}function ol(h,y,T,A,H,J){if(!y)throw Error("Invalid event type");var he=p(H)?!!H.capture:!!H,Ge=Do(h);if(Ge||(h[bs]=Ge=new Qr(h)),T=Ge.add(y,T,A,he,J),T.proxy)return T;if(A=uc(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)Ee||(H=he),H===void 0&&(H=!1),h.addEventListener(y.toString(),A,H);else if(h.attachEvent)h.attachEvent(Xr(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function uc(){function h(T){return y.call(h.src,h.listener,T)}const y=al;return h}function No(h,y,T,A,H){if(Array.isArray(y))for(var J=0;J<y.length;J++)No(h,y[J],T,A,H);else A=p(A)?!!A.capture:!!A,T=ll(T),h&&h[Oe]?(h=h.i,y=String(y).toString(),y in h.g&&(J=h.g[y],T=bi(J,T,A,H),-1<T&&(Ot(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete h.g[y],h.h--)))):h&&(h=Do(h))&&(y=h.g[y.toString()],h=-1,y&&(h=bi(y,T,A,H)),(T=-1<h?y[h]:null)&&Yr(T))}function Yr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Oe])bo(y.i,h);else{var T=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(T,A,h.capture):y.detachEvent?y.detachEvent(Xr(T),A):y.addListener&&y.removeListener&&y.removeListener(A),(T=Do(y))?(bo(T,h),T.h==0&&(T.src=null,y[bs]=null)):Ot(h)}}}function Xr(h){return h in ko?ko[h]:ko[h]="on"+h}function al(h,y){if(h.da)h=!0;else{y=new Ne(y,this);var T=h.listener,A=h.ha||h.src;h.fa&&Yr(h),h=T.call(A,y)}return h}function Do(h){return h=h[bs],h instanceof Qr?h:null}var Vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ll(h){return typeof h=="function"?h:(h[Vo]||(h[Vo]=function(y){return h.handleEvent(y)}),h[Vo])}function bt(){Z.call(this),this.i=new Qr(this),this.M=this,this.F=null}P(bt,Z),bt.prototype[Oe]=!0,bt.prototype.removeEventListener=function(h,y,T,A){No(this,h,y,T,A)};function kt(h,y){var T,A=h.F;if(A)for(T=[];A;A=A.F)T.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new fe(y,h);else if(y instanceof fe)y.target=y.target||h;else{var H=y;y=new fe(A,h),L(y,H)}if(H=!0,T)for(var J=T.length-1;0<=J;J--){var he=y.g=T[J];H=Jr(he,A,!0,y)&&H}if(he=y.g=h,H=Jr(he,A,!0,y)&&H,H=Jr(he,A,!1,y)&&H,T)for(J=0;J<T.length;J++)he=y.g=T[J],H=Jr(he,A,!1,y)&&H}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var T=h.g[y],A=0;A<T.length;A++)Ot(T[A]);delete h.g[y],h.h--}}this.F=null},bt.prototype.K=function(h,y,T,A){return this.i.add(String(h),y,!1,T,A)},bt.prototype.L=function(h,y,T,A){return this.i.add(String(h),y,!0,T,A)};function Jr(h,y,T,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,J=0;J<y.length;++J){var he=y[J];if(he&&!he.da&&he.capture==T){var Ge=he.listener,Nt=he.ha||he.src;he.fa&&bo(h.i,he),H=Ge.call(Nt,A)!==!1&&H}}return H&&!A.defaultPrevented}function ul(h,y,T){if(typeof h=="function")T&&(h=w(h,T));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(h,y||0)}function ki(h){h.g=ul(()=>{h.g=null,h.i&&(h.i=!1,ki(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ks extends Z{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ki(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(h){Z.call(this),this.h=h,this.g={}}P(Ns,Z);var cl=[];function hl(h){de(h.g,function(y,T){this.g.hasOwnProperty(T)&&Yr(y)},h),h.g={}}Ns.prototype.N=function(){Ns.aa.N.call(this),hl(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dl=c.JSON.stringify,fl=c.JSON.parse,pl=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ds(){}Ds.prototype.h=null;function Lo(h){return h.h||(h.h=h.i())}function Oo(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){fe.call(this,"d")}P(Tr,fe);function Mo(){fe.call(this,"c")}P(Mo,fe);var Sr={},ml=null;function Vs(){return ml=ml||new bt}Sr.La="serverreachability";function gl(h){fe.call(this,Sr.La,h)}P(gl,fe);function Zr(h){const y=Vs();kt(y,new gl(y))}Sr.STAT_EVENT="statevent";function yl(h,y){fe.call(this,Sr.STAT_EVENT,h),this.stat=y}P(yl,fe);function vt(h){const y=Vs();kt(y,new yl(y,h))}Sr.Ma="timingevent";function Fo(h,y){fe.call(this,Sr.Ma,h),this.size=y}P(Fo,fe);function Zn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Ls(){this.g=!0}Ls.prototype.xa=function(){this.g=!1};function Os(h,y,T,A,H,J){h.info(function(){if(h.g)if(J)for(var he="",Ge=J.split("&"),Nt=0;Nt<Ge.length;Nt++){var ze=Ge[Nt].split("=");if(1<ze.length){var Mt=ze[0];ze=ze[1];var St=Mt.split("_");he=2<=St.length&&St[1]=="type"?he+(Mt+"="+ze+"&"):he+(Mt+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+T+`
`+he})}function Uo(h,y,T,A,H,J,he){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+T+`
`+J+" "+he})}function er(h,y,T,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+cf(h,T)+(A?" "+A:"")})}function vl(h,y){h.info(function(){return"TIMEOUT: "+y})}Ls.prototype.info=function(){};function cf(h,y){if(!h.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var A=T[h];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var J=H[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<H.length;he++)H[he]=""}}}}return dl(T)}catch{return y}}var Bo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tr;function Ms(){}P(Ms,Ds),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},tr=new Ms;function nr(h,y,T,A){this.j=h,this.i=y,this.l=T,this.R=A||1,this.U=new Ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hc}function hc(){this.i=null,this.g="",this.h=!1}var _l={},jo={};function zo(h,y,T){h.L=1,h.v=Oi(Cn(y)),h.m=T,h.P=!0,wl(h,null)}function wl(h,y){h.F=Date.now(),Ye(h),h.A=Cn(h.v);var T=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Fi(T.i,"t",A),h.C=0,T=h.j.J,h.h=new hc,h.g=Rc(h.j,T?y:null,!h.m),0<h.O&&(h.M=new ks(w(h.Y,h,h.g),h.O)),y=h.U,T=h.g,A=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(cl[0]=H.toString()),H=cl);for(var J=0;J<H.length;J++){var he=sl(T,H[J],A||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Zr(),Os(h.i,h.u,h.A,h.l,h.R,h.m)}nr.prototype.ca=function(h){h=h.target;const y=this.M;y&&mn(h)==3?y.j():this.Y(h)},nr.prototype.Y=function(h){try{if(h==this.g)e:{const St=mn(this.g);var y=this.g.Ba();const Un=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||xl(this.g)))){this.J||St!=4||y==7||(y==8||0>=Un?Zr(3):Zr(2)),Fs(this);var T=this.g.Z();this.X=T;t:if(dc(this)){var A=xl(this.g);h="";var H=A.length,J=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Ni(this);var he="";break t}this.h.i=new c.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(J&&y==H-1)});A.length=0,this.h.g+=h,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=T==200,Uo(this.i,this.u,this.A,this.l,this.R,St,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Nt=this.g;if((Ge=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Ge)){var ze=Ge;break t}}ze=null}if(T=ze)er(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,El(this,T);else{this.o=!1,this.s=3,vt(12),Mn(this),Ni(this);break e}}if(this.P){T=!0;let bn;for(;!this.J&&this.C<he.length;)if(bn=hf(this,he),bn==jo){St==4&&(this.s=4,vt(14),T=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==_l){this.s=4,vt(15),er(this.i,this.l,he,"[Invalid Chunk]"),T=!1;break}else er(this.i,this.l,bn,null),El(this,bn);if(dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||he.length!=0||this.h.h||(this.s=1,vt(16),T=!1),this.o=this.o&&T,!T)er(this.i,this.l,he,"[Invalid Chunked Response]"),Mn(this),Ni(this);else if(0<he.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Cl(Mt),Mt.M=!0,vt(11))}}else er(this.i,this.l,he,null),El(this,he);St==4&&Mn(this),this.o&&!this.J&&(St==4?Zo(this.j,this):(this.o=!1,Ye(this)))}else Ko(this.g),T==400&&0<he.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Mn(this),Ni(this)}}}catch{}finally{}};function dc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function hf(h,y){var T=h.C,A=y.indexOf(`
`,T);return A==-1?jo:(T=Number(y.substring(T,A)),isNaN(T)?_l:(A+=1,A+T>y.length?jo:(y=y.slice(A,A+T),h.C=A+T,y)))}nr.prototype.cancel=function(){this.J=!0,Mn(this)};function Ye(h){h.S=Date.now()+h.I,fc(h,h.I)}function fc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Zn(w(h.ba,h),y)}function Fs(h){h.B&&(c.clearTimeout(h.B),h.B=null)}nr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(vl(this.i,this.A),this.L!=2&&(Zr(),vt(17)),Mn(this),this.s=2,Ni(this)):fc(this,this.S-h)};function Ni(h){h.j.G==0||h.J||Zo(h.j,h)}function Mn(h){Fs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,hl(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function El(h,y){try{var T=h.j;if(T.G!=0&&(T.g==h||an(T.h,h))){if(!h.K&&an(T.h,h)&&T.G==3){try{var A=T.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Jo(T),ar(T);else break e;Xo(T),vt(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=Zn(w(T.Za,T),6e3));if(1>=mc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ii(T,11)}else if((h.K||T.g==h)&&Jo(T),!$(y))for(H=T.Da.g.parse(y),y=0;y<H.length;y++){let ze=H[y];if(T.T=ze[0],ze=ze[1],T.G==2)if(ze[0]=="c"){T.K=ze[1],T.ia=ze[2];const Mt=ze[3];Mt!=null&&(T.la=Mt,T.j.info("VER="+T.la));const St=ze[4];St!=null&&(T.Aa=St,T.j.info("SVER="+T.Aa));const Un=ze[5];Un!=null&&typeof Un=="number"&&0<Un&&(A=1.5*Un,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const bn=h.g;if(bn){const Hs=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var J=A.h;J.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Tl(J,J.h),J.h=null))}if(A.D){const ta=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;ta&&(A.ya=ta,Ke(A.I,A.D,ta))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var he=h;if(A.qa=Cc(A,A.J?A.ia:null,A.W),he.K){gc(A.h,he);var Ge=he,Nt=A.L;Nt&&(Ge.I=Nt),Ge.B&&(Fs(Ge),Ye(Ge)),A.g=he}else Ws(A);0<T.i.length&&Pr(T)}else ze[0]!="stop"&&ze[0]!="close"||ii(T,7);else T.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?ii(T,7):$t(T):ze[0]!="noop"&&T.l&&T.l.ta(ze),T.v=0)}}Zr(4)}catch{}}var pc=class{constructor(h,y){this.g=h,this.map=y}};function Us(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function mc(h){return h.h?1:h.g?h.g.size:0}function an(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Tl(h,y){h.g?h.g.add(y):h.h=y}function gc(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Us.prototype.cancel=function(){if(this.i=yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.D);return y}return D(h.i)}function $o(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var y=[],T=h.length,A=0;A<T;A++)y.push(h[A]);return y}y=[],T=0;for(A in h)y[T++]=h[A];return y}function Wo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var y=[];h=h.length;for(var T=0;T<h;T++)y.push(T);return y}y=[],T=0;for(const A in h)y[T++]=A;return y}}}function Di(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var T=Wo(h),A=$o(h),H=A.length,J=0;J<H;J++)y.call(void 0,A[J],T&&T[J],h)}var Bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function df(h,y){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var A=h[T].indexOf("="),H=null;if(0<=A){var J=h[T].substring(0,A);H=h[T].substring(A+1)}else J=h[T];y(J,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ei(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ei){this.h=h.h,js(this,h.j),this.o=h.o,this.g=h.g,Vi(this,h.s),this.l=h.l;var y=h.i,T=new Ir;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),Li(this,T),this.m=h.m}else h&&(y=String(h).match(Bs))?(this.h=!1,js(this,y[1]||"",!0),this.o=Be(y[2]||""),this.g=Be(y[3]||"",!0),Vi(this,y[4]),this.l=Be(y[5]||"",!0),Li(this,y[6]||"",!0),this.m=Be(y[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}ei.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Mi(y,Ho,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Mi(y,Ho,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Mi(T,T.charAt(0)=="/"?wc:_c,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Mi(T,Sl)),h.join("")};function Cn(h){return new ei(h)}function js(h,y,T){h.j=T?Be(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Vi(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Li(h,y,T){y instanceof Ir?(h.i=y,Ar(h.i,h.h)):(T||(y=Mi(y,Ec)),h.i=new Ir(y,h.h))}function Ke(h,y,T){h.i.set(y,T)}function Oi(h){return Ke(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Be(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Mi(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,vc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ho=/[#\/\?@]/g,_c=/[#\?:]/g,wc=/[#\?]/g,Ec=/[#\?@]/g,Sl=/#/g;function Ir(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function zt(h){h.g||(h.g=new Map,h.h=0,h.i&&df(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}t=Ir.prototype,t.add=function(h,y){zt(this),this.i=null,h=Fn(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function rr(h,y){zt(h),y=Fn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ir(h,y){return zt(h),y=Fn(h,y),h.g.has(y)}t.forEach=function(h,y){zt(this),this.g.forEach(function(T,A){T.forEach(function(H){h.call(y,H,A,this)},this)},this)},t.na=function(){zt(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let A=0;A<y.length;A++){const H=h[A];for(let J=0;J<H.length;J++)T.push(y[A])}return T},t.V=function(h){zt(this);let y=[];if(typeof h=="string")ir(this,h)&&(y=y.concat(this.g.get(Fn(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)y=y.concat(h[T])}return y},t.set=function(h,y){return zt(this),this.i=null,h=Fn(this,h),ir(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Fi(h,y,T){rr(h,y),0<T.length&&(h.i=null,h.g.set(Fn(h,y),D(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var A=y[T];const J=encodeURIComponent(String(A)),he=this.V(A);for(A=0;A<he.length;A++){var H=J;he[A]!==""&&(H+="="+encodeURIComponent(String(he[A]))),h.push(H)}}return this.i=h.join("&")};function Fn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ar(h,y){y&&!h.j&&(zt(h),h.i=null,h.g.forEach(function(T,A){var H=A.toLowerCase();A!=H&&(rr(this,A),Fi(this,H,T))},h)),h.j=y}function ff(h,y){const T=new Ls;if(c.Image){const A=new Image;A.onload=I(pn,T,"TestLoadImage: loaded",!0,y,A),A.onerror=I(pn,T,"TestLoadImage: error",!1,y,A),A.onabort=I(pn,T,"TestLoadImage: abort",!1,y,A),A.ontimeout=I(pn,T,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function Tc(h,y){const T=new Ls,A=new AbortController,H=setTimeout(()=>{A.abort(),pn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(J=>{clearTimeout(H),J.ok?pn(T,"TestPingServer: ok",!0,y):pn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),pn(T,"TestPingServer: error",!1,y)})}function pn(h,y,T,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(T)}catch{}}function pf(){this.g=new pl}function Sc(h,y,T){const A=T||"";try{Di(h,function(H,J){let he=H;p(H)&&(he=dl(H)),y.push(A+J+"="+encodeURIComponent(he))})}catch(H){throw y.push(A+"type="+encodeURIComponent("_badmap")),H}}function ti(h){this.l=h.Ub||null,this.j=h.eb||!1}P(ti,Ds),ti.prototype.g=function(){return new zs(this.l,this.j)},ti.prototype.i=(function(h){return function(){return h}})({});function zs(h,y){bt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(zs,bt),t=zs.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,or(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ic(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ic(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?sr(this):or(this),this.readyState==3&&Ic(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,sr(this))},t.Qa=function(h){this.g&&(this.response=h,sr(this))},t.ga=function(){this.g&&sr(this)};function sr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,or(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function or(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ni(h){let y="";return de(h,function(T,A){y+=A,y+=":",y+=T,y+=`\r
`}),y}function Ui(h,y,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=ni(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Ke(h,y,T))}function nt(h){bt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(nt,bt);var mf=/^https?$/i,Il=["POST","PUT"];t=nt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tr.g(),this.v=this.o?Lo(this.o):Lo(tr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(J){$s(this,J);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)T.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())T.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Il,y,void 0))||A||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of T)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Go(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){$s(this,J)}};function $s(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,qo(h),Rn(h)}function qo(h){h.A||(h.A=!0,kt(h,"complete"),kt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,kt(this,"complete"),kt(this,"abort"),Rn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rn(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Al(this):this.bb())},t.bb=function(){Al(this)};function Al(h){if(h.h&&typeof l<"u"&&(!h.v[1]||mn(h)!=4||h.Z()!=2)){if(h.u&&mn(h)==4)ul(h.Ea,0,h);else if(kt(h,"readystatechange"),mn(h)==4){h.h=!1;try{const he=h.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var A;if(A=he===0){var H=String(h.D).match(Bs)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),A=!mf.test(H?H.toLowerCase():"")}T=A}if(T)kt(h,"complete"),kt(h,"success");else{h.m=6;try{var J=2<mn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",qo(h)}}finally{Rn(h)}}}}function Rn(h,y){if(h.g){Go(h);const T=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||kt(h,"ready");try{T.onreadystatechange=A}catch{}}}function Go(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function mn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),fl(y)}};function xl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ko(h){const y={};h=(h.g&&2<=mn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if($(h[A]))continue;var T=F(h[A]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=y[H]||[];y[H]=J,J.push(T)}O(y,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Pl(h){this.Aa=0,this.i=[],this.j=new Ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xr("baseRetryDelayMs",5e3,h),this.cb=xr("retryDelaySeedMs",1e4,h),this.Wa=xr("forwardChannelMaxRetries",2,h),this.wa=xr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Us(h&&h.concurrentRequestLimit),this.Da=new pf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pl.prototype,t.la=8,t.G=1,t.connect=function(h,y,T,A){vt(0),this.W=h,this.H=y||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=Cc(this,null,this.W),Pr(this)};function $t(h){if(Qo(h),h.G==3){var y=h.U++,T=Cn(h.I);if(Ke(T,"SID",h.K),Ke(T,"RID",y),Ke(T,"TYPE","terminate"),ri(h,T),y=new nr(h,h.j,y),y.L=2,y.v=Oi(Cn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.v,T=!0),T||(y.g=Rc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ye(y)}Pc(h)}function ar(h){h.g&&(Cl(h),h.g.cancel(),h.g=null)}function Qo(h){ar(h),h.u&&(c.clearTimeout(h.u),h.u=null),Jo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function Pr(h){if(!Pn(h.h)&&!h.s){h.s=!0;var y=h.Ga;Y||ie(),k||(Y(),k=!0),G.add(y,h),h.B=0}}function gf(h,y){return mc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Zn(w(h.Ga,h,y),xc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new nr(this,this.j,h);let J=this.o;if(this.S&&(J?(J=x(J),L(J,this.S)):J=this.S),this.m!==null||this.O||(H.H=J,J=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Bi(this,H,y),T=Cn(this.I),Ke(T,"RID",h),Ke(T,"CVER",22),this.D&&Ke(T,"X-HTTP-Session-Id",this.D),ri(this,T),J&&(this.O?y="headers="+encodeURIComponent(String(ni(J)))+"&"+y:this.m&&Ui(T,this.m,J)),Tl(this.h,H),this.Ua&&Ke(T,"TYPE","init"),this.P?(Ke(T,"$req",y),Ke(T,"SID","null"),H.T=!0,zo(H,T,null)):zo(H,T,y),this.G=2}}else this.G==3&&(h?Yo(this,h):this.i.length==0||Pn(this.h)||Yo(this))};function Yo(h,y){var T;y?T=y.l:T=h.U++;const A=Cn(h.I);Ke(A,"SID",h.K),Ke(A,"RID",T),Ke(A,"AID",h.T),ri(h,A),h.m&&h.o&&Ui(A,h.m,h.o),T=new nr(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Bi(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Tl(h.h,T),zo(T,A,y)}function ri(h,y){h.H&&de(h.H,function(T,A){Ke(y,A,T)}),h.l&&Di({},function(T,A){Ke(y,A,T)})}function Bi(h,y,T){T=Math.min(h.i.length,T);var A=h.l?w(h.l.Na,h.l,h):null;e:{var H=h.i;let J=-1;for(;;){const he=["count="+T];J==-1?0<T?(J=H[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let Ge=!0;for(let Nt=0;Nt<T;Nt++){let ze=H[Nt].g;const Mt=H[Nt].map;if(ze-=J,0>ze)J=Math.max(0,H[Nt].g-100),Ge=!1;else try{Sc(Mt,he,"req"+ze+"_")}catch{A&&A(Mt)}}if(Ge){A=he.join("&");break e}}}return h=h.i.splice(0,T),y.D=h,A}function Ws(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;Y||ie(),k||(Y(),k=!0),G.add(y,h),h.v=0}}function Xo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Zn(w(h.Fa,h),xc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Zn(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),ar(this),Ac(this))};function Cl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Ac(h){h.g=new nr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Cn(h.qa);Ke(y,"RID","rpc"),Ke(y,"SID",h.K),Ke(y,"AID",h.T),Ke(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ke(y,"TO",h.ja),Ke(y,"TYPE","xmlhttp"),ri(h,y),h.m&&h.o&&Ui(y,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Oi(Cn(y)),T.m=null,T.P=!0,wl(T,h)}t.Za=function(){this.C!=null&&(this.C=null,ar(this),Xo(this),vt(19))};function Jo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Zo(h,y){var T=null;if(h.g==y){Jo(h),Cl(h),h.g=null;var A=2}else if(an(h.h,y))T=y.D,gc(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var H=h.B;A=Vs(),kt(A,new Fo(A,T)),Pr(h)}else Ws(h);else if(H=y.s,H==3||H==0&&0<y.X||!(A==1&&gf(h,y)||A==2&&Xo(h)))switch(T&&0<T.length&&(y=h.h,y.i=y.i.concat(T)),H){case 1:ii(h,5);break;case 4:ii(h,10);break;case 3:ii(h,6);break;default:ii(h,2)}}}function xc(h,y){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*y}function ii(h,y){if(h.j.info("Error code "+y),y==2){var T=w(h.fb,h),A=h.Xa;const H=!A;A=new ei(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||js(A,"https"),Oi(A),H?ff(A.toString(),T):Tc(A.toString(),T)}else vt(2);h.G=0,h.l&&h.l.sa(y),Pc(h),Qo(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Pc(h){if(h.G=0,h.ka=[],h.l){const y=yc(h.h);(y.length!=0||h.i.length!=0)&&(C(h.ka,y),C(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function Cc(h,y,T){var A=T instanceof ei?Cn(T):new ei(T);if(A.g!="")y&&(A.g=y+"."+A.g),Vi(A,A.s);else{var H=c.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var J=new ei(null);A&&js(J,A),y&&(J.g=y),H&&Vi(J,H),T&&(J.l=T),A=J}return T=h.D,y=h.ya,T&&y&&Ke(A,T,y),Ke(A,"VER",h.la),ri(h,A),A}function Rc(h,y,T){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new nt(new ti({eb:T})):new nt(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rl(){}t=Rl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ea(){}ea.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){bt.call(this),this.g=new Pl(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!$(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Cr(this)}P(ln,bt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){$t(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=dl(h),h=T);y.i.push(new pc(y.Ya++,h)),y.G==3&&Pr(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,ln.aa.N.call(this)};function bc(h){Tr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const T in y){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}P(bc,Tr);function kc(){Mo.call(this),this.status=1}P(kc,Mo);function Cr(h){this.g=h}P(Cr,Rl),Cr.prototype.ua=function(){kt(this.g,"a")},Cr.prototype.ta=function(h){kt(this.g,new bc(h))},Cr.prototype.sa=function(h){kt(this.g,new kc)},Cr.prototype.ra=function(){kt(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,kI=function(){return new ea},bI=function(){return Vs()},RI=Sr,rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bo.NO_ERROR=0,Bo.TIMEOUT=8,Bo.HTTP_ERROR=6,Qh=Bo,cc.COMPLETE="complete",CI=cc,Oo.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",bt.prototype.listen=bt.prototype.K,ou=Oo,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,PI=nt}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore",CE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new my("@firebase/firestore");function Ta(){return wo.logLevel}function ge(t,...e){if(wo.logLevel<=Me.DEBUG){const n=e.map(Cy);wo.debug(`Firestore (${el}): ${t}`,...n)}}function Ai(t,...e){if(wo.logLevel<=Me.ERROR){const n=e.map(Cy);wo.error(`Firestore (${el}): ${t}`,...n)}}function ja(t,...e){if(wo.logLevel<=Me.WARN){const n=e.map(Cy);wo.warn(`Firestore (${el}): ${t}`,...n)}}function Cy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,NI(t,r,n)}function NI(t,e,n){let r=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ai(r),new Error(r)}function qe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||NI(e,s,r)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class eM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tM{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _i,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},c=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _i)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new DI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class nM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new nM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class RE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new RE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new RE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=sM(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function ig(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return dm(s)===dm(a)?Fe(s,a):dm(s)?1:-1}return Fe(t.length,e.length)}const oM=55296,aM=57343;function dm(t){const e=t.charCodeAt(0);return e>=oM&&e<=aM}function za(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="__name__";class Dr{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Dr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Dr.isNumericId(e),s=Dr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Dr.extractNumericId(e).compare(Dr.extractNumericId(n)):ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class Je extends Dr{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const lM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Dr{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return lM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bE}static keyField(){return new Kt([bE])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new pe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new pe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Je.fromString(e))}static fromName(e){return new Te(Je.fromString(e).popFirst(5))}static empty(){return new Te(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e,n){if(!n)throw new pe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uM(t,e,n,r){if(e===!0&&r===!0)throw new pe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kE(t){if(!Te.isDocumentKey(t))throw new pe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NE(t){if(Te.isDocumentKey(t))throw new pe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function LI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ud(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ud(t);throw new pe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t,e){const n={typeString:t};return e&&(n.value=e),n}function tc(t,e){if(!LI(t))throw new pe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new pe(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=-62135596800,VE=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*VE);return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DE)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tc(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:Rt("string",Ze._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Ze(0,0))}static max(){return new be(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function cM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new ms(s,Te.empty(),e)}function hM(t){return new ms(t.readTime,t.key,Du)}class ms{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ms(be.min(),Te.empty(),Du)}static max(){return new ms(be.max(),Te.empty(),Du)}}function dM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==fM)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let s=0,a=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++a,l&&a===s&&n()}),(f=>r(f)))})),l=!0,a===s&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((s=>s?se.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((m=>{l[p]=m,++c,c===a&&r(l)}),(m=>s(m)))}}))}static doWhile(e,n){return new se(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function mM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-1;function jd(t){return t==null}function md(t){return t===0&&1/t==-1/0}function gM(t){return typeof t=="number"&&Number.isInteger(t)&&!md(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="";function yM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LE(e)),e=vM(t.get(n),e);return LE(e)}function vM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case OI:n+="";break;default:n+=a}}return n}function LE(t){return t+OI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=s??Gt.EMPTY,this.right=a??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Gt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Lt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new FI("Invalid base64 string: "+a):a}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const _M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=_M.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="server_timestamp",BI="__type__",jI="__previous_value__",zI="__local_write_time__";function ky(t){return(t?.mapValue?.fields||{})[BI]?.stringValue===UI}function zd(t){const e=t.mapValue.fields[jI];return ky(e)?zd(e):e}function Vu(t){const e=gs(t.mapValue.fields[zI].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,r,s,a,l,c,f,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=m}}const gd="(default)";class Lu{constructor(e,n){this.projectId=e,this.database=n||gd}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===gd}isEqual(e){return e instanceof Lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="__type__",EM="__max__",Nh={mapValue:{}},WI="__vector__",yd="value";function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ky(t)?4:SM(t)?9007199254740991:TM(t)?10:11:xe(28295,{value:t})}function Gr(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=gs(s.timestampValue),c=gs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return ys(s.bytesValue).isEqual(ys(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return Et(s.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Et(s.integerValue)===Et(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Et(s.doubleValue),c=Et(a.doubleValue);return l===c?md(l)===md(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return za(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(OE(l)!==OE(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Gr(l[f],c[f])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function Ou(t,e){return(t.values||[]).find((n=>Gr(n,e)))!==void 0}function $a(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Et(a.integerValue||a.doubleValue),f=Et(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return FE(t.timestampValue,e.timestampValue);case 4:return FE(Vu(t),Vu(e));case 5:return ig(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=ys(a),f=ys(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const m=Fe(c[p],f[p]);if(m!==0)return m}return Fe(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Fe(Et(a.latitude),Et(l.latitude));return c!==0?c:Fe(Et(a.longitude),Et(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return UE(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},f=l.fields||{},p=c[yd]?.arrayValue,m=f[yd]?.arrayValue,E=Fe(p?.values?.length||0,m?.values?.length||0);return E!==0?E:UE(p,m)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Nh.mapValue&&l===Nh.mapValue)return 0;if(a===Nh.mapValue)return 1;if(l===Nh.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let E=0;E<f.length&&E<m.length;++E){const w=ig(f[E],m[E]);if(w!==0)return w;const I=$a(c[f[E]],p[m[E]]);if(I!==0)return I}return Fe(f.length,m.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function FE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=gs(t),r=gs(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function UE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=$a(n[s],r[s]);if(a)return a}return Fe(n.length,r.length)}function Wa(t){return sg(t)}function sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=gs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ys(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=sg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${sg(n.fields[l])}`;return s+"}"})(t.mapValue):xe(61005,{value:t})}function Yh(t){switch(vs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zd(t);return e?16+Yh(e):16;case 5:return 2*t.stringValue.length;case 6:return ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Yh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Ps(r.fields,((a,l)=>{s+=a.length+Yh(l)})),s})(t.mapValue);default:throw xe(13486,{value:t})}}function BE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function og(t){return!!t&&"integerValue"in t}function Ny(t){return!!t&&"arrayValue"in t}function jE(t){return!!t&&"nullValue"in t}function zE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xh(t){return!!t&&"mapValue"in t}function TM(t){return(t?.mapValue?.fields||{})[$I]?.stringValue===WI}function yu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ps(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=yu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yu(t.arrayValue.values[n]);return e}return{...t}}function SM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)}setAll(e){let n=Kt.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=yu(l):s.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ps(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new In(yu(this.value))}}function HI(t){const e=[];return Ps(t.fields,((n,r)=>{const s=new Kt([n]);if(Xh(r)){const a=HI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new rn(e,0,be.min(),be.min(),be.min(),In.empty(),0)}static newFoundDocument(e,n,r,s){return new rn(e,1,n,be.min(),r,s,0)}static newNoDocument(e,n){return new rn(e,2,n,be.min(),be.min(),In.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,be.min(),be.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.position=e,this.inclusive=n}}function $E(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(l.referenceValue),n.key):r=$a(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function WE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function IM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{}class Pt extends qI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xM(e,n,r):n==="array-contains"?new RM(e,r):n==="in"?new bM(e,r):n==="not-in"?new kM(e,r):n==="array-contains-any"?new NM(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PM(e,r):new CM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($a(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison($a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends qI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return GI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GI(t){return t.op==="and"}function KI(t){return AM(t)&&GI(t)}function AM(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function ag(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(KI(t))return t.filters.map((e=>ag(e))).join(",");{const e=t.filters.map((n=>ag(n))).join(",");return`${t.op}(${e})`}}function QI(t,e){return t instanceof Pt?(function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&Gr(r.value,s.value)})(t,e):t instanceof _r?(function(r,s){return s instanceof _r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,c)=>a&&QI(l,s.filters[c])),!0):!1})(t,e):void xe(19439)}function YI(t){return t instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`})(t):t instanceof _r?(function(n){return n.op.toString()+" {"+n.getFilters().map(YI).join(" ,")+"}"})(t):"Filter"}class xM extends Pt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class PM extends Pt{constructor(e,n){super(e,"in",n),this.keys=XI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CM extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=XI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function XI(t,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class RM extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ny(n)&&Ou(n.arrayValue,this.value)}}class bM extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ou(this.value.arrayValue,n)}}class kM extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ou(this.value.arrayValue,n)}}class NM extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ou(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function HE(t,e=null,n=[],r=[],s=null,a=null,l=null){return new DM(t,e,n,r,s,a,l)}function Dy(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ag(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wa(r))).join(",")),e.Te=n}return e.Te}function Vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WE(t.startAt,e.startAt)&&WE(t.endAt,e.endAt)}function lg(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VM(t,e,n,r,s,a,l,c){return new rl(t,e,n,r,s,a,l,c)}function Ly(t){return new rl(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JI(t){return t.collectionGroup!==null}function vu(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Lt(Kt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Mu(a,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Mu(Kt.keyField(),r))}return e.Ie}function $r(t){const e=ke(t);return e.Ee||(e.Ee=LM(e,vu(t))),e.Ee}function LM(t,e){if(t.limitType==="F")return HE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Mu(s.field,a)}));const n=t.endAt?new vd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vd(t.startAt.position,t.startAt.inclusive):null;return HE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ug(t,e){const n=t.filters.concat([e]);return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cg(t,e,n){return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $d(t,e){return Vy($r(t),$r(e))&&t.limitType===e.limitType}function ZI(t){return`${Dy($r(t))}|lt:${t.limitType}`}function Sa(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>YI(s))).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Wa(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Wa(s))).join(",")),`Target(${r})`})($r(t))}; limitType=${t.limitType})`}function Wd(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of vu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,f){const p=$E(l,c,f);return l.inclusive?p<=0:p<0})(r.startAt,vu(r),s)||r.endAt&&!(function(l,c,f){const p=$E(l,c,f);return l.inclusive?p>=0:p>0})(r.endAt,vu(r),s))})(t,e)}function OM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eA(t){return(e,n)=>{let r=!1;for(const s of vu(t)){const a=MM(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function MM(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?$a(f,p):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return MI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new ft(Te.comparator);function xi(){return FM}const tA=new ft(Te.comparator);function au(...t){let e=tA;for(const n of t)e=e.insert(n.key,n);return e}function nA(t){let e=tA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function co(){return _u()}function rA(){return _u()}function _u(){return new Ao((t=>t.toString()),((t,e)=>t.isEqual(e)))}const UM=new ft(Te.comparator),BM=new Lt(Te.comparator);function Ue(...t){let e=BM;for(const n of t)e=e.add(n);return e}const jM=new Lt(Fe);function zM(){return jM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:md(e)?"-0":e}}function iA(t){return{integerValue:""+t}}function $M(t,e){return gM(e)?iA(e):Oy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this._=void 0}}function WM(t,e,n){return t instanceof Fu?(function(s,a){const l={fields:{[BI]:{stringValue:UI},[zI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ky(a)&&(a=zd(a)),a&&(l.fields[jI]=a),{mapValue:l}})(n,e):t instanceof Uu?oA(t,e):t instanceof Bu?aA(t,e):(function(s,a){const l=sA(s,a),c=GE(l)+GE(s.Ae);return og(l)&&og(s.Ae)?iA(c):Oy(s.serializer,c)})(t,e)}function HM(t,e,n){return t instanceof Uu?oA(t,e):t instanceof Bu?aA(t,e):n}function sA(t,e){return t instanceof _d?(function(r){return og(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Fu extends Hd{}class Uu extends Hd{constructor(e){super(),this.elements=e}}function oA(t,e){const n=lA(e);for(const r of t.elements)n.some((s=>Gr(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Bu extends Hd{constructor(e){super(),this.elements=e}}function aA(t,e){let n=lA(e);for(const r of t.elements)n=n.filter((s=>!Gr(s,r)));return{arrayValue:{values:n}}}class _d extends Hd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GE(t){return Et(t.integerValue||t.doubleValue)}function lA(t){return Ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n){this.field=e,this.transform=n}}function GM(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Uu&&s instanceof Uu||r instanceof Bu&&s instanceof Bu?za(r.elements,s.elements,Gr):r instanceof _d&&s instanceof _d?Gr(r.Ae,s.Ae):r instanceof Fu&&s instanceof Fu})(t.transform,e.transform)}class KM{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qd{}function uA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new My(t.key,Xn.none()):new nc(t.key,t.data,Xn.none());{const n=t.data,r=In.empty();let s=new Lt(Kt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Cs(t.key,r,new Vn(s.toArray()),Xn.none())}}function QM(t,e,n){t instanceof nc?(function(s,a,l){const c=s.value.clone(),f=QE(s.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Cs?(function(s,a,l){if(!Jh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=QE(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(cA(s)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function wu(t,e,n,r){return t instanceof nc?(function(a,l,c,f){if(!Jh(a.precondition,l))return c;const p=a.value.clone(),m=YE(a.fieldTransforms,f,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Cs?(function(a,l,c,f){if(!Jh(a.precondition,l))return c;const p=YE(a.fieldTransforms,f,l),m=l.data;return m.setAll(cA(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(t,e,n,r):(function(a,l,c){return Jh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function YM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=sA(r.transform,s||null);a!=null&&(n===null&&(n=In.empty()),n.set(r.field,a))}return n||null}function KE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&za(r,s,((a,l)=>GM(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nc extends qd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Cs extends qd{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function QE(t,e,n){const r=new Map;qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,HM(l,c,n[s]))}return r}function YE(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,WM(a,l,e))}return r}class My extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XM extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&QM(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rA();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const f=uA(l,c);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,((n,r)=>KE(n,r)))&&za(this.baseMutations,e.baseMutations,((n,r)=>KE(n,r)))}}class Fy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return UM})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Fy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,$e;function t4(t){switch(t){case re.OK:return xe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function hA(t){if(t===void 0)return Ai("GRPC error has no .code"),re.UNKNOWN;switch(t){case At.OK:return re.OK;case At.CANCELLED:return re.CANCELLED;case At.UNKNOWN:return re.UNKNOWN;case At.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case At.INTERNAL:return re.INTERNAL;case At.UNAVAILABLE:return re.UNAVAILABLE;case At.UNAUTHENTICATED:return re.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case At.NOT_FOUND:return re.NOT_FOUND;case At.ALREADY_EXISTS:return re.ALREADY_EXISTS;case At.PERMISSION_DENIED:return re.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case At.ABORTED:return re.ABORTED;case At.OUT_OF_RANGE:return re.OUT_OF_RANGE;case At.UNIMPLEMENTED:return re.UNIMPLEMENTED;case At.DATA_LOSS:return re.DATA_LOSS;default:return xe(39323,{code:t})}}($e=At||(At={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new cs([4294967295,4294967295],0);function XE(t){const e=n4().encode(t),n=new xI;return n.update(e),new Uint8Array(n.digest())}function JE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new cs([n,r],0),new cs([s,a],0)]}class Uy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lu(`Invalid padding: ${n}`);if(r<0)throw new lu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(cs.fromNumber(r)));return s.compare(r4)===1&&(s=new cs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XE(e),[r,s]=JE(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Uy(a,s,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=XE(e),[r,s]=JE(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gd(be.min(),s,new ft(Fe),xi(),Ue())}}class rc{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rc(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class dA{constructor(e,n){this.targetId=e,this.Ce=n}}class fA{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ZE{constructor(){this.ve=0,this.Fe=eT(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe(38017,{changeType:a})}})),new rc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=eT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i4{constructor(e){this.Ge=e,this.ze=new Map,this.je=xi(),this.Je=Dh(),this.He=Dh(),this.Ye=new ft(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(lg(a))if(r===0){const l=new Te(a.path);this.et(n,l,rn.newNoDocument(l,be.min()))}else qe(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=ys(r).toUint8Array()}catch(f){if(f instanceof FI)return ja("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Uy(l,s,a)}catch(f){return ja(f instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&lg(c.target)){const f=new Te(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,rn.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Ue();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new Gd(e,n,this.Ye,this.je,r);return this.je=xi(),this.Je=Dh(),this.He=Dh(),this.Ye=new ft(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ZE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ZE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dh(){return new ft(Te.comparator)}function eT(){return new ft(Te.comparator)}const s4={asc:"ASCENDING",desc:"DESCENDING"},o4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a4={and:"AND",or:"OR"};class l4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hg(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u4(t,e){return wd(t,e.toTimestamp())}function Wr(t){return qe(!!t,49232),be.fromTimestamp((function(n){const r=gs(n);return new Ze(r.seconds,r.nanos)})(t))}function By(t,e){return dg(t,e).canonicalString()}function dg(t,e){const n=(function(s){return new Je(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function mA(t){const e=Je.fromString(t);return qe(wA(e),10190,{key:e.toString()}),e}function fg(t,e){return By(t.databaseId,e.path)}function fm(t,e){const n=mA(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(yA(n))}function gA(t,e){return By(t.databaseId,e)}function c4(t){const e=mA(t);return e.length===4?Je.emptyPath():yA(e)}function pg(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yA(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tT(t,e,n){return{name:fg(t,e),fields:n.value.mapValue.fields}}function h4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,m){return p.useProto3Json?(qe(m===void 0||typeof m=="string",58123),Qt.fromBase64String(m||"")):(qe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Qt.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const m=p.code===void 0?re.UNKNOWN:hA(p.code);return new pe(m,p.message||"")})(l);n=new fA(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fm(t,r.document.name),a=Wr(r.document.updateTime),l=r.document.createTime?Wr(r.document.createTime):be.min(),c=new In({mapValue:{fields:r.document.fields}}),f=rn.newFoundDocument(s,a,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];n=new Zh(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fm(t,r.document),a=r.readTime?Wr(r.readTime):be.min(),l=rn.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Zh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fm(t,r.document),a=r.removedTargetIds||[];n=new Zh([],a,s,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new e4(s,a),c=r.targetId;n=new dA(c,l)}}return n}function d4(t,e){let n;if(e instanceof nc)n={update:tT(t,e.key,e.value)};else if(e instanceof My)n={delete:fg(t,e.key)};else if(e instanceof Cs)n={update:tT(t,e.key,e.data),updateMask:E4(e.fieldMask)};else{if(!(e instanceof XM))return xe(16599,{Vt:e.type});n={verify:fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof Fu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Uu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Bu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _d)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw xe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:u4(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)})(t,e.precondition)),n}function f4(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?Wr(s.updateTime):Wr(a);return l.isEqual(be.min())&&(l=Wr(a)),new KM(l,s.transformResults||[])})(n,e)))):[]}function p4(t,e){return{documents:[gA(t,e.path)]}}function m4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gA(t,s);const a=(function(p){if(p.length!==0)return _A(_r.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((m=>(function(w){return{field:Ia(w.field),direction:v4(w.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=hg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function g4(t){let e=c4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qe(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(E){const w=vA(E);return w instanceof _r&&KI(w)?w.getFilters():[w]})(n.where));let l=[];n.orderBy&&(l=(function(E){return E.map((w=>(function(P){return new Mu(Aa(P.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(w)))})(n.orderBy));let c=null;n.limit&&(c=(function(E){let w;return w=typeof E=="object"?E.value:E,jd(w)?null:w})(n.limit));let f=null;n.startAt&&(f=(function(E){const w=!!E.before,I=E.values||[];return new vd(I,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const w=!E.before,I=E.values||[];return new vd(I,w)})(n.endAt)),VM(e,s,l,a,c,"F",f,p)}function y4(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Aa(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Aa(n.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Aa(n.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Aa(n.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pt.create(Aa(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return _r.create(n.compositeFilter.filters.map((r=>vA(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function v4(t){return s4[t]}function _4(t){return o4[t]}function w4(t){return a4[t]}function Ia(t){return{fieldPath:t.canonicalString()}}function Aa(t){return Kt.fromServerFormat(t.fieldPath)}function _A(t){return t instanceof Pt?(function(n){if(n.op==="=="){if(zE(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NAN"}};if(jE(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zE(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NOT_NAN"}};if(jE(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(n.field),op:_4(n.op),value:n.value}}})(t):t instanceof _r?(function(n){const r=n.getFilters().map((s=>_A(s)));return r.length===1?r[0]:{compositeFilter:{op:w4(n.op),filters:r}}})(t):xe(54877,{filter:t})}function E4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function wA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,s,a=be.min(),l=be.min(),c=Qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.yt=e}}function S4(t){const e=g4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.Cn=new A4}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ms.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class A4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Lt(Je.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EA=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(EA,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ha(0)}static cr(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="LruGarbageCollector",x4=1048576;function iT([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class P4{constructor(e){this.Ir=e,this.buffer=new Lt(iT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(rT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nl(n)?ge(rT,"Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.Vr(3e5)}))}}class R4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Bd.ce);const r=new P4(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(nT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,c,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,l=Date.now(),this.nthSequenceNumber(e,s)))).next((E=>(r=E,c=Date.now(),this.removeTargets(e,r,n)))).next((E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(p=Date.now(),Ta()<=Me.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${E} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:E}))))}}function b4(t,e){return new R4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.changes=new Ao((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&wu(r.mutation,s,Vn.empty(),Ze.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const s=co();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=au();return a.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=co();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,s){let a=xi();const l=_u(),c=(function(){return _u()})();return n.forEach(((f,p)=>{const m=r.get(p.key);s.has(p.key)&&(m===void 0||m.mutation instanceof Cs)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),wu(m.mutation,p,m.mutation.getFieldMask(),Ze.now())):l.set(p.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,m)=>l.set(p,m))),n.forEach(((p,m)=>c.set(p,new N4(m,l.get(p)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=_u();let s=new ft(((l,c)=>l-c)),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let m=r.get(f)||Vn.empty();m=c.applyToLocalView(p,m),r.set(f,m);const E=(s.get(c.batchId)||Ue()).add(f);s=s.insert(c.batchId,E)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,m=f.value,E=rA();m.forEach((w=>{if(!a.has(w)){const I=uA(n.get(w),r.get(w));I!==null&&E.set(w,I),a=a.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,E))}return se.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return Te.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):se.resolve(co());let c=Du,f=a;return l.next((p=>se.forEach(p,((m,E)=>(c<E.largestBatchId&&(c=E.largestBatchId),a.get(m)?se.resolve():this.remoteDocumentCache.getEntry(e,m).next((w=>{f=f.insert(m,w)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Ue()))).next((m=>({batchId:c,changes:nA(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let s=au();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=au();return this.indexManager.getCollectionParents(e,a).next((c=>se.forEach(c,(f=>{const p=(function(E,w){return new rl(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((m=>{m.forEach(((E,w)=>{l=l.insert(E,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((f,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,rn.newInvalidDocument(m)))}));let c=au();return l.forEach(((f,p)=>{const m=a.get(f);m!==void 0&&wu(m.mutation,p,Vn.empty(),Ze.now()),Wd(n,p)&&(c=c.insert(f,p))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Wr(s.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:S4(s.bundledQuery),readTime:Wr(s.readTime)}})(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.overlays=new ft(Te.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=co();return se.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.St(e,n,a)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const s=co(),a=n.length+1,l=new Te(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ft(((p,m)=>p-m));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=co(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=co(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,m)=>c.set(p,m))),!(c.size()>=s)););return se.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new ZM(n,r));let a=this.qr.get(n);a===void 0&&(a=Ue(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.Qr=new Lt(jt.$r),this.Ur=new Lt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Te(new Je([])),r=new jt(n,e),s=new jt(n,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new Je([])),r=new jt(n,e),s=new jt(n,e+1);let a=Ue();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new jt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(jt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new JM(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new jt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?by:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),s=new jt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const c=this.Xr(l.Yr);a.push(c)})),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Fe);return n.forEach((s=>{const a=new jt(s,0),l=new jt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const l=new jt(new Te(a),0);let c=new Lt(Fe);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(f.Yr)),!0)}),l),se.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,(s=>{const a=new jt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new jt(n,0),s=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.ri=e,this.docs=(function(){return new ft(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=xi();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():rn.newInvalidDocument(s))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=xi();const l=n.path,c=new Te(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||dM(hM(m),r)<=0||(s.has(m.key)||Wd(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,n,r,s){xe(9500)}ii(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new U4(this)}getSize(e){return se.resolve(this.size)}}class U4 extends k4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.persistence=e,this.si=new Ao((n=>Dy(n)),Vy),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new jy,this.targetCount=0,this.ai=Ha.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),se.waitFor(a).next((()=>s))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),se.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bd(0),this.li=!1,this.li=!0,this.hi=new O4,this.referenceDelegate=e(this),this.Pi=new B4(this),this.indexManager=new I4,this.remoteDocumentCache=(function(s){return new F4(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new T4(n),this.Ii=new V4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new M4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new j4(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,n){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class j4 extends pM{constructor(e){super(),this.currentSequenceNumber=e}}class zy{constructor(e){this.persistence=e,this.Ri=new jy,this.Vi=null}static mi(e){return new zy(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const s=Te.fromPath(r);return this.gi(e,s).next((a=>{a||n.removeEntry(s,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ed{constructor(e,n){this.persistence=e,this.pi=new Ao((r=>yM(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=b4(this,n)}static mi(e,n){return new Ed(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?se.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,a.removeEntry(l,be.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yh(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ue(),s=Ue();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new $y(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vD()?8:mM(on())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new z4;return this.Ss(e,n,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>a.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ta()<=Me.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Ta()<=Me.DEBUG&&ge("QueryEngine","Query:",Sa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ta()<=Me.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):se.resolve())}ys(e,n){if(qE(n))return se.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=cg(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ue(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(n,c);return this.Cs(n,p,l,f.readTime)?this.ys(e,cg(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,r,s){return qE(n)||s.isEqual(be.min())?se.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?se.resolve(null):(Ta()<=Me.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Sa(n)),this.vs(e,l,n,cM(s,Du)).next((c=>c)))}))}Ds(e,n){let r=new Lt(eA(e));return n.forEach(((s,a)=>{Wd(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return Ta()<=Me.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Sa(n)),this.ps.getDocumentsMatchingQuery(e,n,ms.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LocalStore",W4=3e8;class H4{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ft(Fe),this.xs=new Ao((a=>Dy(a)),Vy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function q4(t,e,n,r){return new H4(t,e,n,r)}async function SA(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let f=Ue();for(const p of s){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of a){c.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function G4(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,p,m){const E=p.batch,w=E.keys();let I=se.resolve();return w.forEach((P=>{I=I.next((()=>m.getEntry(f,P))).next((D=>{const C=p.docVersions.get(P);qe(C!==null,48541),D.version.compareTo(C)<0&&(E.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),m.addEntry(D)))}))})),I.next((()=>c.mutationQueue.removeMutationBatch(f,E)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Ue();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function IA(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function K4(t,e){const n=ke(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((m,E)=>{const w=s.get(E);if(!w)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,E))));let I=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):m.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(m.resumeToken,r)),s=s.insert(E,I),(function(D,C,U){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=W4?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(w,I,m)&&c.push(n.Pi.updateTargetData(a,I))}));let f=xi(),p=Ue();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(Q4(a,l,e.documentUpdates).next((m=>{f=m.ks,p=m.qs}))),!r.isEqual(be.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((E=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return se.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.Ms=s,a)))}function Q4(t,e,n){let r=Ue(),s=Ue();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=xi();return n.forEach(((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(be.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):ge(Wy,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)})),{ks:l,qs:s}}))}function Y4(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=by),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function X4(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((a=>a?(s=a,se.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new as(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function mg(t,e,n){const r=ke(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!nl(l))throw l;ge(Wy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function sT(t,e,n){const r=ke(t);let s=be.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,m){const E=ke(f),w=E.xs.get(m);return w!==void 0?se.resolve(E.Ms.get(w)):E.Pi.getTargetData(p,m)})(r,l,$r(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:be.min(),n?a:Ue()))).next((c=>(J4(r,OM(e),c),{documents:c,Qs:a})))))}function J4(t,e,n){let r=t.Os.get(e)||be.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class oT{constructor(){this.activeTargetIds=zM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z4{constructor(){this.Mo=new oT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new oT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="ConnectivityMonitor";class lT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(aT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(aT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh=null;function gg(){return Vh===null?Vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vh++,"0x"+Vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="RestConnection",t3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===gd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=gg(),c=this.zo(e,n.toUriEncodedString());ge(pm,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(c),m=Ss(p);return this.Jo(e,c,f,r,m).then((E=>(ge(pm,`Received RPC '${e}' ${l}: `,E),E)),(E=>{throw ja(pm,`RPC '${e}' ${l} failed with error: `,E,"url: ",c,"request:",r),E}))}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,n){const r=t3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class i3 extends n3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=gg();return new Promise(((c,f)=>{const p=new PI;p.setWithCredentials(!0),p.listenOnce(CI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Qh.NO_ERROR:const E=p.getResponseJson();ge(en,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),c(E);break;case Qh.TIMEOUT:ge(en,`RPC '${e}' ${l} timed out`),f(new pe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const w=p.getStatus();if(ge(en,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I?.error;if(P&&P.status&&P.message){const D=(function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf($)>=0?$:re.UNKNOWN})(P.status);f(new pe(D,P.message))}else f(new pe(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new pe(re.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(en,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(s);ge(en,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=gg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=kI(),c=bI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=a.join("");ge(en,`Creating RPC '${e}' stream ${s}: ${m}`,f);const E=l.createWebChannel(m,f);this.I_(E);let w=!1,I=!1;const P=new r3({Yo:C=>{I?ge(en,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(w||(ge(en,`Opening RPC '${e}' stream ${s} transport.`),E.open(),w=!0),ge(en,`RPC '${e}' stream ${s} sending:`,C),E.send(C))},Zo:()=>E.close()}),D=(C,U,$)=>{C.listen(U,(z=>{try{$(z)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return D(E,ou.EventType.OPEN,(()=>{I||(ge(en,`RPC '${e}' stream ${s} transport opened.`),P.o_())})),D(E,ou.EventType.CLOSE,(()=>{I||(I=!0,ge(en,`RPC '${e}' stream ${s} transport closed`),P.a_(),this.E_(E))})),D(E,ou.EventType.ERROR,(C=>{I||(I=!0,ja(en,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),P.a_(new pe(re.UNAVAILABLE,"The operation could not be completed")))})),D(E,ou.EventType.MESSAGE,(C=>{if(!I){const U=C.data[0];qe(!!U,16349);const $=U,z=$?.error||$[0]?.error;if(z){ge(en,`RPC '${e}' stream ${s} received error:`,z);const ne=z.status;let oe=(function(x){const R=At[x];if(R!==void 0)return hA(R)})(ne),de=z.message;oe===void 0&&(oe=re.INTERNAL,de="Unknown error status: "+ne+" with message "+z.message),I=!0,P.a_(new pe(oe,de)),E.close()}else ge(en,`RPC '${e}' stream ${s} received:`,U),P.u_(U)}})),D(c,RI.STAT_EVENT,(C=>{C.stat===rg.PROXY?ge(en,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===rg.NOPROXY&&ge(en,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){return new l4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="PersistentStream";class xA{constructor(e,n,r,s,a,l,c,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new pe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(uT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(uT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class s3 extends xA{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=h4(this.serializer,e),r=(function(a){if(!("targetChange"in a))return be.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?be.min():l.readTime?Wr(l.readTime):be.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=pg(this.serializer),n.addTarget=(function(a,l){let c;const f=l.target;if(c=lg(f)?{documents:p4(a,f)}:{query:m4(a,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=pA(a,l.resumeToken);const p=hg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(be.min())>0){c.readTime=wd(a,l.snapshotVersion.toTimestamp());const p=hg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=y4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=pg(this.serializer),n.removeTarget=e,this.q_(n)}}class o3 extends xA{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=f4(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>d4(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{}class l3 extends a3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,dg(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(re.UNKNOWN,a.toString())}))}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,dg(n,r),s,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(re.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class u3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="RemoteStore";class c3{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{xo(this)&&(ge(Eo,"Restarting streams for network reachability change."),await(async function(f){const p=ke(f);p.Ea.add(4),await ic(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Qd(p)})(this))}))})),this.Ra=new u3(r,s)}}async function Qd(t){if(xo(t))for(const e of t.da)await e(!0)}async function ic(t){for(const e of t.da)await e(!1)}function PA(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ky(n)?Gy(n):il(n).O_()&&qy(n,e))}function Hy(t,e){const n=ke(t),r=il(n);n.Ia.delete(e),r.O_()&&CA(n,e),n.Ia.size===0&&(r.O_()?r.L_():xo(n)&&n.Ra.set("Unknown"))}function qy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(t).Y_(e)}function CA(t,e){t.Va.Ue(e),il(t).Z_(e)}function Gy(t){t.Va=new i4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),il(t).start(),t.Ra.ua()}function Ky(t){return xo(t)&&!il(t).x_()&&t.Ia.size>0}function xo(t){return ke(t).Ea.size===0}function RA(t){t.Va=void 0}async function h3(t){t.Ra.set("Online")}async function d3(t){t.Ia.forEach(((e,n)=>{qy(t,e)}))}async function f3(t,e){RA(t),Ky(t)?(t.Ra.ha(e),Gy(t)):t.Ra.set("Unknown")}async function p3(t,e,n){if(t.Ra.set("Online"),e instanceof fA&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){ge(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Td(t,r)}else if(e instanceof Zh?t.Va.Ze(e):e instanceof dA?t.Va.st(e):t.Va.tt(e),!n.isEqual(be.min()))try{const r=await IA(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ia.get(p);m&&a.Ia.set(p,m.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,p)=>{const m=a.Ia.get(f);if(!m)return;a.Ia.set(f,m.withResumeToken(Qt.EMPTY_BYTE_STRING,m.snapshotVersion)),CA(a,f);const E=new as(m.target,f,p,m.sequenceNumber);qy(a,E)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ge(Eo,"Failed to raise snapshot:",r),await Td(t,r)}}async function Td(t,e,n){if(!nl(e))throw e;t.Ea.add(1),await ic(t),t.Ra.set("Offline"),n||(n=()=>IA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(Eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qd(t)}))}function bA(t,e){return e().catch((n=>Td(t,n,e)))}async function Yd(t){const e=ke(t),n=_s(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:by;for(;m3(e);)try{const s=await Y4(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,g3(e,s)}catch(s){await Td(e,s)}kA(e)&&NA(e)}function m3(t){return xo(t)&&t.Ta.length<10}function g3(t,e){t.Ta.push(e);const n=_s(t);n.O_()&&n.X_&&n.ea(e.mutations)}function kA(t){return xo(t)&&!_s(t).x_()&&t.Ta.length>0}function NA(t){_s(t).start()}async function y3(t){_s(t).ra()}async function v3(t){const e=_s(t);for(const n of t.Ta)e.ea(n.mutations)}async function _3(t,e,n){const r=t.Ta.shift(),s=Fy.from(r,e,n);await bA(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Yd(t)}async function w3(t,e){e&&_s(t).X_&&await(async function(r,s){if((function(l){return t4(l)&&l!==re.ABORTED})(s.code)){const a=r.Ta.shift();_s(r).B_(),await bA(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Yd(r)}})(t,e),kA(t)&&NA(t)}async function cT(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ge(Eo,"RemoteStore received new credentials");const r=xo(n);n.Ea.add(3),await ic(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qd(n)}async function E3(t,e){const n=ke(t);e?(n.Ea.delete(2),await Qd(n)):e||(n.Ea.add(2),await ic(n),n.Ra.set("Unknown"))}function il(t){return t.ma||(t.ma=(function(n,r,s){const a=ke(n);return a.sa(),new s3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:h3.bind(null,t),t_:d3.bind(null,t),r_:f3.bind(null,t),H_:p3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ky(t)?Gy(t):t.Ra.set("Unknown")):(await t.ma.stop(),RA(t))}))),t.ma}function _s(t){return t.fa||(t.fa=(function(n,r,s){const a=ke(n);return a.sa(),new o3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:y3.bind(null,t),r_:w3.bind(null,t),ta:v3.bind(null,t),na:_3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Yd(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(Eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new Qy(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),nl(t))return new pe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{static emptySet(e){return new Oa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=au(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.ga=new ft(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class qa{constructor(e,n,r,s,a,l,c,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new qa(e,n,Oa.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class S3{constructor(){this.queries=dT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ke(n),a=s.queries;s.queries=dT(),a.forEach(((l,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new pe(re.ABORTED,"Firestore shutting down"))}}function dT(){return new Ao((t=>ZI(t)),$d)}async function DA(t,e){const n=ke(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new T3,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Yy(l,`Initialization of query '${Sa(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Xy(n)}async function VA(t,e){const n=ke(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function I3(t,e){const n=ke(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(s)&&(r=!0);l.wa=s}}r&&Xy(n)}function A3(t,e,n){const r=ke(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function Xy(t){t.Ca.forEach((e=>{e.next()}))}var yg,fT;(fT=yg||(yg={})).Ma="default",fT.Cache="cache";class LA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.key=e}}class MA{constructor(e){this.key=e}}class x3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=eA(e),this.tu=new Oa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new hT,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,E)=>{const w=s.get(m),I=Wd(this.query,E)?E:null,P=!!w&&this.mutatedKeys.has(w.key),D=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let C=!1;w&&I?w.data.isEqual(I.data)?P!==D&&(r.track({type:3,doc:I}),C=!0):this.su(w,I)||(r.track({type:2,doc:I}),C=!0,(f&&this.eu(I,f)>0||p&&this.eu(I,p)<0)&&(c=!0)):!w&&I?(r.track({type:0,doc:I}),C=!0):w&&!I&&(r.track({type:1,doc:w}),C=!0,(f||p)&&(c=!0)),C&&(I?(l=l.add(I),a=D?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,E)=>(function(I,P){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:C})}};return D(I)-D(P)})(m.type,E.type)||this.eu(m.doc,E.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new qa(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new MA(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new OA(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return qa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jy="SyncEngine";class P3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class C3{constructor(e){this.key=e,this.hu=!1}}class R3{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ao((c=>ZI(c)),$d),this.Iu=new Map,this.Eu=new Set,this.du=new ft(Te.comparator),this.Au=new Map,this.Ru=new jy,this.Vu={},this.mu=new Map,this.fu=Ha.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b3(t,e,n=!0){const r=$A(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await FA(r,e,n,!0),s}async function k3(t,e){const n=$A(t);await FA(n,e,!0,!1)}async function FA(t,e,n,r){const s=await X4(t.localStore,$r(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await N3(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&PA(t.remoteStore,s),c}async function N3(t,e,n,r,s){t.pu=(E,w,I)=>(async function(D,C,U,$){let z=C.view.ru(U);z.Cs&&(z=await sT(D.localStore,C.query,!1).then((({documents:O})=>C.view.ru(O,z))));const ne=$&&$.targetChanges.get(C.targetId),oe=$&&$.targetMismatches.get(C.targetId)!=null,de=C.view.applyChanges(z,D.isPrimaryClient,ne,oe);return mT(D,C.targetId,de.au),de.snapshot})(t,E,w,I);const a=await sT(t.localStore,e,!0),l=new x3(e,a.Qs),c=l.ru(a.documents),f=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,f);mT(t,n,p.au);const m=new P3(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function D3(t,e,n){const r=ke(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!$d(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await mg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Hy(r.remoteStore,s.targetId),vg(r,s.targetId)})).catch(tl)):(vg(r,s.targetId),await mg(r.localStore,s.targetId,!0))}async function V3(t,e){const n=ke(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hy(n.remoteStore,r.targetId))}async function L3(t,e,n){const r=z3(t);try{const s=await(function(l,c){const f=ke(l),p=Ze.now(),m=c.reduce(((I,P)=>I.add(P.key)),Ue());let E,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let P=xi(),D=Ue();return f.Ns.getEntries(I,m).next((C=>{P=C,P.forEach(((U,$)=>{$.isValidDocument()||(D=D.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(I,P))).next((C=>{E=C;const U=[];for(const $ of c){const z=YM($,E.get($.key).overlayedDocument);z!=null&&U.push(new Cs($.key,z,HI(z.value.mapValue),Xn.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,U,c)})).next((C=>{w=C;const U=C.applyToLocalDocumentSet(E,D);return f.documentOverlayCache.saveOverlays(I,C.batchId,U)}))})).then((()=>({batchId:w.batchId,changes:nA(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new ft(Fe)),p=p.insert(c,f),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,n),await sc(r,s.changes),await Yd(r.remoteStore)}catch(s){const a=Yy(s,"Failed to persist write");n.reject(a)}}async function UA(t,e){const n=ke(t);try{const r=await K4(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?qe(l.hu,14607):s.removedDocuments.size>0&&(qe(l.hu,42227),l.hu=!1))})),await sc(n,r,e)}catch(r){await tl(r)}}function pT(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const f=ke(l);f.onlineState=c;let p=!1;f.queries.forEach(((m,E)=>{for(const w of E.Sa)w.va(c)&&(p=!0)})),p&&Xy(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O3(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new ft(Te.comparator);l=l.insert(a,rn.newNoDocument(a,be.min()));const c=Ue().add(a),f=new Gd(be.min(),new Map,new ft(Fe),l,c);await UA(r,f),r.du=r.du.remove(a),r.Au.delete(e),Zy(r)}else await mg(r.localStore,e,!1).then((()=>vg(r,e,n))).catch(tl)}async function M3(t,e){const n=ke(t),r=e.batch.batchId;try{const s=await G4(n.localStore,e);jA(n,r,null),BA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sc(n,s)}catch(s){await tl(s)}}async function F3(t,e,n){const r=ke(t);try{const s=await(function(l,c){const f=ke(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return f.mutationQueue.lookupMutationBatch(p,c).next((E=>(qe(E!==null,37113),m=E.keys(),f.mutationQueue.removeMutationBatch(p,E)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>f.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);jA(r,e,n),BA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sc(r,s)}catch(s){await tl(s)}}function BA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function jA(t,e,n){const r=ke(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||zA(t,r)}))}function zA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Hy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zy(t))}function mT(t,e,n){for(const r of n)r instanceof OA?(t.Ru.addReference(r.key,e),U3(t,r)):r instanceof MA?(ge(Jy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||zA(t,r.key)):xe(19791,{wu:r})}function U3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(Jy,"New document in limbo: "+n),t.Eu.add(r),Zy(t))}function Zy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new C3(n)),t.du=t.du.insert(n,r),PA(t.remoteStore,new as($r(Ly(n.path)),r,"TargetPurposeLimboResolution",Bd.ce))}}async function sc(t,e,n){const r=ke(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const m=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(p){s.push(p);const m=$y.As(f.targetId,p);a.push(m)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(f,p){const m=ke(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>se.forEach(p,(w=>se.forEach(w.Es,(I=>m.persistence.referenceDelegate.addReference(E,w.targetId,I))).next((()=>se.forEach(w.ds,(I=>m.persistence.referenceDelegate.removeReference(E,w.targetId,I)))))))))}catch(E){if(!nl(E))throw E;ge(Wy,"Failed to update sequence numbers: "+E)}for(const E of p){const w=E.targetId;if(!E.fromCache){const I=m.Ms.get(w),P=I.snapshotVersion,D=I.withLastLimboFreeSnapshotVersion(P);m.Ms=m.Ms.insert(w,D)}}})(r.localStore,a))}async function B3(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ge(Jy,"User change. New user:",e.toKey());const r=await SA(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((f=>{f.reject(new pe(re.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sc(n,r.Ls)}}function j3(t,e){const n=ke(t),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let s=Ue();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function $A(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O3.bind(null,e),e.Pu.H_=I3.bind(null,e.eventManager),e.Pu.yu=A3.bind(null,e.eventManager),e}function z3(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F3.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return q4(this.persistence,new $4,e.initialUser,this.serializer)}Cu(e){return new TA(zy.mi,this.serializer)}Du(e){return new Z4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class $3 extends Sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof Ed,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new C4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new TA((r=>Ed.mi(r,n)),this.serializer)}}class _g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B3.bind(null,this.syncEngine),await E3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new S3})()}createDatastore(e){const n=Kd(e.databaseInfo.databaseId),r=(function(a){return new i3(a)})(e.databaseInfo);return(function(a,l,c,f){return new l3(a,l,c,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,c){return new c3(r,s,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>pT(this.syncEngine,n,0)),(function(){return lT.v()?new lT:new e3})())}createSyncEngine(e,n){return(function(s,a,l,c,f,p,m){const E=new R3(s,a,l,c,f,p);return m&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ke(n);ge(Eo,"RemoteStore shutting down."),r.Ea.add(5),await ic(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_g.provider={build:()=>new _g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="FirestoreClient";class W3{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=nn.UNAUTHENTICATED,this.clientId=Ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ge(ws,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ge(ws,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function gm(t,e){t.asyncQueue.verifyOperationInProgress(),ge(ws,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await SA(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function gT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H3(t);ge(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>cT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>cT(e.remoteStore,s))),t._onlineComponents=e}async function H3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(ws,"Using user provided OfflineComponentProvider");try{await gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await gm(t,new Sd)}}else ge(ws,"Using default OfflineComponentProvider"),await gm(t,new $3(void 0));return t._offlineComponents}async function HA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(ws,"Using user provided OnlineComponentProvider"),await gT(t,t._uninitializedComponentsProvider._online)):(ge(ws,"Using default OnlineComponentProvider"),await gT(t,new _g))),t._onlineComponents}function q3(t){return HA(t).then((e=>e.syncEngine))}async function qA(t){const e=await HA(t),n=e.eventManager;return n.onListen=b3.bind(null,e.syncEngine),n.onUnlisten=D3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V3.bind(null,e.syncEngine),n}function G3(t,e,n={}){const r=new _i;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,p){const m=new WA({next:w=>{m.Nu(),l.enqueueAndForget((()=>VA(a,E)));const I=w.docs.has(c);!I&&w.fromCache?p.reject(new pe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&f&&f.source==="server"?p.reject(new pe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),E=new LA(Ly(c.path),m,{includeMetadataChanges:!0,qa:!0});return DA(a,E)})(await qA(t),t.asyncQueue,e,n,r))),r.promise}function K3(t,e,n={}){const r=new _i;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,p){const m=new WA({next:w=>{m.Nu(),l.enqueueAndForget((()=>VA(a,E))),w.fromCache&&f.source==="server"?p.reject(new pe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),E=new LA(c,m,{includeMetadataChanges:!0,qa:!0});return DA(a,E)})(await qA(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firestore.googleapis.com",vT=!0;class _T{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KA,this.ssl=vT}else this.host=e.host,this.ssl=e.ssl??vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x4)throw new pe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _T(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ZO;switch(r.type){case"firstParty":return new rM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=yT.get(n);r&&(ge("ComponentProvider","Removing Datastore"),yT.delete(n),r.terminate())})(this),Promise.resolve()}}function Q3(t,e,n,r={}){t=vr(t,Xd);const s=Ss(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(fy(`https://${c}`),py("Firestore",!0)),a.host!==KA&&a.host!==c&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:c,ssl:s,emulatorOptions:r};if(!go(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=nn.MOCK_USER;else{p=jS(r.mockUserToken,t._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new nn(E)}t._authCredentials=new eM(new DI(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Po(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(tc(n,Tt._jsonSchema))return new Tt(e,r||null,new Te(Je.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Rt("string",Tt._jsonSchemaVersion),referencePath:Rt("string")};class hs extends Po{constructor(e,n,r){super(e,n,Ly(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Te(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function fn(t,e,...n){if(t=dt(t),VI("collection","path",e),t instanceof Xd){const r=Je.fromString(e,...n);return NE(r),new hs(t,null,r)}{if(!(t instanceof Tt||t instanceof hs))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return NE(r),new hs(t.firestore,null,r)}}function it(t,e,...n){if(t=dt(t),arguments.length===1&&(e=Ry.newId()),VI("doc","path",e),t instanceof Xd){const r=Je.fromString(e,...n);return kE(r),new Tt(t,null,new Te(r))}{if(!(t instanceof Tt||t instanceof hs))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return kE(r),new Tt(t.firestore,t instanceof hs?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="AsyncQueue";class ET{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AA(this,"async_queue_retry"),this._c=()=>{const r=mm();r&&ge(wT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _i;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nl(e))throw e;ge(wT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",TT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Qy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&xe(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Co extends Xd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ET,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ET(e),this._firestoreClient=void 0,await e}}}function Y3(t,e){const n=typeof t=="object"?t:Ld(),r=typeof t=="string"?t:gd,s=Vd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=FS("firestore");a&&Q3(s,...a)}return s}function ev(t){if(t._terminated)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X3(t),t._firestoreClient}function X3(t){const e=t._freezeSettings(),n=(function(s,a,l,c){return new wM(s,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,GA(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new W3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Qt.fromBase64String(e))}catch(n){throw new pe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tc(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Rt("string",Qn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(e){if(tc(e,Hr._jsonSchema))return new Hr(e.latitude,e.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:Rt("string",Hr._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tc(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qr(e.vectorValues);throw new pe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:Rt("string",qr._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=/^__.*__$/;class Z3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new nc(e,this.data,n,this.fieldTransforms)}}class QA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class tv{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Id(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YA(this.Ac)&&J3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class e6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kd(e)}Cc(e,n,r,s=!1){return new tv({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(t){const e=t._freezeSettings(),n=Kd(t._databaseId);return new e6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XA(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);rv("Data must be an object, but it was:",l,r);const c=JA(r,l);let f,p;if(a.merge)f=new Vn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const E of a.mergeFields){const w=wg(e,E,n);if(!l.contains(w))throw new pe(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ex(m,w)||m.push(w)}f=new Vn(m),p=l.fieldTransforms.filter((E=>f.covers(E.field)))}else f=null,p=l.fieldTransforms;return new Z3(new In(c),f,p)}class tf extends Zd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}class nv extends Zd{_toFieldTransform(e){return new qM(e.path,new Fu)}isEqual(e){return e instanceof nv}}function t6(t,e,n,r){const s=t.Cc(1,e,n);rv("Data must be an object, but it was:",s,r);const a=[],l=In.empty();Ps(r,((f,p)=>{const m=iv(e,f,n);p=dt(p);const E=s.yc(m);if(p instanceof tf)a.push(m);else{const w=oc(p,E);w!=null&&(a.push(m),l.set(m,w))}}));const c=new Vn(a);return new QA(l,c,s.fieldTransforms)}function n6(t,e,n,r,s,a){const l=t.Cc(1,e,n),c=[wg(e,r,n)],f=[s];if(a.length%2!=0)throw new pe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)c.push(wg(e,a[w])),f.push(a[w+1]);const p=[],m=In.empty();for(let w=c.length-1;w>=0;--w)if(!ex(p,c[w])){const I=c[w];let P=f[w];P=dt(P);const D=l.yc(I);if(P instanceof tf)p.push(I);else{const C=oc(P,D);C!=null&&(p.push(I),m.set(I,C))}}const E=new Vn(p);return new QA(m,E,l.fieldTransforms)}function r6(t,e,n,r=!1){return oc(n,t.Cc(r?4:3,e))}function oc(t,e){if(ZA(t=dt(t)))return rv("Unsupported field value:",e,t),JA(t,e);if(t instanceof Zd)return(function(r,s){if(!YA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const c of r){let f=oc(c,s.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $M(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ze.fromDate(r);return{timestampValue:wd(s.serializer,a)}}if(r instanceof Ze){const a=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wd(s.serializer,a)}}if(r instanceof Hr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:pA(s.serializer,r._byteString)};if(r instanceof Tt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:By(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof qr)return(function(l,c){return{mapValue:{fields:{[$I]:{stringValue:WI},[yd]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw c.Sc("VectorValues must only contain numeric values.");return Oy(c.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Ud(r)}`)})(t,e)}function JA(t,e){const n={};return MI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(t,((r,s)=>{const a=oc(s,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function ZA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Hr||t instanceof Qn||t instanceof Tt||t instanceof Zd||t instanceof qr)}function rv(t,e,n){if(!ZA(n)||!LI(n)){const r=Ud(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function wg(t,e,n){if((e=dt(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return iv(t,e);throw Id("Field path arguments must be of type string or ",t,!1,void 0,n)}const i6=new RegExp("[~\\*/\\[\\]]");function iv(t,e,n){if(e.search(i6)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jd(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Id(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new pe(re.INVALID_ARGUMENT,c+t+f)}function ex(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s6 extends tx{data(){return super.data()}}function nf(t,e){return typeof e=="string"?iv(t,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sv{}class nx extends sv{}function rf(t,e,...n){let r=[];e instanceof sv&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof ov)).length,c=a.filter((f=>f instanceof sf)).length;if(l>1||l>0&&c>0)throw new pe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class sf extends nx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sf(e,n,r)}_apply(e){const n=this._parse(e);return rx(e._query,n),new Po(e.firestore,e.converter,ug(e._query,n))}_parse(e){const n=ef(e.firestore);return(function(a,l,c,f,p,m,E){let w;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new pe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){IT(E,m);const P=[];for(const D of E)P.push(ST(f,a,D));w={arrayValue:{values:P}}}else w=ST(f,a,E)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||IT(E,m),w=r6(c,l,E,m==="in"||m==="not-in");return Pt.create(p,m,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Eg(t,e,n){const r=e,s=nf("where",t);return sf._create(s,r,n)}class ov extends sv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ov(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const c=a.getFlattenedFilters();for(const f of c)rx(l,f),l=ug(l,f)})(e._query,n),new Po(e.firestore,e.converter,ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class av extends nx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new av(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new pe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new pe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(a,l)})(e._query,this._field,this._direction);return new Po(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new rl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function a6(t,e="asc"){const n=e,r=nf("orderBy",t);return av._create(r,n)}function ST(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new pe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JI(e)&&n.indexOf("/")!==-1)throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!Te.isDocumentKey(r))throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BE(t,new Te(r))}if(n instanceof Tt)return BE(t,n._key);throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ud(n)}.`)}function IT(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rx(t,e){const n=(function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class l6{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ps(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[yd].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new qr(n)}convertGeoPoint(e){return new Hr(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const n=gs(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);qe(wA(r),9688,{name:e});const s=new Lu(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return s.isEqual(n)||Ai(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class po extends tx{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:Rt("string",po._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class ed extends po{data(e={}){return super.data(e)}}class Ma{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new uu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ed(this._firestore,this._userDataWriter,r.key,r,new uu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const f=new ed(s._firestore,s._userDataWriter,c.doc.key,c.doc,new uu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const f=new ed(s._firestore,s._userDataWriter,c.doc.key,c.doc,new uu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:u6(c.type),doc:f,oldIndex:p,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function u6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){t=vr(t,Tt);const e=vr(t.firestore,Co);return G3(ev(e),t._key).then((n=>c6(e,t,n)))}Ma._jsonSchemaVersion="firestore/querySnapshot/1.0",Ma._jsonSchema={type:Rt("string",Ma._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class sx extends l6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function xn(t){t=vr(t,Po);const e=vr(t.firestore,Co),n=ev(e),r=new sx(e);return o6(t._query),K3(n,t._query).then((s=>new Ma(e,r,t,s)))}function Tg(t,e,n){t=vr(t,Tt);const r=vr(t.firestore,Co),s=ix(t.converter,e);return of(r,[XA(ef(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Xn.none())])}function Vr(t,e,n,...r){t=vr(t,Tt);const s=vr(t.firestore,Co),a=ef(s);let l;return l=typeof(e=dt(e))=="string"||e instanceof Jd?n6(a,"updateDoc",t._key,e,n,r):t6(a,"updateDoc",t._key,e),of(s,[l.toMutation(t._key,Xn.exists(!0))])}function Fa(t){return of(vr(t.firestore,Co),[new My(t._key,Xn.none())])}function ox(t,e){const n=vr(t.firestore,Co),r=it(t),s=ix(t.converter,e);return of(n,[XA(ef(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then((()=>r))}function of(t,e){return(function(r,s){const a=new _i;return r.asyncQueue.enqueueAndForget((async()=>L3(await q3(r),s,a))),a.promise})(ev(t),e)}function c6(t,e,n){const r=n.docs.get(e._key),s=new sx(t);return new po(t,s,e._key,r,new uu(n.hasPendingWrites,n.fromCache),e.converter)}function To(){return new nv("serverTimestamp")}(function(e,n=!0){(function(s){el=s})(Io),yo(new ps("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Co(new tM(r.getProvider("auth-internal")),new iM(l,r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(p.options.projectId,m)})(l,s),l);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),jr(PE,CE,e),jr(PE,CE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firebasestorage.googleapis.com",lx="storageBucket",h6=120*1e3,d6=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends Kr{constructor(e,n,r=0){super(ym(e),`Firebase Storage: ${n} (${ym(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function ym(t){return"storage/"+t}function lv(){const t="An unknown error occurred, please check the error payload for server response.";return new yt(gt.UNKNOWN,t)}function f6(t){return new yt(gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function p6(t){return new yt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function m6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(gt.UNAUTHENTICATED,t)}function g6(){return new yt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function y6(t){return new yt(gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function v6(){return new yt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _6(){return new yt(gt.CANCELED,"User canceled the upload/download.")}function w6(t){return new yt(gt.INVALID_URL,"Invalid URL '"+t+"'.")}function E6(t){return new yt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function T6(){return new yt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lx+"' property when initializing the app?")}function S6(){return new yt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function I6(){return new yt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function A6(t){return new yt(gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sg(t){return new yt(gt.INVALID_ARGUMENT,t)}function ux(){return new yt(gt.APP_DELETED,"The Firebase app was deleted.")}function x6(t){return new yt(gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Eu(t,e){return new yt(gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nu(t){throw new yt(gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ln.makeFromUrl(e,n)}catch{return new Ln(e,"")}if(r.path==="")return r;throw E6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function p(ne){ne.path_=decodeURIComponent(ne.path)}const m="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",I=new RegExp(`^https?://${E}/${m}/b/${s}/o${w}`,"i"),P={bucket:1,path:3},D=n===ax?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",U=new RegExp(`^https?://${D}/${s}/${C}`,"i"),z=[{regex:c,indices:f,postModify:a},{regex:I,indices:P,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let ne=0;ne<z.length;ne++){const oe=z[ne],de=oe.regex.exec(e);if(de){const O=de[oe.indices.bucket];let x=de[oe.indices.path];x||(x=""),r=new Ln(O,x),oe.postModify(r);break}}if(r==null)throw w6(e);return r}}class P6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t,e,n){let r=1,s=null,a=null,l=!1,c=0;function f(){return c===2}let p=!1;function m(...C){p||(p=!0,e.apply(null,C))}function E(C){s=setTimeout(()=>{s=null,t(I,f())},C)}function w(){a&&clearTimeout(a)}function I(C,...U){if(p){w();return}if(C){w(),m.call(null,C,...U);return}if(f()||l){w(),m.call(null,C,...U);return}r<64&&(r*=2);let z;c===1?(c=2,z=0):z=(r+Math.random())*1e3,E(z)}let P=!1;function D(C){P||(P=!0,w(),!p&&(s!==null?(C||(c=2),clearTimeout(s),E(0)):C||(c=1)))}return E(0),a=setTimeout(()=>{l=!0,D(!0)},n),D}function R6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){return t!==void 0}function k6(t){return typeof t=="object"&&!Array.isArray(t)}function uv(t){return typeof t=="string"||t instanceof String}function AT(t){return cv()&&t instanceof Blob}function cv(){return typeof Blob<"u"}function xT(t,e,n,r){if(r<e)throw Sg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Sg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function cx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var mo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mo||(mo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,s,a,l,c,f,p,m,E,w=!0,I=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=E,this.retry=w,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,D)=>{this.resolve_=P,this.reject_=D,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Lh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const f=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===mo.NO_ERROR,f=a.getStatus();if(!c||N6(f,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===mo.ABORT;r(!1,new Lh(!1,null,m));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Lh(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());b6(f)?a(f):a()}catch(f){l(f)}else if(c!==null){const f=lv();f.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,f)):l(f)}else if(s.canceled){const f=this.appDelete_?ux():_6();l(f)}else{const f=v6();l(f)}};this.canceled_?n(!1,new Lh(!1,null,!0)):this.backoffId_=C6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&R6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function V6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function L6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function O6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function M6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function F6(t,e,n,r,s,a,l=!0,c=!1){const f=cx(t.urlParams),p=t.url+f,m=Object.assign({},t.headers);return O6(m,e),V6(m,n),L6(m,a),M6(m,r),new D6(p,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function B6(...t){const e=U6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(cv())return new Blob(t);throw new yt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function j6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){if(typeof atob>"u")throw A6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vm{constructor(e,n){this.data=e,this.contentType=n||null}}function $6(t,e){switch(t){case Or.RAW:return new vm(hx(e));case Or.BASE64:case Or.BASE64URL:return new vm(dx(t,e));case Or.DATA_URL:return new vm(H6(e),q6(e))}throw lv()}function hx(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function W6(t){let e;try{e=decodeURIComponent(t)}catch{throw Eu(Or.DATA_URL,"Malformed data URL.")}return hx(e)}function dx(t,e){switch(t){case Or.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Eu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Or.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Eu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=z6(e)}catch(s){throw s.message.includes("polyfill")?s:Eu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class fx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Eu(Or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=G6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function H6(t){const e=new fx(t);return e.base64?dx(Or.BASE64,e.rest):W6(e.rest)}function q6(t){return new fx(t).contentType}function G6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){let r=0,s="";AT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(AT(this.data_)){const r=this.data_,s=j6(r,e,n);return s===null?null:new ss(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ss(r,!0)}}static getBlob(...e){if(cv()){const n=e.map(r=>r instanceof ss?r.data_:r);return new ss(B6.apply(null,n))}else{const n=e.map(l=>uv(l)?$6(Or.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[a++]=l[c]}),new ss(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){let e;try{e=JSON.parse(t)}catch{return null}return k6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Q6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function mx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t,e){return e}class hn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Y6}}let Oh=null;function X6(t){return!uv(t)||t.length<2?t:mx(t)}function gx(){if(Oh)return Oh;const t=[];t.push(new hn("bucket")),t.push(new hn("generation")),t.push(new hn("metageneration")),t.push(new hn("name","fullPath",!0));function e(a,l){return X6(l)}const n=new hn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new hn("size");return s.xform=r,t.push(s),t.push(new hn("timeCreated")),t.push(new hn("updated")),t.push(new hn("md5Hash",null,!0)),t.push(new hn("cacheControl",null,!0)),t.push(new hn("contentDisposition",null,!0)),t.push(new hn("contentEncoding",null,!0)),t.push(new hn("contentLanguage",null,!0)),t.push(new hn("contentType",null,!0)),t.push(new hn("metadata","customMetadata",!0)),Oh=t,Oh}function J6(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new Ln(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Z6(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return J6(r,t),r}function yx(t,e,n){const r=px(e);return r===null?null:Z6(t,r,n)}function eF(t,e,n,r){const s=px(e);if(s===null||!uv(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const m=t.bucket,E=t.fullPath,w="/b/"+l(m)+"/o/"+l(E),I=af(w,n,r),P=cx({alt:"media",token:p});return I+P})[0]}function tF(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class hv{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t){if(!t)throw lv()}function nF(t,e){function n(r,s){const a=yx(t,s,e);return vx(a!==null),a}return n}function rF(t,e){function n(r,s){const a=yx(t,s,e);return vx(a!==null),eF(a,s,t.host,t._protocol)}return n}function _x(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=g6():s=m6():n.getStatus()===402?s=p6(t.bucket):n.getStatus()===403?s=y6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function wx(t){const e=_x(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=f6(t.path)),a.serverResponse=s.serverResponse,a}return n}function iF(t,e,n){const r=e.fullServerUrl(),s=af(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new hv(s,a,rF(t,n),l);return c.errorHandler=wx(e),c}function sF(t,e){const n=e.fullServerUrl(),r=af(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function l(f,p){}const c=new hv(r,s,l,a);return c.successCodes=[200,204],c.errorHandler=wx(e),c}function oF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function aF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=oF(null,e)),r}function lF(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let z="";for(let ne=0;ne<2;ne++)z=z+Math.random().toString().slice(2);return z}const f=c();l["Content-Type"]="multipart/related; boundary="+f;const p=aF(e,r,s),m=tF(p,n),E="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+f+"--",I=ss.getBlob(E,r,w);if(I===null)throw S6();const P={name:p.fullPath},D=af(a,t.host,t._protocol),C="POST",U=t.maxUploadRetryTime,$=new hv(D,C,nF(t,n),U);return $.urlParams=P,$.headers=l,$.body=I.uploadData(),$.errorHandler=_x(e),$}class uF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw nu("cannot .send() more than once");if(Ss(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cF extends uF{initXhr(){this.xhr_.responseType="text"}}function dv(){return new cF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new So(e,n)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mx(this._location.path)}get storage(){return this._service}get parent(){const e=K6(this._location.path);if(e===null)return null;const n=new Ln(this._location.bucket,e);return new So(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw x6(e)}}function hF(t,e,n){t._throwIfRoot("uploadBytes");const r=lF(t.storage,t._location,gx(),new ss(e,!0),n);return t.storage.makeRequestWithTokens(r,dv).then(s=>({metadata:s,ref:t}))}function dF(t){t._throwIfRoot("getDownloadURL");const e=iF(t.storage,t._location,gx());return t.storage.makeRequestWithTokens(e,dv).then(n=>{if(n===null)throw I6();return n})}function fF(t){t._throwIfRoot("deleteObject");const e=sF(t.storage,t._location);return t.storage.makeRequestWithTokens(e,dv)}function pF(t,e){const n=Q6(t._location.path,e),r=new Ln(t._location.bucket,n);return new So(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){return/^[A-Za-z]+:\/\//.test(t)}function gF(t,e){return new So(t,e)}function Ex(t,e){if(t instanceof fv){const n=t;if(n._bucket==null)throw T6();const r=new So(n,n._bucket);return e!=null?Ex(r,e):r}else return e!==void 0?pF(t,e):t}function yF(t,e){if(e&&mF(e)){if(t instanceof fv)return gF(t,e);throw Sg("To use ref(service, url), the first argument must be a Storage instance.")}else return Ex(t,e)}function PT(t,e){const n=e?.[lx];return n==null?null:Ln.makeFromBucketSpec(n,t)}function vF(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ss(e);s&&(fy(`https://${t.host}/b`),py("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:jS(a,t.app.options.projectId))}class fv{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=ax,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=h6,this._maxUploadRetryTime=d6,this._requests=new Set,s!=null?this._bucket=Ln.makeFromBucketSpec(s,this._host):this._bucket=PT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=PT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new So(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new P6(ux());{const l=F6(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const CT="@firebase/storage",RT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="storage";function Sx(t,e,n){return t=dt(t),hF(t,e,n)}function Ix(t){return t=dt(t),dF(t)}function pv(t){return t=dt(t),fF(t)}function ju(t,e){return t=dt(t),yF(t,e)}function _F(t=Ld(),e){t=dt(t);const r=Vd(t,Tx).getImmediate({identifier:e}),s=FS("storage");return s&&wF(r,...s),r}function wF(t,e,n,r={}){vF(t,e,n,r)}function EF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new fv(n,r,s,e,Io)}function TF(){yo(new ps(Tx,EF,"PUBLIC").setMultipleInstances(!0)),jr(CT,RT,""),jr(CT,RT,"esm2020")}TF();const SF={apiKey:"AIzaSyCcMTrPRrddN84zbsoZZtKQ068wqOYJelY",authDomain:"myamravati-market-17248.firebaseapp.com",projectId:"myamravati-market-17248",storageBucket:"myamravati-market-17248.firebasestorage.app",messagingSenderId:"390266313293",appId:"1:390266313293:web:fe9ecb9eae7bcd05361a04"},mv=xV().length?Ld():WS(SF),Ct=XO(mv),Ve=Y3(mv),zu=_F(mv);let IF={data:""},AF=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||IF,xF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,PF=/\/\*[^]*?\*\/|  +/g,bT=/\n+/g,os=(t,e)=>{let n="",r="",s="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+l+";":r+=a[1]=="f"?os(l,a):a+"{"+os(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=os(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=os.p?os.p(a,l):a+":"+l+";")}return n+(e&&s?e+"{"+s+"}":s)+r},fi={},Ax=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Ax(t[n]);return e}return t},CF=(t,e,n,r,s)=>{let a=Ax(t),l=fi[a]||(fi[a]=(f=>{let p=0,m=11;for(;p<f.length;)m=101*m+f.charCodeAt(p++)>>>0;return"go"+m})(a));if(!fi[l]){let f=a!==t?t:(p=>{let m,E,w=[{}];for(;m=xF.exec(p.replace(PF,""));)m[4]?w.shift():m[3]?(E=m[3].replace(bT," ").trim(),w.unshift(w[0][E]=w[0][E]||{})):w[0][m[1]]=m[2].replace(bT," ").trim();return w[0]})(t);fi[l]=os(s?{["@keyframes "+l]:f}:f,n?"":"."+l)}let c=n&&fi.g?fi.g:null;return n&&(fi.g=fi[l]),((f,p,m,E)=>{E?p.data=p.data.replace(E,f):p.data.indexOf(f)===-1&&(p.data=m?f+p.data:p.data+f)})(fi[l],e,r,c),l},RF=(t,e,n)=>t.reduce((r,s,a)=>{let l=e[a];if(l&&l.call){let c=l(n),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=f?"."+f:c&&typeof c=="object"?c.props?"":os(c,""):c===!1?"":c}return r+s+(l??"")},"");function lf(t){let e=this||{},n=t.call?t(e.p):t;return CF(n.unshift?n.raw?RF(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,AF(e.target),e.g,e.o,e.k)}let xx,Ig,Ag;lf.bind({g:1});let Pi=lf.bind({k:1});function bF(t,e,n,r){os.p=e,xx=t,Ig=n,Ag=r}function Rs(t,e){let n=this||{};return function(){let r=arguments;function s(a,l){let c=Object.assign({},a),f=c.className||s.className;n.p=Object.assign({theme:Ig&&Ig()},c),n.o=/ *go\d+/.test(f),c.className=lf.apply(n,r)+(f?" "+f:"");let p=t;return t[0]&&(p=c.as||t,delete c.as),Ag&&p[0]&&Ag(c),xx(p,c)}return s}}var kF=t=>typeof t=="function",Ad=(t,e)=>kF(t)?t(e):t,NF=(()=>{let t=0;return()=>(++t).toString()})(),Px=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),DF=20,gv="default",Cx=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return Cx(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},td=[],Rx={toasts:[],pausedAt:void 0,settings:{toastLimit:DF}},Mr={},bx=(t,e=gv)=>{Mr[e]=Cx(Mr[e]||Rx,t),td.forEach(([n,r])=>{n===e&&r(Mr[e])})},kx=t=>Object.keys(Mr).forEach(e=>bx(t,e)),VF=t=>Object.keys(Mr).find(e=>Mr[e].toasts.some(n=>n.id===t)),uf=(t=gv)=>e=>{bx(e,t)},LF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},OF=(t={},e=gv)=>{let[n,r]=b.useState(Mr[e]||Rx),s=b.useRef(Mr[e]);b.useEffect(()=>(s.current!==Mr[e]&&r(Mr[e]),td.push([e,r]),()=>{let l=td.findIndex(([c])=>c===e);l>-1&&td.splice(l,1)}),[e]);let a=n.toasts.map(l=>{var c,f,p;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((c=t[l.type])==null?void 0:c.removeDelay)||t?.removeDelay,duration:l.duration||((f=t[l.type])==null?void 0:f.duration)||t?.duration||LF[l.type],style:{...t.style,...(p=t[l.type])==null?void 0:p.style,...l.style}}});return{...n,toasts:a}},MF=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||NF()}),ac=t=>(e,n)=>{let r=MF(e,t,n);return uf(r.toasterId||VF(r.id))({type:2,toast:r}),r.id},st=(t,e)=>ac("blank")(t,e);st.error=ac("error");st.success=ac("success");st.loading=ac("loading");st.custom=ac("custom");st.dismiss=(t,e)=>{let n={type:3,toastId:t};e?uf(e)(n):kx(n)};st.dismissAll=t=>st.dismiss(void 0,t);st.remove=(t,e)=>{let n={type:4,toastId:t};e?uf(e)(n):kx(n)};st.removeAll=t=>st.remove(void 0,t);st.promise=(t,e,n)=>{let r=st.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let a=e.success?Ad(e.success,s):void 0;return a?st.success(a,{id:r,...n,...n?.success}):st.dismiss(r),s}).catch(s=>{let a=e.error?Ad(e.error,s):void 0;a?st.error(a,{id:r,...n,...n?.error}):st.dismiss(r)}),t};var FF=1e3,UF=(t,e="default")=>{let{toasts:n,pausedAt:r}=OF(t,e),s=b.useRef(new Map).current,a=b.useCallback((E,w=FF)=>{if(s.has(E))return;let I=setTimeout(()=>{s.delete(E),l({type:4,toastId:E})},w);s.set(E,I)},[]);b.useEffect(()=>{if(r)return;let E=Date.now(),w=n.map(I=>{if(I.duration===1/0)return;let P=(I.duration||0)+I.pauseDuration-(E-I.createdAt);if(P<0){I.visible&&st.dismiss(I.id);return}return setTimeout(()=>st.dismiss(I.id,e),P)});return()=>{w.forEach(I=>I&&clearTimeout(I))}},[n,r,e]);let l=b.useCallback(uf(e),[e]),c=b.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=b.useCallback((E,w)=>{l({type:1,toast:{id:E,height:w}})},[l]),p=b.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),m=b.useCallback((E,w)=>{let{reverseOrder:I=!1,gutter:P=8,defaultPosition:D}=w||{},C=n.filter(z=>(z.position||D)===(E.position||D)&&z.height),U=C.findIndex(z=>z.id===E.id),$=C.filter((z,ne)=>ne<U&&z.visible).length;return C.filter(z=>z.visible).slice(...I?[$+1]:[0,$]).reduce((z,ne)=>z+(ne.height||0)+P,0)},[n]);return b.useEffect(()=>{n.forEach(E=>{if(E.dismissed)a(E.id,E.removeDelay);else{let w=s.get(E.id);w&&(clearTimeout(w),s.delete(E.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:f,startPause:c,endPause:p,calculateOffset:m}}},BF=Pi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,jF=Pi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zF=Pi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$F=Rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${jF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${zF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,WF=Pi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,HF=Rs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${WF} 1s linear infinite;
`,qF=Pi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GF=Pi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,KF=Rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QF=Rs("div")`
  position: absolute;
`,YF=Rs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,XF=Pi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JF=Rs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${XF} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ZF=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?b.createElement(JF,null,e):e:n==="blank"?null:b.createElement(YF,null,b.createElement(HF,{...r}),n!=="loading"&&b.createElement(QF,null,n==="error"?b.createElement($F,{...r}):b.createElement(KF,{...r})))},eU=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tU=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,nU="0%{opacity:0;} 100%{opacity:1;}",rU="0%{opacity:1;} 100%{opacity:0;}",iU=Rs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,sU=Rs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oU=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Px()?[nU,rU]:[eU(n),tU(n)];return{animation:e?`${Pi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Pi(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},aU=b.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?oU(t.position||e||"top-center",t.visible):{opacity:0},a=b.createElement(ZF,{toast:t}),l=b.createElement(sU,{...t.ariaProps},Ad(t.message,t));return b.createElement(iU,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:a,message:l}):b.createElement(b.Fragment,null,a,l))});bF(b.createElement);var lU=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let a=b.useCallback(l=>{if(l){let c=()=>{let f=l.getBoundingClientRect().height;r(t,f)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return b.createElement("div",{ref:a,className:e,style:n},s)},uU=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Px()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},cU=lf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Mh=16,yv=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:a,containerStyle:l,containerClassName:c})=>{let{toasts:f,handlers:p}=UF(n,a);return b.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Mh,left:Mh,right:Mh,bottom:Mh,pointerEvents:"none",...l},className:c,onMouseEnter:p.startPause,onMouseLeave:p.endPause},f.map(m=>{let E=m.position||e,w=p.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),I=uU(E,w);return b.createElement(lU,{id:m.id,key:m.id,onHeightUpdate:p.updateHeight,className:m.visible?cU:"",style:I},m.type==="custom"?Ad(m.message,m):s?s(m):b.createElement(aU,{toast:m,position:E}))}))},Ce=st;function hU(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,a]=b.useState(!1),[l,c]=b.useState(""),f=Es(),p=new Lr,m=new pi,E=async P=>{if(P.preventDefault(),!t||!n){Ce.error(" Please fill all fields");return}a(!0);try{await FL(Ct,t,n),Ce.success(" Logged in successfully!"),f("/dashboard")}catch(D){console.error(D),c("Invalid credentials. Please try again."),Ce.error(" Invalid email or password")}a(!1)},w=async()=>{a(!0);try{await ng(Ct,p),Ce.success(" Logged in with Google!"),f("/dashboard")}catch(P){console.error(P),Ce.error(" Google login failed")}a(!1)},I=async()=>{a(!0);try{await ng(Ct,m),Ce.success(" Logged in with Facebook!"),f("/dashboard")}catch(P){console.error(P),Ce.error(" Facebook login failed")}a(!1)};return _.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4"},_.createElement("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 sm:p-8"},_.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6"},"Welcome Back "),l&&_.createElement("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-2"},l),_.createElement("form",{onSubmit:E,className:"space-y-4"},_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email Address"),_.createElement("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:t,onChange:P=>e(P.target.value),placeholder:"you@example.com",required:!0})),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),_.createElement("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:n,onChange:P=>r(P.target.value),placeholder:"",required:!0})),_.createElement("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 rounded-lg transition duration-200 disabled:opacity-60"},s?"Logging in...":"Login")),_.createElement("div",{className:"flex items-center my-6"},_.createElement("div",{className:"flex-grow border-t border-gray-300"}),_.createElement("span",{className:"mx-3 text-sm text-gray-500"},"or"),_.createElement("div",{className:"flex-grow border-t border-gray-300"})),_.createElement("div",{className:"flex flex-col space-y-3"},_.createElement("button",{onClick:w,className:"flex items-center justify-center w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition"},_.createElement("img",{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"),_.createElement("button",{onClick:I,className:"flex items-center justify-center w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition"},_.createElement("img",{src:"https://www.svgrepo.com/show/303145/facebook-icon-logo.svg",alt:"Facebook",className:"w-5 h-5 mr-2"}),"Continue with Facebook")),_.createElement("p",{className:"mt-6 text-sm text-gray-600 text-center"},"Dont have an account?"," ",_.createElement(ct,{to:"/signup",className:"text-blue-600 hover:underline font-medium"},"Sign up"))))}function dU(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,a]=b.useState(""),[l,c]=b.useState(!1),f=Es(),p=new Lr,m=async w=>{w.preventDefault(),a(""),c(!0);try{const P=(await ML(Ct,t,n)).user;await Tg(it(Ve,"users",P.uid),{email:P.email,role:"customer",createdAt:To()}),Ce.success(" Signup successful!"),f("/dashboard")}catch(I){console.error(" Signup error:",I),a(I.message),Ce.error(" Signup failed! "+I.message)}finally{c(!1)}},E=async()=>{a(""),c(!0);try{const I=(await ng(Ct,p)).user,P=it(Ve,"users",I.uid);(await Ro(P)).exists()||await Tg(P,{email:I.email,name:I.displayName,photoURL:I.photoURL,role:"customer",createdAt:To()}),Ce.success(" Signed in with Google!"),f("/dashboard")}catch(w){console.error(" Google signup error:",w),a(w.message),Ce.error("Google sign-in failed: "+w.message)}finally{c(!1)}};return _.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4"},_.createElement("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 sm:p-8"},_.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6"},"Create an Account "),s&&_.createElement("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-2"},s),_.createElement("form",{onSubmit:m,className:"space-y-4"},_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email Address"),_.createElement("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:t,onChange:w=>e(w.target.value),placeholder:"you@example.com",required:!0})),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),_.createElement("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:n,onChange:w=>r(w.target.value),placeholder:"",required:!0})),_.createElement("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 rounded-lg transition duration-200 disabled:opacity-60"},l?"Signing up...":"Sign Up")),_.createElement("div",{className:"flex items-center my-4"},_.createElement("div",{className:"flex-grow h-px bg-gray-200"}),_.createElement("span",{className:"text-gray-500 text-sm mx-3"},"OR"),_.createElement("div",{className:"flex-grow h-px bg-gray-200"})),_.createElement("button",{onClick:E,disabled:l,className:"w-full border border-gray-300 flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-50 transition disabled:opacity-60"},_.createElement("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),_.createElement("span",{className:"text-gray-700 font-medium text-sm"},"Continue with Google")),_.createElement("p",{className:"mt-4 text-sm text-gray-600 text-center"},"Already have an account?"," ",_.createElement(ct,{to:"/login",className:"text-blue-600 hover:underline font-medium"},"Login"))))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function fU(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(m){try{p(r.next(m))}catch(E){l(E)}}function f(m){try{p(r.throw(m))}catch(E){l(E)}}function p(m){m.done?a(m.value):s(m.value).then(c,f)}p((r=r.apply(t,[])).next())})}function pU(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(m){return f([p,m])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(m){p=[6,m],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ka=function(){return ka=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ka.apply(this,arguments)},Nx=function(t){return{loading:t==null,value:t}},mU=function(){return function(t,e){switch(e.type){case"error":return ka(ka({},t),{error:e.error,loading:!1,value:void 0});case"reset":return Nx(e.defaultValue);case"value":return ka(ka({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},gU=(function(t){var e=t?t():void 0,n=b.useReducer(mU(),Nx(e)),r=n[0],s=n[1],a=b.useCallback(function(){var f=t?t():void 0;s({type:"reset",defaultValue:f})},[t]),l=b.useCallback(function(f){s({type:"error",error:f})},[]),c=b.useCallback(function(f){s({type:"value",value:f})},[]);return b.useMemo(function(){return{error:r.error,loading:r.loading,reset:a,setError:l,setValue:c,value:r.value}},[r.error,r.loading,a,l,c,r.value])}),vv=(function(t,e){var n=gU(function(){return t.currentUser}),r=n.error,s=n.loading,a=n.setError,l=n.setValue,c=n.value;return b.useEffect(function(){var f=Ay(t,function(p){return fU(void 0,void 0,void 0,function(){var m;return pU(this,function(E){switch(E.label){case 0:return[3,4];case 1:return E.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return E.sent(),[3,4];case 3:return m=E.sent(),a(m),[3,4];case 4:return l(p),[2]}})})},a);return function(){f()}},[t]),[c,s,r]});function yU(){const[t]=vv(Ct),[e,n]=b.useState([]),[r,s]=b.useState(null),[a,l]=b.useState(!1),c=[{price:49,days:7,label:"49  7 days"},{price:99,days:15,label:"99  15 days"},{price:199,days:30,label:"199  30 days"}],f=async()=>{if(t)try{const I=rf(fn(Ve,"products"),Eg("userId","==",t.uid)),D=(await xn(I)).docs.map(C=>({id:C.id,...C.data()}));n(D)}catch(I){console.error("Error fetching products:",I),Ce.error(" Failed to load products.")}};b.useEffect(()=>{f()},[t]);const p=async(I,P)=>{if(window.confirm("Are you sure you want to delete this product?"))try{if(P){const D=ju(zu,P);await pv(D)}await Fa(it(Ve,"products",I)),n(D=>D.filter(C=>C.id!==I)),Ce.success(" Product deleted successfully!")}catch(D){console.error(" Error deleting product:",D),Ce.error(" Failed to delete product.")}},m=async I=>{try{const P=it(Ve,"products",I);await Vr(P,{featuredRequest:!0,featured:!1}),Ce.success(" Featured request sent! Admin will review."),f()}catch(P){console.error("Error requesting featured:",P),Ce.error(" Failed to request featured.")}},E=I=>{s(I),l(!0)},w=async I=>{if(r){Ce(` Pay ${I.price} at  9322264040-2@ybl
Boost for ${I.days} days.`,{duration:5e3});try{await Vr(it(Ve,"products",r),{isPromoted:!0,promotionPlan:I.label,promotionPrice:I.price,promotionExpiresAt:Ze.fromDate(new Date(Date.now()+I.days*24*60*60*1e3))}),Ce.success(` Promoted for ${I.days} days!`),f(),l(!1),s(null)}catch(P){console.error("Error promoting product:",P),Ce.error(" Failed to promote product.")}}};return _.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},_.createElement("div",{className:"text-center mb-6"},_.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800"}," My Dashboard"),_.createElement("p",{className:"text-gray-600 mt-1"}," ",t?.email),_.createElement("p",{className:"text-gray-600"}," Total uploads: ",e.length)),e.length===0?_.createElement("p",{className:"text-center text-gray-500"},"No products uploaded yet."):_.createElement("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},e.map(I=>_.createElement("div",{key:I.id,className:"bg-white rounded-xl shadow-md hover:shadow-lg transition flex flex-col"},_.createElement("img",{src:I.imageURL,alt:I.productName,className:"h-48 w-full object-cover rounded-t-xl"}),_.createElement("div",{className:"p-4 flex-1 flex flex-col"},_.createElement("h5",{className:"text-lg font-semibold text-gray-800"},I.productName),_.createElement("p",{className:"text-blue-600 font-bold mt-1"},"",I.price),_.createElement("p",{className:"text-sm text-gray-600 mt-1"}," ",I.location),_.createElement("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2"},I.description),I.isPromoted&&I.promotionExpiresAt?.toDate()>new Date?_.createElement("span",{className:"mt-2 inline-block text-xs px-3 py-1 bg-green-100 text-green-700 rounded-lg"}," Promoted till"," ",I.promotionExpiresAt.toDate().toLocaleDateString()," (",I.promotionPlan,")"):_.createElement("span",{className:"mt-2 inline-block text-xs px-3 py-1 bg-gray-100 text-gray-500 rounded-lg"},"Not Promoted"),_.createElement("div",{className:"flex flex-wrap gap-2 mt-4"},_.createElement(ct,{to:`/edit/${I.id}`,className:"flex-1 px-3 py-2 text-sm bg-yellow-400 hover:bg-yellow-500 text-white rounded-lg text-center transition"}," Edit"),_.createElement("button",{onClick:()=>p(I.id,I.imageURL),className:"flex-1 px-3 py-2 text-sm bg-red-500 hover:bg-red-600 text-white rounded-lg transition"}," Delete"),I.featured?_.createElement("span",{className:"flex-1 px-3 py-2 text-sm bg-green-500 text-white rounded-lg text-center"}," Featured"):I.featuredRequest?_.createElement("span",{className:"flex-1 px-3 py-2 text-sm bg-yellow-300 text-gray-800 rounded-lg text-center"}," Pending Approval"):_.createElement("button",{onClick:()=>m(I.id),className:"flex-1 px-3 py-2 text-sm border border-yellow-400 text-yellow-600 hover:bg-yellow-50 rounded-lg transition"}," Request Featured"),_.createElement("button",{onClick:()=>E(I.id),className:"flex-1 px-3 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition"}," Promote")))))),a&&_.createElement("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},_.createElement("div",{className:"bg-white rounded-xl shadow-lg p-6 w-80"},_.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-4"}," Choose Promotion Plan"),_.createElement("div",{className:"space-y-3"},c.map((I,P)=>_.createElement("button",{key:P,onClick:()=>w(I),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition"},I.label))),_.createElement("button",{onClick:()=>l(!1),className:"mt-4 w-full px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg transition"}," Cancel"))))}const vU=async(t,e)=>{const n=[];for(const r of t){const s=`${Date.now()}_${r.name}`,a=ju(zu,`productImages/${e}/${s}`);try{const l=await Sx(a,r),c=await Ix(l.ref);n.push(c)}catch(l){throw console.error("Error uploading image:",l),new Error(`Failed to upload image ${r.name}`)}}return n},_U=()=>{const[t,e]=b.useState({title:"",description:"",price:"",category:"Books & Notes",location:"",sellerPhone:""}),[n,r]=b.useState([]),[s,a]=b.useState([]),[l,c]=b.useState(!1),f=Es(),p=3;b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(async P=>{const{latitude:D,longitude:C}=P.coords;try{const $=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${D}&lon=${C}`)).json(),z=$.address?.village||$.address?.city||$.address?.town||"";z&&e(ne=>({...ne,location:z}))}catch(U){console.warn("Location fetch failed:",U)}},()=>console.warn("Geolocation permission denied."))},[]);const m=P=>{e(D=>({...D,[P.target.name]:P.target.value}))},E=P=>{const D=Array.from(P.target.files);if(s.forEach(URL.revokeObjectURL),D.length>6){Ce.error(" You can upload up to 6 images only."),r([]),a([]);return}r(D),a(D.map(C=>URL.createObjectURL(C)))},w=P=>{URL.revokeObjectURL(s[P]),r(n.filter((D,C)=>C!==P)),a(s.filter((D,C)=>C!==P))},I=async P=>{if(P.preventDefault(),!t.title||!t.description||!t.price){Ce.error(" Please fill all required fields.");return}if(n.length===0){Ce.error(" Please select at least one image.");return}if(!Ct.currentUser){Ce.error(" You must be logged in to add a product.");return}c(!0);try{const D=new Date;D.setHours(0,0,0,0);const C=fn(Ve,"products"),U=rf(C,Eg("userId","==",Ct.currentUser.uid),Eg("createdAt",">=",D));if((await xn(U)).size>=p){Ce.error(" Daily post limit reached (3 per day)."),c(!1);return}const z=await vU(n,Ct.currentUser.uid);await ox(C,{...t,price:parseFloat(t.price),imageUrls:z,userId:Ct.currentUser.uid,userEmail:Ct.currentUser.email,createdAt:To(),featured:!1,featuredExpires:null}),Ce.success(" Product added successfully!"),s.forEach(URL.revokeObjectURL),setTimeout(()=>f("/dashboard"),1500)}catch(D){console.error("Error adding product:",D),Ce.error(` Failed to add product: ${D.message.includes("upload")?"Image upload failed.":"Please check your network."}`)}finally{c(!1)}};return _.createElement("div",{className:"flex justify-center items-center py-10 px-4 bg-gray-100 min-h-screen"},_.createElement(yv,{position:"top-center",reverseOrder:!1}),_.createElement("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-6 sm:p-8"},_.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center text-gray-800"}," Add New Product"),_.createElement("form",{onSubmit:I,className:"space-y-5"},_.createElement("input",{type:"text",name:"title",value:t.title,onChange:m,placeholder:"Product Name",required:!0,className:"w-full px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"}),_.createElement("textarea",{name:"description",value:t.description,onChange:m,placeholder:"Feature Description",required:!0,rows:"4",className:"w-full px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"}),_.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},_.createElement("input",{type:"number",name:"price",value:t.price,onChange:m,placeholder:"Price ()",required:!0,className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"}),_.createElement("input",{type:"text",name:"location",value:t.location,onChange:m,placeholder:"Your Village / Local Area",required:!0,className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})),_.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},_.createElement("select",{name:"category",value:t.category,onChange:m,className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"},_.createElement("option",{value:"Books & Notes"}," Books & Notes"),_.createElement("option",{value:"Handmade Items"}," Handmade Items"),_.createElement("option",{value:"Homemade Food"}," Homemade Food"),_.createElement("option",{value:"Second-hand Items"}," Second-hand Items"),_.createElement("option",{value:"New Items"}," New Items"),_.createElement("option",{value:"From Shop"}," From shop")),_.createElement("input",{type:"tel",name:"sellerPhone",value:t.sellerPhone,onChange:m,placeholder:"WhatsApp Number",required:!0,pattern:"[0-9]{10}",className:"flex-1 px-4 py-3 border rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})),_.createElement("div",null,_.createElement("label",{className:"block text-sm mb-2 font-medium text-gray-700"},"Upload Product Images (Max 6)"),_.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:E,required:n.length===0,className:"w-full px-4 py-2 border rounded-xl shadow-sm text-sm sm:text-base"}),s.length>0&&_.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mt-4"},s.map((P,D)=>_.createElement("div",{key:D,className:"relative group"},_.createElement("img",{src:P,alt:`Preview ${D}`,className:"rounded-xl w-full h-32 object-cover border shadow"}),_.createElement("button",{type:"button",onClick:()=>w(D),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 text-xs opacity-80 hover:opacity-100 transition duration-300","aria-label":"Remove image"},_.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))))))),_.createElement("button",{type:"submit",disabled:l,className:`w-full py-3 rounded-xl font-semibold text-white text-base sm:text-lg shadow-md transition ${l?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`},l?" Uploading...":" Add Product"))))};function wU(){const[t,e]=b.useState(null),[n,r]=b.useState(null),[s,a]=b.useState(!1),l=Es();b.useEffect(()=>{const f=Ay(Ct,async p=>{if(e(p),p){const m=await Ro(it(Ve,"users",p.uid));m.exists()&&r(m.data().role||"user")}else r(null)});return()=>f()},[]);const c=()=>{jL(Ct),l("/")};return _.createElement("nav",{className:"bg-white shadow-md sticky top-0 z-50"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_.createElement("div",{className:"flex justify-between items-center h-16"},_.createElement(ct,{to:"/",className:"flex items-center gap-2"},_.createElement("img",{src:"/logo192.png",alt:"MyAmravati Logo",className:"h-10 w-10 object-contain"}),_.createElement("span",{className:"text-xl font-bold text-blue-600"},"MyAmravati Market")),_.createElement("button",{className:"sm:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:bg-gray-100",onClick:()=>a(!s)},_.createElement("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}))),_.createElement("div",{className:`${s?"flex":"hidden"} sm:flex flex-col sm:flex-row sm:items-center sm:gap-3 absolute sm:static top-16 left-0 w-full sm:w-auto bg-white sm:bg-transparent shadow sm:shadow-none p-4 sm:p-0`},t?_.createElement(_.Fragment,null,_.createElement(ct,{to:"/dashboard",className:"px-3 py-1 border border-blue-600 text-blue-600 rounded hover:bg-blue-600 hover:text-white text-sm mb-2 sm:mb-0"},"Dashboard"),n==="admin"&&_.createElement(ct,{to:"/admin",className:"px-3 py-1 bg-yellow-400 text-black rounded hover:bg-yellow-500 text-sm mb-2 sm:mb-0"}," Admin"),_.createElement("span",{className:"text-gray-700 text-sm mb-2 sm:mb-0"},t.email),_.createElement("button",{onClick:c,className:"px-3 py-1 border border-red-600 text-red-600 rounded hover:bg-red-600 hover:text-white text-sm mb-2 sm:mb-0"},"Logout"),_.createElement(ct,{to:"/favorites",className:"px-3 py-1 text-gray-600 hover:text-red-500 text-sm"}," Wishlist")):_.createElement(_.Fragment,null,_.createElement(ct,{to:"/login",className:"px-3 py-1 border border-blue-600 text-blue-600 rounded hover:bg-blue-600 hover:text-white text-sm mb-2 sm:mb-0"},"Login"),_.createElement(ct,{to:"/signup",className:"px-3 py-1 border border-green-600 text-green-600 rounded hover:bg-green-600 hover:text-white text-sm"},"Signup"))))))}function Fh({children:t}){const[e,n]=vv(Ct);return n?_.createElement("p",null,"Loading..."):e?t:_.createElement(FC,{to:"/login"})}const EU=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(""),[s,a]=b.useState(""),[l,c]=b.useState(""),[f,p]=b.useState("newest");b.useEffect(()=>{(async()=>{try{const I=fn(Ve,"products"),P=rf(I,a6("createdAt","desc")),C=(await xn(P)).docs.map(U=>({id:U.id,...U.data()}));e(C)}catch(I){console.error("Error fetching products:",I)}})()},[]);const m=async w=>{const I=Ct.currentUser;if(!I)return alert("Please login to save favorites");const P=it(Ve,"users",I.uid,"favorites",w.id);try{(await Ro(P)).exists()?(await Fa(P),alert("Removed from favorites!")):(await Tg(P,{productId:w.id,title:w.title||"",imageUrl:w.imageUrl||"",price:w.price||0,description:w.description||"",category:w.category||"",location:w.location||"",sellerPhone:w.sellerPhone||"",createdAt:w.createdAt||To()}),alert("Added to favorites!"))}catch(D){console.error("Error saving favorite:",D)}},E=t.filter(w=>{const I=n?w.location===n:!0,P=s?w.category===s:!0,D=w.title?.toLowerCase().includes(l.toLowerCase());return I&&P&&D}).sort((w,I)=>w.promoted&&!I.promoted?-1:!w.promoted&&I.promoted?1:w.promoted&&I.promoted?(I.promotedAt?.seconds||0)-(w.promotedAt?.seconds||0):f==="priceLowHigh"?w.price-I.price:f==="priceHighLow"?I.price-w.price:f==="newest"?(I.createdAt?.seconds||0)-(w.createdAt?.seconds||0):0);return _.createElement(Kn.div,{className:"px-4 pb-24 pt-4 bg-gray-50 min-h-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6}},_.createElement("h1",{className:"text-xl sm:text-2xl font-bold mb-6 text-center"}," Explore MyAmravati Market"),_.createElement("div",{className:"mb-6 space-y-3"},_.createElement("div",null,_.createElement("label",{className:"font-semibold block mb-1 text-sm"},"Search Products:"),_.createElement("input",{type:"text",value:l,onChange:w=>c(w.target.value),placeholder:"Search by title...",className:"border px-3 py-2 rounded-lg w-full text-sm focus:ring focus:ring-blue-300"})),_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},_.createElement("div",null,_.createElement("label",{className:"font-semibold block mb-1 text-sm"},"Filter by Location:"),_.createElement("select",{value:n,onChange:w=>r(w.target.value),className:"border px-3 py-2 rounded-lg w-full text-sm focus:ring focus:ring-blue-300"},_.createElement("option",{value:""},"All"),["Amravati","Achalpur","Anjangaon Surji","Bhatkuli","Chandur Bazar","Chandur Railway","Chikhaldara","Warud","Dhamangaon Railway","Dharni","Daryapur","Morshi","Nandgaon Khandeshwar","Teosa","Anjangaon"].map(w=>_.createElement("option",{key:w,value:w},w)))),_.createElement("div",null,_.createElement("label",{className:"font-semibold block mb-1 text-sm"},"Filter by Category:"),_.createElement("select",{value:s,onChange:w=>a(w.target.value),className:"border px-3 py-2 rounded-lg w-full text-sm focus:ring focus:ring-blue-300"},_.createElement("option",{value:""},"All"),["Books & Notes","Handmade Items","Homemade Food","Second-hand Items","New Items","From Shop"].map(w=>_.createElement("option",{key:w,value:w},w)))),_.createElement("div",null,_.createElement("label",{className:"font-semibold block mb-1 text-sm"},"Sort By:"),_.createElement("select",{value:f,onChange:w=>p(w.target.value),className:"border px-3 py-2 rounded-lg w-full text-sm focus:ring focus:ring-blue-300"},_.createElement("option",{value:"newest"},"Newest First"),_.createElement("option",{value:"priceLowHigh"},"Price: Low to High"),_.createElement("option",{value:"priceHighLow"},"Price: High to Low"))))),_.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},E.length===0?_.createElement("p",{className:"text-center col-span-full text-sm"},"No products found."):E.map((w,I)=>_.createElement(Kn.div,{key:w.id,initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:I*.05},whileHover:{scale:1.02},className:"bg-white rounded-2xl shadow-md hover:shadow-lg transition-shadow duration-300 p-4 flex flex-col relative"},w.promoted&&_.createElement("span",{className:"absolute top-2 left-2 bg-yellow-400 text-xs font-bold px-2 py-1 rounded-full shadow"}," Promoted"),_.createElement(ct,{to:`/product/${w.id}`,className:"flex flex-col flex-grow"},_.createElement("div",{className:"relative w-full aspect-[4/3] rounded-xl overflow-hidden bg-gray-100"},_.createElement("img",{src:w.imageUrls?.[0]||w.imageUrl||"/placeholder.png",alt:w.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"lazy"})),_.createElement("div",{className:"mt-3 flex flex-col flex-grow"},_.createElement("h2",{className:"text-sm sm:text-base font-semibold mb-1 line-clamp-2"},w.title),_.createElement("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 line-clamp-2"},w.description),_.createElement("p",{className:"text-sm sm:text-base font-bold text-green-600 mb-2"},"",w.price),_.createElement("div",{className:"flex justify-between text-xs text-gray-500 mt-auto"},_.createElement("span",{className:"bg-blue-100 px-2 py-1 rounded-full"},w.category),_.createElement("span",{className:"bg-yellow-100 px-2 py-1 rounded-full"},w.location)))),_.createElement("button",{className:"w-full border border-red-500 text-red-500 hover:bg-red-100 text-xs sm:text-sm px-2 sm:px-3 py-2 rounded-lg mt-3 transition-colors",onClick:()=>m(w)}," Add to Favorites")))))};function TU(){const{id:t}=KT(),e=Es(),[n,r]=b.useState(!0),[s,a]=b.useState({title:"",description:"",price:"",location:"",category:"",imageUrl:""}),[l,c]=b.useState(null);b.useEffect(()=>{(async()=>{try{const w=it(Ve,"products",t),I=await Ro(w);if(I.exists()){const P=I.data();a({title:P.title||"",description:P.description||"",price:P.price||"",location:P.location||"",category:P.category||"",imageUrl:P.imageUrl||""})}else alert("Product not found!"),e("/dashboard")}catch(w){console.error("Error fetching product:",w),alert("Failed to load product"),e("/dashboard")}finally{r(!1)}})()},[t,e]);const f=E=>{const{name:w,value:I}=E.target;a(P=>({...P,[w]:I}))},p=E=>{E.target.files[0]&&c(E.target.files[0])},m=async E=>{E.preventDefault();try{const w=it(Ve,"products",t);let I=s.imageUrl;if(l){if(s.imageUrl){const D=ju(zu,s.imageUrl);await pv(D).catch(()=>console.warn("Old image not found"))}const P=ju(zu,`productImages/${Date.now()}-${l.name}`);await Sx(P,l),I=await Ix(P)}await Vr(w,{title:s.title,description:s.description,price:Number(s.price),location:s.location,category:s.category,imageUrl:I,updatedAt:To()}),alert(" Product updated successfully"),e("/dashboard")}catch(w){console.error("Update error:",w),alert(" Failed to update product")}};return _.createElement("div",{className:"container my-4"},_.createElement("h2",{className:"text-xl font-semibold mb-4"}," Edit Product"),n?_.createElement("p",null,"Loading product..."):_.createElement("form",{onSubmit:m,className:"space-y-3"},_.createElement("input",{type:"text",name:"title",value:s.title,onChange:f,placeholder:"Product Title",className:"form-control",required:!0}),_.createElement("textarea",{name:"description",value:s.description,onChange:f,placeholder:"Description",className:"form-control",required:!0}),_.createElement("input",{type:"number",name:"price",value:s.price,onChange:f,placeholder:"Price ",className:"form-control",required:!0}),_.createElement("input",{type:"text",name:"location",value:s.location,onChange:f,placeholder:"Location",className:"form-control",required:!0}),_.createElement("select",{name:"category",value:s.category,onChange:f,className:"form-control",required:!0},_.createElement("option",{value:""},"Select Category"),_.createElement("option",null,"Books & Notes"),_.createElement("option",null,"Handmade Items"),_.createElement("option",null,"Homemade Food"),_.createElement("option",null,"Second-hand Items"),_.createElement("option",null,"New Items"),_.createElement("option",null,"From shop")),_.createElement("label",null,"Change Image (optional):"),_.createElement("input",{type:"file",onChange:p,className:"form-control"}),_.createElement("button",{type:"submit",className:"btn btn-warning"},"Update Product")))}const SU=()=>React.createElement("div",{className:"text-center mt-5"},React.createElement("h2",null,"404  Page Not Found"),React.createElement("p",null,"Oops! This page doesn't exist.")),IU=()=>{const[t]=vv(Ct),[e,n]=b.useState([]);return b.useEffect(()=>{(async()=>{if(t)try{const s=fn(Ve,`users/${t.uid}/favorites`),l=(await xn(s)).docs.map(c=>({id:c.id,...c.data()}));n(l)}catch(s){console.error(" Error fetching favorites:",s)}})()},[t]),_.createElement("div",{className:"container mt-4"},_.createElement("h2",null,"Your Wishlist"),e.length===0?_.createElement("p",null,"No items in wishlist yet."):_.createElement("div",{className:"row"},e.map(r=>_.createElement("div",{className:"col-md-4 mb-4",key:r.id},_.createElement("div",{className:"card"},_.createElement("img",{src:r.image,className:"card-img-top",alt:r.title}),_.createElement("div",{className:"card-body"},_.createElement("h5",{className:"card-title"},r.title),_.createElement("p",{className:"card-text"},"",r.price),_.createElement("p",{className:"card-text"},_.createElement("strong",null,"Category:")," ",r.category),_.createElement("p",{className:"card-text"},_.createElement("strong",null,"Location:")," ",r.location)))))))};function Dx(t,e,n){return Math.max(t,Math.min(e,n))}class AU{advance(e){if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(r=this.value,s=this.to,a=60*this.lerp,l=e,(function(c,f,p){return(1-p)*c+p*f})(r,s,1-Math.exp(-a*l))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;const c=Dx(0,this.currentTime/this.duration,1);n=c>=1;const f=n?1:this.easing(c);this.value=this.from+(this.to-this.from)*f}var r,s,a,l;this.onUpdate?.(this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(e,n,{lerp:r=.1,duration:s=1,easing:a=(f=>f),onStart:l,onUpdate:c}){this.from=this.value=e,this.to=n,this.lerp=r,this.duration=s,this.easing=a,this.currentTime=0,this.isRunning=!0,l?.(),this.onUpdate=c}}class xU{constructor({wrapper:e,content:n,autoResize:r=!0,debounce:s=250}={}){this.wrapper=e,this.content=n,r&&(this.debouncedResize=(function(a,l){let c;return function(){let f=arguments,p=this;clearTimeout(c),c=setTimeout((function(){a.apply(p,f)}),l)}})(this.resize,s),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class Vx{constructor(){this.events={}}emit(e,...n){let r=this.events[e]||[];for(let s=0,a=r.length;s<a;s++)r[s](...n)}on(e,n){return this.events[e]?.push(n)||(this.events[e]=[n]),()=>{this.events[e]=this.events[e]?.filter((r=>n!==r))}}off(e,n){this.events[e]=this.events[e]?.filter((r=>n!==r))}destroy(){this.events={}}}const kT=100/6;class PU{constructor(e,{wheelMultiplier:n=1,touchMultiplier:r=1}){this.element=e,this.wheelMultiplier=n,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new Vx,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,n){return this.emitter.on(e,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}onTouchStart=e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e,s=-(n-this.touchStart.x)*this.touchMultiplier,a=-(r-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:s,y:a},this.emitter.emit("scroll",{deltaX:s,deltaY:a,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:n,deltaY:r,deltaMode:s}=e;n*=s===1?kT:s===2?this.windowWidth:1,r*=s===1?kT:s===2?this.windowHeight:1,n*=this.wheelMultiplier,r*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:r,event:e})};onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}class CU{constructor({wrapper:e=window,content:n=document.documentElement,wheelEventsTarget:r=e,eventsTarget:s=r,smoothWheel:a=!0,syncTouch:l=!1,syncTouchLerp:c=.075,touchInertiaMultiplier:f=35,duration:p,easing:m=(z=>Math.min(1,1.001-Math.pow(2,-10*z))),lerp:E=!p&&.1,infinite:w=!1,orientation:I="vertical",gestureOrientation:P="vertical",touchMultiplier:D=1,wheelMultiplier:C=1,autoResize:U=!0,__experimental__naiveDimensions:$=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:z,deltaY:ne,event:oe})=>{if(oe.ctrlKey)return;const de=oe.type.includes("touch"),O=oe.type.includes("wheel");if(this.options.syncTouch&&de&&oe.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const x=z===0&&ne===0,R=this.options.gestureOrientation==="vertical"&&ne===0||this.options.gestureOrientation==="horizontal"&&z===0;if(x||R)return;let L=oe.composedPath();if(L=L.slice(0,L.indexOf(this.rootElement)),L.find((te=>{var Q,ee,Y,k,G;return((Q=te.hasAttribute)===null||Q===void 0?void 0:Q.call(te,"data-lenis-prevent"))||de&&((ee=te.hasAttribute)===null||ee===void 0?void 0:ee.call(te,"data-lenis-prevent-touch"))||O&&((Y=te.hasAttribute)===null||Y===void 0?void 0:Y.call(te,"data-lenis-prevent-wheel"))||((k=te.classList)===null||k===void 0?void 0:k.contains("lenis"))&&!(!((G=te.classList)===null||G===void 0)&&G.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void oe.preventDefault();if(this.isSmooth=this.options.syncTouch&&de||this.options.smoothWheel&&O,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();oe.preventDefault();let F=ne;this.options.gestureOrientation==="both"?F=Math.abs(ne)>Math.abs(z)?ne:z:this.options.gestureOrientation==="horizontal"&&(F=z);const W=de&&this.options.syncTouch,V=de&&oe.type==="touchend"&&Math.abs(F)>5;V&&(F=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+F,Object.assign({programmatic:!1},W?{lerp:V?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const z=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-z),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:n,wheelEventsTarget:r,eventsTarget:s,smoothWheel:a,syncTouch:l,syncTouchLerp:c,touchInertiaMultiplier:f,duration:p,easing:m,lerp:E,infinite:w,gestureOrientation:P,orientation:I,touchMultiplier:D,wheelMultiplier:C,autoResize:U,__experimental__naiveDimensions:$},this.animate=new AU,this.emitter=new Vx,this.dimensions=new xU({wrapper:e,content:n,autoResize:U}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=l||a,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new PU(s,{touchMultiplier:D,wheelMultiplier:C}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,n){return this.emitter.on(e,n)}off(e,n){return this.emitter.off(e,n)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const n=e-(this.time||e);this.time=e,this.animate.advance(.001*n)}scrollTo(e,{offset:n=0,immediate:r=!1,lock:s=!1,duration:a=this.options.duration,easing:l=this.options.easing,lerp:c=!a&&this.options.lerp,onComplete:f,force:p=!1,programmatic:m=!0}={}){if(!this.isStopped&&!this.isLocked||p){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let E;if(typeof e=="string"?E=document.querySelector(e):e?.nodeType&&(E=e),E){if(this.options.wrapper!==window){const I=this.options.wrapper.getBoundingClientRect();n-=this.isHorizontal?I.left:I.top}const w=E.getBoundingClientRect();e=(this.isHorizontal?w.left:w.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=n,e=Math.round(e),this.options.infinite?m&&(this.targetScroll=this.animatedScroll=this.scroll):e=Dx(0,e,this.limit),r)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(f==null||f(this));if(!m){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:a,easing:l,lerp:c,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(E,w)=>{this.isScrolling=!0,this.velocity=E-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=E,this.setScroll(this.scroll),m&&(this.targetScroll=E),w||this.emit(),w&&(this.reset(),this.emit(),f?.(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,n=this.limit,(e%n+n)%n):this.animatedScroll;var e,n}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,n){this.rootElement.classList.toggle(e,n),this.emitter.emit("className change",this)}}function RU(){b.useEffect(()=>{const t=new CU({duration:1.2,easing:n=>Math.min(1,1.001-Math.pow(2,-10*n)),smooth:!0});function e(n){t.raf(n),requestAnimationFrame(e)}return requestAnimationFrame(e),()=>{t.destroy()}},[])}var Lx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NT=_.createContext&&_.createContext(Lx),bU=["attr","size","title"];function kU(t,e){if(t==null)return{};var n=NU(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xd.apply(this,arguments)}function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){DU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DU(t,e,n){return e=VU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(t){var e=LU(t,"string");return typeof e=="symbol"?e:e+""}function LU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ox(t){return t&&t.map((e,n)=>_.createElement(e.tag,Pd({key:n},e.attr),Ox(e.child)))}function lc(t){return e=>_.createElement(OU,xd({attr:Pd({},t.attr)},e),Ox(t.child))}function OU(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=kU(t,bU),c=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),_.createElement("svg",xd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:Pd(Pd({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&_.createElement("title",null,a),t.children)};return NT!==void 0?_.createElement(NT.Consumer,null,n=>e(n)):e(Lx)}function MU(t){return lc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(t)}function FU(t){return lc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function UU(t){return lc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function BU(t){return lc({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function jU(t){return lc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(t)}const zU=()=>{const{id:t}=KT(),e=Es(),[n,r]=b.useState(null),[s,a]=b.useState([]),[l,c]=b.useState(!0),[f,p]=b.useState(!0),[m,E]=b.useState(!1),[w,I]=b.useState(null);b.useEffect(()=>{(async()=>{try{const U=it(Ve,"products",t),$=await Ro(U);if($.exists()){const z={id:$.id,...$.data()};r(z),z.imageUrls?.length>0?I(z.imageUrls[0]):z.imageUrl&&I(z.imageUrl)}else st.error("Product not found"),e("/browse")}catch(U){console.error("Error fetching product:",U),st.error("Something went wrong"),e("/browse")}finally{c(!1)}})()},[t,e]),b.useEffect(()=>{n&&(async()=>{if(n?.category){p(!0);try{const U=fn(Ve,"products"),$=rf(U),ne=(await xn($)).docs.map(oe=>({id:oe.id,...oe.data()})).filter(oe=>oe.id!==t&&oe.category===n.category).slice(0,6);a(ne)}catch(U){console.error("Error fetching similar products:",U)}finally{p(!1)}}})()},[n,t]);const P=()=>{const C=`${window.location.origin}/product/${t}`;navigator.clipboard.writeText(C),st.success(" Link copied to clipboard!"),E(!1)},D=()=>{if(!Ct.currentUser){st.error(" Please login or signup to contact the seller"),e("/login");return}const U=n.contact||n.sellerPhone;if(!U){st.error(" Seller contact not available");return}const $=`Hi! I'm interested in your product "${n.title}" on MyAmravati Market.`,z=`https://wa.me/91${U}?text=${encodeURIComponent($)}`;window.open(z,"_blank")};return l||!n?_.createElement("div",{className:"p-4 text-center"}," Loading product..."):_.createElement(Kn.div,{className:"px-4 py-6 min-h-screen bg-gray-50 max-w-6xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},_.createElement("button",{onClick:()=>e(-1),className:"mb-4 text-blue-600 text-sm hover:underline"}," Back to Browse"),_.createElement("div",{className:"bg-white rounded-2xl shadow p-5 relative grid grid-cols-1 md:grid-cols-2 gap-6"},_.createElement("div",null,w&&_.createElement("img",{src:w,alt:n.title,className:"w-full aspect-square object-contain rounded-xl bg-gray-100"}),_.createElement("div",{className:"flex gap-2 overflow-x-auto sm:grid sm:grid-cols-5 mb-4"},(n.imageUrls?.length>0?n.imageUrls:[n.imageUrl]).filter(Boolean).map((C,U)=>_.createElement("img",{key:U,src:C,alt:`thumb-${U}`,onClick:()=>I(C),className:`w-20 h-20 object-cover rounded-lg cursor-pointer border transition ${w===C?"border-blue-500 shadow":"border-gray-300"}`})))),_.createElement("div",null,_.createElement("div",{className:"absolute top-4 right-4"},_.createElement("button",{onClick:()=>E(!m),className:"bg-white border shadow p-2 rounded-full hover:bg-gray-100"},_.createElement(jU,{size:18})),m&&_.createElement("div",{className:"absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-md z-10"},_.createElement("a",{href:`https://wa.me/?text=${encodeURIComponent(`Check out this product: ${window.location.origin}/product/${t}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm hover:bg-gray-100"},_.createElement(FU,{className:"text-green-600 mr-2"})," WhatsApp"),_.createElement("a",{href:`https://t.me/share/url?url=${encodeURIComponent(`${window.location.origin}/product/${t}`)}&text=${encodeURIComponent("Check out this product!")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm hover:bg-gray-100"},_.createElement(MU,{className:"text-blue-500 mr-2"})," Telegram"),_.createElement("button",{onClick:P,className:"w-full flex items-center px-4 py-2 text-sm hover:bg-gray-100"},_.createElement(UU,{className:"text-gray-700 mr-2"})," Copy Link"))),_.createElement("h1",{className:"text-2xl font-bold mb-3"},n.title),_.createElement("p",{className:"text-gray-700 mb-3"},n.description),_.createElement("div",{className:"text-2xl text-green-600 font-bold mb-4"},"",n.price),_.createElement("div",{className:"flex flex-wrap items-center gap-2 mb-5"},_.createElement("span",{className:"inline-flex items-center gap-1 text-sm px-3 py-1 bg-yellow-100 rounded-full"}," ",n.category),_.createElement("span",{className:"inline-flex items-center gap-1 text-sm px-3 py-1 bg-pink-100 rounded-full"},_.createElement(BU,{className:"text-pink-600"})," ",n.location)),n.contact||n.sellerPhone?_.createElement("div",{className:"fixed bottom-0 left-0 w-full bg-white p-3 border-t md:static md:border-none md:p-0"},_.createElement("button",{onClick:D,className:"w-full bg-green-500 hover:bg-green-600 text-white font-medium py-3 rounded-lg shadow md:py-2"}," Contact Seller via WhatsApp")):_.createElement("p",{className:"text-red-500 text-sm"},"No seller contact info available."))),_.createElement("div",{className:"mt-12"},_.createElement("h3",{className:"text-lg font-semibold mb-4"}," Similar Products"),f?_.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Array.from({length:3}).map((C,U)=>_.createElement("div",{key:U,className:"animate-pulse bg-white p-4 rounded-2xl shadow h-48"}))):s.length>0?_.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},s.map(C=>_.createElement(Kn.div,{key:C.id,whileHover:{scale:1.02},className:"bg-white rounded-2xl shadow p-3 flex flex-col h-full"},_.createElement(ct,{to:`/product/${C.id}`,className:"block bg-white rounded-2xl shadow p-3 hover:shadow-md transition"},_.createElement("img",{src:C.imageUrls?.[0]||C.imageUrl||"/placeholder.png",alt:C.title,className:"w-full h-32 sm:h-36 object-cover rounded-xl mb-2"}),_.createElement("div",{className:"flex flex-col flex-grow"}),_.createElement("h4",{className:"text-sm font-semibold line-clamp-2"},C.title),_.createElement("p",{className:"text-sm text-green-600 font-bold"},"",C.price),_.createElement("p",{className:"text-xs text-gray-500"}," ",C.location))))):_.createElement("p",{className:"text-sm text-gray-600"},"No similar products found.")))},$U=()=>_.createElement("div",{className:"max-w-4xl mx-auto p-6 text-gray-800"},_.createElement("h1",{className:"text-3xl font-bold mb-4"},"Terms and Conditions"),_.createElement("p",null,"Last updated: July 31, 2025"),_.createElement("p",{className:"mt-4"},"Welcome to ",_.createElement("strong",null,"MyAmravati Market"),". By accessing or using our platform, you agree to comply with and be bound by the following terms and conditions."),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"1. Acceptance of Terms"),_.createElement("p",null,"By registering, listing products, or browsing MyAmravati Market, you agree to these Terms. If you do not agree, please do not use the platform."),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"2. User Responsibilities"),_.createElement("ul",{className:"list-disc ml-6"},_.createElement("li",null,"You are responsible for the accuracy of the information you provide."),_.createElement("li",null,"You must not post illegal, fake, or misleading products."),_.createElement("li",null,"You must be located in or around Amravati District, Maharashtra.")),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"3. Posting Limits"),_.createElement("p",null,"Users can post up to 3 products per day. We may adjust these limits at our discretion."),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"4. Prohibited Content"),_.createElement("p",null,"Users must not post items that are illegal, banned, harmful, or infringe intellectual property rights."),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"5. Termination"),_.createElement("p",null,"We reserve the right to remove any listings or ban users who violate these terms without prior notice."),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"6. Changes"),_.createElement("p",null,"These Terms may change from time to time. We'll update this page and notify users when major changes occur."),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"7. Contact"),_.createElement("p",null,"For any queries, contact us at: ",_.createElement("strong",null,"sanidhyapethe@gmail.com"))),WU=()=>_.createElement("div",{className:"max-w-4xl mx-auto p-6 text-gray-800"},_.createElement("h1",{className:"text-3xl font-bold mb-4"},"Privacy Policy"),_.createElement("p",null,"Last updated: July 31, 2025"),_.createElement("p",{className:"mt-4"},"MyAmravati Market is committed to protecting your privacy. This policy outlines what information we collect and how we use it."),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"1. Information We Collect"),_.createElement("ul",{className:"list-disc ml-6"},_.createElement("li",null,"Your name, email, and phone number (if provided)"),_.createElement("li",null,"Product listings, images, and location (if shared)"),_.createElement("li",null,"Technical data like IP address, device info")),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"2. How We Use Your Data"),_.createElement("ul",{className:"list-disc ml-6"},_.createElement("li",null,"To show your listings on the platform"),_.createElement("li",null,"To help other users contact you via WhatsApp"),_.createElement("li",null,"To improve the platform experience")),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"3. Data Sharing"),_.createElement("p",null,"We do not sell your personal data. We only show your data to buyers who view your listing (e.g., phone number on WhatsApp button)."),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"4. Cookies"),_.createElement("p",null,"We may use cookies for analytics and improving user experience."),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"5. Your Rights"),_.createElement("p",null,"You can request deletion of your data by contacting us."),_.createElement("h2",{className:"text-xl font-semibold mt-6"},"6. Contact"),_.createElement("p",null,"For any privacy-related questions, email: ",_.createElement("strong",null,"sanidhyapethe@gmail.com")));function HU(){const[t,e]=b.useState(!0),[n,r]=b.useState(null),[s,a]=b.useState(null),[l,c]=b.useState([]),[f,p]=b.useState([]),[m,E]=b.useState([]),[w,I]=b.useState("products"),[P,D]=b.useState(""),[C,U]=b.useState({id:null,name:"",price:"",days:""}),[$,z]=b.useState(!1);b.useEffect(()=>{const k=Ay(Ct,async G=>{if(!G){r(null),a(null),e(!1);return}r(G);try{const ie=await Ro(it(Ve,"users",G.uid)),B=ie.exists()&&ie.data().role||"user";a(B)}catch(ie){console.error("Failed to fetch user role",ie),a("user")}finally{e(!1)}});return()=>k()},[]),b.useEffect(()=>{s==="admin"&&(ne(),oe(),de())},[s]);async function ne(){try{const k=await xn(fn(Ve,"products"));c(k.docs.map(G=>({id:G.id,...G.data()})))}catch(k){console.error(k),Ce.error("Failed to load products")}}async function oe(){try{const k=await xn(fn(Ve,"promotionPlans"));p(k.docs.map(G=>({id:G.id,...G.data()})))}catch(k){console.error(k),Ce.error("Failed to load plans")}}async function de(){try{const k=await xn(fn(Ve,"users"));E(k.docs.map(G=>({id:G.id,...G.data()})))}catch(k){console.error(k),Ce.error("Failed to load users")}}async function O(k){if(confirm("Approve this product for public visibility?"))try{await Vr(it(Ve,"products",k),{approved:!0}),Ce.success("Product approved"),ne()}catch(G){console.error(G),Ce.error("Failed to approve")}}async function x(k){if(confirm("Reject (unpublish) this product?"))try{await Vr(it(Ve,"products",k),{approved:!1}),Ce.success("Product unpublished"),ne()}catch(G){console.error(G),Ce.error("Failed to unpublish")}}async function R(k){try{if(k.promoted)await Vr(it(Ve,"products",k.id),{promoted:!1,promotedAt:null,promotedUntil:null,promotionPlan:null}),Ce.success("Promotion removed");else{const G=new Date;G.setDate(G.getDate()+7),await Vr(it(Ve,"products",k.id),{promoted:!0,promotedAt:To(),promotedUntil:G,promotionPlan:"admin-boost-7d"}),Ce.success("Promotion enabled (7 days)")}ne()}catch(G){console.error(G),Ce.error("Failed to update promotion")}}async function L(k){if(confirm("Delete this product permanently?"))try{if(k.imageUrls?.length)for(const G of k.imageUrls)try{const ie=G.split("/o/");if(ie.length>1){const B=decodeURIComponent(ie[1].split("?")[0]);await pv(ju(zu,B))}}catch(ie){console.warn("Failed delete image",ie)}await Fa(it(Ve,"products",k.id)),Ce.success("Product deleted"),c(G=>G.filter(ie=>ie.id!==k.id))}catch(G){console.error(G),Ce.error("Failed to delete product")}}function F(k){U({id:k.id,name:k.name,price:k.price,days:k.days}),I("plans"),window.scrollTo({top:0,behavior:"smooth"})}function W(){U({id:null,name:"",price:"",days:""})}async function V(k){if(k.preventDefault(),!C.name||!C.price||!C.days){Ce.error("Fill plan details");return}z(!0);try{C.id?(await Vr(it(Ve,"promotionPlans",C.id),{name:C.name,price:Number(C.price),days:Number(C.days)}),Ce.success("Plan updated")):(await ox(fn(Ve,"promotionPlans"),{name:C.name,price:Number(C.price),days:Number(C.days),createdAt:To()}),Ce.success("Plan created")),W(),oe()}catch(G){console.error(G),Ce.error("Failed to save plan")}finally{z(!1)}}async function te(k){if(confirm("Delete this plan?"))try{await Fa(it(Ve,"promotionPlans",k)),Ce.success("Plan deleted"),oe()}catch(G){console.error(G),Ce.error("Failed to delete plan")}}async function Q(k,G){if(confirm(`Make this user ${G}?`))try{await Vr(it(Ve,"users",k),{role:G}),Ce.success("Role updated"),de()}catch(ie){console.error(ie),Ce.error("Failed to update role")}}async function ee(k){if(confirm("Delete user doc? This will not delete auth user. Proceed?"))try{await Fa(it(Ve,"users",k)),Ce.success("User doc deleted"),de()}catch(G){console.error(G),Ce.error("Failed to delete user")}}const Y={totalProducts:l.length,promoted:l.filter(k=>k.promoted).length,pendingApproval:l.filter(k=>k.approved===!1||k.approved===void 0).length,totalPlans:f.length,totalUsers:m.length};return t?_.createElement("p",{className:"p-4"}," Checking admin access..."):n?s!=="admin"?_.createElement("p",{className:"p-4"}," Access denied. Admins only."):_.createElement(Kn.div,{className:"p-6 max-w-6xl mx-auto",initial:{opacity:0},animate:{opacity:1}},_.createElement("div",{className:"flex items-center justify-between mb-6"},_.createElement("div",null,_.createElement("h1",{className:"text-2xl font-bold"}," Admin Dashboard"),_.createElement("p",{className:"text-sm text-gray-600"},"Welcome ",n.email,"  Full Marketplace Management")),_.createElement("div",{className:"flex gap-2"},_.createElement("button",{className:`px-3 py-1 rounded ${w==="products"?"bg-blue-600 text-white":"bg-gray-100"}`,onClick:()=>I("products")},"Products"),_.createElement("button",{className:`px-3 py-1 rounded ${w==="plans"?"bg-blue-600 text-white":"bg-gray-100"}`,onClick:()=>I("plans")},"Plans"),_.createElement("button",{className:`px-3 py-1 rounded ${w==="users"?"bg-blue-600 text-white":"bg-gray-100"}`,onClick:()=>I("users")},"Users"),_.createElement("button",{className:`px-3 py-1 rounded ${w==="analytics"?"bg-blue-600 text-white":"bg-gray-100"}`,onClick:()=>I("analytics")},"Analytics"))),w==="products"&&_.createElement("div",{className:"space-y-4"},_.createElement("div",{className:"flex gap-3"},_.createElement("input",{placeholder:"Search title / location / userEmail...",value:P,onChange:k=>D(k.target.value),className:"flex-1 px-3 py-2 border rounded"}),_.createElement("button",{onClick:()=>ne(),className:"px-3 py-2 bg-gray-200 rounded"},"Refresh")),_.createElement("div",{className:"overflow-x-auto bg-white rounded shadow p-3"},_.createElement("table",{className:"w-full text-sm"},_.createElement("thead",null,_.createElement("tr",{className:"text-left"},_.createElement("th",{className:"p-2"},"Title"),_.createElement("th",{className:"p-2"},"Seller"),_.createElement("th",{className:"p-2"},"Price"),_.createElement("th",{className:"p-2"},"Category"),_.createElement("th",{className:"p-2"},"Promoted"),_.createElement("th",{className:"p-2"},"Approved"),_.createElement("th",{className:"p-2"},"Actions"))),_.createElement("tbody",null,l.filter(k=>{if(!P)return!0;const G=P.toLowerCase();return(k.title||"").toLowerCase().includes(G)||(k.location||"").toLowerCase().includes(G)||(k.userEmail||"").toLowerCase().includes(G)}).map(k=>_.createElement("tr",{key:k.id,className:"border-t"},_.createElement("td",{className:"p-2 max-w-xs"},_.createElement("div",{className:"font-semibold"},k.title),_.createElement("div",{className:"text-xs text-gray-500 truncate"},k.description),_.createElement(ct,{to:`/product/${k.id}`,className:"text-xs text-blue-600"},"View")),_.createElement("td",{className:"p-2"},k.userEmail||"N/A"),_.createElement("td",{className:"p-2"},"",k.price),_.createElement("td",{className:"p-2"},k.category),_.createElement("td",{className:"p-2"},k.promoted?"Yes":"No"),_.createElement("td",{className:"p-2"},k.approved?"Approved":"Pending/Unapproved"),_.createElement("td",{className:"p-2 flex gap-2 flex-wrap"},!k.approved&&_.createElement("button",{onClick:()=>O(k.id),className:"px-2 py-1 bg-green-600 text-white rounded text-xs"},"Approve"),k.approved&&_.createElement("button",{onClick:()=>x(k.id),className:"px-2 py-1 bg-yellow-400 text-black rounded text-xs"},"Unpublish"),_.createElement("button",{onClick:()=>R(k),className:"px-2 py-1 bg-blue-600 text-white rounded text-xs"},k.promoted?"Remove Promo":"Boost (7d)"),_.createElement(ct,{to:`/edit/${k.id}`,className:"px-2 py-1 bg-gray-200 rounded text-xs"},"Edit"),_.createElement("button",{onClick:()=>L(k),className:"px-2 py-1 bg-red-600 text-white rounded text-xs"},"Delete")))),l.length===0&&_.createElement("tr",null,_.createElement("td",{colSpan:"7",className:"p-4 text-center text-gray-500"},"No products found")))))),w==="plans"&&_.createElement("div",{className:"space-y-4"},_.createElement("form",{onSubmit:V,className:"bg-white rounded p-4 shadow grid grid-cols-1 sm:grid-cols-5 gap-3 items-end"},_.createElement("input",{className:"col-span-2 px-3 py-2 border rounded",placeholder:"Plan name (e.g., 7 days)",value:C.name,onChange:k=>U({...C,name:k.target.value})}),_.createElement("input",{className:"px-3 py-2 border rounded",placeholder:"Price ()",value:C.price,onChange:k=>U({...C,price:k.target.value})}),_.createElement("input",{className:"px-3 py-2 border rounded",placeholder:"Days",value:C.days,onChange:k=>U({...C,days:k.target.value})}),_.createElement("div",{className:"flex gap-2"},_.createElement("button",{type:"submit",disabled:$,className:"px-3 py-2 bg-blue-600 text-white rounded"},C.id?"Update":"Create"),_.createElement("button",{type:"button",onClick:W,className:"px-3 py-2 bg-gray-200 rounded"},"Reset"))),_.createElement("div",{className:"bg-white rounded shadow p-3"},_.createElement("table",{className:"w-full text-sm"},_.createElement("thead",null,_.createElement("tr",null,_.createElement("th",{className:"p-2"},"Name"),_.createElement("th",{className:"p-2"},"Price"),_.createElement("th",{className:"p-2"},"Days"),_.createElement("th",{className:"p-2"},"Actions"))),_.createElement("tbody",null,f.map(k=>_.createElement("tr",{key:k.id,className:"border-t"},_.createElement("td",{className:"p-2"},k.name),_.createElement("td",{className:"p-2"},"",k.price),_.createElement("td",{className:"p-2"},k.days),_.createElement("td",{className:"p-2 flex gap-2"},_.createElement("button",{onClick:()=>F(k),className:"px-2 py-1 bg-yellow-400 rounded text-xs"},"Edit"),_.createElement("button",{onClick:()=>te(k.id),className:"px-2 py-1 bg-red-600 text-white rounded text-xs"},"Delete")))),f.length===0&&_.createElement("tr",null,_.createElement("td",{colSpan:"4",className:"p-4 text-center text-gray-500"},"No plans")))))),w==="users"&&_.createElement("div",{className:"space-y-4"},_.createElement("div",{className:"bg-white rounded shadow p-3"},_.createElement("table",{className:"w-full text-sm"},_.createElement("thead",null,_.createElement("tr",null,_.createElement("th",{className:"p-2"},"Email"),_.createElement("th",{className:"p-2"},"Role"),_.createElement("th",{className:"p-2"},"Actions"))),_.createElement("tbody",null,m.map(k=>_.createElement("tr",{key:k.id,className:"border-t"},_.createElement("td",{className:"p-2"},k.email),_.createElement("td",{className:"p-2"},k.role||"user"),_.createElement("td",{className:"p-2 flex gap-2"},_.createElement("button",{onClick:()=>Q(k.id,"user"),className:"px-2 py-1 bg-gray-200 rounded text-xs"},"Make User"),_.createElement("button",{onClick:()=>Q(k.id,"admin"),className:"px-2 py-1 bg-green-600 text-white rounded text-xs"},"Make Admin"),_.createElement("button",{onClick:()=>ee(k.id),className:"px-2 py-1 bg-red-600 text-white rounded text-xs"},"Delete Doc")))),m.length===0&&_.createElement("tr",null,_.createElement("td",{colSpan:"3",className:"p-4 text-center text-gray-500"},"No users")))))),w==="analytics"&&_.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},_.createElement("div",{className:"bg-white p-4 rounded shadow"},_.createElement("div",{className:"text-sm text-gray-500"},"Total Users"),_.createElement("div",{className:"text-2xl font-bold"},Y.totalUsers)),_.createElement("div",{className:"bg-white p-4 rounded shadow"},_.createElement("div",{className:"text-sm text-gray-500"},"Total Products"),_.createElement("div",{className:"text-2xl font-bold"},Y.totalProducts)),_.createElement("div",{className:"bg-white p-4 rounded shadow"},_.createElement("div",{className:"text-sm text-gray-500"},"Promoted"),_.createElement("div",{className:"text-2xl font-bold"},Y.promoted)),_.createElement("div",{className:"bg-white p-4 rounded shadow"},_.createElement("div",{className:"text-sm text-gray-500"},"Pending Approval"),_.createElement("div",{className:"text-2xl font-bold"},Y.pendingApproval)),_.createElement("div",{className:"bg-white p-4 rounded shadow"},_.createElement("div",{className:"text-sm text-gray-500"},"Promotion Plans"),_.createElement("div",{className:"text-2xl font-bold"},Y.totalPlans)))):_.createElement("p",{className:"p-4"}," Please login to access Admin page.")}const qU=({children:t})=>{const[e,n]=b.useState(null);return b.useEffect(()=>{(async()=>{const s=Ct.currentUser;if(!s)return n(!1);const a=await Ro(it(Ve,"users",s.uid));a.exists()&&a.data().role==="admin"?n(!0):n(!1)})()},[]),e===null?_.createElement("div",{className:"flex h-screen justify-center items-center text-gray-600"},"Checking permissions..."):e?t:_.createElement("div",{className:"flex flex-col items-center justify-center h-screen"},_.createElement("p",{className:"text-2xl text-red-600 mb-2"}," Access Denied"),_.createElement("p",{className:"text-gray-700"},"Admin Only"))};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),VT=t=>{const e=KU(t);return e.charAt(0).toUpperCase()+e.slice(1)},Mx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),QU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...c},f)=>b.createElement("svg",{ref:f,...YU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Mx("lucide",s),...!a&&!QU(c)&&{"aria-hidden":"true"},...c},[...l.map(([p,m])=>b.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=(t,e)=>{const n=b.forwardRef(({className:r,...s},a)=>b.createElement(XU,{ref:a,iconNode:e,className:Mx(`lucide-${GU(VT(t))}`,`lucide-${t}`,r),...s}));return n.displayName=VT(t),n};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ZU=Ri("clipboard-list",JU);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],t5=Ri("log-out",e5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],r5=Ri("package",n5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],s5=Ri("shield",i5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],a5=Ri("shopping-bag",o5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],u5=Ri("shopping-cart",l5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],h5=Ri("store",c5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],f5=Ri("user",d5);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],m5=Ri("users",p5),g5=({activeTab:t,setActiveTab:e})=>{const n=async()=>{await Ct.signOut(),window.location.href="/"};return _.createElement("div",{className:"w-64 bg-white shadow-md p-4 flex flex-col"},_.createElement("h2",{className:"text-2xl font-bold mb-6 text-indigo-600 text-center"},"Admin Panel"),_.createElement("button",{onClick:()=>e("products"),className:`flex items-center p-3 mb-2 rounded-md transition ${t==="products"?"bg-indigo-600 text-white":"hover:bg-gray-100 text-gray-700"}`},_.createElement(a5,{className:"mr-2",size:18})," Products"),_.createElement("button",{onClick:()=>e("users"),className:`flex items-center p-3 mb-2 rounded-md transition ${t==="users"?"bg-indigo-600 text-white":"hover:bg-gray-100 text-gray-700"}`},_.createElement(m5,{className:"mr-2",size:18})," Users"),_.createElement("button",{onClick:()=>e("orders"),className:`flex items-center p-3 mb-2 rounded-md transition ${t==="orders"?"bg-indigo-600 text-white":"hover:bg-gray-100 text-gray-700"}`},_.createElement(ZU,{className:"mr-2",size:18})," Orders"),_.createElement("button",{onClick:n,className:"mt-auto flex items-center justify-center bg-red-500 text-white py-2 rounded-md hover:bg-red-600 transition"},_.createElement(t5,{size:16,className:"mr-2"})," Logout"))},LT=()=>{const[t,e]=b.useState([]);b.useEffect(()=>{(async()=>{const s=await xn(fn(Ve,"products"));e(s.docs.map(a=>({id:a.id,...a.data()})))})()},[]);const n=async r=>{window.confirm("Are you sure you want to delete this product?")&&(await Fa(it(Ve,"products",r)),e(t.filter(s=>s.id!==r)))};return _.createElement("div",null,_.createElement("h1",{className:"text-2xl font-bold mb-4"}," All Products"),_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},t.map(r=>_.createElement("div",{key:r.id,className:"bg-white p-4 rounded-lg shadow hover:shadow-md transition"},r.imageUrl&&_.createElement("img",{src:r.imageUrl,alt:r.title,className:"w-full h-40 object-cover rounded-md mb-3"}),_.createElement("h2",{className:"font-semibold text-lg"},r.title),_.createElement("p",{className:"text-gray-600"},r.category),_.createElement("p",{className:"text-green-600 font-semibold"},"",r.price),_.createElement("button",{onClick:()=>n(r.id),className:"mt-3 bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600"},"Delete")))))},y5=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const c=(await xn(fn(Ve,"users"))).docs.map(f=>({id:f.id,...f.data()}));e(c)}catch(l){console.error("Error loading users:",l)}finally{r(!1)}})()},[]);const s=async(a,l)=>{try{await Vr(it(Ve,"users",a),{role:l}),alert(`User role updated to "${l}" successfully!`),e(c=>c.map(f=>f.id===a?{...f,role:l}:f))}catch(c){console.error("Error updating role:",c),alert("Failed to update role.")}};return n?_.createElement("p",null,"Loading users..."):_.createElement("div",null,_.createElement("h2",{className:"text-2xl font-semibold mb-4"},"Registered Users"),_.createElement("div",{className:"overflow-x-auto"},_.createElement("table",{className:"min-w-full bg-white border rounded-lg shadow-sm"},_.createElement("thead",null,_.createElement("tr",{className:"bg-indigo-100 text-left text-gray-700"},_.createElement("th",{className:"py-2 px-4"},"Name"),_.createElement("th",{className:"py-2 px-4"},"Email"),_.createElement("th",{className:"py-2 px-4"},"Current Role"),_.createElement("th",{className:"py-2 px-4 text-center"},"Actions"))),_.createElement("tbody",null,t.map(a=>_.createElement("tr",{key:a.id,className:"border-t hover:bg-gray-50"},_.createElement("td",{className:"py-2 px-4"},a.name||""),_.createElement("td",{className:"py-2 px-4"},a.email||""),_.createElement("td",{className:"py-2 px-4 capitalize"},a.role||"user"),_.createElement("td",{className:"py-2 px-4 text-center"},_.createElement("div",{className:"flex gap-2 justify-center"},a.role!=="seller"&&_.createElement("button",{onClick:()=>s(a.id,"seller"),className:"flex items-center gap-1 bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 transition"},_.createElement(h5,{size:16})," Make Seller"),a.role!=="admin"&&_.createElement("button",{onClick:()=>s(a.id,"admin"),className:"flex items-center gap-1 bg-indigo-600 text-white px-3 py-1 rounded hover:bg-indigo-700 transition"},_.createElement(s5,{size:16})," Make Admin")))))))))},v5=()=>{const[t,e]=b.useState([]);return b.useEffect(()=>{(async()=>{const r=await xn(fn(Ve,"orders"));e(r.docs.map(s=>({id:s.id,...s.data()})))})()},[]),_.createElement("div",null,_.createElement("h1",{className:"text-2xl font-bold mb-4"}," Orders"),_.createElement("div",{className:"bg-white shadow rounded p-4"},t.length===0?_.createElement("p",{className:"text-gray-600"},"No orders yet."):_.createElement("ul",null,t.map(n=>_.createElement("li",{key:n.id,className:"border-b py-2"},_.createElement("p",null,_.createElement("strong",null,"Buyer:")," ",n.buyerEmail),_.createElement("p",null,_.createElement("strong",null,"Product:")," ",n.productTitle),_.createElement("p",null,_.createElement("strong",null,"Status:")," ",n.status||"Pending"))))))},OT=()=>{const[t,e]=b.useState("products"),[n,r]=b.useState({totalProducts:0,totalUsers:0,totalOrders:0});b.useEffect(()=>{(async()=>{const[l,c,f]=await Promise.all([xn(fn(Ve,"products")),xn(fn(Ve,"users")),xn(fn(Ve,"orders"))]);r({totalProducts:l.size,totalUsers:c.size,totalOrders:f.size})})()},[]);const s=()=>{switch(t){case"products":return _.createElement(LT,null);case"users":return _.createElement(y5,null);case"orders":return _.createElement(v5,null);default:return _.createElement(LT,null)}};return _.createElement("div",{className:"flex h-screen bg-gray-50"},_.createElement(g5,{activeTab:t,setActiveTab:e}),_.createElement("div",{className:"flex-1 p-6 overflow-y-auto"},_.createElement("h1",{className:"text-3xl font-bold mb-6 text-indigo-700"}," MyAmravati Market Admin Dashboard"),_.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8"},_.createElement("div",{className:"bg-white p-5 rounded-xl shadow hover:shadow-lg transition"},_.createElement("div",{className:"flex items-center"},_.createElement(r5,{className:"text-indigo-600 mr-3",size:26}),_.createElement("div",null,_.createElement("p",{className:"text-sm text-gray-500"},"Total Products"),_.createElement("h2",{className:"text-2xl font-semibold"},n.totalProducts)))),_.createElement("div",{className:"bg-white p-5 rounded-xl shadow hover:shadow-lg transition"},_.createElement("div",{className:"flex items-center"},_.createElement(f5,{className:"text-green-600 mr-3",size:26}),_.createElement("div",null,_.createElement("p",{className:"text-sm text-gray-500"},"Total Users"),_.createElement("h2",{className:"text-2xl font-semibold"},n.totalUsers)))),_.createElement("div",{className:"bg-white p-5 rounded-xl shadow hover:shadow-lg transition"},_.createElement("div",{className:"flex items-center"},_.createElement(u5,{className:"text-pink-600 mr-3",size:26}),_.createElement("div",null,_.createElement("p",{className:"text-sm text-gray-500"},"Total Orders"),_.createElement("h2",{className:"text-2xl font-semibold"},n.totalOrders))))),s()))};var _m={},wm={},Em={},MT;function _5(){return MT||(MT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(typeof window<"u"){var c;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(c=window).gtag.apply(c,a)}},n=e;t.default=n})(Em)),Em}var Tm={},FT;function w5(){return FT||(FT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(c){return c.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(f,p,m){return p>0&&p+f.length!==m.length&&f.search(e)>-1&&m.charAt(p-2)!==":"&&(m.charAt(p+f.length)!=="-"||m.charAt(p-1)==="-")&&m.charAt(p-1).search(/[^\s-]/)<0?f.toLowerCase():f.substr(1).search(/[A-Z]|\../)>-1?f:f.charAt(0).toUpperCase()+f.substr(1)})}function r(c){return typeof c=="string"&&c.indexOf("@")!==-1}var s="REDACTED (Potential Email Address)";function a(c){return r(c)?(console.warn("This arg looks like an email address, redacting."),s):c}function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m=c||"";return f&&(m=n(c)),p&&(m=a(m)),m}})(Tm)),Tm}var UT;function E5(){return UT||(UT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=l(_5()),n=l(w5()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],s=["title","location"],a=["page","hitType"];function l(te){return te&&te.__esModule?te:{default:te}}function c(te,Q){if(te==null)return{};var ee=f(te,Q),Y,k;if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(te);for(k=0;k<G.length;k++)Y=G[k],!(Q.indexOf(Y)>=0)&&Object.prototype.propertyIsEnumerable.call(te,Y)&&(ee[Y]=te[Y])}return ee}function f(te,Q){if(te==null)return{};var ee={},Y=Object.keys(te),k,G;for(G=0;G<Y.length;G++)k=Y[G],!(Q.indexOf(k)>=0)&&(ee[k]=te[k]);return ee}function p(te){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},p(te)}function m(te){return I(te)||w(te)||$(te)||E()}function E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(te){if(typeof Symbol<"u"&&te[Symbol.iterator]!=null||te["@@iterator"]!=null)return Array.from(te)}function I(te){if(Array.isArray(te))return z(te)}function P(te,Q){var ee=Object.keys(te);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(te);Q&&(Y=Y.filter(function(k){return Object.getOwnPropertyDescriptor(te,k).enumerable})),ee.push.apply(ee,Y)}return ee}function D(te){for(var Q=1;Q<arguments.length;Q++){var ee=arguments[Q]!=null?arguments[Q]:{};Q%2?P(Object(ee),!0).forEach(function(Y){R(te,Y,ee[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(ee)):P(Object(ee)).forEach(function(Y){Object.defineProperty(te,Y,Object.getOwnPropertyDescriptor(ee,Y))})}return te}function C(te,Q){return oe(te)||ne(te,Q)||$(te,Q)||U()}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(te,Q){if(te){if(typeof te=="string")return z(te,Q);var ee=Object.prototype.toString.call(te).slice(8,-1);if(ee==="Object"&&te.constructor&&(ee=te.constructor.name),ee==="Map"||ee==="Set")return Array.from(te);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return z(te,Q)}}function z(te,Q){(Q==null||Q>te.length)&&(Q=te.length);for(var ee=0,Y=new Array(Q);ee<Q;ee++)Y[ee]=te[ee];return Y}function ne(te,Q){var ee=te==null?null:typeof Symbol<"u"&&te[Symbol.iterator]||te["@@iterator"];if(ee!=null){var Y,k,G,ie,B=[],Z=!0,fe=!1;try{if(G=(ee=ee.call(te)).next,Q!==0)for(;!(Z=(Y=G.call(ee)).done)&&(B.push(Y.value),B.length!==Q);Z=!0);}catch(Ee){fe=!0,k=Ee}finally{try{if(!Z&&ee.return!=null&&(ie=ee.return(),Object(ie)!==ie))return}finally{if(fe)throw k}}return B}}function oe(te){if(Array.isArray(te))return te}function de(te,Q){if(!(te instanceof Q))throw new TypeError("Cannot call a class as a function")}function O(te,Q){for(var ee=0;ee<Q.length;ee++){var Y=Q[ee];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(te,L(Y.key),Y)}}function x(te,Q,ee){return Q&&O(te.prototype,Q),Object.defineProperty(te,"prototype",{writable:!1}),te}function R(te,Q,ee){return Q=L(Q),Q in te?Object.defineProperty(te,Q,{value:ee,enumerable:!0,configurable:!0,writable:!0}):te[Q]=ee,te}function L(te){var Q=F(te,"string");return p(Q)==="symbol"?Q:String(Q)}function F(te,Q){if(p(te)!=="object"||te===null)return te;var ee=te[Symbol.toPrimitive];if(ee!==void 0){var Y=ee.call(te,Q);if(p(Y)!=="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(te)}var W=(function(){function te(){var Q=this;de(this,te),R(this,"reset",function(){Q.isInitialized=!1,Q._testMode=!1,Q._currentMeasurementId,Q._hasLoadedGA=!1,Q._isQueuing=!1,Q._queueGtag=[]}),R(this,"_gtag",function(){for(var ee=arguments.length,Y=new Array(ee),k=0;k<ee;k++)Y[k]=arguments[k];Q._testMode||Q._isQueuing?Q._queueGtag.push(Y):e.default.apply(void 0,Y)}),R(this,"_loadGA",function(ee,Y){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!Q._hasLoadedGA){var G=document.createElement("script");G.async=!0,G.src="".concat(k,"?id=").concat(ee),Y&&G.setAttribute("nonce",Y),document.body.appendChild(G),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},Q._hasLoadedGA=!0}}),R(this,"_toGtagOptions",function(ee){if(ee){var Y={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},k=Object.entries(ee).reduce(function(G,ie){var B=C(ie,2),Z=B[0],fe=B[1];return Y[Z]?G[Y[Z]]=fe:G[Z]=fe,G},{});return k}}),R(this,"initialize",function(ee){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ee)throw new Error("Require GA_MEASUREMENT_ID");var k=typeof ee=="string"?[{trackingId:ee}]:ee;Q._currentMeasurementId=k[0].trackingId;var G=Y.gaOptions,ie=Y.gtagOptions,B=Y.nonce,Z=Y.testMode,fe=Z===void 0?!1:Z,Ee=Y.gtagUrl;if(Q._testMode=fe,fe||Q._loadGA(Q._currentMeasurementId,B,Ee),Q.isInitialized||(Q._gtag("js",new Date),k.forEach(function(Oe){var je=D(D(D({},Q._toGtagOptions(D(D({},G),Oe.gaOptions))),ie),Oe.gtagOptions);Object.keys(je).length?Q._gtag("config",Oe.trackingId,je):Q._gtag("config",Oe.trackingId)})),Q.isInitialized=!0,!fe){var Ne=m(Q._queueGtag);for(Q._queueGtag=[],Q._isQueuing=!1;Ne.length;){var Le=Ne.shift();Q._gtag.apply(Q,m(Le)),Le[0]==="get"&&(Q._isQueuing=!0)}}}),R(this,"set",function(ee){if(!ee){console.warn("`fieldsObject` is required in .set()");return}if(p(ee)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(ee).length===0&&console.warn("empty `fieldsObject` given to .set()"),Q._gaCommand("set",ee)}),R(this,"_gaCommandSendEvent",function(ee,Y,k,G,ie){Q._gtag("event",Y,D(D({event_category:ee,event_label:k,value:G},ie&&{non_interaction:ie.nonInteraction}),Q._toGtagOptions(ie)))}),R(this,"_gaCommandSendEventParameters",function(){for(var ee=arguments.length,Y=new Array(ee),k=0;k<ee;k++)Y[k]=arguments[k];if(typeof Y[0]=="string")Q._gaCommandSendEvent.apply(Q,m(Y.slice(1)));else{var G=Y[0],ie=G.eventCategory,B=G.eventAction,Z=G.eventLabel,fe=G.eventValue;G.hitType;var Ee=c(G,r);Q._gaCommandSendEvent(ie,B,Z,fe,Ee)}}),R(this,"_gaCommandSendTiming",function(ee,Y,k,G){Q._gtag("event","timing_complete",{name:Y,value:k,event_category:ee,event_label:G})}),R(this,"_gaCommandSendPageview",function(ee,Y){if(Y&&Object.keys(Y).length){var k=Q._toGtagOptions(Y),G=k.title,ie=k.location,B=c(k,s);Q._gtag("event","page_view",D(D(D(D({},ee&&{page_path:ee}),G&&{page_title:G}),ie&&{page_location:ie}),B))}else ee?Q._gtag("event","page_view",{page_path:ee}):Q._gtag("event","page_view")}),R(this,"_gaCommandSendPageviewParameters",function(){for(var ee=arguments.length,Y=new Array(ee),k=0;k<ee;k++)Y[k]=arguments[k];if(typeof Y[0]=="string")Q._gaCommandSendPageview.apply(Q,m(Y.slice(1)));else{var G=Y[0],ie=G.page;G.hitType;var B=c(G,a);Q._gaCommandSendPageview(ie,B)}}),R(this,"_gaCommandSend",function(){for(var ee=arguments.length,Y=new Array(ee),k=0;k<ee;k++)Y[k]=arguments[k];var G=typeof Y[0]=="string"?Y[0]:Y[0].hitType;switch(G){case"event":Q._gaCommandSendEventParameters.apply(Q,Y);break;case"pageview":Q._gaCommandSendPageviewParameters.apply(Q,Y);break;case"timing":Q._gaCommandSendTiming.apply(Q,m(Y.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(G));break;default:console.warn("Send command doesn't exist: ".concat(G))}}),R(this,"_gaCommandSet",function(){for(var ee=arguments.length,Y=new Array(ee),k=0;k<ee;k++)Y[k]=arguments[k];typeof Y[0]=="string"&&(Y[0]=R({},Y[0],Y[1])),Q._gtag("set",Q._toGtagOptions(Y[0]))}),R(this,"_gaCommand",function(ee){for(var Y=arguments.length,k=new Array(Y>1?Y-1:0),G=1;G<Y;G++)k[G-1]=arguments[G];switch(ee){case"send":Q._gaCommandSend.apply(Q,k);break;case"set":Q._gaCommandSet.apply(Q,k);break;default:console.warn("Command doesn't exist: ".concat(ee))}}),R(this,"ga",function(){for(var ee=arguments.length,Y=new Array(ee),k=0;k<ee;k++)Y[k]=arguments[k];if(typeof Y[0]=="string")Q._gaCommand.apply(Q,Y);else{var G=Y[0];Q._gtag("get",Q._currentMeasurementId,"client_id",function(ie){Q._isQueuing=!1;var B=Q._queueGtag;for(G({get:function(Ee){return Ee==="clientId"?ie:Ee==="trackingId"?Q._currentMeasurementId:Ee==="apiVersion"?"1":void 0}});B.length;){var Z=B.shift();Q._gtag.apply(Q,m(Z))}}),Q._isQueuing=!0}return Q.ga}),R(this,"event",function(ee,Y){if(typeof ee=="string")Q._gtag("event",ee,Q._toGtagOptions(Y));else{var k=ee.action,G=ee.category,ie=ee.label,B=ee.value,Z=ee.nonInteraction,fe=ee.transport;if(!G||!k){console.warn("args.category AND args.action are required in event()");return}var Ee={hitType:"event",eventCategory:(0,n.default)(G),eventAction:(0,n.default)(k)};ie&&(Ee.eventLabel=(0,n.default)(ie)),typeof B<"u"&&(typeof B!="number"?console.warn("Expected `args.value` arg to be a Number."):Ee.eventValue=B),typeof Z<"u"&&(typeof Z!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Ee.nonInteraction=Z),typeof fe<"u"&&(typeof fe!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(fe)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Ee.transport=fe)),Q._gaCommand("send",Ee)}}),R(this,"send",function(ee){Q._gaCommand("send",ee)}),this.reset()}return x(te,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),te})();t.GA4=W;var V=new W;t.default=V})(wm)),wm}var BT;function T5(){return BT||(BT=1,(function(t){function e(c){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},e(c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var n=s(E5());function r(c){if(typeof WeakMap!="function")return null;var f=new WeakMap,p=new WeakMap;return(r=function(E){return E?p:f})(c)}function s(c,f){if(c&&c.__esModule)return c;if(c===null||e(c)!=="object"&&typeof c!="function")return{default:c};var p=r(f);if(p&&p.has(c))return p.get(c);var m={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in c)if(w!=="default"&&Object.prototype.hasOwnProperty.call(c,w)){var I=E?Object.getOwnPropertyDescriptor(c,w):null;I&&(I.get||I.set)?Object.defineProperty(m,w,I):m[w]=c[w]}return m.default=c,p&&p.set(c,m),m}var a=n.GA4;t.ReactGAImplementation=a;var l=n.default;t.default=l})(_m)),_m}var S5=T5();const Fx=xg(S5);function I5(){const t=Ci();b.useEffect(()=>{Fx.send({hitType:"pageview",page:t.pathname+t.search})},[t])}Fx.initialize("G-4PWTPFE8LR");function A5(){return RU(),_.createElement(uR,null,_.createElement(x5,null),_.createElement(wU,null),_.createElement(yv,{position:"top-right",reverseOrder:!1}),_.createElement(BC,null,_.createElement(tn,{path:"/",element:_.createElement(eD,null)}),_.createElement(tn,{path:"/login",element:_.createElement(hU,null)}),_.createElement(tn,{path:"/signup",element:_.createElement(dU,null)}),_.createElement(tn,{path:"/browse",element:_.createElement(EU,null)}),_.createElement(tn,{path:"/terms",element:_.createElement($U,null)}),_.createElement(tn,{path:"/privacy",element:_.createElement(WU,null)}),_.createElement(tn,{path:"*",element:_.createElement(SU,null)}),_.createElement(tn,{path:"/admin",element:_.createElement(OT,null)}),_.createElement(tn,{path:"/admin-page",element:_.createElement(HU,null)}),_.createElement(tn,{path:"/dashboard",element:_.createElement(Fh,null,_.createElement(yU,null))}),_.createElement(tn,{path:"/add-product",element:_.createElement(Fh,null,_.createElement(_U,null))}),_.createElement(tn,{path:"/edit/:id",element:_.createElement(Fh,null,_.createElement(TU,null))}),_.createElement(tn,{path:"/favorites",element:_.createElement(Fh,null,_.createElement(IU,null))}),_.createElement(tn,{path:"/admin",element:_.createElement(qU,null,_.createElement(OT,null))}),_.createElement(tn,{path:"/product/:id",element:_.createElement(zU,null)})))}function x5(){return I5(),null}QP.createRoot(document.getElementById("root")).render(_.createElement(_.StrictMode,null,_.createElement(A5,null),_.createElement(yv,{position:"top-right",reverseOrder:!1})));
