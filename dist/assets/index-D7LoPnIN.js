(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ly(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sm={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function MR(){if(t_)return Oe;t_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function P(H,se,we){this.props=H,this.context=se,this.refs=A,this.updater=we||E}P.prototype.isReactComponent={},P.prototype.setState=function(H,se){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,se,"setState")},P.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=P.prototype;function R(H,se,we){this.props=H,this.context=se,this.refs=A,this.updater=we||E}var N=R.prototype=new C;N.constructor=R,b(N,P.prototype),N.isPureReactComponent=!0;var z=Array.isArray,q=Object.prototype.hasOwnProperty,re={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function x(H,se,we){var _e,Me={},Le=null,ze=null;if(se!=null)for(_e in se.ref!==void 0&&(ze=se.ref),se.key!==void 0&&(Le=""+se.key),se)q.call(se,_e)&&!F.hasOwnProperty(_e)&&(Me[_e]=se[_e]);var Fe=arguments.length-2;if(Fe===1)Me.children=we;else if(1<Fe){for(var et=Array(Fe),dn=0;dn<Fe;dn++)et[dn]=arguments[dn+2];Me.children=et}if(H&&H.defaultProps)for(_e in Fe=H.defaultProps,Fe)Me[_e]===void 0&&(Me[_e]=Fe[_e]);return{$$typeof:t,type:H,key:Le,ref:ze,props:Me,_owner:re.current}}function L(H,se){return{$$typeof:t,type:H.type,key:se,ref:H.ref,props:H.props,_owner:H._owner}}function O(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function V(H){var se={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(we){return se[we]})}var B=/\/+/g;function M(H,se){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):se.toString(36)}function K(H,se,we,_e,Me){var Le=typeof H;(Le==="undefined"||Le==="boolean")&&(H=null);var ze=!1;if(H===null)ze=!0;else switch(Le){case"string":case"number":ze=!0;break;case"object":switch(H.$$typeof){case t:case e:ze=!0}}if(ze)return ze=H,Me=Me(ze),H=_e===""?"."+M(ze,0):_e,z(Me)?(we="",H!=null&&(we=H.replace(B,"$&/")+"/"),K(Me,se,we,"",function(dn){return dn})):Me!=null&&(O(Me)&&(Me=L(Me,we+(!Me.key||ze&&ze.key===Me.key?"":(""+Me.key).replace(B,"$&/")+"/")+H)),se.push(Me)),1;if(ze=0,_e=_e===""?".":_e+":",z(H))for(var Fe=0;Fe<H.length;Fe++){Le=H[Fe];var et=_e+M(Le,Fe);ze+=K(Le,se,we,et,Me)}else if(et=w(H),typeof et=="function")for(H=et.call(H),Fe=0;!(Le=H.next()).done;)Le=Le.value,et=_e+M(Le,Fe++),ze+=K(Le,se,we,et,Me);else if(Le==="object")throw se=String(H),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return ze}function G(H,se,we){if(H==null)return H;var _e=[],Me=0;return K(H,_e,"","",function(Le){return se.call(we,Le,Me++)}),_e}function ne(H){if(H._status===-1){var se=H._result;se=se(),se.then(function(we){(H._status===0||H._status===-1)&&(H._status=1,H._result=we)},function(we){(H._status===0||H._status===-1)&&(H._status=2,H._result=we)}),H._status===-1&&(H._status=0,H._result=se)}if(H._status===1)return H._result.default;throw H._result}var X={current:null},j={transition:null},Z={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:j,ReactCurrentOwner:re};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:G,forEach:function(H,se,we){G(H,function(){se.apply(this,arguments)},we)},count:function(H){var se=0;return G(H,function(){se++}),se},toArray:function(H){return G(H,function(se){return se})||[]},only:function(H){if(!O(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Oe.Component=P,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=R,Oe.StrictMode=r,Oe.Suspense=c,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Oe.act=oe,Oe.cloneElement=function(H,se,we){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var _e=b({},H.props),Me=H.key,Le=H.ref,ze=H._owner;if(se!=null){if(se.ref!==void 0&&(Le=se.ref,ze=re.current),se.key!==void 0&&(Me=""+se.key),H.type&&H.type.defaultProps)var Fe=H.type.defaultProps;for(et in se)q.call(se,et)&&!F.hasOwnProperty(et)&&(_e[et]=se[et]===void 0&&Fe!==void 0?Fe[et]:se[et])}var et=arguments.length-2;if(et===1)_e.children=we;else if(1<et){Fe=Array(et);for(var dn=0;dn<et;dn++)Fe[dn]=arguments[dn+2];_e.children=Fe}return{$$typeof:t,type:H.type,key:Me,ref:Le,props:_e,_owner:ze}},Oe.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},Oe.createElement=x,Oe.createFactory=function(H){var se=x.bind(null,H);return se.type=H,se},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(H){return{$$typeof:u,render:H}},Oe.isValidElement=O,Oe.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:ne}},Oe.memo=function(H,se){return{$$typeof:h,type:H,compare:se===void 0?null:se}},Oe.startTransition=function(H){var se=j.transition;j.transition={};try{H()}finally{j.transition=se}},Oe.unstable_act=oe,Oe.useCallback=function(H,se){return X.current.useCallback(H,se)},Oe.useContext=function(H){return X.current.useContext(H)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(H){return X.current.useDeferredValue(H)},Oe.useEffect=function(H,se){return X.current.useEffect(H,se)},Oe.useId=function(){return X.current.useId()},Oe.useImperativeHandle=function(H,se,we){return X.current.useImperativeHandle(H,se,we)},Oe.useInsertionEffect=function(H,se){return X.current.useInsertionEffect(H,se)},Oe.useLayoutEffect=function(H,se){return X.current.useLayoutEffect(H,se)},Oe.useMemo=function(H,se){return X.current.useMemo(H,se)},Oe.useReducer=function(H,se,we){return X.current.useReducer(H,se,we)},Oe.useRef=function(H){return X.current.useRef(H)},Oe.useState=function(H){return X.current.useState(H)},Oe.useSyncExternalStore=function(H,se,we){return X.current.useSyncExternalStore(H,se,we)},Oe.useTransition=function(){return X.current.useTransition()},Oe.version="18.3.1",Oe}var n_;function Oy(){return n_||(n_=1,Sm.exports=MR()),Sm.exports}var k=Oy();const y=Ly(k);var Zd={},bm={exports:{}},Tn={},xm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function LR(){return r_||(r_=1,(function(t){function e(j,Z){var oe=j.length;j.push(Z);e:for(;0<oe;){var H=oe-1>>>1,se=j[H];if(0<s(se,Z))j[H]=Z,j[oe]=se,oe=H;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var Z=j[0],oe=j.pop();if(oe!==Z){j[0]=oe;e:for(var H=0,se=j.length,we=se>>>1;H<we;){var _e=2*(H+1)-1,Me=j[_e],Le=_e+1,ze=j[Le];if(0>s(Me,oe))Le<se&&0>s(ze,Me)?(j[H]=ze,j[Le]=oe,H=Le):(j[H]=Me,j[_e]=oe,H=_e);else if(Le<se&&0>s(ze,oe))j[H]=ze,j[Le]=oe,H=Le;else break e}}return Z}function s(j,Z){var oe=j.sortIndex-Z.sortIndex;return oe!==0?oe:j.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],h=[],m=1,g=null,w=3,E=!1,b=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(j){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=j)r(h),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(h)}}function z(j){if(A=!1,N(j),!b)if(n(c)!==null)b=!0,ne(q);else{var Z=n(h);Z!==null&&X(z,Z.startTime-j)}}function q(j,Z){b=!1,A&&(A=!1,C(x),x=-1),E=!0;var oe=w;try{for(N(Z),g=n(c);g!==null&&(!(g.expirationTime>Z)||j&&!V());){var H=g.callback;if(typeof H=="function"){g.callback=null,w=g.priorityLevel;var se=H(g.expirationTime<=Z);Z=t.unstable_now(),typeof se=="function"?g.callback=se:g===n(c)&&r(c),N(Z)}else r(c);g=n(c)}if(g!==null)var we=!0;else{var _e=n(h);_e!==null&&X(z,_e.startTime-Z),we=!1}return we}finally{g=null,w=oe,E=!1}}var re=!1,F=null,x=-1,L=5,O=-1;function V(){return!(t.unstable_now()-O<L)}function B(){if(F!==null){var j=t.unstable_now();O=j;var Z=!0;try{Z=F(!0,j)}finally{Z?M():(re=!1,F=null)}}else re=!1}var M;if(typeof R=="function")M=function(){R(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=B,M=function(){G.postMessage(null)}}else M=function(){P(B,0)};function ne(j){F=j,re||(re=!0,M())}function X(j,Z){x=P(function(){j(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){b||E||(b=!0,ne(q))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var oe=w;w=Z;try{return j()}finally{w=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var oe=w;w=j;try{return Z()}finally{w=oe}},t.unstable_scheduleCallback=function(j,Z,oe){var H=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?H+oe:H):oe=H,j){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=oe+se,j={id:m++,callback:Z,priorityLevel:j,startTime:oe,expirationTime:se,sortIndex:-1},oe>H?(j.sortIndex=oe,e(h,j),n(c)===null&&j===n(h)&&(A?(C(x),x=-1):A=!0,X(z,oe-H))):(j.sortIndex=se,e(c,j),b||E||(b=!0,ne(q))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var Z=w;return function(){var oe=w;w=Z;try{return j.apply(this,arguments)}finally{w=oe}}}})(Im)),Im}var s_;function OR(){return s_||(s_=1,xm.exports=LR()),xm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function VR(){if(i_)return Tn;i_=1;var t=Oy(),e=OR();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function w(i){return c.call(g,i)?!0:c.call(m,i)?!1:h.test(i)?g[i]=!0:(m[i]=!0,!1)}function E(i,a,d,p){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,a,d,p){if(a===null||typeof a>"u"||E(i,a,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(i,a,d,p,v,_,I){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=i,this.type=a,this.sanitizeURL=_,this.removeEmptyString=I}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];P[a]=new A(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(C,R);P[a]=new A(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(C,R);P[a]=new A(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(C,R);P[a]=new A(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function N(i,a,d,p){var v=P.hasOwnProperty(a)?P[a]:null;(v!==null?v.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,d,v,p)&&(d=null),p||v===null?w(a)&&(d===null?i.removeAttribute(a):i.setAttribute(a,""+d)):v.mustUseProperty?i[v.propertyName]=d===null?v.type===3?!1:"":d:(a=v.attributeName,p=v.attributeNamespace,d===null?i.removeAttribute(a):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,p?i.setAttributeNS(p,a,d):i.setAttribute(a,d))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),re=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),j=Symbol.iterator;function Z(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,H;function se(i){if(H===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+i}var we=!1;function _e(i,a){if(!i||we)return"";we=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var p=ee}Reflect.construct(i,[],a)}else{try{a.call()}catch(ee){p=ee}i.call(a.prototype)}else{try{throw Error()}catch(ee){p=ee}i()}}catch(ee){if(ee&&p&&typeof ee.stack=="string"){for(var v=ee.stack.split(`
`),_=p.stack.split(`
`),I=v.length-1,U=_.length-1;1<=I&&0<=U&&v[I]!==_[U];)U--;for(;1<=I&&0<=U;I--,U--)if(v[I]!==_[U]){if(I!==1||U!==1)do if(I--,U--,0>U||v[I]!==_[U]){var $=`
`+v[I].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=I&&0<=U);break}}}finally{we=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?se(i):""}function Me(i){switch(i.tag){case 5:return se(i.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return i=_e(i.type,!1),i;case 11:return i=_e(i.type.render,!1),i;case 1:return i=_e(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case re:return"Portal";case L:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case K:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case B:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return a=i.displayName||null,a!==null?a:Le(i.type)||"Memo";case ne:a=i._payload,i=i._init;try{return Le(i(a))}catch{}}return null}function ze(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(a);case 8:return a===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Fe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function et(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function dn(i){var a=et(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),p=""+i[a];if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,_=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(I){p=""+I,_.call(this,I)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Zo(i){i._valueTracker||(i._valueTracker=dn(i))}function Cl(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),p="";return i&&(p=et(i)?i.checked?"true":"false":i.value),i=p,i!==d?(a.setValue(i),!0):!1}function Hs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ea(i,a){var d=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function Fu(i,a){var d=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;d=Fe(a.value!=null?a.value:d),i._wrapperState={initialChecked:p,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ta(i,a){a=a.checked,a!=null&&N(i,"checked",a,!1)}function Yi(i,a){ta(i,a);var d=Fe(a.value),p=a.type;if(d!=null)p==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Pt(i,a.type,d):a.hasOwnProperty("defaultValue")&&Pt(i,a.type,Fe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Al(i,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,d||a===i.value||(i.value=a),i.defaultValue=a}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function Pt(i,a,d){(a!=="number"||Hs(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var St=Array.isArray;function ir(i,a,d,p){if(i=i.options,a){a={};for(var v=0;v<d.length;v++)a["$"+d[v]]=!0;for(d=0;d<i.length;d++)v=a.hasOwnProperty("$"+i[d].value),i[d].selected!==v&&(i[d].selected=v),v&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Fe(d),a=null,v=0;v<i.length;v++){if(i[v].value===d){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function Pl(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Rl(i,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(St(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}i._wrapperState={initialValue:Fe(d)}}function Uu(i,a){var d=Fe(a.value),p=Fe(a.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),a.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),p!=null&&(i.defaultValue=""+p)}function Ws(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function kl(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?kl(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var qs,Bu=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,p,v){MSApp.execUnsafeLocalFunction(function(){return i(a,d,p,v)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=qs.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Qi(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var Gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ju=["Webkit","ms","Moz","O"];Object.keys(Gs).forEach(function(i){ju.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Gs[a]=Gs[i]})});function Ks(i,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Gs.hasOwnProperty(i)&&Gs[i]?(""+a).trim():a+"px"}function ra(i,a){i=i.style;for(var d in a)if(a.hasOwnProperty(d)){var p=d.indexOf("--")===0,v=Ks(d,a[d],p);d==="float"&&(d="cssFloat"),p?i.setProperty(d,v):i[d]=v}}var Nl=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function or(i,a){if(a){if(Nl[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function sa(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=null;function ia(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var os=null,as=null,gt=null;function Dl(i){if(i=oc(i)){if(typeof os!="function")throw Error(n(280));var a=i.stateNode;a&&(a=pd(a),os(i.stateNode,i.type,a))}}function Qs(i){as?gt?gt.push(i):gt=[i]:as=i}function Xs(){if(as){var i=as,a=gt;if(gt=as=null,Dl(i),a)for(i=0;i<a.length;i++)Dl(a[i])}}function zu(i,a){return i(a)}function $u(){}var Cr=!1;function Hu(i,a,d){if(Cr)return i(a,d);Cr=!0;try{return zu(i,a,d)}finally{Cr=!1,(as!==null||gt!==null)&&($u(),Xs())}}function Xi(i,a){var d=i.stateNode;if(d===null)return null;var p=pd(d);if(p===null)return null;d=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Js=!1;if(u)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Js=!1}function Wu(i,a,d,p,v,_,I,U,$){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(d,ee)}catch(ce){this.onError(ce)}}var ls=!1,Ar=null,oa=!1,$n=null,qu={onError:function(i){ls=!0,Ar=i}};function Gu(i,a,d,p,v,_,I,U,$){ls=!1,Ar=null,Wu.apply(qu,arguments)}function Ml(i,a,d,p,v,_,I,U,$){if(Gu.apply(this,arguments),ls){if(ls){var ee=Ar;ls=!1,Ar=null}else throw Error(n(198));oa||(oa=!0,$n=ee)}}function ar(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function Ll(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Ku(i){if(ar(i)!==i)throw Error(n(188))}function Yu(i){var a=i.alternate;if(!a){if(a=ar(i),a===null)throw Error(n(188));return a!==i?null:i}for(var d=i,p=a;;){var v=d.return;if(v===null)break;var _=v.alternate;if(_===null){if(p=v.return,p!==null){d=p;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===d)return Ku(v),i;if(_===p)return Ku(v),a;_=_.sibling}throw Error(n(188))}if(d.return!==p.return)d=v,p=_;else{for(var I=!1,U=v.child;U;){if(U===d){I=!0,d=v,p=_;break}if(U===p){I=!0,p=v,d=_;break}U=U.sibling}if(!I){for(U=_.child;U;){if(U===d){I=!0,d=_,p=v;break}if(U===p){I=!0,p=_,d=v;break}U=U.sibling}if(!I)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:a}function Qu(i){return i=Yu(i),i!==null?Ji(i):null}function Ji(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Ji(i);if(a!==null)return a;i=i.sibling}return null}var Ol=e.unstable_scheduleCallback,aa=e.unstable_cancelCallback,Zi=e.unstable_shouldYield,cs=e.unstable_requestPaint,st=e.unstable_now,ep=e.unstable_getCurrentPriorityLevel,la=e.unstable_ImmediatePriority,Vl=e.unstable_UserBlockingPriority,eo=e.unstable_NormalPriority,Fl=e.unstable_LowPriority,ca=e.unstable_IdlePriority,to=null,Pn=null;function Xu(i){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(to,i,void 0,(i.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:no,Pr=Math.log,Hn=Math.LN2;function no(i){return i>>>=0,i===0?32:31-(Pr(i)/Hn|0)|0}var Rr=64,ei=4194304;function Ke(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function us(i,a){var d=i.pendingLanes;if(d===0)return 0;var p=0,v=i.suspendedLanes,_=i.pingedLanes,I=d&268435455;if(I!==0){var U=I&~v;U!==0?p=Ke(U):(_&=I,_!==0&&(p=Ke(_)))}else I=d&~v,I!==0?p=Ke(I):_!==0&&(p=Ke(_));if(p===0)return 0;if(a!==0&&a!==p&&(a&v)===0&&(v=p&-p,_=a&-a,v>=_||v===16&&(_&4194240)!==0))return a;if((p&4)!==0&&(p|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=p;0<a;)d=31-Rn(a),v=1<<d,p|=i[d],a&=~v;return p}function ro(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(i,a){for(var d=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes;0<_;){var I=31-Rn(_),U=1<<I,$=v[I];$===-1?((U&d)===0||(U&p)!==0)&&(v[I]=ro(U,a)):$<=a&&(i.expiredLanes|=U),_&=~U}}function Ul(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Bl(){var i=Rr;return Rr<<=1,(Rr&4194240)===0&&(Rr=64),i}function jl(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function io(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Rn(a),i[a]=d}function tp(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<d;){var v=31-Rn(d),_=1<<v;a[v]=0,p[v]=-1,i[v]=-1,d&=~_}}function zl(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var p=31-Rn(d),v=1<<p;v&a|i[p]&a&&(i[p]|=a),d&=~v}}var $e=0;function kr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var $l,ua,Hl,Wl,ql,Nr=!1,da=[],Dr=null,Mr=null,Ht=null,oo=new Map,ds=new Map,kn=[],Ju="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ti(i,a){switch(i){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":oo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(a.pointerId)}}function lr(i,a,d,p,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:a,domEventName:d,eventSystemFlags:p,nativeEvent:_,targetContainers:[v]},a!==null&&(a=oc(a),a!==null&&ua(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function Zu(i,a,d,p,v){switch(a){case"focusin":return Dr=lr(Dr,i,a,d,p,v),!0;case"dragenter":return Mr=lr(Mr,i,a,d,p,v),!0;case"mouseover":return Ht=lr(Ht,i,a,d,p,v),!0;case"pointerover":var _=v.pointerId;return oo.set(_,lr(oo.get(_)||null,i,a,d,p,v)),!0;case"gotpointercapture":return _=v.pointerId,ds.set(_,lr(ds.get(_)||null,i,a,d,p,v)),!0}return!1}function ha(i){var a=uo(i.target);if(a!==null){var d=ar(a);if(d!==null){if(a=d.tag,a===13){if(a=Ll(d),a!==null){i.blockedOn=a,ql(i.priority,function(){Hl(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tt(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=fa(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Ys=p,d.target.dispatchEvent(p),Ys=null}else return a=oc(d),a!==null&&ua(a),i.blockedOn=d,!1;a.shift()}return!0}function ed(i,a,d){tt(i)&&d.delete(a)}function np(){Nr=!1,Dr!==null&&tt(Dr)&&(Dr=null),Mr!==null&&tt(Mr)&&(Mr=null),Ht!==null&&tt(Ht)&&(Ht=null),oo.forEach(ed),ds.forEach(ed)}function ni(i,a){i.blockedOn===a&&(i.blockedOn=null,Nr||(Nr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,np)))}function ri(i){function a(v){return ni(v,i)}if(0<da.length){ni(da[0],i);for(var d=1;d<da.length;d++){var p=da[d];p.blockedOn===i&&(p.blockedOn=null)}}for(Dr!==null&&ni(Dr,i),Mr!==null&&ni(Mr,i),Ht!==null&&ni(Ht,i),oo.forEach(a),ds.forEach(a),d=0;d<kn.length;d++)p=kn[d],p.blockedOn===i&&(p.blockedOn=null);for(;0<kn.length&&(d=kn[0],d.blockedOn===null);)ha(d),d.blockedOn===null&&kn.shift()}var hs=z.ReactCurrentBatchConfig,fs=!0;function Lr(i,a,d,p){var v=$e,_=hs.transition;hs.transition=null;try{$e=1,Gl(i,a,d,p)}finally{$e=v,hs.transition=_}}function td(i,a,d,p){var v=$e,_=hs.transition;hs.transition=null;try{$e=4,Gl(i,a,d,p)}finally{$e=v,hs.transition=_}}function Gl(i,a,d,p){if(fs){var v=fa(i,a,d,p);if(v===null)fp(i,a,p,Or,d),ti(i,p);else if(Zu(v,i,a,d,p))p.stopPropagation();else if(ti(i,p),a&4&&-1<Ju.indexOf(i)){for(;v!==null;){var _=oc(v);if(_!==null&&$l(_),_=fa(i,a,d,p),_===null&&fp(i,a,p,Or,d),_===v)break;v=_}v!==null&&p.stopPropagation()}else fp(i,a,p,null,d)}}var Or=null;function fa(i,a,d,p){if(Or=null,i=ia(p),i=uo(i),i!==null)if(a=ar(i),a===null)i=null;else if(d=a.tag,d===13){if(i=Ll(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Or=i,null}function pa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ep()){case la:return 1;case Vl:return 4;case eo:case Fl:return 16;case ca:return 536870912;default:return 16}default:return 16}}var Nn=null,ma=null,ps=null;function nd(){if(ps)return ps;var i,a=ma,d=a.length,p,v="value"in Nn?Nn.value:Nn.textContent,_=v.length;for(i=0;i<d&&a[i]===v[i];i++);var I=d-i;for(p=1;p<=I&&a[d-p]===v[_-p];p++);return ps=v.slice(i,1<p?1-p:void 0)}function ao(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Vr(){return!0}function Kl(){return!1}function Zt(i){function a(d,p,v,_,I){this._reactName=d,this._targetInst=v,this.type=p,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(d=i[U],this[U]=d?d(_):_[U]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Vr:Kl,this.isPropagationStopped=Kl,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),a}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Zt(Fr),si=oe({},Fr,{view:0,detail:0}),ga=Zt(si),ya,va,Dn,co=oe({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ne,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Dn&&(Dn&&i.type==="mousemove"?(ya=i.screenX-Dn.screenX,va=i.screenY-Dn.screenY):va=ya=0,Dn=i),ya)},movementY:function(i){return"movementY"in i?i.movementY:va}}),Yl=Zt(co),rd=oe({},co,{dataTransfer:0}),sd=Zt(rd),wa=oe({},si,{relatedTarget:0}),Wt=Zt(wa),id=oe({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),od=Zt(id),ii=oe({},Fr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=Zt(ii),T=oe({},Fr,{data:0}),S=Zt(T),D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function he(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=te[i])?!!a[i]:!1}function Ne(){return he}var bt=oe({},si,{key:function(i){if(i.key){var a=D[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ao(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Q[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ne,charCode:function(i){return i.type==="keypress"?ao(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ao(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qe=Zt(bt),Rt=oe({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mn=Zt(Rt),ms=oe({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ne}),Ur=Zt(ms),Br=oe({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ea=Zt(Br),Ql=oe({},co,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),AP=Zt(Ql),PP=[9,13,27,32],rp=u&&"CompositionEvent"in window,Xl=null;u&&"documentMode"in document&&(Xl=document.documentMode);var RP=u&&"TextEvent"in window&&!Xl,G0=u&&(!rp||Xl&&8<Xl&&11>=Xl),K0=" ",Y0=!1;function Q0(i,a){switch(i){case"keyup":return PP.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _a=!1;function kP(i,a){switch(i){case"compositionend":return X0(a);case"keypress":return a.which!==32?null:(Y0=!0,K0);case"textInput":return i=a.data,i===K0&&Y0?null:i;default:return null}}function NP(i,a){if(_a)return i==="compositionend"||!rp&&Q0(i,a)?(i=nd(),ps=ma=Nn=null,_a=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return G0&&a.locale!=="ko"?null:a.data;default:return null}}var DP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!DP[i.type]:a==="textarea"}function Z0(i,a,d,p){Qs(p),a=dd(a,"onChange"),0<a.length&&(d=new lo("onChange","change",null,d,p),i.push({event:d,listeners:a}))}var Jl=null,Zl=null;function MP(i){yw(i,0)}function ad(i){var a=Ia(i);if(Cl(a))return i}function LP(i,a){if(i==="change")return a}var ew=!1;if(u){var sp;if(u){var ip="oninput"in document;if(!ip){var tw=document.createElement("div");tw.setAttribute("oninput","return;"),ip=typeof tw.oninput=="function"}sp=ip}else sp=!1;ew=sp&&(!document.documentMode||9<document.documentMode)}function nw(){Jl&&(Jl.detachEvent("onpropertychange",rw),Zl=Jl=null)}function rw(i){if(i.propertyName==="value"&&ad(Zl)){var a=[];Z0(a,Zl,i,ia(i)),Hu(MP,a)}}function OP(i,a,d){i==="focusin"?(nw(),Jl=a,Zl=d,Jl.attachEvent("onpropertychange",rw)):i==="focusout"&&nw()}function VP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ad(Zl)}function FP(i,a){if(i==="click")return ad(a)}function UP(i,a){if(i==="input"||i==="change")return ad(a)}function BP(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var cr=typeof Object.is=="function"?Object.is:BP;function ec(i,a){if(cr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),p=Object.keys(a);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var v=d[p];if(!c.call(a,v)||!cr(i[v],a[v]))return!1}return!0}function sw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iw(i,a){var d=sw(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=a&&p>=a)return{node:d,offset:a-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=sw(d)}}function ow(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?ow(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function aw(){for(var i=window,a=Hs();a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=Hs(i.document)}return a}function op(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function jP(i){var a=aw(),d=i.focusedElem,p=i.selectionRange;if(a!==d&&d&&d.ownerDocument&&ow(d.ownerDocument.documentElement,d)){if(p!==null&&op(d)){if(a=p.start,i=p.end,i===void 0&&(i=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(i,d.value.length);else if(i=(a=d.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var v=d.textContent.length,_=Math.min(p.start,v);p=p.end===void 0?_:Math.min(p.end,v),!i.extend&&_>p&&(v=p,p=_,_=v),v=iw(d,_);var I=iw(d,p);v&&I&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),i.removeAllRanges(),_>p?(i.addRange(a),i.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),i.addRange(a)))}}for(a=[],i=d;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)i=a[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var zP=u&&"documentMode"in document&&11>=document.documentMode,Ta=null,ap=null,tc=null,lp=!1;function lw(i,a,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;lp||Ta==null||Ta!==Hs(p)||(p=Ta,"selectionStart"in p&&op(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),tc&&ec(tc,p)||(tc=p,p=dd(ap,"onSelect"),0<p.length&&(a=new lo("onSelect","select",null,a,d),i.push({event:a,listeners:p}),a.target=Ta)))}function ld(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var Sa={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},cp={},cw={};u&&(cw=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function cd(i){if(cp[i])return cp[i];if(!Sa[i])return i;var a=Sa[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in cw)return cp[i]=a[d];return i}var uw=cd("animationend"),dw=cd("animationiteration"),hw=cd("animationstart"),fw=cd("transitionend"),pw=new Map,mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(i,a){pw.set(i,a),o(a,[i])}for(var up=0;up<mw.length;up++){var dp=mw[up],$P=dp.toLowerCase(),HP=dp[0].toUpperCase()+dp.slice(1);oi($P,"on"+HP)}oi(uw,"onAnimationEnd"),oi(dw,"onAnimationIteration"),oi(hw,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(fw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WP=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function gw(i,a,d){var p=i.type||"unknown-event";i.currentTarget=d,Ml(p,a,void 0,i),i.currentTarget=null}function yw(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],v=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var I=p.length-1;0<=I;I--){var U=p[I],$=U.instance,ee=U.currentTarget;if(U=U.listener,$!==_&&v.isPropagationStopped())break e;gw(v,U,ee),_=$}else for(I=0;I<p.length;I++){if(U=p[I],$=U.instance,ee=U.currentTarget,U=U.listener,$!==_&&v.isPropagationStopped())break e;gw(v,U,ee),_=$}}}if(oa)throw i=$n,oa=!1,$n=null,i}function it(i,a){var d=a[wp];d===void 0&&(d=a[wp]=new Set);var p=i+"__bubble";d.has(p)||(vw(a,i,2,!1),d.add(p))}function hp(i,a,d){var p=0;a&&(p|=4),vw(d,i,p,a)}var ud="_reactListening"+Math.random().toString(36).slice(2);function rc(i){if(!i[ud]){i[ud]=!0,r.forEach(function(d){d!=="selectionchange"&&(WP.has(d)||hp(d,!1,i),hp(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[ud]||(a[ud]=!0,hp("selectionchange",!1,a))}}function vw(i,a,d,p){switch(pa(a)){case 1:var v=Lr;break;case 4:v=td;break;default:v=Gl}d=v.bind(null,a,d,i),v=void 0,!Js||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(a,d,{capture:!0,passive:v}):i.addEventListener(a,d,!0):v!==void 0?i.addEventListener(a,d,{passive:v}):i.addEventListener(a,d,!1)}function fp(i,a,d,p,v){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var U=p.stateNode.containerInfo;if(U===v||U.nodeType===8&&U.parentNode===v)break;if(I===4)for(I=p.return;I!==null;){var $=I.tag;if(($===3||$===4)&&($=I.stateNode.containerInfo,$===v||$.nodeType===8&&$.parentNode===v))return;I=I.return}for(;U!==null;){if(I=uo(U),I===null)return;if($=I.tag,$===5||$===6){p=_=I;continue e}U=U.parentNode}}p=p.return}Hu(function(){var ee=_,ce=ia(d),ue=[];e:{var le=pw.get(i);if(le!==void 0){var pe=lo,ye=i;switch(i){case"keypress":if(ao(d)===0)break e;case"keydown":case"keyup":pe=Qe;break;case"focusin":ye="focus",pe=Wt;break;case"focusout":ye="blur",pe=Wt;break;case"beforeblur":case"afterblur":pe=Wt;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Ur;break;case uw:case dw:case hw:pe=od;break;case fw:pe=Ea;break;case"scroll":pe=ga;break;case"wheel":pe=AP;break;case"copy":case"cut":case"paste":pe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Mn}var ve=(a&4)!==0,xt=!ve&&i==="scroll",Y=ve?le!==null?le+"Capture":null:le;ve=[];for(var W=ee,J;W!==null;){J=W;var de=J.stateNode;if(J.tag===5&&de!==null&&(J=de,Y!==null&&(de=Xi(W,Y),de!=null&&ve.push(sc(W,de,J)))),xt)break;W=W.return}0<ve.length&&(le=new pe(le,ye,null,d,ce),ue.push({event:le,listeners:ve}))}}if((a&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",le&&d!==Ys&&(ye=d.relatedTarget||d.fromElement)&&(uo(ye)||ye[gs]))break e;if((pe||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,pe?(ye=d.relatedTarget||d.toElement,pe=ee,ye=ye?uo(ye):null,ye!==null&&(xt=ar(ye),ye!==xt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=ee),pe!==ye)){if(ve=Yl,de="onMouseLeave",Y="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(ve=Mn,de="onPointerLeave",Y="onPointerEnter",W="pointer"),xt=pe==null?le:Ia(pe),J=ye==null?le:Ia(ye),le=new ve(de,W+"leave",pe,d,ce),le.target=xt,le.relatedTarget=J,de=null,uo(ce)===ee&&(ve=new ve(Y,W+"enter",ye,d,ce),ve.target=J,ve.relatedTarget=xt,de=ve),xt=de,pe&&ye)t:{for(ve=pe,Y=ye,W=0,J=ve;J;J=ba(J))W++;for(J=0,de=Y;de;de=ba(de))J++;for(;0<W-J;)ve=ba(ve),W--;for(;0<J-W;)Y=ba(Y),J--;for(;W--;){if(ve===Y||Y!==null&&ve===Y.alternate)break t;ve=ba(ve),Y=ba(Y)}ve=null}else ve=null;pe!==null&&ww(ue,le,pe,ve,!1),ye!==null&&xt!==null&&ww(ue,xt,ye,ve,!0)}}e:{if(le=ee?Ia(ee):window,pe=le.nodeName&&le.nodeName.toLowerCase(),pe==="select"||pe==="input"&&le.type==="file")var Ee=LP;else if(J0(le))if(ew)Ee=UP;else{Ee=VP;var Se=OP}else(pe=le.nodeName)&&pe.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ee=FP);if(Ee&&(Ee=Ee(i,ee))){Z0(ue,Ee,d,ce);break e}Se&&Se(i,le,ee),i==="focusout"&&(Se=le._wrapperState)&&Se.controlled&&le.type==="number"&&Pt(le,"number",le.value)}switch(Se=ee?Ia(ee):window,i){case"focusin":(J0(Se)||Se.contentEditable==="true")&&(Ta=Se,ap=ee,tc=null);break;case"focusout":tc=ap=Ta=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,lw(ue,d,ce);break;case"selectionchange":if(zP)break;case"keydown":case"keyup":lw(ue,d,ce)}var be;if(rp)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else _a?Q0(i,d)&&(Re="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Re="onCompositionStart");Re&&(G0&&d.locale!=="ko"&&(_a||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&_a&&(be=nd()):(Nn=ce,ma="value"in Nn?Nn.value:Nn.textContent,_a=!0)),Se=dd(ee,Re),0<Se.length&&(Re=new S(Re,i,null,d,ce),ue.push({event:Re,listeners:Se}),be?Re.data=be:(be=X0(d),be!==null&&(Re.data=be)))),(be=RP?kP(i,d):NP(i,d))&&(ee=dd(ee,"onBeforeInput"),0<ee.length&&(ce=new S("onBeforeInput","beforeinput",null,d,ce),ue.push({event:ce,listeners:ee}),ce.data=be))}yw(ue,a)})}function sc(i,a,d){return{instance:i,listener:a,currentTarget:d}}function dd(i,a){for(var d=a+"Capture",p=[];i!==null;){var v=i,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=Xi(i,d),_!=null&&p.unshift(sc(i,_,v)),_=Xi(i,a),_!=null&&p.push(sc(i,_,v))),i=i.return}return p}function ba(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ww(i,a,d,p,v){for(var _=a._reactName,I=[];d!==null&&d!==p;){var U=d,$=U.alternate,ee=U.stateNode;if($!==null&&$===p)break;U.tag===5&&ee!==null&&(U=ee,v?($=Xi(d,_),$!=null&&I.unshift(sc(d,$,U))):v||($=Xi(d,_),$!=null&&I.push(sc(d,$,U)))),d=d.return}I.length!==0&&i.push({event:a,listeners:I})}var qP=/\r\n?/g,GP=/\u0000|\uFFFD/g;function Ew(i){return(typeof i=="string"?i:""+i).replace(qP,`
`).replace(GP,"")}function hd(i,a,d){if(a=Ew(a),Ew(i)!==a&&d)throw Error(n(425))}function fd(){}var pp=null,mp=null;function gp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,KP=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,YP=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(i){return _w.resolve(null).then(i).catch(QP)}:yp;function QP(i){setTimeout(function(){throw i})}function vp(i,a){var d=a,p=0;do{var v=d.nextSibling;if(i.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(p===0){i.removeChild(v),ri(a);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=v}while(d);ri(a)}function ai(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Tw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return i;a--}else d==="/$"&&a++}i=i.previousSibling}return null}var xa=Math.random().toString(36).slice(2),jr="__reactFiber$"+xa,ic="__reactProps$"+xa,gs="__reactContainer$"+xa,wp="__reactEvents$"+xa,XP="__reactListeners$"+xa,JP="__reactHandles$"+xa;function uo(i){var a=i[jr];if(a)return a;for(var d=i.parentNode;d;){if(a=d[gs]||d[jr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=Tw(i);i!==null;){if(d=i[jr])return d;i=Tw(i)}return a}i=d,d=i.parentNode}return null}function oc(i){return i=i[jr]||i[gs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ia(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function pd(i){return i[ic]||null}var Ep=[],Ca=-1;function li(i){return{current:i}}function ot(i){0>Ca||(i.current=Ep[Ca],Ep[Ca]=null,Ca--)}function rt(i,a){Ca++,Ep[Ca]=i.current,i.current=a}var ci={},en=li(ci),yn=li(!1),ho=ci;function Aa(i,a){var d=i.type.contextTypes;if(!d)return ci;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in d)v[_]=a[_];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=v),v}function vn(i){return i=i.childContextTypes,i!=null}function md(){ot(yn),ot(en)}function Sw(i,a,d){if(en.current!==ci)throw Error(n(168));rt(en,a),rt(yn,d)}function bw(i,a,d){var p=i.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var v in p)if(!(v in a))throw Error(n(108,ze(i)||"Unknown",v));return oe({},d,p)}function gd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ci,ho=en.current,rt(en,i),rt(yn,yn.current),!0}function xw(i,a,d){var p=i.stateNode;if(!p)throw Error(n(169));d?(i=bw(i,a,ho),p.__reactInternalMemoizedMergedChildContext=i,ot(yn),ot(en),rt(en,i)):ot(yn),rt(yn,d)}var ys=null,yd=!1,_p=!1;function Iw(i){ys===null?ys=[i]:ys.push(i)}function ZP(i){yd=!0,Iw(i)}function ui(){if(!_p&&ys!==null){_p=!0;var i=0,a=$e;try{var d=ys;for($e=1;i<d.length;i++){var p=d[i];do p=p(!0);while(p!==null)}ys=null,yd=!1}catch(v){throw ys!==null&&(ys=ys.slice(i+1)),Ol(la,ui),v}finally{$e=a,_p=!1}}return null}var Pa=[],Ra=0,vd=null,wd=0,Wn=[],qn=0,fo=null,vs=1,ws="";function po(i,a){Pa[Ra++]=wd,Pa[Ra++]=vd,vd=i,wd=a}function Cw(i,a,d){Wn[qn++]=vs,Wn[qn++]=ws,Wn[qn++]=fo,fo=i;var p=vs;i=ws;var v=32-Rn(p)-1;p&=~(1<<v),d+=1;var _=32-Rn(a)+v;if(30<_){var I=v-v%5;_=(p&(1<<I)-1).toString(32),p>>=I,v-=I,vs=1<<32-Rn(a)+v|d<<v|p,ws=_+i}else vs=1<<_|d<<v|p,ws=i}function Tp(i){i.return!==null&&(po(i,1),Cw(i,1,0))}function Sp(i){for(;i===vd;)vd=Pa[--Ra],Pa[Ra]=null,wd=Pa[--Ra],Pa[Ra]=null;for(;i===fo;)fo=Wn[--qn],Wn[qn]=null,ws=Wn[--qn],Wn[qn]=null,vs=Wn[--qn],Wn[qn]=null}var Ln=null,On=null,at=!1,ur=null;function Aw(i,a){var d=Qn(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function Pw(i,a){switch(i.tag){case 5:var d=i.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Ln=i,On=ai(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Ln=i,On=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=fo!==null?{id:vs,overflow:ws}:null,i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Qn(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,Ln=i,On=null,!0):!1;default:return!1}}function bp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function xp(i){if(at){var a=On;if(a){var d=a;if(!Pw(i,a)){if(bp(i))throw Error(n(418));a=ai(d.nextSibling);var p=Ln;a&&Pw(i,a)?Aw(p,d):(i.flags=i.flags&-4097|2,at=!1,Ln=i)}}else{if(bp(i))throw Error(n(418));i.flags=i.flags&-4097|2,at=!1,Ln=i}}}function Rw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ln=i}function Ed(i){if(i!==Ln)return!1;if(!at)return Rw(i),at=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!gp(i.type,i.memoizedProps)),a&&(a=On)){if(bp(i))throw kw(),Error(n(418));for(;a;)Aw(i,a),a=ai(a.nextSibling)}if(Rw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(a===0){On=ai(i.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}i=i.nextSibling}On=null}}else On=Ln?ai(i.stateNode.nextSibling):null;return!0}function kw(){for(var i=On;i;)i=ai(i.nextSibling)}function ka(){On=Ln=null,at=!1}function Ip(i){ur===null?ur=[i]:ur.push(i)}var eR=z.ReactCurrentBatchConfig;function ac(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var p=d.stateNode}if(!p)throw Error(n(147,i));var v=p,_=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(I){var U=v.refs;I===null?delete U[_]:U[_]=I},a._stringRef=_,a)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function _d(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Nw(i){var a=i._init;return a(i._payload)}function Dw(i){function a(Y,W){if(i){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function d(Y,W){if(!i)return null;for(;W!==null;)a(Y,W),W=W.sibling;return null}function p(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function v(Y,W){return Y=vi(Y,W),Y.index=0,Y.sibling=null,Y}function _(Y,W,J){return Y.index=J,i?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=2,W):J):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function I(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,W,J,de){return W===null||W.tag!==6?(W=ym(J,Y.mode,de),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function $(Y,W,J,de){var Ee=J.type;return Ee===F?ce(Y,W,J.props.children,de,J.key):W!==null&&(W.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ne&&Nw(Ee)===W.type)?(de=v(W,J.props),de.ref=ac(Y,W,J),de.return=Y,de):(de=Wd(J.type,J.key,J.props,null,Y.mode,de),de.ref=ac(Y,W,J),de.return=Y,de)}function ee(Y,W,J,de){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=vm(J,Y.mode,de),W.return=Y,W):(W=v(W,J.children||[]),W.return=Y,W)}function ce(Y,W,J,de,Ee){return W===null||W.tag!==7?(W=To(J,Y.mode,de,Ee),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function ue(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=ym(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case q:return J=Wd(W.type,W.key,W.props,null,Y.mode,J),J.ref=ac(Y,null,W),J.return=Y,J;case re:return W=vm(W,Y.mode,J),W.return=Y,W;case ne:var de=W._init;return ue(Y,de(W._payload),J)}if(St(W)||Z(W))return W=To(W,Y.mode,J,null),W.return=Y,W;_d(Y,W)}return null}function le(Y,W,J,de){var Ee=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ee!==null?null:U(Y,W,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case q:return J.key===Ee?$(Y,W,J,de):null;case re:return J.key===Ee?ee(Y,W,J,de):null;case ne:return Ee=J._init,le(Y,W,Ee(J._payload),de)}if(St(J)||Z(J))return Ee!==null?null:ce(Y,W,J,de,null);_d(Y,J)}return null}function pe(Y,W,J,de,Ee){if(typeof de=="string"&&de!==""||typeof de=="number")return Y=Y.get(J)||null,U(W,Y,""+de,Ee);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case q:return Y=Y.get(de.key===null?J:de.key)||null,$(W,Y,de,Ee);case re:return Y=Y.get(de.key===null?J:de.key)||null,ee(W,Y,de,Ee);case ne:var Se=de._init;return pe(Y,W,J,Se(de._payload),Ee)}if(St(de)||Z(de))return Y=Y.get(J)||null,ce(W,Y,de,Ee,null);_d(W,de)}return null}function ye(Y,W,J,de){for(var Ee=null,Se=null,be=W,Re=W=0,jt=null;be!==null&&Re<J.length;Re++){be.index>Re?(jt=be,be=null):jt=be.sibling;var qe=le(Y,be,J[Re],de);if(qe===null){be===null&&(be=jt);break}i&&be&&qe.alternate===null&&a(Y,be),W=_(qe,W,Re),Se===null?Ee=qe:Se.sibling=qe,Se=qe,be=jt}if(Re===J.length)return d(Y,be),at&&po(Y,Re),Ee;if(be===null){for(;Re<J.length;Re++)be=ue(Y,J[Re],de),be!==null&&(W=_(be,W,Re),Se===null?Ee=be:Se.sibling=be,Se=be);return at&&po(Y,Re),Ee}for(be=p(Y,be);Re<J.length;Re++)jt=pe(be,Y,Re,J[Re],de),jt!==null&&(i&&jt.alternate!==null&&be.delete(jt.key===null?Re:jt.key),W=_(jt,W,Re),Se===null?Ee=jt:Se.sibling=jt,Se=jt);return i&&be.forEach(function(wi){return a(Y,wi)}),at&&po(Y,Re),Ee}function ve(Y,W,J,de){var Ee=Z(J);if(typeof Ee!="function")throw Error(n(150));if(J=Ee.call(J),J==null)throw Error(n(151));for(var Se=Ee=null,be=W,Re=W=0,jt=null,qe=J.next();be!==null&&!qe.done;Re++,qe=J.next()){be.index>Re?(jt=be,be=null):jt=be.sibling;var wi=le(Y,be,qe.value,de);if(wi===null){be===null&&(be=jt);break}i&&be&&wi.alternate===null&&a(Y,be),W=_(wi,W,Re),Se===null?Ee=wi:Se.sibling=wi,Se=wi,be=jt}if(qe.done)return d(Y,be),at&&po(Y,Re),Ee;if(be===null){for(;!qe.done;Re++,qe=J.next())qe=ue(Y,qe.value,de),qe!==null&&(W=_(qe,W,Re),Se===null?Ee=qe:Se.sibling=qe,Se=qe);return at&&po(Y,Re),Ee}for(be=p(Y,be);!qe.done;Re++,qe=J.next())qe=pe(be,Y,Re,qe.value,de),qe!==null&&(i&&qe.alternate!==null&&be.delete(qe.key===null?Re:qe.key),W=_(qe,W,Re),Se===null?Ee=qe:Se.sibling=qe,Se=qe);return i&&be.forEach(function(DR){return a(Y,DR)}),at&&po(Y,Re),Ee}function xt(Y,W,J,de){if(typeof J=="object"&&J!==null&&J.type===F&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case q:e:{for(var Ee=J.key,Se=W;Se!==null;){if(Se.key===Ee){if(Ee=J.type,Ee===F){if(Se.tag===7){d(Y,Se.sibling),W=v(Se,J.props.children),W.return=Y,Y=W;break e}}else if(Se.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ne&&Nw(Ee)===Se.type){d(Y,Se.sibling),W=v(Se,J.props),W.ref=ac(Y,Se,J),W.return=Y,Y=W;break e}d(Y,Se);break}else a(Y,Se);Se=Se.sibling}J.type===F?(W=To(J.props.children,Y.mode,de,J.key),W.return=Y,Y=W):(de=Wd(J.type,J.key,J.props,null,Y.mode,de),de.ref=ac(Y,W,J),de.return=Y,Y=de)}return I(Y);case re:e:{for(Se=J.key;W!==null;){if(W.key===Se)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){d(Y,W.sibling),W=v(W,J.children||[]),W.return=Y,Y=W;break e}else{d(Y,W);break}else a(Y,W);W=W.sibling}W=vm(J,Y.mode,de),W.return=Y,Y=W}return I(Y);case ne:return Se=J._init,xt(Y,W,Se(J._payload),de)}if(St(J))return ye(Y,W,J,de);if(Z(J))return ve(Y,W,J,de);_d(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(d(Y,W.sibling),W=v(W,J),W.return=Y,Y=W):(d(Y,W),W=ym(J,Y.mode,de),W.return=Y,Y=W),I(Y)):d(Y,W)}return xt}var Na=Dw(!0),Mw=Dw(!1),Td=li(null),Sd=null,Da=null,Cp=null;function Ap(){Cp=Da=Sd=null}function Pp(i){var a=Td.current;ot(Td),i._currentValue=a}function Rp(i,a,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===d)break;i=i.return}}function Ma(i,a){Sd=i,Cp=Da=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(wn=!0),i.firstContext=null)}function Gn(i){var a=i._currentValue;if(Cp!==i)if(i={context:i,memoizedValue:a,next:null},Da===null){if(Sd===null)throw Error(n(308));Da=i,Sd.dependencies={lanes:0,firstContext:i}}else Da=Da.next=i;return a}var mo=null;function kp(i){mo===null?mo=[i]:mo.push(i)}function Lw(i,a,d,p){var v=a.interleaved;return v===null?(d.next=d,kp(a)):(d.next=v.next,v.next=d),a.interleaved=d,Es(i,p)}function Es(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var di=!1;function Np(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ow(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function _s(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function hi(i,a,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(We&2)!==0){var v=p.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),p.pending=a,Es(i,d)}return v=p.interleaved,v===null?(a.next=a,kp(p)):(a.next=v.next,v.next=a),p.interleaved=a,Es(i,d)}function bd(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var p=a.lanes;p&=i.pendingLanes,d|=p,a.lanes=d,zl(i,d)}}function Vw(i,a){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var v=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var I={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};_===null?v=_=I:_=_.next=I,d=d.next}while(d!==null);_===null?v=_=a:_=_.next=a}else v=_=a;d={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:p.shared,effects:p.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function xd(i,a,d,p){var v=i.updateQueue;di=!1;var _=v.firstBaseUpdate,I=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var $=U,ee=$.next;$.next=null,I===null?_=ee:I.next=ee,I=$;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,U=ce.lastBaseUpdate,U!==I&&(U===null?ce.firstBaseUpdate=ee:U.next=ee,ce.lastBaseUpdate=$))}if(_!==null){var ue=v.baseState;I=0,ce=ee=$=null,U=_;do{var le=U.lane,pe=U.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:pe,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var ye=i,ve=U;switch(le=a,pe=d,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){ue=ye.call(pe,ue,le);break e}ue=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,le=typeof ye=="function"?ye.call(pe,ue,le):ye,le==null)break e;ue=oe({},ue,le);break e;case 2:di=!0}}U.callback!==null&&U.lane!==0&&(i.flags|=64,le=v.effects,le===null?v.effects=[U]:le.push(U))}else pe={eventTime:pe,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ce===null?(ee=ce=pe,$=ue):ce=ce.next=pe,I|=le;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;le=U,U=le.next,le.next=null,v.lastBaseUpdate=le,v.shared.pending=null}}while(!0);if(ce===null&&($=ue),v.baseState=$,v.firstBaseUpdate=ee,v.lastBaseUpdate=ce,a=v.shared.interleaved,a!==null){v=a;do I|=v.lane,v=v.next;while(v!==a)}else _===null&&(v.shared.lanes=0);vo|=I,i.lanes=I,i.memoizedState=ue}}function Fw(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var p=i[a],v=p.callback;if(v!==null){if(p.callback=null,p=d,typeof v!="function")throw Error(n(191,v));v.call(p)}}}var lc={},zr=li(lc),cc=li(lc),uc=li(lc);function go(i){if(i===lc)throw Error(n(174));return i}function Dp(i,a){switch(rt(uc,a),rt(cc,i),rt(zr,lc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:na(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=na(a,i)}ot(zr),rt(zr,a)}function La(){ot(zr),ot(cc),ot(uc)}function Uw(i){go(uc.current);var a=go(zr.current),d=na(a,i.type);a!==d&&(rt(cc,i),rt(zr,d))}function Mp(i){cc.current===i&&(ot(zr),ot(cc))}var dt=li(0);function Id(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Lp=[];function Op(){for(var i=0;i<Lp.length;i++)Lp[i]._workInProgressVersionPrimary=null;Lp.length=0}var Cd=z.ReactCurrentDispatcher,Vp=z.ReactCurrentBatchConfig,yo=0,ht=null,Ot=null,Ut=null,Ad=!1,dc=!1,hc=0,tR=0;function tn(){throw Error(n(321))}function Fp(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!cr(i[d],a[d]))return!1;return!0}function Up(i,a,d,p,v,_){if(yo=_,ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Cd.current=i===null||i.memoizedState===null?iR:oR,i=d(p,v),dc){_=0;do{if(dc=!1,hc=0,25<=_)throw Error(n(301));_+=1,Ut=Ot=null,a.updateQueue=null,Cd.current=aR,i=d(p,v)}while(dc)}if(Cd.current=kd,a=Ot!==null&&Ot.next!==null,yo=0,Ut=Ot=ht=null,Ad=!1,a)throw Error(n(300));return i}function Bp(){var i=hc!==0;return hc=0,i}function $r(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ht.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Kn(){if(Ot===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var a=Ut===null?ht.memoizedState:Ut.next;if(a!==null)Ut=a,Ot=i;else{if(i===null)throw Error(n(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ut===null?ht.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function fc(i,a){return typeof a=="function"?a(i):a}function jp(i){var a=Kn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=Ot,v=p.baseQueue,_=d.pending;if(_!==null){if(v!==null){var I=v.next;v.next=_.next,_.next=I}p.baseQueue=v=_,d.pending=null}if(v!==null){_=v.next,p=p.baseState;var U=I=null,$=null,ee=_;do{var ce=ee.lane;if((yo&ce)===ce)$!==null&&($=$.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),p=ee.hasEagerState?ee.eagerState:i(p,ee.action);else{var ue={lane:ce,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};$===null?(U=$=ue,I=p):$=$.next=ue,ht.lanes|=ce,vo|=ce}ee=ee.next}while(ee!==null&&ee!==_);$===null?I=p:$.next=U,cr(p,a.memoizedState)||(wn=!0),a.memoizedState=p,a.baseState=I,a.baseQueue=$,d.lastRenderedState=p}if(i=d.interleaved,i!==null){v=i;do _=v.lane,ht.lanes|=_,vo|=_,v=v.next;while(v!==i)}else v===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function zp(i){var a=Kn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,v=d.pending,_=a.memoizedState;if(v!==null){d.pending=null;var I=v=v.next;do _=i(_,I.action),I=I.next;while(I!==v);cr(_,a.memoizedState)||(wn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),d.lastRenderedState=_}return[_,p]}function Bw(){}function jw(i,a){var d=ht,p=Kn(),v=a(),_=!cr(p.memoizedState,v);if(_&&(p.memoizedState=v,wn=!0),p=p.queue,$p(Hw.bind(null,d,p,i),[i]),p.getSnapshot!==a||_||Ut!==null&&Ut.memoizedState.tag&1){if(d.flags|=2048,pc(9,$w.bind(null,d,p,v,a),void 0,null),Bt===null)throw Error(n(349));(yo&30)!==0||zw(d,a,v)}return v}function zw(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=ht.updateQueue,a===null?(a={lastEffect:null,stores:null},ht.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function $w(i,a,d,p){a.value=d,a.getSnapshot=p,Ww(a)&&qw(i)}function Hw(i,a,d){return d(function(){Ww(a)&&qw(i)})}function Ww(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!cr(i,d)}catch{return!0}}function qw(i){var a=Es(i,1);a!==null&&pr(a,i,1,-1)}function Gw(i){var a=$r();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:i},a.queue=i,i=i.dispatch=sR.bind(null,ht,i),[a.memoizedState,i]}function pc(i,a,d,p){return i={tag:i,create:a,destroy:d,deps:p,next:null},a=ht.updateQueue,a===null?(a={lastEffect:null,stores:null},ht.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,a.lastEffect=i)),i}function Kw(){return Kn().memoizedState}function Pd(i,a,d,p){var v=$r();ht.flags|=i,v.memoizedState=pc(1|a,d,void 0,p===void 0?null:p)}function Rd(i,a,d,p){var v=Kn();p=p===void 0?null:p;var _=void 0;if(Ot!==null){var I=Ot.memoizedState;if(_=I.destroy,p!==null&&Fp(p,I.deps)){v.memoizedState=pc(a,d,_,p);return}}ht.flags|=i,v.memoizedState=pc(1|a,d,_,p)}function Yw(i,a){return Pd(8390656,8,i,a)}function $p(i,a){return Rd(2048,8,i,a)}function Qw(i,a){return Rd(4,2,i,a)}function Xw(i,a){return Rd(4,4,i,a)}function Jw(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Zw(i,a,d){return d=d!=null?d.concat([i]):null,Rd(4,4,Jw.bind(null,a,i),d)}function Hp(){}function eE(i,a){var d=Kn();a=a===void 0?null:a;var p=d.memoizedState;return p!==null&&a!==null&&Fp(a,p[1])?p[0]:(d.memoizedState=[i,a],i)}function tE(i,a){var d=Kn();a=a===void 0?null:a;var p=d.memoizedState;return p!==null&&a!==null&&Fp(a,p[1])?p[0]:(i=i(),d.memoizedState=[i,a],i)}function nE(i,a,d){return(yo&21)===0?(i.baseState&&(i.baseState=!1,wn=!0),i.memoizedState=d):(cr(d,a)||(d=Bl(),ht.lanes|=d,vo|=d,i.baseState=!0),a)}function nR(i,a){var d=$e;$e=d!==0&&4>d?d:4,i(!0);var p=Vp.transition;Vp.transition={};try{i(!1),a()}finally{$e=d,Vp.transition=p}}function rE(){return Kn().memoizedState}function rR(i,a,d){var p=gi(i);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},sE(i))iE(a,d);else if(d=Lw(i,a,d,p),d!==null){var v=fn();pr(d,i,p,v),oE(d,a,p)}}function sR(i,a,d){var p=gi(i),v={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(sE(i))iE(a,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var I=a.lastRenderedState,U=_(I,d);if(v.hasEagerState=!0,v.eagerState=U,cr(U,I)){var $=a.interleaved;$===null?(v.next=v,kp(a)):(v.next=$.next,$.next=v),a.interleaved=v;return}}catch{}finally{}d=Lw(i,a,v,p),d!==null&&(v=fn(),pr(d,i,p,v),oE(d,a,p))}}function sE(i){var a=i.alternate;return i===ht||a!==null&&a===ht}function iE(i,a){dc=Ad=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function oE(i,a,d){if((d&4194240)!==0){var p=a.lanes;p&=i.pendingLanes,d|=p,a.lanes=d,zl(i,d)}}var kd={readContext:Gn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},iR={readContext:Gn,useCallback:function(i,a){return $r().memoizedState=[i,a===void 0?null:a],i},useContext:Gn,useEffect:Yw,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,Pd(4194308,4,Jw.bind(null,a,i),d)},useLayoutEffect:function(i,a){return Pd(4194308,4,i,a)},useInsertionEffect:function(i,a){return Pd(4,2,i,a)},useMemo:function(i,a){var d=$r();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var p=$r();return a=d!==void 0?d(a):a,p.memoizedState=p.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},p.queue=i,i=i.dispatch=rR.bind(null,ht,i),[p.memoizedState,i]},useRef:function(i){var a=$r();return i={current:i},a.memoizedState=i},useState:Gw,useDebugValue:Hp,useDeferredValue:function(i){return $r().memoizedState=i},useTransition:function(){var i=Gw(!1),a=i[0];return i=nR.bind(null,i[1]),$r().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var p=ht,v=$r();if(at){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),Bt===null)throw Error(n(349));(yo&30)!==0||zw(p,a,d)}v.memoizedState=d;var _={value:d,getSnapshot:a};return v.queue=_,Yw(Hw.bind(null,p,_,i),[i]),p.flags|=2048,pc(9,$w.bind(null,p,_,d,a),void 0,null),d},useId:function(){var i=$r(),a=Bt.identifierPrefix;if(at){var d=ws,p=vs;d=(p&~(1<<32-Rn(p)-1)).toString(32)+d,a=":"+a+"R"+d,d=hc++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=tR++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},oR={readContext:Gn,useCallback:eE,useContext:Gn,useEffect:$p,useImperativeHandle:Zw,useInsertionEffect:Qw,useLayoutEffect:Xw,useMemo:tE,useReducer:jp,useRef:Kw,useState:function(){return jp(fc)},useDebugValue:Hp,useDeferredValue:function(i){var a=Kn();return nE(a,Ot.memoizedState,i)},useTransition:function(){var i=jp(fc)[0],a=Kn().memoizedState;return[i,a]},useMutableSource:Bw,useSyncExternalStore:jw,useId:rE,unstable_isNewReconciler:!1},aR={readContext:Gn,useCallback:eE,useContext:Gn,useEffect:$p,useImperativeHandle:Zw,useInsertionEffect:Qw,useLayoutEffect:Xw,useMemo:tE,useReducer:zp,useRef:Kw,useState:function(){return zp(fc)},useDebugValue:Hp,useDeferredValue:function(i){var a=Kn();return Ot===null?a.memoizedState=i:nE(a,Ot.memoizedState,i)},useTransition:function(){var i=zp(fc)[0],a=Kn().memoizedState;return[i,a]},useMutableSource:Bw,useSyncExternalStore:jw,useId:rE,unstable_isNewReconciler:!1};function dr(i,a){if(i&&i.defaultProps){a=oe({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}function Wp(i,a,d,p){a=i.memoizedState,d=d(p,a),d=d==null?a:oe({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Nd={isMounted:function(i){return(i=i._reactInternals)?ar(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var p=fn(),v=gi(i),_=_s(p,v);_.payload=a,d!=null&&(_.callback=d),a=hi(i,_,v),a!==null&&(pr(a,i,v,p),bd(a,i,v))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var p=fn(),v=gi(i),_=_s(p,v);_.tag=1,_.payload=a,d!=null&&(_.callback=d),a=hi(i,_,v),a!==null&&(pr(a,i,v,p),bd(a,i,v))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=fn(),p=gi(i),v=_s(d,p);v.tag=2,a!=null&&(v.callback=a),a=hi(i,v,p),a!==null&&(pr(a,i,p,d),bd(a,i,p))}};function aE(i,a,d,p,v,_,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,_,I):a.prototype&&a.prototype.isPureReactComponent?!ec(d,p)||!ec(v,_):!0}function lE(i,a,d){var p=!1,v=ci,_=a.contextType;return typeof _=="object"&&_!==null?_=Gn(_):(v=vn(a)?ho:en.current,p=a.contextTypes,_=(p=p!=null)?Aa(i,v):ci),a=new a(d,_),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Nd,i.stateNode=a,a._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=_),a}function cE(i,a,d,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,p),a.state!==i&&Nd.enqueueReplaceState(a,a.state,null)}function qp(i,a,d,p){var v=i.stateNode;v.props=d,v.state=i.memoizedState,v.refs={},Np(i);var _=a.contextType;typeof _=="object"&&_!==null?v.context=Gn(_):(_=vn(a)?ho:en.current,v.context=Aa(i,_)),v.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Wp(i,a,_,d),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Nd.enqueueReplaceState(v,v.state,null),xd(i,d,v,p),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Oa(i,a){try{var d="",p=a;do d+=Me(p),p=p.return;while(p);var v=d}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:a,stack:v,digest:null}}function Gp(i,a,d){return{value:i,source:null,stack:d??null,digest:a??null}}function Kp(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var lR=typeof WeakMap=="function"?WeakMap:Map;function uE(i,a,d){d=_s(-1,d),d.tag=3,d.payload={element:null};var p=a.value;return d.callback=function(){Ud||(Ud=!0,cm=p),Kp(i,a)},d}function dE(i,a,d){d=_s(-1,d),d.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var v=a.value;d.payload=function(){return p(v)},d.callback=function(){Kp(i,a)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(d.callback=function(){Kp(i,a),typeof p!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),d}function hE(i,a,d){var p=i.pingCache;if(p===null){p=i.pingCache=new lR;var v=new Set;p.set(a,v)}else v=p.get(a),v===void 0&&(v=new Set,p.set(a,v));v.has(d)||(v.add(d),i=TR.bind(null,i,a,d),a.then(i,i))}function fE(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function pE(i,a,d,p,v){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=_s(-1,1),a.tag=2,hi(d,a,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var cR=z.ReactCurrentOwner,wn=!1;function hn(i,a,d,p){a.child=i===null?Mw(a,null,d,p):Na(a,i.child,d,p)}function mE(i,a,d,p,v){d=d.render;var _=a.ref;return Ma(a,v),p=Up(i,a,d,p,_,v),d=Bp(),i!==null&&!wn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,Ts(i,a,v)):(at&&d&&Tp(a),a.flags|=1,hn(i,a,p,v),a.child)}function gE(i,a,d,p,v){if(i===null){var _=d.type;return typeof _=="function"&&!gm(_)&&_.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=_,yE(i,a,_,p,v)):(i=Wd(d.type,null,p,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(_=i.child,(i.lanes&v)===0){var I=_.memoizedProps;if(d=d.compare,d=d!==null?d:ec,d(I,p)&&i.ref===a.ref)return Ts(i,a,v)}return a.flags|=1,i=vi(_,p),i.ref=a.ref,i.return=a,a.child=i}function yE(i,a,d,p,v){if(i!==null){var _=i.memoizedProps;if(ec(_,p)&&i.ref===a.ref)if(wn=!1,a.pendingProps=p=_,(i.lanes&v)!==0)(i.flags&131072)!==0&&(wn=!0);else return a.lanes=i.lanes,Ts(i,a,v)}return Yp(i,a,d,p,v)}function vE(i,a,d){var p=a.pendingProps,v=p.children,_=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Fa,Vn),Vn|=d;else{if((d&1073741824)===0)return i=_!==null?_.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,rt(Fa,Vn),Vn|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:d,rt(Fa,Vn),Vn|=p}else _!==null?(p=_.baseLanes|d,a.memoizedState=null):p=d,rt(Fa,Vn),Vn|=p;return hn(i,a,v,d),a.child}function wE(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Yp(i,a,d,p,v){var _=vn(d)?ho:en.current;return _=Aa(a,_),Ma(a,v),d=Up(i,a,d,p,_,v),p=Bp(),i!==null&&!wn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,Ts(i,a,v)):(at&&p&&Tp(a),a.flags|=1,hn(i,a,d,v),a.child)}function EE(i,a,d,p,v){if(vn(d)){var _=!0;gd(a)}else _=!1;if(Ma(a,v),a.stateNode===null)Md(i,a),lE(a,d,p),qp(a,d,p,v),p=!0;else if(i===null){var I=a.stateNode,U=a.memoizedProps;I.props=U;var $=I.context,ee=d.contextType;typeof ee=="object"&&ee!==null?ee=Gn(ee):(ee=vn(d)?ho:en.current,ee=Aa(a,ee));var ce=d.getDerivedStateFromProps,ue=typeof ce=="function"||typeof I.getSnapshotBeforeUpdate=="function";ue||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(U!==p||$!==ee)&&cE(a,I,p,ee),di=!1;var le=a.memoizedState;I.state=le,xd(a,p,I,v),$=a.memoizedState,U!==p||le!==$||yn.current||di?(typeof ce=="function"&&(Wp(a,d,ce,p),$=a.memoizedState),(U=di||aE(a,d,U,p,le,$,ee))?(ue||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=$),I.props=p,I.state=$,I.context=ee,p=U):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{I=a.stateNode,Ow(i,a),U=a.memoizedProps,ee=a.type===a.elementType?U:dr(a.type,U),I.props=ee,ue=a.pendingProps,le=I.context,$=d.contextType,typeof $=="object"&&$!==null?$=Gn($):($=vn(d)?ho:en.current,$=Aa(a,$));var pe=d.getDerivedStateFromProps;(ce=typeof pe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(U!==ue||le!==$)&&cE(a,I,p,$),di=!1,le=a.memoizedState,I.state=le,xd(a,p,I,v);var ye=a.memoizedState;U!==ue||le!==ye||yn.current||di?(typeof pe=="function"&&(Wp(a,d,pe,p),ye=a.memoizedState),(ee=di||aE(a,d,ee,p,le,ye,$)||!1)?(ce||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,ye,$),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,ye,$)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||U===i.memoizedProps&&le===i.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&le===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ye),I.props=p,I.state=ye,I.context=$,p=ee):(typeof I.componentDidUpdate!="function"||U===i.memoizedProps&&le===i.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&le===i.memoizedState||(a.flags|=1024),p=!1)}return Qp(i,a,d,p,_,v)}function Qp(i,a,d,p,v,_){wE(i,a);var I=(a.flags&128)!==0;if(!p&&!I)return v&&xw(a,d,!1),Ts(i,a,_);p=a.stateNode,cR.current=a;var U=I&&typeof d.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,i!==null&&I?(a.child=Na(a,i.child,null,_),a.child=Na(a,null,U,_)):hn(i,a,U,_),a.memoizedState=p.state,v&&xw(a,d,!0),a.child}function _E(i){var a=i.stateNode;a.pendingContext?Sw(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Sw(i,a.context,!1),Dp(i,a.containerInfo)}function TE(i,a,d,p,v){return ka(),Ip(v),a.flags|=256,hn(i,a,d,p),a.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Jp(i){return{baseLanes:i,cachePool:null,transitions:null}}function SE(i,a,d){var p=a.pendingProps,v=dt.current,_=!1,I=(a.flags&128)!==0,U;if((U=I)||(U=i!==null&&i.memoizedState===null?!1:(v&2)!==0),U?(_=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),rt(dt,v&1),i===null)return xp(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(I=p.children,i=p.fallback,_?(p=a.mode,_=a.child,I={mode:"hidden",children:I},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=I):_=qd(I,p,0,null),i=To(i,p,d,null),_.return=a,i.return=a,_.sibling=i,a.child=_,a.child.memoizedState=Jp(d),a.memoizedState=Xp,i):Zp(a,I));if(v=i.memoizedState,v!==null&&(U=v.dehydrated,U!==null))return uR(i,a,I,p,U,v,d);if(_){_=p.fallback,I=a.mode,v=i.child,U=v.sibling;var $={mode:"hidden",children:p.children};return(I&1)===0&&a.child!==v?(p=a.child,p.childLanes=0,p.pendingProps=$,a.deletions=null):(p=vi(v,$),p.subtreeFlags=v.subtreeFlags&14680064),U!==null?_=vi(U,_):(_=To(_,I,d,null),_.flags|=2),_.return=a,p.return=a,p.sibling=_,a.child=p,p=_,_=a.child,I=i.child.memoizedState,I=I===null?Jp(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},_.memoizedState=I,_.childLanes=i.childLanes&~d,a.memoizedState=Xp,p}return _=i.child,i=_.sibling,p=vi(_,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=d),p.return=a,p.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=p,a.memoizedState=null,p}function Zp(i,a){return a=qd({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Dd(i,a,d,p){return p!==null&&Ip(p),Na(a,i.child,null,d),i=Zp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function uR(i,a,d,p,v,_,I){if(d)return a.flags&256?(a.flags&=-257,p=Gp(Error(n(422))),Dd(i,a,I,p)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(_=p.fallback,v=a.mode,p=qd({mode:"visible",children:p.children},v,0,null),_=To(_,v,I,null),_.flags|=2,p.return=a,_.return=a,p.sibling=_,a.child=p,(a.mode&1)!==0&&Na(a,i.child,null,I),a.child.memoizedState=Jp(I),a.memoizedState=Xp,_);if((a.mode&1)===0)return Dd(i,a,I,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var U=p.dgst;return p=U,_=Error(n(419)),p=Gp(_,p,void 0),Dd(i,a,I,p)}if(U=(I&i.childLanes)!==0,wn||U){if(p=Bt,p!==null){switch(I&-I){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|I))!==0?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,Es(i,v),pr(p,i,v,-1))}return mm(),p=Gp(Error(n(421))),Dd(i,a,I,p)}return v.data==="$?"?(a.flags|=128,a.child=i.child,a=SR.bind(null,i),v._reactRetry=a,null):(i=_.treeContext,On=ai(v.nextSibling),Ln=a,at=!0,ur=null,i!==null&&(Wn[qn++]=vs,Wn[qn++]=ws,Wn[qn++]=fo,vs=i.id,ws=i.overflow,fo=a),a=Zp(a,p.children),a.flags|=4096,a)}function bE(i,a,d){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),Rp(i.return,a,d)}function em(i,a,d,p,v){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:v}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=d,_.tailMode=v)}function xE(i,a,d){var p=a.pendingProps,v=p.revealOrder,_=p.tail;if(hn(i,a,p.children,d),p=dt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bE(i,d,a);else if(i.tag===19)bE(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(rt(dt,p),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(d=a.child,v=null;d!==null;)i=d.alternate,i!==null&&Id(i)===null&&(v=d),d=d.sibling;d=v,d===null?(v=a.child,a.child=null):(v=d.sibling,d.sibling=null),em(a,!1,v,d,_);break;case"backwards":for(d=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&Id(i)===null){a.child=v;break}i=v.sibling,v.sibling=d,d=v,v=i}em(a,!0,d,null,_);break;case"together":em(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Md(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Ts(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),vo|=a.lanes,(d&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,d=vi(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=vi(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function dR(i,a,d){switch(a.tag){case 3:_E(a),ka();break;case 5:Uw(a);break;case 1:vn(a.type)&&gd(a);break;case 4:Dp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,v=a.memoizedProps.value;rt(Td,p._currentValue),p._currentValue=v;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(rt(dt,dt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?SE(i,a,d):(rt(dt,dt.current&1),i=Ts(i,a,d),i!==null?i.sibling:null);rt(dt,dt.current&1);break;case 19:if(p=(d&a.childLanes)!==0,(i.flags&128)!==0){if(p)return xE(i,a,d);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),rt(dt,dt.current),p)break;return null;case 22:case 23:return a.lanes=0,vE(i,a,d)}return Ts(i,a,d)}var IE,tm,CE,AE;IE=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},tm=function(){},CE=function(i,a,d,p){var v=i.memoizedProps;if(v!==p){i=a.stateNode,go(zr.current);var _=null;switch(d){case"input":v=ea(i,v),p=ea(i,p),_=[];break;case"select":v=oe({},v,{value:void 0}),p=oe({},p,{value:void 0}),_=[];break;case"textarea":v=Pl(i,v),p=Pl(i,p),_=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=fd)}or(d,p);var I;d=null;for(ee in v)if(!p.hasOwnProperty(ee)&&v.hasOwnProperty(ee)&&v[ee]!=null)if(ee==="style"){var U=v[ee];for(I in U)U.hasOwnProperty(I)&&(d||(d={}),d[I]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in p){var $=p[ee];if(U=v?.[ee],p.hasOwnProperty(ee)&&$!==U&&($!=null||U!=null))if(ee==="style")if(U){for(I in U)!U.hasOwnProperty(I)||$&&$.hasOwnProperty(I)||(d||(d={}),d[I]="");for(I in $)$.hasOwnProperty(I)&&U[I]!==$[I]&&(d||(d={}),d[I]=$[I])}else d||(_||(_=[]),_.push(ee,d)),d=$;else ee==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,U=U?U.__html:void 0,$!=null&&U!==$&&(_=_||[]).push(ee,$)):ee==="children"?typeof $!="string"&&typeof $!="number"||(_=_||[]).push(ee,""+$):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?($!=null&&ee==="onScroll"&&it("scroll",i),_||U===$||(_=[])):(_=_||[]).push(ee,$))}d&&(_=_||[]).push("style",d);var ee=_;(a.updateQueue=ee)&&(a.flags|=4)}},AE=function(i,a,d,p){d!==p&&(a.flags|=4)};function mc(i,a){if(!at)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function nn(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(a)for(var v=i.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=d,a}function hR(i,a,d){var p=a.pendingProps;switch(Sp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(a),null;case 1:return vn(a.type)&&md(),nn(a),null;case 3:return p=a.stateNode,La(),ot(yn),ot(en),Op(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Ed(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ur!==null&&(hm(ur),ur=null))),tm(i,a),nn(a),null;case 5:Mp(a);var v=go(uc.current);if(d=a.type,i!==null&&a.stateNode!=null)CE(i,a,d,p,v),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return nn(a),null}if(i=go(zr.current),Ed(a)){p=a.stateNode,d=a.type;var _=a.memoizedProps;switch(p[jr]=a,p[ic]=_,i=(a.mode&1)!==0,d){case"dialog":it("cancel",p),it("close",p);break;case"iframe":case"object":case"embed":it("load",p);break;case"video":case"audio":for(v=0;v<nc.length;v++)it(nc[v],p);break;case"source":it("error",p);break;case"img":case"image":case"link":it("error",p),it("load",p);break;case"details":it("toggle",p);break;case"input":Fu(p,_),it("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},it("invalid",p);break;case"textarea":Rl(p,_),it("invalid",p)}or(d,_),v=null;for(var I in _)if(_.hasOwnProperty(I)){var U=_[I];I==="children"?typeof U=="string"?p.textContent!==U&&(_.suppressHydrationWarning!==!0&&hd(p.textContent,U,i),v=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(_.suppressHydrationWarning!==!0&&hd(p.textContent,U,i),v=["children",""+U]):s.hasOwnProperty(I)&&U!=null&&I==="onScroll"&&it("scroll",p)}switch(d){case"input":Zo(p),Al(p,_,!0);break;case"textarea":Zo(p),Ws(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=fd)}p=v,a.updateQueue=p,p!==null&&(a.flags|=4)}else{I=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kl(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=I.createElement(d,{is:p.is}):(i=I.createElement(d),d==="select"&&(I=i,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):i=I.createElementNS(i,d),i[jr]=a,i[ic]=p,IE(i,a,!1,!1),a.stateNode=i;e:{switch(I=sa(d,p),d){case"dialog":it("cancel",i),it("close",i),v=p;break;case"iframe":case"object":case"embed":it("load",i),v=p;break;case"video":case"audio":for(v=0;v<nc.length;v++)it(nc[v],i);v=p;break;case"source":it("error",i),v=p;break;case"img":case"image":case"link":it("error",i),it("load",i),v=p;break;case"details":it("toggle",i),v=p;break;case"input":Fu(i,p),v=ea(i,p),it("invalid",i);break;case"option":v=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},v=oe({},p,{value:void 0}),it("invalid",i);break;case"textarea":Rl(i,p),v=Pl(i,p),it("invalid",i);break;default:v=p}or(d,v),U=v;for(_ in U)if(U.hasOwnProperty(_)){var $=U[_];_==="style"?ra(i,$):_==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Bu(i,$)):_==="children"?typeof $=="string"?(d!=="textarea"||$!=="")&&Qi(i,$):typeof $=="number"&&Qi(i,""+$):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?$!=null&&_==="onScroll"&&it("scroll",i):$!=null&&N(i,_,$,I))}switch(d){case"input":Zo(i),Al(i,p,!1);break;case"textarea":Zo(i),Ws(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Fe(p.value));break;case"select":i.multiple=!!p.multiple,_=p.value,_!=null?ir(i,!!p.multiple,_,!1):p.defaultValue!=null&&ir(i,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=fd)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return nn(a),null;case 6:if(i&&a.stateNode!=null)AE(i,a,i.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(d=go(uc.current),go(zr.current),Ed(a)){if(p=a.stateNode,d=a.memoizedProps,p[jr]=a,(_=p.nodeValue!==d)&&(i=Ln,i!==null))switch(i.tag){case 3:hd(p.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&hd(p.nodeValue,d,(i.mode&1)!==0)}_&&(a.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[jr]=a,a.stateNode=p}return nn(a),null;case 13:if(ot(dt),p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(at&&On!==null&&(a.mode&1)!==0&&(a.flags&128)===0)kw(),ka(),a.flags|=98560,_=!1;else if(_=Ed(a),p!==null&&p.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[jr]=a}else ka(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nn(a),_=!1}else ur!==null&&(hm(ur),ur=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(dt.current&1)!==0?Vt===0&&(Vt=3):mm())),a.updateQueue!==null&&(a.flags|=4),nn(a),null);case 4:return La(),tm(i,a),i===null&&rc(a.stateNode.containerInfo),nn(a),null;case 10:return Pp(a.type._context),nn(a),null;case 17:return vn(a.type)&&md(),nn(a),null;case 19:if(ot(dt),_=a.memoizedState,_===null)return nn(a),null;if(p=(a.flags&128)!==0,I=_.rendering,I===null)if(p)mc(_,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(I=Id(i),I!==null){for(a.flags|=128,mc(_,!1),p=I.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=d,d=a.child;d!==null;)_=d,i=p,_.flags&=14680066,I=_.alternate,I===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=I.childLanes,_.lanes=I.lanes,_.child=I.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=I.memoizedProps,_.memoizedState=I.memoizedState,_.updateQueue=I.updateQueue,_.type=I.type,i=I.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return rt(dt,dt.current&1|2),a.child}i=i.sibling}_.tail!==null&&st()>Ua&&(a.flags|=128,p=!0,mc(_,!1),a.lanes=4194304)}else{if(!p)if(i=Id(I),i!==null){if(a.flags|=128,p=!0,d=i.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),mc(_,!0),_.tail===null&&_.tailMode==="hidden"&&!I.alternate&&!at)return nn(a),null}else 2*st()-_.renderingStartTime>Ua&&d!==1073741824&&(a.flags|=128,p=!0,mc(_,!1),a.lanes=4194304);_.isBackwards?(I.sibling=a.child,a.child=I):(d=_.last,d!==null?d.sibling=I:a.child=I,_.last=I)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=st(),a.sibling=null,d=dt.current,rt(dt,p?d&1|2:d&1),a):(nn(a),null);case 22:case 23:return pm(),p=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Vn&1073741824)!==0&&(nn(a),a.subtreeFlags&6&&(a.flags|=8192)):nn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function fR(i,a){switch(Sp(a),a.tag){case 1:return vn(a.type)&&md(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return La(),ot(yn),ot(en),Op(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Mp(a),null;case 13:if(ot(dt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ka()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ot(dt),null;case 4:return La(),null;case 10:return Pp(a.type._context),null;case 22:case 23:return pm(),null;case 24:return null;default:return null}}var Ld=!1,rn=!1,pR=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Va(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){yt(i,a,p)}else d.current=null}function nm(i,a,d){try{d()}catch(p){yt(i,a,p)}}var PE=!1;function mR(i,a){if(pp=fs,i=aw(),op(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var v=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var I=0,U=-1,$=-1,ee=0,ce=0,ue=i,le=null;t:for(;;){for(var pe;ue!==d||v!==0&&ue.nodeType!==3||(U=I+v),ue!==_||p!==0&&ue.nodeType!==3||($=I+p),ue.nodeType===3&&(I+=ue.nodeValue.length),(pe=ue.firstChild)!==null;)le=ue,ue=pe;for(;;){if(ue===i)break t;if(le===d&&++ee===v&&(U=I),le===_&&++ce===p&&($=I),(pe=ue.nextSibling)!==null)break;ue=le,le=ue.parentNode}ue=pe}d=U===-1||$===-1?null:{start:U,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(mp={focusedElem:i,selectionRange:d},fs=!1,ge=a;ge!==null;)if(a=ge,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,ge=i;else for(;ge!==null;){a=ge;try{var ye=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,xt=ye.memoizedState,Y=a.stateNode,W=Y.getSnapshotBeforeUpdate(a.elementType===a.type?ve:dr(a.type,ve),xt);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){yt(a,a.return,de)}if(i=a.sibling,i!==null){i.return=a.return,ge=i;break}ge=a.return}return ye=PE,PE=!1,ye}function gc(i,a,d){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&i)===i){var _=v.destroy;v.destroy=void 0,_!==void 0&&nm(a,d,_)}v=v.next}while(v!==p)}}function Od(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var p=d.create;d.destroy=p()}d=d.next}while(d!==a)}}function rm(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof a=="function"?a(i):a.current=i}}function RE(i){var a=i.alternate;a!==null&&(i.alternate=null,RE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[jr],delete a[ic],delete a[wp],delete a[XP],delete a[JP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function kE(i){return i.tag===5||i.tag===3||i.tag===4}function NE(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||kE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sm(i,a,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(i,a):d.insertBefore(i,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(i,d)):(a=d,a.appendChild(i)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=fd));else if(p!==4&&(i=i.child,i!==null))for(sm(i,a,d),i=i.sibling;i!==null;)sm(i,a,d),i=i.sibling}function im(i,a,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(im(i,a,d),i=i.sibling;i!==null;)im(i,a,d),i=i.sibling}var qt=null,hr=!1;function fi(i,a,d){for(d=d.child;d!==null;)DE(i,a,d),d=d.sibling}function DE(i,a,d){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(to,d)}catch{}switch(d.tag){case 5:rn||Va(d,a);case 6:var p=qt,v=hr;qt=null,fi(i,a,d),qt=p,hr=v,qt!==null&&(hr?(i=qt,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):qt.removeChild(d.stateNode));break;case 18:qt!==null&&(hr?(i=qt,d=d.stateNode,i.nodeType===8?vp(i.parentNode,d):i.nodeType===1&&vp(i,d),ri(i)):vp(qt,d.stateNode));break;case 4:p=qt,v=hr,qt=d.stateNode.containerInfo,hr=!0,fi(i,a,d),qt=p,hr=v;break;case 0:case 11:case 14:case 15:if(!rn&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var _=v,I=_.destroy;_=_.tag,I!==void 0&&((_&2)!==0||(_&4)!==0)&&nm(d,a,I),v=v.next}while(v!==p)}fi(i,a,d);break;case 1:if(!rn&&(Va(d,a),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(U){yt(d,a,U)}fi(i,a,d);break;case 21:fi(i,a,d);break;case 22:d.mode&1?(rn=(p=rn)||d.memoizedState!==null,fi(i,a,d),rn=p):fi(i,a,d);break;default:fi(i,a,d)}}function ME(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new pR),a.forEach(function(p){var v=bR.bind(null,i,p);d.has(p)||(d.add(p),p.then(v,v))})}}function fr(i,a){var d=a.deletions;if(d!==null)for(var p=0;p<d.length;p++){var v=d[p];try{var _=i,I=a,U=I;e:for(;U!==null;){switch(U.tag){case 5:qt=U.stateNode,hr=!1;break e;case 3:qt=U.stateNode.containerInfo,hr=!0;break e;case 4:qt=U.stateNode.containerInfo,hr=!0;break e}U=U.return}if(qt===null)throw Error(n(160));DE(_,I,v),qt=null,hr=!1;var $=v.alternate;$!==null&&($.return=null),v.return=null}catch(ee){yt(v,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)LE(a,i),a=a.sibling}function LE(i,a){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(fr(a,i),Hr(i),p&4){try{gc(3,i,i.return),Od(3,i)}catch(ve){yt(i,i.return,ve)}try{gc(5,i,i.return)}catch(ve){yt(i,i.return,ve)}}break;case 1:fr(a,i),Hr(i),p&512&&d!==null&&Va(d,d.return);break;case 5:if(fr(a,i),Hr(i),p&512&&d!==null&&Va(d,d.return),i.flags&32){var v=i.stateNode;try{Qi(v,"")}catch(ve){yt(i,i.return,ve)}}if(p&4&&(v=i.stateNode,v!=null)){var _=i.memoizedProps,I=d!==null?d.memoizedProps:_,U=i.type,$=i.updateQueue;if(i.updateQueue=null,$!==null)try{U==="input"&&_.type==="radio"&&_.name!=null&&ta(v,_),sa(U,I);var ee=sa(U,_);for(I=0;I<$.length;I+=2){var ce=$[I],ue=$[I+1];ce==="style"?ra(v,ue):ce==="dangerouslySetInnerHTML"?Bu(v,ue):ce==="children"?Qi(v,ue):N(v,ce,ue,ee)}switch(U){case"input":Yi(v,_);break;case"textarea":Uu(v,_);break;case"select":var le=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var pe=_.value;pe!=null?ir(v,!!_.multiple,pe,!1):le!==!!_.multiple&&(_.defaultValue!=null?ir(v,!!_.multiple,_.defaultValue,!0):ir(v,!!_.multiple,_.multiple?[]:"",!1))}v[ic]=_}catch(ve){yt(i,i.return,ve)}}break;case 6:if(fr(a,i),Hr(i),p&4){if(i.stateNode===null)throw Error(n(162));v=i.stateNode,_=i.memoizedProps;try{v.nodeValue=_}catch(ve){yt(i,i.return,ve)}}break;case 3:if(fr(a,i),Hr(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{ri(a.containerInfo)}catch(ve){yt(i,i.return,ve)}break;case 4:fr(a,i),Hr(i);break;case 13:fr(a,i),Hr(i),v=i.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(lm=st())),p&4&&ME(i);break;case 22:if(ce=d!==null&&d.memoizedState!==null,i.mode&1?(rn=(ee=rn)||ce,fr(a,i),rn=ee):fr(a,i),Hr(i),p&8192){if(ee=i.memoizedState!==null,(i.stateNode.isHidden=ee)&&!ce&&(i.mode&1)!==0)for(ge=i,ce=i.child;ce!==null;){for(ue=ge=ce;ge!==null;){switch(le=ge,pe=le.child,le.tag){case 0:case 11:case 14:case 15:gc(4,le,le.return);break;case 1:Va(le,le.return);var ye=le.stateNode;if(typeof ye.componentWillUnmount=="function"){p=le,d=le.return;try{a=p,ye.props=a.memoizedProps,ye.state=a.memoizedState,ye.componentWillUnmount()}catch(ve){yt(p,d,ve)}}break;case 5:Va(le,le.return);break;case 22:if(le.memoizedState!==null){FE(ue);continue}}pe!==null?(pe.return=le,ge=pe):FE(ue)}ce=ce.sibling}e:for(ce=null,ue=i;;){if(ue.tag===5){if(ce===null){ce=ue;try{v=ue.stateNode,ee?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(U=ue.stateNode,$=ue.memoizedProps.style,I=$!=null&&$.hasOwnProperty("display")?$.display:null,U.style.display=Ks("display",I))}catch(ve){yt(i,i.return,ve)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=ee?"":ue.memoizedProps}catch(ve){yt(i,i.return,ve)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===i)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===i)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===i)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:fr(a,i),Hr(i),p&4&&ME(i);break;case 21:break;default:fr(a,i),Hr(i)}}function Hr(i){var a=i.flags;if(a&2){try{e:{for(var d=i.return;d!==null;){if(kE(d)){var p=d;break e}d=d.return}throw Error(n(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(Qi(v,""),p.flags&=-33);var _=NE(i);im(i,_,v);break;case 3:case 4:var I=p.stateNode.containerInfo,U=NE(i);sm(i,U,I);break;default:throw Error(n(161))}}catch($){yt(i,i.return,$)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function gR(i,a,d){ge=i,OE(i)}function OE(i,a,d){for(var p=(i.mode&1)!==0;ge!==null;){var v=ge,_=v.child;if(v.tag===22&&p){var I=v.memoizedState!==null||Ld;if(!I){var U=v.alternate,$=U!==null&&U.memoizedState!==null||rn;U=Ld;var ee=rn;if(Ld=I,(rn=$)&&!ee)for(ge=v;ge!==null;)I=ge,$=I.child,I.tag===22&&I.memoizedState!==null?UE(v):$!==null?($.return=I,ge=$):UE(v);for(;_!==null;)ge=_,OE(_),_=_.sibling;ge=v,Ld=U,rn=ee}VE(i)}else(v.subtreeFlags&8772)!==0&&_!==null?(_.return=v,ge=_):VE(i)}}function VE(i){for(;ge!==null;){var a=ge;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:rn||Od(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!rn)if(d===null)p.componentDidMount();else{var v=a.elementType===a.type?d.memoizedProps:dr(a.type,d.memoizedProps);p.componentDidUpdate(v,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&Fw(a,_,p);break;case 3:var I=a.updateQueue;if(I!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Fw(a,I,d)}break;case 5:var U=a.stateNode;if(d===null&&a.flags&4){d=U;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&d.focus();break;case"img":$.src&&(d.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var ce=ee.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&ri(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||a.flags&512&&rm(a)}catch(le){yt(a,a.return,le)}}if(a===i){ge=null;break}if(d=a.sibling,d!==null){d.return=a.return,ge=d;break}ge=a.return}}function FE(i){for(;ge!==null;){var a=ge;if(a===i){ge=null;break}var d=a.sibling;if(d!==null){d.return=a.return,ge=d;break}ge=a.return}}function UE(i){for(;ge!==null;){var a=ge;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Od(4,a)}catch($){yt(a,d,$)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var v=a.return;try{p.componentDidMount()}catch($){yt(a,v,$)}}var _=a.return;try{rm(a)}catch($){yt(a,_,$)}break;case 5:var I=a.return;try{rm(a)}catch($){yt(a,I,$)}}}catch($){yt(a,a.return,$)}if(a===i){ge=null;break}var U=a.sibling;if(U!==null){U.return=a.return,ge=U;break}ge=a.return}}var yR=Math.ceil,Vd=z.ReactCurrentDispatcher,om=z.ReactCurrentOwner,Yn=z.ReactCurrentBatchConfig,We=0,Bt=null,kt=null,Gt=0,Vn=0,Fa=li(0),Vt=0,yc=null,vo=0,Fd=0,am=0,vc=null,En=null,lm=0,Ua=1/0,Ss=null,Ud=!1,cm=null,pi=null,Bd=!1,mi=null,jd=0,wc=0,um=null,zd=-1,$d=0;function fn(){return(We&6)!==0?st():zd!==-1?zd:zd=st()}function gi(i){return(i.mode&1)===0?1:(We&2)!==0&&Gt!==0?Gt&-Gt:eR.transition!==null?($d===0&&($d=Bl()),$d):(i=$e,i!==0||(i=window.event,i=i===void 0?16:pa(i.type)),i)}function pr(i,a,d,p){if(50<wc)throw wc=0,um=null,Error(n(185));io(i,d,p),((We&2)===0||i!==Bt)&&(i===Bt&&((We&2)===0&&(Fd|=d),Vt===4&&yi(i,Gt)),_n(i,p),d===1&&We===0&&(a.mode&1)===0&&(Ua=st()+500,yd&&ui()))}function _n(i,a){var d=i.callbackNode;so(i,a);var p=us(i,i===Bt?Gt:0);if(p===0)d!==null&&aa(d),i.callbackNode=null,i.callbackPriority=0;else if(a=p&-p,i.callbackPriority!==a){if(d!=null&&aa(d),a===1)i.tag===0?ZP(jE.bind(null,i)):Iw(jE.bind(null,i)),YP(function(){(We&6)===0&&ui()}),d=null;else{switch(kr(p)){case 1:d=la;break;case 4:d=Vl;break;case 16:d=eo;break;case 536870912:d=ca;break;default:d=eo}d=YE(d,BE.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function BE(i,a){if(zd=-1,$d=0,(We&6)!==0)throw Error(n(327));var d=i.callbackNode;if(Ba()&&i.callbackNode!==d)return null;var p=us(i,i===Bt?Gt:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||a)a=Hd(i,p);else{a=p;var v=We;We|=2;var _=$E();(Bt!==i||Gt!==a)&&(Ss=null,Ua=st()+500,Eo(i,a));do try{ER();break}catch(U){zE(i,U)}while(!0);Ap(),Vd.current=_,We=v,kt!==null?a=0:(Bt=null,Gt=0,a=Vt)}if(a!==0){if(a===2&&(v=Ul(i),v!==0&&(p=v,a=dm(i,v))),a===1)throw d=yc,Eo(i,0),yi(i,p),_n(i,st()),d;if(a===6)yi(i,p);else{if(v=i.current.alternate,(p&30)===0&&!vR(v)&&(a=Hd(i,p),a===2&&(_=Ul(i),_!==0&&(p=_,a=dm(i,_))),a===1))throw d=yc,Eo(i,0),yi(i,p),_n(i,st()),d;switch(i.finishedWork=v,i.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:_o(i,En,Ss);break;case 3:if(yi(i,p),(p&130023424)===p&&(a=lm+500-st(),10<a)){if(us(i,0)!==0)break;if(v=i.suspendedLanes,(v&p)!==p){fn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=yp(_o.bind(null,i,En,Ss),a);break}_o(i,En,Ss);break;case 4:if(yi(i,p),(p&4194240)===p)break;for(a=i.eventTimes,v=-1;0<p;){var I=31-Rn(p);_=1<<I,I=a[I],I>v&&(v=I),p&=~_}if(p=v,p=st()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*yR(p/1960))-p,10<p){i.timeoutHandle=yp(_o.bind(null,i,En,Ss),p);break}_o(i,En,Ss);break;case 5:_o(i,En,Ss);break;default:throw Error(n(329))}}}return _n(i,st()),i.callbackNode===d?BE.bind(null,i):null}function dm(i,a){var d=vc;return i.current.memoizedState.isDehydrated&&(Eo(i,a).flags|=256),i=Hd(i,a),i!==2&&(a=En,En=d,a!==null&&hm(a)),i}function hm(i){En===null?En=i:En.push.apply(En,i)}function vR(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var v=d[p],_=v.getSnapshot;v=v.value;try{if(!cr(_(),v))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function yi(i,a){for(a&=~am,a&=~Fd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-Rn(a),p=1<<d;i[d]=-1,a&=~p}}function jE(i){if((We&6)!==0)throw Error(n(327));Ba();var a=us(i,0);if((a&1)===0)return _n(i,st()),null;var d=Hd(i,a);if(i.tag!==0&&d===2){var p=Ul(i);p!==0&&(a=p,d=dm(i,p))}if(d===1)throw d=yc,Eo(i,0),yi(i,a),_n(i,st()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,_o(i,En,Ss),_n(i,st()),null}function fm(i,a){var d=We;We|=1;try{return i(a)}finally{We=d,We===0&&(Ua=st()+500,yd&&ui())}}function wo(i){mi!==null&&mi.tag===0&&(We&6)===0&&Ba();var a=We;We|=1;var d=Yn.transition,p=$e;try{if(Yn.transition=null,$e=1,i)return i()}finally{$e=p,Yn.transition=d,We=a,(We&6)===0&&ui()}}function pm(){Vn=Fa.current,ot(Fa)}function Eo(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,KP(d)),kt!==null)for(d=kt.return;d!==null;){var p=d;switch(Sp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&md();break;case 3:La(),ot(yn),ot(en),Op();break;case 5:Mp(p);break;case 4:La();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:Pp(p.type._context);break;case 22:case 23:pm()}d=d.return}if(Bt=i,kt=i=vi(i.current,null),Gt=Vn=a,Vt=0,yc=null,am=Fd=vo=0,En=vc=null,mo!==null){for(a=0;a<mo.length;a++)if(d=mo[a],p=d.interleaved,p!==null){d.interleaved=null;var v=p.next,_=d.pending;if(_!==null){var I=_.next;_.next=v,p.next=I}d.pending=p}mo=null}return i}function zE(i,a){do{var d=kt;try{if(Ap(),Cd.current=kd,Ad){for(var p=ht.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Ad=!1}if(yo=0,Ut=Ot=ht=null,dc=!1,hc=0,om.current=null,d===null||d.return===null){Vt=1,yc=a,kt=null;break}e:{var _=i,I=d.return,U=d,$=a;if(a=Gt,U.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ee=$,ce=U,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var pe=fE(I);if(pe!==null){pe.flags&=-257,pE(pe,I,U,_,a),pe.mode&1&&hE(_,ee,a),a=pe,$=ee;var ye=a.updateQueue;if(ye===null){var ve=new Set;ve.add($),a.updateQueue=ve}else ye.add($);break e}else{if((a&1)===0){hE(_,ee,a),mm();break e}$=Error(n(426))}}else if(at&&U.mode&1){var xt=fE(I);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),pE(xt,I,U,_,a),Ip(Oa($,U));break e}}_=$=Oa($,U),Vt!==4&&(Vt=2),vc===null?vc=[_]:vc.push(_),_=I;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var Y=uE(_,$,a);Vw(_,Y);break e;case 1:U=$;var W=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(pi===null||!pi.has(J)))){_.flags|=65536,a&=-a,_.lanes|=a;var de=dE(_,U,a);Vw(_,de);break e}}_=_.return}while(_!==null)}WE(d)}catch(Ee){a=Ee,kt===d&&d!==null&&(kt=d=d.return);continue}break}while(!0)}function $E(){var i=Vd.current;return Vd.current=kd,i===null?kd:i}function mm(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Bt===null||(vo&268435455)===0&&(Fd&268435455)===0||yi(Bt,Gt)}function Hd(i,a){var d=We;We|=2;var p=$E();(Bt!==i||Gt!==a)&&(Ss=null,Eo(i,a));do try{wR();break}catch(v){zE(i,v)}while(!0);if(Ap(),We=d,Vd.current=p,kt!==null)throw Error(n(261));return Bt=null,Gt=0,Vt}function wR(){for(;kt!==null;)HE(kt)}function ER(){for(;kt!==null&&!Zi();)HE(kt)}function HE(i){var a=KE(i.alternate,i,Vn);i.memoizedProps=i.pendingProps,a===null?WE(i):kt=a,om.current=null}function WE(i){var a=i;do{var d=a.alternate;if(i=a.return,(a.flags&32768)===0){if(d=hR(d,a,Vn),d!==null){kt=d;return}}else{if(d=fR(d,a),d!==null){d.flags&=32767,kt=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Vt=6,kt=null;return}}if(a=a.sibling,a!==null){kt=a;return}kt=a=i}while(a!==null);Vt===0&&(Vt=5)}function _o(i,a,d){var p=$e,v=Yn.transition;try{Yn.transition=null,$e=1,_R(i,a,d,p)}finally{Yn.transition=v,$e=p}return null}function _R(i,a,d,p){do Ba();while(mi!==null);if((We&6)!==0)throw Error(n(327));d=i.finishedWork;var v=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var _=d.lanes|d.childLanes;if(tp(i,_),i===Bt&&(kt=Bt=null,Gt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Bd||(Bd=!0,YE(eo,function(){return Ba(),null})),_=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||_){_=Yn.transition,Yn.transition=null;var I=$e;$e=1;var U=We;We|=4,om.current=null,mR(i,d),LE(d,i),jP(mp),fs=!!pp,mp=pp=null,i.current=d,gR(d),cs(),We=U,$e=I,Yn.transition=_}else i.current=d;if(Bd&&(Bd=!1,mi=i,jd=v),_=i.pendingLanes,_===0&&(pi=null),Xu(d.stateNode),_n(i,st()),a!==null)for(p=i.onRecoverableError,d=0;d<a.length;d++)v=a[d],p(v.value,{componentStack:v.stack,digest:v.digest});if(Ud)throw Ud=!1,i=cm,cm=null,i;return(jd&1)!==0&&i.tag!==0&&Ba(),_=i.pendingLanes,(_&1)!==0?i===um?wc++:(wc=0,um=i):wc=0,ui(),null}function Ba(){if(mi!==null){var i=kr(jd),a=Yn.transition,d=$e;try{if(Yn.transition=null,$e=16>i?16:i,mi===null)var p=!1;else{if(i=mi,mi=null,jd=0,(We&6)!==0)throw Error(n(331));var v=We;for(We|=4,ge=i.current;ge!==null;){var _=ge,I=_.child;if((ge.flags&16)!==0){var U=_.deletions;if(U!==null){for(var $=0;$<U.length;$++){var ee=U[$];for(ge=ee;ge!==null;){var ce=ge;switch(ce.tag){case 0:case 11:case 15:gc(8,ce,_)}var ue=ce.child;if(ue!==null)ue.return=ce,ge=ue;else for(;ge!==null;){ce=ge;var le=ce.sibling,pe=ce.return;if(RE(ce),ce===ee){ge=null;break}if(le!==null){le.return=pe,ge=le;break}ge=pe}}}var ye=_.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var xt=ve.sibling;ve.sibling=null,ve=xt}while(ve!==null)}}ge=_}}if((_.subtreeFlags&2064)!==0&&I!==null)I.return=_,ge=I;else e:for(;ge!==null;){if(_=ge,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:gc(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,ge=Y;break e}ge=_.return}}var W=i.current;for(ge=W;ge!==null;){I=ge;var J=I.child;if((I.subtreeFlags&2064)!==0&&J!==null)J.return=I,ge=J;else e:for(I=W;ge!==null;){if(U=ge,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Od(9,U)}}catch(Ee){yt(U,U.return,Ee)}if(U===I){ge=null;break e}var de=U.sibling;if(de!==null){de.return=U.return,ge=de;break e}ge=U.return}}if(We=v,ui(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(to,i)}catch{}p=!0}return p}finally{$e=d,Yn.transition=a}}return!1}function qE(i,a,d){a=Oa(d,a),a=uE(i,a,1),i=hi(i,a,1),a=fn(),i!==null&&(io(i,1,a),_n(i,a))}function yt(i,a,d){if(i.tag===3)qE(i,i,d);else for(;a!==null;){if(a.tag===3){qE(a,i,d);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(pi===null||!pi.has(p))){i=Oa(d,i),i=dE(a,i,1),a=hi(a,i,1),i=fn(),a!==null&&(io(a,1,i),_n(a,i));break}}a=a.return}}function TR(i,a,d){var p=i.pingCache;p!==null&&p.delete(a),a=fn(),i.pingedLanes|=i.suspendedLanes&d,Bt===i&&(Gt&d)===d&&(Vt===4||Vt===3&&(Gt&130023424)===Gt&&500>st()-lm?Eo(i,0):am|=d),_n(i,a)}function GE(i,a){a===0&&((i.mode&1)===0?a=1:(a=ei,ei<<=1,(ei&130023424)===0&&(ei=4194304)));var d=fn();i=Es(i,a),i!==null&&(io(i,a,d),_n(i,d))}function SR(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),GE(i,d)}function bR(i,a){var d=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(d=v.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),GE(i,d)}var KE;KE=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||yn.current)wn=!0;else{if((i.lanes&d)===0&&(a.flags&128)===0)return wn=!1,dR(i,a,d);wn=(i.flags&131072)!==0}else wn=!1,at&&(a.flags&1048576)!==0&&Cw(a,wd,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Md(i,a),i=a.pendingProps;var v=Aa(a,en.current);Ma(a,d),v=Up(null,a,p,i,v,d);var _=Bp();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,vn(p)?(_=!0,gd(a)):_=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Np(a),v.updater=Nd,a.stateNode=v,v._reactInternals=a,qp(a,p,i,d),a=Qp(null,a,p,!0,_,d)):(a.tag=0,at&&_&&Tp(a),hn(null,a,v,d),a=a.child),a;case 16:p=a.elementType;e:{switch(Md(i,a),i=a.pendingProps,v=p._init,p=v(p._payload),a.type=p,v=a.tag=IR(p),i=dr(p,i),v){case 0:a=Yp(null,a,p,i,d);break e;case 1:a=EE(null,a,p,i,d);break e;case 11:a=mE(null,a,p,i,d);break e;case 14:a=gE(null,a,p,dr(p.type,i),d);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:dr(p,v),Yp(i,a,p,v,d);case 1:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:dr(p,v),EE(i,a,p,v,d);case 3:e:{if(_E(a),i===null)throw Error(n(387));p=a.pendingProps,_=a.memoizedState,v=_.element,Ow(i,a),xd(a,p,null,d);var I=a.memoizedState;if(p=I.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){v=Oa(Error(n(423)),a),a=TE(i,a,p,d,v);break e}else if(p!==v){v=Oa(Error(n(424)),a),a=TE(i,a,p,d,v);break e}else for(On=ai(a.stateNode.containerInfo.firstChild),Ln=a,at=!0,ur=null,d=Mw(a,null,p,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(ka(),p===v){a=Ts(i,a,d);break e}hn(i,a,p,d)}a=a.child}return a;case 5:return Uw(a),i===null&&xp(a),p=a.type,v=a.pendingProps,_=i!==null?i.memoizedProps:null,I=v.children,gp(p,v)?I=null:_!==null&&gp(p,_)&&(a.flags|=32),wE(i,a),hn(i,a,I,d),a.child;case 6:return i===null&&xp(a),null;case 13:return SE(i,a,d);case 4:return Dp(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=Na(a,null,p,d):hn(i,a,p,d),a.child;case 11:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:dr(p,v),mE(i,a,p,v,d);case 7:return hn(i,a,a.pendingProps,d),a.child;case 8:return hn(i,a,a.pendingProps.children,d),a.child;case 12:return hn(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(p=a.type._context,v=a.pendingProps,_=a.memoizedProps,I=v.value,rt(Td,p._currentValue),p._currentValue=I,_!==null)if(cr(_.value,I)){if(_.children===v.children&&!yn.current){a=Ts(i,a,d);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var U=_.dependencies;if(U!==null){I=_.child;for(var $=U.firstContext;$!==null;){if($.context===p){if(_.tag===1){$=_s(-1,d&-d),$.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var ce=ee.pending;ce===null?$.next=$:($.next=ce.next,ce.next=$),ee.pending=$}}_.lanes|=d,$=_.alternate,$!==null&&($.lanes|=d),Rp(_.return,d,a),U.lanes|=d;break}$=$.next}}else if(_.tag===10)I=_.type===a.type?null:_.child;else if(_.tag===18){if(I=_.return,I===null)throw Error(n(341));I.lanes|=d,U=I.alternate,U!==null&&(U.lanes|=d),Rp(I,d,a),I=_.sibling}else I=_.child;if(I!==null)I.return=_;else for(I=_;I!==null;){if(I===a){I=null;break}if(_=I.sibling,_!==null){_.return=I.return,I=_;break}I=I.return}_=I}hn(i,a,v.children,d),a=a.child}return a;case 9:return v=a.type,p=a.pendingProps.children,Ma(a,d),v=Gn(v),p=p(v),a.flags|=1,hn(i,a,p,d),a.child;case 14:return p=a.type,v=dr(p,a.pendingProps),v=dr(p.type,v),gE(i,a,p,v,d);case 15:return yE(i,a,a.type,a.pendingProps,d);case 17:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:dr(p,v),Md(i,a),a.tag=1,vn(p)?(i=!0,gd(a)):i=!1,Ma(a,d),lE(a,p,v),qp(a,p,v,d),Qp(null,a,p,!0,i,d);case 19:return xE(i,a,d);case 22:return vE(i,a,d)}throw Error(n(156,a.tag))};function YE(i,a){return Ol(i,a)}function xR(i,a,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(i,a,d,p){return new xR(i,a,d,p)}function gm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function IR(i){if(typeof i=="function")return gm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===G)return 14}return 2}function vi(i,a){var d=i.alternate;return d===null?(d=Qn(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function Wd(i,a,d,p,v,_){var I=2;if(p=i,typeof i=="function")gm(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case F:return To(d.children,v,_,a);case x:I=8,v|=8;break;case L:return i=Qn(12,d,a,v|2),i.elementType=L,i.lanes=_,i;case M:return i=Qn(13,d,a,v),i.elementType=M,i.lanes=_,i;case K:return i=Qn(19,d,a,v),i.elementType=K,i.lanes=_,i;case X:return qd(d,v,_,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:I=10;break e;case V:I=9;break e;case B:I=11;break e;case G:I=14;break e;case ne:I=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Qn(I,d,a,v),a.elementType=i,a.type=p,a.lanes=_,a}function To(i,a,d,p){return i=Qn(7,i,p,a),i.lanes=d,i}function qd(i,a,d,p){return i=Qn(22,i,p,a),i.elementType=X,i.lanes=d,i.stateNode={isHidden:!1},i}function ym(i,a,d){return i=Qn(6,i,null,a),i.lanes=d,i}function vm(i,a,d){return a=Qn(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function CR(i,a,d,p,v){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function wm(i,a,d,p,v,_,I,U,$){return i=new CR(i,a,d,U,$),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Qn(3,null,null,a),i.current=_,_.stateNode=i,_.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(_),i}function AR(i,a,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:p==null?null:""+p,children:i,containerInfo:a,implementation:d}}function QE(i){if(!i)return ci;i=i._reactInternals;e:{if(ar(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(vn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(vn(d))return bw(i,d,a)}return a}function XE(i,a,d,p,v,_,I,U,$){return i=wm(d,p,!0,i,v,_,I,U,$),i.context=QE(null),d=i.current,p=fn(),v=gi(d),_=_s(p,v),_.callback=a??null,hi(d,_,v),i.current.lanes=v,io(i,v,p),_n(i,p),i}function Gd(i,a,d,p){var v=a.current,_=fn(),I=gi(v);return d=QE(d),a.context===null?a.context=d:a.pendingContext=d,a=_s(_,I),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=hi(v,a,I),i!==null&&(pr(i,v,I,_),bd(i,v,I)),I}function Kd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function JE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function Em(i,a){JE(i,a),(i=i.alternate)&&JE(i,a)}function PR(){return null}var ZE=typeof reportError=="function"?reportError:function(i){console.error(i)};function _m(i){this._internalRoot=i}Yd.prototype.render=_m.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Gd(i,a,null,null)},Yd.prototype.unmount=_m.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;wo(function(){Gd(null,i,null,null)}),a[gs]=null}};function Yd(i){this._internalRoot=i}Yd.prototype.unstable_scheduleHydration=function(i){if(i){var a=Wl();i={blockedOn:null,target:i,priority:a};for(var d=0;d<kn.length&&a!==0&&a<kn[d].priority;d++);kn.splice(d,0,i),d===0&&ha(i)}};function Tm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Qd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function e_(){}function RR(i,a,d,p,v){if(v){if(typeof p=="function"){var _=p;p=function(){var ee=Kd(I);_.call(ee)}}var I=XE(a,p,i,0,null,!1,!1,"",e_);return i._reactRootContainer=I,i[gs]=I.current,rc(i.nodeType===8?i.parentNode:i),wo(),I}for(;v=i.lastChild;)i.removeChild(v);if(typeof p=="function"){var U=p;p=function(){var ee=Kd($);U.call(ee)}}var $=wm(i,0,!1,null,null,!1,!1,"",e_);return i._reactRootContainer=$,i[gs]=$.current,rc(i.nodeType===8?i.parentNode:i),wo(function(){Gd(a,$,d,p)}),$}function Xd(i,a,d,p,v){var _=d._reactRootContainer;if(_){var I=_;if(typeof v=="function"){var U=v;v=function(){var $=Kd(I);U.call($)}}Gd(a,I,i,v)}else I=RR(d,a,i,v,p);return Kd(I)}$l=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=Ke(a.pendingLanes);d!==0&&(zl(a,d|1),_n(a,st()),(We&6)===0&&(Ua=st()+500,ui()))}break;case 13:wo(function(){var p=Es(i,1);if(p!==null){var v=fn();pr(p,i,1,v)}}),Em(i,1)}},ua=function(i){if(i.tag===13){var a=Es(i,134217728);if(a!==null){var d=fn();pr(a,i,134217728,d)}Em(i,134217728)}},Hl=function(i){if(i.tag===13){var a=gi(i),d=Es(i,a);if(d!==null){var p=fn();pr(d,i,a,p)}Em(i,a)}},Wl=function(){return $e},ql=function(i,a){var d=$e;try{return $e=i,a()}finally{$e=d}},os=function(i,a,d){switch(a){case"input":if(Yi(i,d),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var p=d[a];if(p!==i&&p.form===i.form){var v=pd(p);if(!v)throw Error(n(90));Cl(p),Yi(p,v)}}}break;case"textarea":Uu(i,d);break;case"select":a=d.value,a!=null&&ir(i,!!d.multiple,a,!1)}},zu=fm,$u=wo;var kR={usingClientEntryPoint:!1,Events:[oc,Ia,pd,Qs,Xs,fm]},Ec={findFiberByHostInstance:uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NR={bundleType:Ec.bundleType,version:Ec.version,rendererPackageName:Ec.rendererPackageName,rendererConfig:Ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Qu(i),i===null?null:i.stateNode},findFiberByHostInstance:Ec.findFiberByHostInstance||PR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{to=Jd.inject(NR),Pn=Jd}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kR,Tn.createPortal=function(i,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tm(a))throw Error(n(200));return AR(i,a,null,d)},Tn.createRoot=function(i,a){if(!Tm(i))throw Error(n(299));var d=!1,p="",v=ZE;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=wm(i,1,!1,null,null,d,!1,p,v),i[gs]=a.current,rc(i.nodeType===8?i.parentNode:i),new _m(a)},Tn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Qu(a),i=i===null?null:i.stateNode,i},Tn.flushSync=function(i){return wo(i)},Tn.hydrate=function(i,a,d){if(!Qd(a))throw Error(n(200));return Xd(null,i,a,!0,d)},Tn.hydrateRoot=function(i,a,d){if(!Tm(i))throw Error(n(405));var p=d!=null&&d.hydratedSources||null,v=!1,_="",I=ZE;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onRecoverableError!==void 0&&(I=d.onRecoverableError)),a=XE(a,null,i,1,d??null,v,!1,_,I),i[gs]=a.current,rc(i),p)for(i=0;i<p.length;i++)d=p[i],v=d._getVersion,v=v(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,v]:a.mutableSourceEagerHydrationData.push(d,v);return new Yd(a)},Tn.render=function(i,a,d){if(!Qd(a))throw Error(n(200));return Xd(null,i,a,!1,d)},Tn.unmountComponentAtNode=function(i){if(!Qd(i))throw Error(n(40));return i._reactRootContainer?(wo(function(){Xd(null,null,i,!1,function(){i._reactRootContainer=null,i[gs]=null})}),!0):!1},Tn.unstable_batchedUpdates=fm,Tn.unstable_renderSubtreeIntoContainer=function(i,a,d,p){if(!Qd(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Xd(i,a,d,!1,p)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var o_;function FR(){if(o_)return bm.exports;o_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bm.exports=VR(),bm.exports}var a_;function UR(){if(a_)return Zd;a_=1;var t=FR();return Zd.createRoot=t.createRoot,Zd.hydrateRoot=t.hydrateRoot,Zd}var BR=UR();const jR=Ly(BR);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l_="popstate";function zR(t={}){function e(r,s){let{pathname:o,search:l,hash:u}=r.location;return Ag("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Gc(s)}return HR(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $R(){return Math.random().toString(36).substring(2,10)}function c_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ag(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gl(e):e,state:n,key:e&&e.key||r||$R()}}function Gc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HR(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u="POP",c=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let P=m(),C=P==null?null:P-h;h=P,c&&c({action:u,location:A.location,delta:C})}function w(P,C){u="PUSH";let R=Ag(A.location,P,C);h=m()+1;let N=c_(R,h),z=A.createHref(R);try{l.pushState(N,"",z)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(z)}o&&c&&c({action:u,location:A.location,delta:1})}function E(P,C){u="REPLACE";let R=Ag(A.location,P,C);h=m();let N=c_(R,h),z=A.createHref(R);l.replaceState(N,"",z),o&&c&&c({action:u,location:A.location,delta:0})}function b(P){return WR(P)}let A={get action(){return u},get location(){return t(s,l)},listen(P){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(l_,g),c=P,()=>{s.removeEventListener(l_,g),c=null}},createHref(P){return e(s,P)},createURL:b,encodeLocation(P){let C=b(P);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:E,go(P){return l.go(P)}};return A}function WR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Gc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function L1(t,e,n="/"){return qR(t,e,n,!1)}function qR(t,e,n,r){let s=typeof e=="string"?gl(e):e,o=Ms(s.pathname||"/",n);if(o==null)return null;let l=O1(t);GR(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let h=sk(o);u=nk(l[c],h,r)}return u}function O1(t,e=[],n=[],r="",s=!1){let o=(l,u,c=s,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&c)return;ut(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=Rs([r,m.relativePath]),w=n.concat(m);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),O1(l.children,e,w,g,c)),!(l.path==null&&!l.index)&&e.push({path:g,score:ek(g,l.index),routesMeta:w})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let c of V1(l.path))o(l,u,!0,c)}),e}function V1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=V1(r.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),s&&u.push(...l),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function GR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var KR=/^:[\w-]+$/,YR=3,QR=2,XR=1,JR=10,ZR=-2,u_=t=>t==="*";function ek(t,e){let n=t.split("/"),r=n.length;return n.some(u_)&&(r+=ZR),e&&(r+=QR),n.filter(s=>!u_(s)).reduce((s,o)=>s+(KR.test(o)?YR:o===""?XR:JR),r)}function tk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function nk(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=Nh({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},m),w=c.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Nh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Rs([o,g.pathname]),pathnameBase:lk(Rs([o,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(o=Rs([o,g.pathnameBase]))}return l}function Nh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},w)=>{if(m==="*"){let b=u[w]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const E=u[w];return g&&!E?h[m]=void 0:h[m]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function rk(t,e=!1,n=!0){nr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function sk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ik(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?gl(t):t;return{pathname:n?n.startsWith("/")?n:ok(n,e):e,search:ck(r),hash:uk(s)}}function ok(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ak(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vy(t){let e=ak(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Fy(t,e,n,r=!1){let s;typeof t=="string"?s=gl(t):(s={...t},ut(!s.pathname||!s.pathname.includes("?"),Cm("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),Cm("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),Cm("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),g-=1;s.pathname=w.join("/")}u=g>=0?e[g]:"/"}let c=ik(s,u),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||m)&&(c.pathname+="/"),c}var Rs=t=>t.join("/").replace(/\/\/+/g,"/"),lk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ck=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var F1=["POST","PUT","PATCH","DELETE"];new Set(F1);var hk=["GET",...F1];new Set(hk);var yl=k.createContext(null);yl.displayName="DataRouter";var mf=k.createContext(null);mf.displayName="DataRouterState";k.createContext(!1);var U1=k.createContext({isTransitioning:!1});U1.displayName="ViewTransition";var fk=k.createContext(new Map);fk.displayName="Fetchers";var pk=k.createContext(null);pk.displayName="Await";var Sr=k.createContext(null);Sr.displayName="Navigation";var yu=k.createContext(null);yu.displayName="Location";var br=k.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var Uy=k.createContext(null);Uy.displayName="RouteError";function mk(t,{relative:e}={}){ut(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Sr),{hash:s,pathname:o,search:l}=vu(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Rs([n,o])),r.createHref({pathname:u,search:l,hash:s})}function vl(){return k.useContext(yu)!=null}function xr(){return ut(vl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(yu).location}var B1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j1(t){k.useContext(Sr).static||k.useLayoutEffect(t)}function zn(){let{isDataRoute:t}=k.useContext(br);return t?Ak():gk()}function gk(){ut(vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(yl),{basename:e,navigator:n}=k.useContext(Sr),{matches:r}=k.useContext(br),{pathname:s}=xr(),o=JSON.stringify(Vy(r)),l=k.useRef(!1);return j1(()=>{l.current=!0}),k.useCallback((c,h={})=>{if(nr(l.current,B1),!l.current)return;if(typeof c=="number"){n.go(c);return}let m=Fy(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Rs([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,o,s,t])}k.createContext(null);function By(){let{matches:t}=k.useContext(br),e=t[t.length-1];return e?e.params:{}}function vu(t,{relative:e}={}){let{matches:n}=k.useContext(br),{pathname:r}=xr(),s=JSON.stringify(Vy(n));return k.useMemo(()=>Fy(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function yk(t,e){return z1(t,e)}function z1(t,e,n,r,s){ut(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Sr),{matches:l}=k.useContext(br),u=l[l.length-1],c=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let R=g&&g.path||"";$1(h,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=xr(),E;if(e){let R=typeof e=="string"?gl(e):e;ut(m==="/"||R.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${R.pathname}" was given in the \`location\` prop.`),E=R}else E=w;let b=E.pathname||"/",A=b;if(m!=="/"){let R=m.replace(/^\//,"").split("/");A="/"+b.replace(/^\//,"").split("/").slice(R.length).join("/")}let P=L1(t,{pathname:A});nr(g||P!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),nr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Tk(P&&P.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:Rs([m,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:Rs([m,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),l,n,r,s);return e&&C?k.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},C):C}function vk(){let t=Ck(),e=dk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,l)}var wk=k.createElement(vk,null),Ek=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(br.Provider,{value:this.props.routeContext},k.createElement(Uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _k({routeContext:t,match:e,children:n}){let r=k.useContext(yl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(br.Provider,{value:t},n)}function Tk(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);ut(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:g,errors:w}=n,E=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,m,g)=>{let w,E=!1,b=null,A=null;n&&(w=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||wk,u&&(c<0&&g===0?($1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):c===g&&(E=!0,A=m.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,g+1)),C=()=>{let R;return w?R=b:E?R=A:m.route.Component?R=k.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=h,k.createElement(_k,{match:m,routeContext:{outlet:h,matches:P,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?k.createElement(Ek,{location:n.location,revalidation:n.revalidation,component:b,error:w,children:C(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:r}):C()},null)}function jy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sk(t){let e=k.useContext(yl);return ut(e,jy(t)),e}function bk(t){let e=k.useContext(mf);return ut(e,jy(t)),e}function xk(t){let e=k.useContext(br);return ut(e,jy(t)),e}function zy(t){let e=xk(t),n=e.matches[e.matches.length-1];return ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Ik(){return zy("useRouteId")}function Ck(){let t=k.useContext(Uy),e=bk("useRouteError"),n=zy("useRouteError");return t!==void 0?t:e.errors?.[n]}function Ak(){let{router:t}=Sk("useNavigate"),e=zy("useNavigate"),n=k.useRef(!1);return j1(()=>{n.current=!0}),k.useCallback(async(s,o={})=>{nr(n.current,B1),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var d_={};function $1(t,e,n){!e&&!d_[t]&&(d_[t]=!0,nr(!1,n))}k.memo(Pk);function Pk({routes:t,future:e,state:n,unstable_onError:r}){return z1(t,void 0,n,r,e)}function H1({to:t,replace:e,state:n,relative:r}){ut(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(Sr);nr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=k.useContext(br),{pathname:l}=xr(),u=zn(),c=Fy(t,Vy(o),l,r==="path"),h=JSON.stringify(c);return k.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function It(t){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){ut(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=gl(n));let{pathname:c="/",search:h="",hash:m="",state:g=null,key:w="default"}=n,E=k.useMemo(()=>{let b=Ms(c,l);return b==null?null:{location:{pathname:b,search:h,hash:m,state:g,key:w},navigationType:r}},[l,c,h,m,g,w,r]);return nr(E!=null,`<Router basename="${l}"> is not able to match the URL "${c}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:k.createElement(Sr.Provider,{value:u},k.createElement(yu.Provider,{children:e,value:E}))}function kk({children:t,location:e}){return yk(Pg(t),e)}function Pg(t,e=[]){let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let o=[...e,s];if(r.type===k.Fragment){n.push.apply(n,Pg(r.props.children,o));return}ut(r.type===It,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Pg(r.props.children,o)),n.push(l)}),n}var ph="get",mh="application/x-www-form-urlencoded";function gf(t){return t!=null&&typeof t.tagName=="string"}function Nk(t){return gf(t)&&t.tagName.toLowerCase()==="button"}function Dk(t){return gf(t)&&t.tagName.toLowerCase()==="form"}function Mk(t){return gf(t)&&t.tagName.toLowerCase()==="input"}function Lk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ok(t,e){return t.button===0&&(!e||e==="_self")&&!Lk(t)}function Rg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Vk(t,e){let n=Rg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var eh=null;function Fk(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var Uk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(t){return t!=null&&!Uk.has(t)?(nr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):t}function Bk(t,e){let n,r,s,o,l;if(Dk(t)){let u=t.getAttribute("action");r=u?Ms(u,e):null,n=t.getAttribute("method")||ph,s=Am(t.getAttribute("enctype"))||mh,o=new FormData(t)}else if(Nk(t)||Mk(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Ms(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||ph,s=Am(t.getAttribute("formenctype"))||Am(u.getAttribute("enctype"))||mh,o=new FormData(u,t),!Fk()){let{name:h,type:m,value:g}=t;if(m==="image"){let w=h?`${h}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else h&&o.append(h,g)}}else{if(gf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ph,r=null,s=mh,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $y(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jk(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ms(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function zk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $k(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Hk(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await zk(o,n);return l.links?l.links():[]}return[]}));return Kk(r.flat(1).filter($k).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function h_(t,e,n,r,s,o){let l=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,u=(c,h)=>n[h].pathname!==c.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==c.params["*"];return o==="assets"?e.filter((c,h)=>l(c,h)||u(c,h)):o==="data"?e.filter((c,h)=>{let m=r.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(l(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Wk(t,e,{includeHydrateFallback:n}={}){return qk(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function qk(t){return[...new Set(t)]}function Gk(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Kk(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(Gk(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function W1(){let t=k.useContext(yl);return $y(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Yk(){let t=k.useContext(mf);return $y(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hy=k.createContext(void 0);Hy.displayName="FrameworkContext";function q1(){let t=k.useContext(Hy);return $y(t,"You must render this element inside a <HydratedRouter> element"),t}function Qk(t,e){let n=k.useContext(Hy),[r,s]=k.useState(!1),[o,l]=k.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,w=k.useRef(null);k.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=C=>{C.forEach(R=>{l(R.isIntersecting)})},P=new IntersectionObserver(A,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[t]),k.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let E=()=>{s(!0)},b=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:_c(u,E),onBlur:_c(c,b),onMouseEnter:_c(h,E),onMouseLeave:_c(m,b),onTouchStart:_c(g,E)}]:[!1,w,{}]}function _c(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Xk({page:t,...e}){let{router:n}=W1(),r=k.useMemo(()=>L1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(Zk,{page:t,matches:r,...e}):null}function Jk(t){let{manifest:e,routeModules:n}=q1(),[r,s]=k.useState([]);return k.useEffect(()=>{let o=!1;return Hk(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),r}function Zk({page:t,matches:e,...n}){let r=xr(),{manifest:s,routeModules:o}=q1(),{basename:l}=W1(),{loaderData:u,matches:c}=Yk(),h=k.useMemo(()=>h_(t,e,c,s,r,"data"),[t,e,c,s,r]),m=k.useMemo(()=>h_(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,A=!1;if(e.forEach(C=>{let R=s.routes[C.route.id];!R||!R.hasLoader||(!h.some(N=>N.route.id===C.route.id)&&C.route.id in u&&o[C.route.id]?.shouldRevalidate||R.hasClientLoader?A=!0:b.add(C.route.id))}),b.size===0)return[];let P=jk(t,l,"data");return A&&b.size>0&&P.searchParams.set("_routes",e.filter(C=>b.has(C.route.id)).map(C=>C.route.id).join(",")),[P.pathname+P.search]},[l,u,r,s,h,e,t,o]),w=k.useMemo(()=>Wk(m,s),[m,s]),E=Jk(m);return k.createElement(k.Fragment,null,g.map(b=>k.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),w.map(b=>k.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),E.map(({key:b,link:A})=>k.createElement("link",{key:b,nonce:n.nonce,...A})))}function eN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var G1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G1&&(window.__reactRouterVersion="7.9.1")}catch{}function tN({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=zR({window:n,v5Compat:!0}));let s=r.current,[o,l]=k.useState({action:s.action,location:s.location}),u=k.useCallback(c=>{k.startTransition(()=>l(c))},[l]);return k.useLayoutEffect(()=>s.listen(u),[s,u]),k.createElement(Rk,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var K1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ve=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:u,target:c,to:h,preventScrollReset:m,viewTransition:g,...w},E){let{basename:b}=k.useContext(Sr),A=typeof h=="string"&&K1.test(h),P,C=!1;if(typeof h=="string"&&A&&(P=h,G1))try{let L=new URL(window.location.href),O=h.startsWith("//")?new URL(L.protocol+h):new URL(h),V=Ms(O.pathname,b);O.origin===L.origin&&V!=null?h=V+O.search+O.hash:C=!0}catch{nr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=mk(h,{relative:s}),[N,z,q]=Qk(r,w),re=iN(h,{replace:l,state:u,target:c,preventScrollReset:m,relative:s,viewTransition:g});function F(L){e&&e(L),L.defaultPrevented||re(L)}let x=k.createElement("a",{...w,...q,href:P||R,onClick:C||o?e:F,ref:eN(E,z),target:c,"data-discover":!A&&n==="render"?"true":void 0});return N&&!A?k.createElement(k.Fragment,null,x,k.createElement(Xk,{page:R})):x});Ve.displayName="Link";var nN=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:u,children:c,...h},m){let g=vu(l,{relative:h.relative}),w=xr(),E=k.useContext(mf),{navigator:b,basename:A}=k.useContext(Sr),P=E!=null&&dN(g)&&u===!0,C=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,R=w.pathname,N=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(R=R.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&A&&(N=Ms(N,A)||N);const z=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let q=R===C||!s&&R.startsWith(C)&&R.charAt(z)==="/",re=N!=null&&(N===C||!s&&N.startsWith(C)&&N.charAt(C.length)==="/"),F={isActive:q,isPending:re,isTransitioning:P},x=q?e:void 0,L;typeof r=="function"?L=r(F):L=[r,q?"active":null,re?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(F):o;return k.createElement(Ve,{...h,"aria-current":x,className:L,ref:m,style:O,to:l,viewTransition:u},typeof c=="function"?c(F):c)});nN.displayName="NavLink";var rN=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:l=ph,action:u,onSubmit:c,relative:h,preventScrollReset:m,viewTransition:g,...w},E)=>{let b=cN(),A=uN(u,{relative:h}),P=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&K1.test(u),R=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let z=N.nativeEvent.submitter,q=z?.getAttribute("formmethod")||l;b(z||N.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:s,state:o,relative:h,preventScrollReset:m,viewTransition:g})};return k.createElement("form",{ref:E,method:P,action:A,onSubmit:r?c:R,...w,"data-discover":!C&&t==="render"?"true":void 0})});rN.displayName="Form";function sN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y1(t){let e=k.useContext(yl);return ut(e,sN(t)),e}function iN(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=zn(),c=xr(),h=vu(t,{relative:o});return k.useCallback(m=>{if(Ok(m,e)){m.preventDefault();let g=n!==void 0?n:Gc(c)===Gc(h);u(t,{replace:g,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[c,u,h,n,r,e,t,s,o,l])}function oN(t){nr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(Rg(t)),n=k.useRef(!1),r=xr(),s=k.useMemo(()=>Vk(r.search,n.current?null:e.current),[r.search]),o=zn(),l=k.useCallback((u,c)=>{const h=Rg(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,o("?"+h,c)},[o,s]);return[s,l]}var aN=0,lN=()=>`__${String(++aN)}__`;function cN(){let{router:t}=Y1("useSubmit"),{basename:e}=k.useContext(Sr),n=Ik();return k.useCallback(async(r,s={})=>{let{action:o,method:l,encType:u,formData:c,body:h}=Bk(r,e);if(s.navigate===!1){let m=s.fetcherKey||lN();await t.fetch(m,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function uN(t,{relative:e}={}){let{basename:n}=k.useContext(Sr),r=k.useContext(br);ut(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...vu(t||".",{relative:e})},l=xr();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),c=u.getAll("index");if(c.some(m=>m==="")){u.delete("index"),c.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Rs([n,o.pathname])),Gc(o)}function dN(t,{relative:e}={}){let n=k.useContext(U1);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Y1("useViewTransitionState"),s=vu(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nh(s.pathname,l)!=null||Nh(s.pathname,o)!=null}var Pm={exports:{}},Tc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function hN(){if(f_)return Tc;f_=1;var t=Oy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,h){var m,g={},w=null,E=null;h!==void 0&&(w=""+h),c.key!==void 0&&(w=""+c.key),c.ref!==void 0&&(E=c.ref);for(m in c)r.call(c,m)&&!o.hasOwnProperty(m)&&(g[m]=c[m]);if(u&&u.defaultProps)for(m in c=u.defaultProps,c)g[m]===void 0&&(g[m]=c[m]);return{$$typeof:e,type:u,key:w,ref:E,props:g,_owner:s.current}}return Tc.Fragment=n,Tc.jsx=l,Tc.jsxs=l,Tc}var p_;function fN(){return p_||(p_=1,Pm.exports=hN()),Pm.exports}var kg=fN();const Q1=k.createContext({});function pN(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wy=typeof window<"u",mN=Wy?k.useLayoutEffect:k.useEffect,qy=k.createContext(null);function Gy(t,e){t.indexOf(e)===-1&&t.push(e)}function Ky(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ls=(t,e,n)=>n>e?e:n<t?t:n;let Yy=()=>{};const Os={},X1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function J1(t){return typeof t=="object"&&t!==null}const Z1=t=>/^0[^.\s]+$/u.test(t);function Qy(t){let e;return()=>(e===void 0&&(e=t()),e)}const er=t=>t,gN=(t,e)=>n=>e(t(n)),wu=(...t)=>t.reduce(gN),Kc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Xy{constructor(){this.subscriptions=[]}add(e){return Gy(this.subscriptions,e),()=>Ky(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yr=t=>t*1e3,Qr=t=>t/1e3;function eb(t,e){return e?t*(1e3/e):0}const tb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yN=1e-7,vN=12;function wN(t,e,n,r,s){let o,l,u=0;do l=e+(n-e)/2,o=tb(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>yN&&++u<vN);return l}function Eu(t,e,n,r){if(t===e&&n===r)return er;const s=o=>wN(o,0,1,t,n);return o=>o===0||o===1?o:tb(s(o),e,r)}const nb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rb=t=>e=>1-t(1-e),sb=Eu(.33,1.53,.69,.99),Jy=rb(sb),ib=nb(Jy),ob=t=>(t*=2)<1?.5*Jy(t):.5*(2-Math.pow(2,-10*(t-1))),Zy=t=>1-Math.sin(Math.acos(t)),ab=rb(Zy),lb=nb(Zy),EN=Eu(.42,0,1,1),_N=Eu(0,0,.58,1),cb=Eu(.42,0,.58,1),TN=t=>Array.isArray(t)&&typeof t[0]!="number",ub=t=>Array.isArray(t)&&typeof t[0]=="number",SN={linear:er,easeIn:EN,easeInOut:cb,easeOut:_N,circIn:Zy,circInOut:lb,circOut:ab,backIn:Jy,backInOut:ib,backOut:sb,anticipate:ob},bN=t=>typeof t=="string",m_=t=>{if(ub(t)){Yy(t.length===4);const[e,n,r,s]=t;return Eu(e,n,r,s)}else if(bN(t))return SN[t];return t},th=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xN(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(m){l.has(m)&&(h.schedule(m),t()),m(u)}const h={schedule:(m,g=!1,w=!1)=>{const b=w&&s?n:r;return g&&l.add(m),b.has(m)||b.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(u=m,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,o&&(o=!1,h.process(m))}};return h}const IN=40;function db(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=th.reduce((N,z)=>(N[z]=xN(o),N),{}),{setup:u,read:c,resolveKeyframes:h,preUpdate:m,update:g,preRender:w,render:E,postRender:b}=l,A=()=>{const N=Os.useManualTiming?s.timestamp:performance.now();n=!1,Os.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,IN),1)),s.timestamp=N,s.isProcessing=!0,u.process(s),c.process(s),h.process(s),m.process(s),g.process(s),w.process(s),E.process(s),b.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(A))},P=()=>{n=!0,r=!0,s.isProcessing||t(A)};return{schedule:th.reduce((N,z)=>{const q=l[z];return N[z]=(re,F=!1,x=!1)=>(n||P(),q.schedule(re,F,x)),N},{}),cancel:N=>{for(let z=0;z<th.length;z++)l[th[z]].cancel(N)},state:s,steps:l}}const{schedule:ct,cancel:Ni,state:Kt,steps:Rm}=db(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0);let gh;function CN(){gh=void 0}const In={now:()=>(gh===void 0&&In.set(Kt.isProcessing||Os.useManualTiming?Kt.timestamp:performance.now()),gh),set:t=>{gh=t,queueMicrotask(CN)}},hb=t=>e=>typeof e=="string"&&e.startsWith(t),ev=hb("--"),AN=hb("var(--"),tv=t=>AN(t)?PN.test(t.split("/*")[0].trim()):!1,PN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yc={...wl,transform:t=>Ls(0,1,t)},nh={...wl,default:1},Lc=t=>Math.round(t*1e5)/1e5,nv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RN(t){return t==null}const kN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rv=(t,e)=>n=>!!(typeof n=="string"&&kN.test(n)&&n.startsWith(t)||e&&!RN(n)&&Object.prototype.hasOwnProperty.call(n,e)),fb=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,u]=r.match(nv);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},NN=t=>Ls(0,255,t),km={...wl,transform:t=>Math.round(NN(t))},Io={test:rv("rgb","red"),parse:fb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+km.transform(t)+", "+km.transform(e)+", "+km.transform(n)+", "+Lc(Yc.transform(r))+")"};function DN(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ng={test:rv("#"),parse:DN,transform:Io.transform},_u=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_i=_u("deg"),Xr=_u("%"),Pe=_u("px"),MN=_u("vh"),LN=_u("vw"),g_={...Xr,parse:t=>Xr.parse(t)/100,transform:t=>Xr.transform(t*100)},Ga={test:rv("hsl","hue"),parse:fb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xr.transform(Lc(e))+", "+Xr.transform(Lc(n))+", "+Lc(Yc.transform(r))+")"},Dt={test:t=>Io.test(t)||Ng.test(t)||Ga.test(t),parse:t=>Io.test(t)?Io.parse(t):Ga.test(t)?Ga.parse(t):Ng.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Io.transform(t):Ga.transform(t),getAnimatableNone:t=>{const e=Dt.parse(t);return e.alpha=0,Dt.transform(e)}},ON=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VN(t){return isNaN(t)&&typeof t=="string"&&(t.match(nv)?.length||0)+(t.match(ON)?.length||0)>0}const pb="number",mb="color",FN="var",UN="var(",y_="${}",BN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(BN,c=>(Dt.test(c)?(r.color.push(o),s.push(mb),n.push(Dt.parse(c))):c.startsWith(UN)?(r.var.push(o),s.push(FN),n.push(c)):(r.number.push(o),s.push(pb),n.push(parseFloat(c))),++o,y_)).split(y_);return{values:n,split:u,indexes:r,types:s}}function gb(t){return Qc(t).values}function yb(t){const{split:e,types:n}=Qc(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const u=n[l];u===pb?o+=Lc(s[l]):u===mb?o+=Dt.transform(s[l]):o+=s[l]}return o}}const jN=t=>typeof t=="number"?0:Dt.test(t)?Dt.getAnimatableNone(t):t;function zN(t){const e=gb(t);return yb(t)(e.map(jN))}const Di={test:VN,parse:gb,createTransformer:yb,getAnimatableNone:zN};function Nm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $N({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;s=Nm(c,u,t+1/3),o=Nm(c,u,t),l=Nm(c,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Dh(t,e){return n=>n>0?e:t}const ft=(t,e,n)=>t+(e-t)*n,Dm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},HN=[Ng,Io,Ga],WN=t=>HN.find(e=>e.test(t));function v_(t){const e=WN(t);if(!e)return!1;let n=e.parse(t);return e===Ga&&(n=$N(n)),n}const w_=(t,e)=>{const n=v_(t),r=v_(e);if(!n||!r)return Dh(t,e);const s={...n};return o=>(s.red=Dm(n.red,r.red,o),s.green=Dm(n.green,r.green,o),s.blue=Dm(n.blue,r.blue,o),s.alpha=ft(n.alpha,r.alpha,o),Io.transform(s))},Dg=new Set(["none","hidden"]);function qN(t,e){return Dg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function GN(t,e){return n=>ft(t,e,n)}function sv(t){return typeof t=="number"?GN:typeof t=="string"?tv(t)?Dh:Dt.test(t)?w_:QN:Array.isArray(t)?vb:typeof t=="object"?Dt.test(t)?w_:KN:Dh}function vb(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>sv(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function KN(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=sv(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function YN(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],u=t.values[l]??0;n[s]=u,r[o]++}return n}const QN=(t,e)=>{const n=Di.createTransformer(e),r=Qc(t),s=Qc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Dg.has(t)&&!s.values.length||Dg.has(e)&&!r.values.length?qN(t,e):wu(vb(YN(r,s),s.values),n):Dh(t,e)};function wb(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):sv(t)(t,e)}const XN=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ct.update(e,n),stop:()=>Ni(e),now:()=>Kt.isProcessing?Kt.timestamp:In.now()}},Eb=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Mh=2e4;function iv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Mh;)e+=n,r=t.next(e);return e>=Mh?1/0:e}function JN(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(iv(r),Mh);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:Qr(s)}}const ZN=5;function _b(t,e,n){const r=Math.max(e-ZN,0);return eb(n-t(r),e-r)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mm=.001;function e2({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:r=vt.mass}){let s,o,l=1-e;l=Ls(vt.minDamping,vt.maxDamping,l),t=Ls(vt.minDuration,vt.maxDuration,Qr(t)),l<1?(s=h=>{const m=h*l,g=m*t,w=m-n,E=Mg(h,l),b=Math.exp(-g);return Mm-w/E*b},o=h=>{const g=h*l*t,w=g*n+n,E=Math.pow(l,2)*Math.pow(h,2)*t,b=Math.exp(-g),A=Mg(Math.pow(h,2),l);return(-s(h)+Mm>0?-1:1)*((w-E)*b)/A}):(s=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-Mm+m*g},o=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const u=5/t,c=n2(s,o,u);if(t=Yr(t),isNaN(c))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const t2=12;function n2(t,e,n){let r=n;for(let s=1;s<t2;s++)r=r-t(r)/e(r);return r}function Mg(t,e){return t*Math.sqrt(1-e*e)}const r2=["duration","bounce"],s2=["stiffness","damping","mass"];function E_(t,e){return e.some(n=>t[n]!==void 0)}function i2(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!E_(t,s2)&&E_(t,r2))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Ls(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:vt.mass,stiffness:s,damping:o}}else{const n=e2(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function Lh(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:c,damping:h,mass:m,duration:g,velocity:w,isResolvedFromDuration:E}=i2({...n,velocity:-Qr(n.velocity||0)}),b=w||0,A=h/(2*Math.sqrt(c*m)),P=l-o,C=Qr(Math.sqrt(c/m)),R=Math.abs(P)<5;r||(r=R?vt.restSpeed.granular:vt.restSpeed.default),s||(s=R?vt.restDelta.granular:vt.restDelta.default);let N;if(A<1){const q=Mg(C,A);N=re=>{const F=Math.exp(-A*C*re);return l-F*((b+A*C*P)/q*Math.sin(q*re)+P*Math.cos(q*re))}}else if(A===1)N=q=>l-Math.exp(-C*q)*(P+(b+C*P)*q);else{const q=C*Math.sqrt(A*A-1);N=re=>{const F=Math.exp(-A*C*re),x=Math.min(q*re,300);return l-F*((b+A*C*P)*Math.sinh(x)+q*P*Math.cosh(x))/q}}const z={calculatedDuration:E&&g||null,next:q=>{const re=N(q);if(E)u.done=q>=g;else{let F=q===0?b:0;A<1&&(F=q===0?Yr(b):_b(N,q,re));const x=Math.abs(F)<=r,L=Math.abs(l-re)<=s;u.done=x&&L}return u.value=u.done?l:re,u},toString:()=>{const q=Math.min(iv(z),Mh),re=Eb(F=>z.next(q*F).value,q,30);return q+"ms "+re},toTransition:()=>{}};return z}Lh.applyToOptions=t=>{const e=JN(t,100,Lh);return t.ease=e.ease,t.duration=Yr(e.duration),t.type="keyframes",t};function Lg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:c,restDelta:h=.5,restSpeed:m}){const g=t[0],w={done:!1,value:g},E=x=>u!==void 0&&x<u||c!==void 0&&x>c,b=x=>u===void 0?c:c===void 0||Math.abs(u-x)<Math.abs(c-x)?u:c;let A=n*e;const P=g+A,C=l===void 0?P:l(P);C!==P&&(A=C-g);const R=x=>-A*Math.exp(-x/r),N=x=>C+R(x),z=x=>{const L=R(x),O=N(x);w.done=Math.abs(L)<=h,w.value=w.done?C:O};let q,re;const F=x=>{E(w.value)&&(q=x,re=Lh({keyframes:[w.value,b(w.value)],velocity:_b(N,x,w.value),damping:s,stiffness:o,restDelta:h,restSpeed:m}))};return F(0),{calculatedDuration:null,next:x=>{let L=!1;return!re&&q===void 0&&(L=!0,z(x),F(x)),q!==void 0&&x>=q?re.next(x-q):(!L&&z(x),w)}}}function o2(t,e,n){const r=[],s=n||Os.mix||wb,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const c=Array.isArray(e)?e[l]||er:e;u=wu(c,u)}r.push(u)}return r}function a2(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Yy(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=o2(e,r,s),c=u.length,h=m=>{if(l&&m<t[0])return e[0];let g=0;if(c>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const w=Kc(t[g],t[g+1],m);return u[g](w)};return n?m=>h(Ls(t[0],t[o-1],m)):h}function l2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Kc(0,e,r);t.push(ft(n,1,s))}}function c2(t){const e=[0];return l2(e,t.length-1),e}function u2(t,e){return t.map(n=>n*e)}function d2(t,e){return t.map(()=>e||cb).splice(0,t.length-1)}function Oc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=TN(r)?r.map(m_):m_(r),o={done:!1,value:e[0]},l=u2(n&&n.length===e.length?n:c2(e),t),u=a2(l,e,{ease:Array.isArray(s)?s:d2(e,s)});return{calculatedDuration:t,next:c=>(o.value=u(c),o.done=c>=t,o)}}const h2=t=>t!==null;function ov(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(h2),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const f2={decay:Lg,inertia:Lg,tween:Oc,keyframes:Oc,spring:Lh};function Tb(t){typeof t.type=="string"&&(t.type=f2[t.type])}class av{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const p2=t=>t/100;class lv extends av{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==In.now()&&this.tick(In.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Tb(e);const{type:n=Oc,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const c=n||Oc;c!==Oc&&typeof u[0]!="number"&&(this.mixKeyframes=wu(p2,wb(u[0],u[1])),u=[0,100]);const h=c({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=iv(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:w,repeatDelay:E,type:b,onUpdate:A,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let N=this.currentTime,z=r;if(g){const x=Math.min(this.currentTime,s)/u;let L=Math.floor(x),O=x%1;!O&&x>=1&&(O=1),O===1&&L--,L=Math.min(L,g+1),!!(L%2)&&(w==="reverse"?(O=1-O,E&&(O-=E/u)):w==="mirror"&&(z=l)),N=Ls(0,1,O)*u}const q=R?{done:!1,value:m[0]}:z.next(N);o&&(q.value=o(q.value));let{done:re}=q;!R&&c!==null&&(re=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return F&&b!==Lg&&(q.value=ov(m,this.options,P,this.speed)),A&&A(q.value),F&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return Qr(this.calculatedDuration)}get time(){return Qr(this.currentTime)}set time(e){e=Yr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(In.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Qr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=XN,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(In.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function m2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Co=t=>t*180/Math.PI,Og=t=>{const e=Co(Math.atan2(t[1],t[0]));return Vg(e)},g2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Og,rotateZ:Og,skewX:t=>Co(Math.atan(t[1])),skewY:t=>Co(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vg=t=>(t=t%360,t<0&&(t+=360),t),__=Og,T_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),S_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),y2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:T_,scaleY:S_,scale:t=>(T_(t)+S_(t))/2,rotateX:t=>Vg(Co(Math.atan2(t[6],t[5]))),rotateY:t=>Vg(Co(Math.atan2(-t[2],t[0]))),rotateZ:__,rotate:__,skewX:t=>Co(Math.atan(t[4])),skewY:t=>Co(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Fg(t){return t.includes("scale")?1:0}function Ug(t,e){if(!t||t==="none")return Fg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=y2,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=g2,s=u}if(!s)return Fg(e);const o=r[e],l=s[1].split(",").map(w2);return typeof o=="function"?o(l):l[o]}const v2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ug(n,e)};function w2(t){return parseFloat(t.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_l=new Set(El),b_=t=>t===wl||t===Pe,E2=new Set(["x","y","z"]),_2=El.filter(t=>!E2.has(t));function T2(t){const e=[];return _2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ko={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ug(e,"x"),y:(t,{transform:e})=>Ug(e,"y")};ko.translateX=ko.x;ko.translateY=ko.y;const No=new Set;let Bg=!1,jg=!1,zg=!1;function Sb(){if(jg){const t=Array.from(No).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=T2(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jg=!1,Bg=!1,No.forEach(t=>t.complete(zg)),No.clear()}function bb(){No.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jg=!0)})}function S2(){zg=!0,bb(),Sb(),zg=!1}class cv{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(No.add(this),Bg||(Bg=!0,ct.read(bb),ct.resolveKeyframes(Sb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}m2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),No.delete(this)}cancel(){this.state==="scheduled"&&(No.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b2=t=>t.startsWith("--");function x2(t,e,n){b2(e)?t.style.setProperty(e,n):t.style[e]=n}const I2=Qy(()=>window.ScrollTimeline!==void 0),C2={};function A2(t,e){const n=Qy(t);return()=>C2[e]??n()}const xb=A2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,x_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cc([0,.65,.55,1]),circOut:Cc([.55,0,1,.45]),backIn:Cc([.31,.01,.66,-.59]),backOut:Cc([.33,1.53,.69,.99])};function Ib(t,e){if(t)return typeof t=="function"?xb()?Eb(t,e):"ease-out":ub(t)?Cc(t):Array.isArray(t)?t.map(n=>Ib(n,e)||x_.easeOut):x_[t]}function P2(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:c}={},h=void 0){const m={[e]:n};c&&(m.offset=c);const g=Ib(u,s);Array.isArray(g)&&(m.easing=g);const w={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(w.pseudoElement=h),t.animate(m,w)}function Cb(t){return typeof t=="function"&&"applyToOptions"in t}function R2({type:t,...e}){return Cb(t)&&xb()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class k2 extends av{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,Yy(typeof e.type!="string");const h=R2(e);this.animation=P2(n,r,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=ov(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):x2(n,r,m),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Qr(Number(e))}get time(){return Qr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Yr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&I2()?(this.animation.timeline=e,er):n(this)}}const Ab={anticipate:ob,backInOut:ib,circInOut:lb};function N2(t){return t in Ab}function D2(t){typeof t.ease=="string"&&N2(t.ease)&&(t.ease=Ab[t.ease])}const I_=10;class M2 extends k2{constructor(e){D2(e),Tb(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new lv({...l,autoplay:!1}),c=Yr(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-I_).value,u.sample(c).value,I_),u.stop()}}const C_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Di.test(t)||t==="0")&&!t.startsWith("url("));function L2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function O2(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=C_(s,e),u=C_(o,e);return!l||!u?!1:L2(t)||(n==="spring"||Cb(n))&&r}function $g(t){t.duration=0,t.type}const V2=new Set(["opacity","clipPath","filter","transform"]),F2=Qy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U2(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=e.owner.getProps();return F2()&&n&&V2.has(n)&&(n!=="transform"||!h)&&!c&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const B2=40;class j2 extends av{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:c,motionValue:h,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=In.now();const w={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:c,motionValue:h,element:m,...g},E=m?.KeyframeResolver||cv;this.keyframeResolver=new E(u,(b,A,P)=>this.onKeyframesResolved(b,A,w,!P),c,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:c,isHandoff:h,onUpdate:m}=r;this.resolvedAt=In.now(),O2(e,o,l,u)||((Os.instantAnimations||!c)&&m?.(ov(e,r,n)),e[0]=e[e.length-1],$g(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>B2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!h&&U2(w)?new M2({...w,element:w.motionValue.owner.current}):new lv(w);E.finished.then(()=>this.notifyFinished()).catch(er),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),S2()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const z2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $2(t){const e=z2.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Pb(t,e,n=1){const[r,s]=$2(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return X1(l)?parseFloat(l):l}return tv(s)?Pb(s,e,n+1):s}function uv(t,e){return t?.[e]??t?.default??t}const Rb=new Set(["width","height","top","left","right","bottom",...El]),H2={test:t=>t==="auto",parse:t=>t},kb=t=>e=>e.test(t),Nb=[wl,Pe,Xr,_i,LN,MN,H2],A_=t=>Nb.find(kb(t));function W2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Z1(t):!0}const q2=new Set(["brightness","contrast","saturate","opacity"]);function G2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(nv)||[];if(!r)return t;const s=n.replace(r,"");let o=q2.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const K2=/\b([a-z-]*)\(.*?\)/gu,Hg={...Di,getAnimatableNone:t=>{const e=t.match(K2);return e?e.map(G2).join(" "):t}},P_={...wl,transform:Math.round},Y2={rotate:_i,rotateX:_i,rotateY:_i,rotateZ:_i,scale:nh,scaleX:nh,scaleY:nh,scaleZ:nh,skew:_i,skewX:_i,skewY:_i,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Yc,originX:g_,originY:g_,originZ:Pe},dv={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...Y2,zIndex:P_,fillOpacity:Yc,strokeOpacity:Yc,numOctaves:P_},Q2={...dv,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Hg,WebkitFilter:Hg},Db=t=>Q2[t];function Mb(t,e){let n=Db(t);return n!==Hg&&(n=Di),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const X2=new Set(["auto","none","0"]);function J2(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!X2.has(o)&&Qc(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=Mb(n,s)}class Z2 extends cv{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),tv(h))){const m=Pb(h,n.current);m!==void 0&&(e[c]=m),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Rb.has(r)||e.length!==2)return;const[s,o]=e,l=A_(s),u=A_(o);if(l!==u)if(b_(l)&&b_(u))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else ko[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||W2(e[s]))&&r.push(s);r.length&&J2(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ko[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=ko[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,c])=>{e.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function eD(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const Lb=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function tD(t){return J1(t)&&"offsetHeight"in t}const R_=30,nD=t=>!isNaN(parseFloat(t));class rD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=In.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=In.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Xy);const r=this.events[e].add(n);return e==="change"?()=>{r(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=In.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>R_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,R_);return eb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(t,e){return new rD(t,e)}const{schedule:hv}=db(queueMicrotask,!1),mr={x:!1,y:!1};function Ob(){return mr.x||mr.y}function sD(t){return t==="x"||t==="y"?mr[t]?null:(mr[t]=!0,()=>{mr[t]=!1}):mr.x||mr.y?null:(mr.x=mr.y=!0,()=>{mr.x=mr.y=!1})}function Vb(t,e){const n=eD(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function k_(t){return!(t.pointerType==="touch"||Ob())}function iD(t,e,n={}){const[r,s,o]=Vb(t,n),l=u=>{if(!k_(u))return;const{target:c}=u,h=e(c,u);if(typeof h!="function"||!c)return;const m=g=>{k_(g)&&(h(g),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const Fb=(t,e)=>e?t===e?!0:Fb(t,e.parentElement):!1,fv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aD(t){return oD.has(t.tagName)||t.tabIndex!==-1}const yh=new WeakSet;function N_(t){return e=>{e.key==="Enter"&&t(e)}}function Lm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lD=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=N_(()=>{if(yh.has(n))return;Lm(n,"down");const s=N_(()=>{Lm(n,"up")}),o=()=>Lm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function D_(t){return fv(t)&&!Ob()}function cD(t,e,n={}){const[r,s,o]=Vb(t,n),l=u=>{const c=u.currentTarget;if(!D_(u))return;yh.add(c);const h=e(c,u),m=(E,b)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",w),yh.has(c)&&yh.delete(c),D_(E)&&typeof h=="function"&&h(E,{success:b})},g=E=>{m(E,c===window||c===document||n.useGlobalTarget||Fb(c,E.target))},w=E=>{m(E,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",w,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),tD(u)&&(u.addEventListener("focus",h=>lD(h,s)),!aD(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function Ub(t){return J1(t)&&"ownerSVGElement"in t}function uD(t){return Ub(t)&&t.tagName==="svg"}const ln=t=>!!(t&&t.getVelocity),dD=[...Nb,Dt,Di],hD=t=>dD.find(kb(t)),Bb=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function fD(t=!0){const e=k.useContext(qy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=k.useId();k.useEffect(()=>{if(t)return s(o)},[t]);const l=k.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const jb=k.createContext({strict:!1}),M_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const t in M_)ll[t]={isEnabled:e=>M_[t].some(n=>!!e[n])};function pD(t){for(const e in t)ll[e]={...ll[e],...t[e]}}const mD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mD.has(t)}let zb=t=>!Oh(t);function gD(t){typeof t=="function"&&(zb=e=>e.startsWith("on")?!Oh(e):t(e))}try{gD(require("@emotion/is-prop-valid").default)}catch{}function yD(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(zb(s)||n===!0&&Oh(s)||!e&&!Oh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const yf=k.createContext({});function vf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Xc(t){return typeof t=="string"||Array.isArray(t)}const pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mv=["initial",...pv];function wf(t){return vf(t.animate)||mv.some(e=>Xc(t[e]))}function $b(t){return!!(wf(t)||t.variants)}function vD(t,e){if(wf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Xc(n)?n:void 0,animate:Xc(r)?r:void 0}}return t.inherit!==!1?e:{}}function wD(t){const{initial:e,animate:n}=vD(t,k.useContext(yf));return k.useMemo(()=>({initial:e,animate:n}),[L_(e),L_(n)])}function L_(t){return Array.isArray(t)?t.join(" "):t}const Jc={};function ED(t){for(const e in t)Jc[e]=t[e],ev(e)&&(Jc[e].isCSSVariable=!0)}function Hb(t,{layout:e,layoutId:n}){return _l.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Jc[t]||t==="opacity")}const _D={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TD=El.length;function SD(t,e,n){let r="",s=!0;for(let o=0;o<TD;o++){const l=El[o],u=t[l];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(l.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const h=Lb(u,dv[l]);if(!c){s=!1;const m=_D[l]||l;r+=`${m}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function gv(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const c in e){const h=e[c];if(_l.has(c)){l=!0;continue}else if(ev(c)){s[c]=h;continue}else{const m=Lb(h,dv[c]);c.startsWith("origin")?(u=!0,o[c]=m):r[c]=m}}if(e.transform||(l||n?r.transform=SD(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:h="50%",originZ:m=0}=o;r.transformOrigin=`${c} ${h} ${m}`}}const yv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wb(t,e,n){for(const r in e)!ln(e[r])&&!Hb(r,n)&&(t[r]=e[r])}function bD({transformTemplate:t},e){return k.useMemo(()=>{const n=yv();return gv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function xD(t,e){const n=t.style||{},r={};return Wb(r,n,t),Object.assign(r,bD(t,e)),r}function ID(t,e){const n={},r=xD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const CD={offset:"stroke-dashoffset",array:"stroke-dasharray"},AD={offset:"strokeDashoffset",array:"strokeDasharray"};function PD(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?CD:AD;t[o.offset]=Pe.transform(-r);const l=Pe.transform(e),u=Pe.transform(n);t[o.array]=`${l} ${u}`}function qb(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},c,h,m){if(gv(t,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:w}=t;g.transform&&(w.transform=g.transform,delete g.transform),(w.transform||g.transformOrigin)&&(w.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),w.transform&&(w.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&PD(g,s,o,l,!1)}const Gb=()=>({...yv(),attrs:{}}),Kb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function RD(t,e,n,r){const s=k.useMemo(()=>{const o=Gb();return qb(o,e,Kb(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Wb(o,t.style,t),s.style={...o,...s.style}}return s}const kD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vv(t){return typeof t!="string"||t.includes("-")?!1:!!(kD.indexOf(t)>-1||/[A-Z]/u.test(t))}function ND(t,e,n,{latestValues:r},s,o=!1){const u=(vv(t)?RD:ID)(e,r,s,t),c=yD(e,typeof t=="string",o),h=t!==k.Fragment?{...c,...u,ref:n}:{},{children:m}=e,g=k.useMemo(()=>ln(m)?m.get():m,[m]);return k.createElement(t,{...h,children:g})}function O_(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function wv(t,e,n,r){if(typeof e=="function"){const[s,o]=O_(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=O_(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function vh(t){return ln(t)?t.get():t}function DD({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:MD(n,r,s,t),renderState:e()}}function MD(t,e,n,r){const s={},o=r(t,{});for(const w in o)s[w]=vh(o[w]);let{initial:l,animate:u}=t;const c=wf(t),h=$b(t);e&&h&&!c&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?u:l;if(g&&typeof g!="boolean"&&!vf(g)){const w=Array.isArray(g)?g:[g];for(let E=0;E<w.length;E++){const b=wv(t,w[E]);if(b){const{transitionEnd:A,transition:P,...C}=b;for(const R in C){let N=C[R];if(Array.isArray(N)){const z=m?N.length-1:0;N=N[z]}N!==null&&(s[R]=N)}for(const R in A)s[R]=A[R]}}}return s}const Yb=t=>(e,n)=>{const r=k.useContext(yf),s=k.useContext(qy),o=()=>DD(t,e,r,s);return n?o():pN(o)};function Ev(t,e,n){const{style:r}=t,s={};for(const o in r)(ln(r[o])||e.style&&ln(e.style[o])||Hb(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}const LD=Yb({scrapeMotionValuesFromProps:Ev,createRenderState:yv});function Qb(t,e,n){const r=Ev(t,e,n);for(const s in t)if(ln(t[s])||ln(e[s])){const o=El.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const OD=Yb({scrapeMotionValuesFromProps:Qb,createRenderState:Gb}),VD=Symbol.for("motionComponentSymbol");function Ka(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FD(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ka(n)&&(n.current=r))},[e])}const _v=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UD="framerAppearId",Xb="data-"+_v(UD),Jb=k.createContext({});function BD(t,e,n,r,s){const{visualElement:o}=k.useContext(yf),l=k.useContext(jb),u=k.useContext(qy),c=k.useContext(Bb).reducedMotion,h=k.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const m=h.current,g=k.useContext(Jb);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&jD(h.current,n,s,g);const w=k.useRef(!1);k.useInsertionEffect(()=>{m&&w.current&&m.update(n,u)});const E=n[Xb],b=k.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return mN(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())}),k.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),b.current=!1),m.enteringChildren=void 0)}),m}function jD(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:c,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Zb(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&Ka(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:c,layoutRoot:h})}function Zb(t){if(t)return t.options.allowProjection!==!1?t.projection:Zb(t.parent)}function Om(t,{forwardMotionProps:e=!1}={},n,r){n&&pD(n);const s=vv(t)?OD:LD;function o(u,c){let h;const m={...k.useContext(Bb),...u,layoutId:zD(u)},{isStatic:g}=m,w=wD(u),E=s(u,g);if(!g&&Wy){$D();const b=HD(m);h=b.MeasureLayout,w.visualElement=BD(t,E,m,r,b.ProjectionNode)}return kg.jsxs(yf.Provider,{value:w,children:[h&&w.visualElement?kg.jsx(h,{visualElement:w.visualElement,...m}):null,ND(t,u,FD(E,w.visualElement,c),E,g,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=k.forwardRef(o);return l[VD]=t,l}function zD({layoutId:t}){const e=k.useContext(Q1).id;return e&&t!==void 0?e+"-"+t:t}function $D(t,e){k.useContext(jb).strict}function HD(t){const{drag:e,layout:n}=ll;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function WD(t,e){if(typeof Proxy>"u")return Om;const n=new Map,r=(o,l)=>Om(o,l,t,e),s=(o,l)=>r(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,Om(l,void 0,t,e)),n.get(l))})}function ex({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Vm(t){return t===void 0||t===1}function Wg({scale:t,scaleX:e,scaleY:n}){return!Vm(t)||!Vm(e)||!Vm(n)}function bo(t){return Wg(t)||tx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function tx(t){return V_(t.x)||V_(t.y)}function V_(t){return t&&t!=="0%"}function Vh(t,e,n){const r=t-n,s=e*r;return n+s}function F_(t,e,n,r,s){return s!==void 0&&(t=Vh(t,s,r)),Vh(t,n,r)+e}function qg(t,e=0,n=1,r,s){t.min=F_(t.min,e,n,r,s),t.max=F_(t.max,e,n,r,s)}function nx(t,{x:e,y:n}){qg(t.x,e.translate,e.scale,e.originPoint),qg(t.y,n.translate,n.scale,n.originPoint)}const U_=.999999999999,B_=1.0000000000001;function KD(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qa(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,nx(t,l)),r&&bo(o.latestValues)&&Qa(t,o.latestValues))}e.x<B_&&e.x>U_&&(e.x=1),e.y<B_&&e.y>U_&&(e.y=1)}function Ya(t,e){t.min=t.min+e,t.max=t.max+e}function j_(t,e,n,r,s=.5){const o=ft(t.min,t.max,s);qg(t,e,n,o,r)}function Qa(t,e){j_(t.x,e.x,e.scaleX,e.scale,e.originX),j_(t.y,e.y,e.scaleY,e.scale,e.originY)}function rx(t,e){return ex(GD(t.getBoundingClientRect(),e))}function YD(t,e,n){const r=rx(t,n),{scroll:s}=e;return s&&(Ya(r.x,s.offset.x),Ya(r.y,s.offset.y)),r}const z_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xa=()=>({x:z_(),y:z_()}),$_=()=>({min:0,max:0}),Ct=()=>({x:$_(),y:$_()}),Gg={current:null},sx={current:!1};function QD(){if(sx.current=!0,!!Wy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gg.current=t.matches;t.addEventListener("change",e),e()}else Gg.current=!1}const XD=new WeakMap;function JD(t,e,n){for(const r in e){const s=e[r],o=n[r];if(ln(s))t.addValue(r,s);else if(ln(o))t.addValue(r,al(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,al(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const H_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZD{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=In.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ct.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=wf(n),this.isVariantNode=$b(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in g){const E=g[w];c[w]!==void 0&&ln(E)&&E.set(c[w])}}mount(e){this.current=e,XD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),sx.current||QD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ni(this.notifyUpdate),Ni(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_l.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ll){const n=ll[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<H_.length;r++){const s=H_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=JD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=al(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(X1(r)||Z1(r))?r=parseFloat(r):!hD(r)&&Di.test(n)&&(r=Mb(e,n)),this.setBaseTarget(e,ln(r)?r.get():r)),ln(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=wv(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ln(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Xy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){hv.render(this.render)}}class ix extends ZD{constructor(){super(...arguments),this.KeyframeResolver=Z2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ox(t,{style:e,vars:n},r,s){const o=t.style;let l;for(l in e)o[l]=e[l];s?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function eM(t){return window.getComputedStyle(t)}class tM extends ix{constructor(){super(...arguments),this.type="html",this.renderInstance=ox}readValueFromInstance(e,n){if(_l.has(n))return this.projection?.isProjecting?Fg(n):v2(e,n);{const r=eM(e),s=(ev(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rx(e,n)}build(e,n,r){gv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ev(e,n,r)}}const ax=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nM(t,e,n,r){ox(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(ax.has(s)?s:_v(s),e.attrs[s])}class rM extends ix{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_l.has(n)){const r=Db(n);return r&&r.default||0}return n=ax.has(n)?n:_v(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Qb(e,n,r)}build(e,n,r){qb(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){nM(e,n,r,s)}mount(e){this.isSVGTag=Kb(e.tagName),super.mount(e)}}const sM=(t,e)=>vv(t)?new rM(e):new tM(e,{allowProjection:t!==k.Fragment});function Za(t,e,n){const r=t.getProps();return wv(r,e,n!==void 0?n:r.custom,t)}const Kg=t=>Array.isArray(t);function iM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,al(n))}function oM(t){return Kg(t)?t[t.length-1]||0:t}function aM(t,e){const n=Za(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const u=oM(o[l]);iM(t,l,u)}}function lM(t){return!!(ln(t)&&t.add)}function Yg(t,e){const n=t.getValue("willChange");if(lM(n))return n.add(e);if(!n&&Os.WillChange){const r=new Os.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function lx(t){return t.props[Xb]}const cM=t=>t!==null;function uM(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(cM),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const dM={type:"spring",stiffness:500,damping:25,restSpeed:10},hM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fM={type:"keyframes",duration:.8},pM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mM=(t,{keyframes:e})=>e.length>2?fM:_l.has(t)?t.startsWith("scale")?hM(e[1]):dM:pM;function gM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:c,elapsed:h,...m}){return!!Object.keys(m).length}const Tv=(t,e,n,r={},s,o)=>l=>{const u=uv(r,t)||{},c=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Yr(c);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};gM(u)||Object.assign(m,mM(t,m)),m.duration&&(m.duration=Yr(m.duration)),m.repeatDelay&&(m.repeatDelay=Yr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&($g(m),m.delay===0&&(g=!0)),(Os.instantAnimations||Os.skipAnimations)&&(g=!0,$g(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!o&&e.get()!==void 0){const w=uM(m.keyframes,u);if(w!==void 0){ct.update(()=>{m.onUpdate(w),m.onComplete()});return}}return u.isSync?new lv(m):new j2(m)};function yM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function cx(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const g=t.getValue(m,t.latestValues[m]??null),w=u[m];if(w===void 0||h&&yM(h,m))continue;const E={delay:n,...uv(o||{},m)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(w)&&w===b&&!E.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const C=lx(t);if(C){const R=window.MotionHandoffAnimation(C,m,ct);R!==null&&(E.startTime=R,A=!0)}}Yg(t,m),g.start(Tv(m,g,w,t.shouldReduceMotion&&Rb.has(m)?{type:!1}:E,t,A));const P=g.animation;P&&c.push(P)}return l&&Promise.all(c).then(()=>{ct.update(()=>{l&&aM(t,l)})}),c}function ux(t,e,n,r=0,s=1){const o=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(o,l):s===1?o*r:u-o*r}function Qg(t,e,n={}){const r=Za(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(cx(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=s;return vM(t,e,c,h,m,g,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[c,h]=u==="beforeChildren"?[o,l]:[l,o];return c().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function vM(t,e,n=0,r=0,s=0,o=1,l){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(Qg(c,e,{...l,delay:n+(typeof r=="function"?0:r)+ux(t.variantChildren,c,r,s,o)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function wM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Qg(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Qg(t,e,n);else{const s=typeof e=="function"?Za(t,e,n.custom):e;r=Promise.all(cx(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function dx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const EM=mv.length;function hx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?hx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<EM;n++){const r=mv[n],s=t.props[r];(Xc(s)||s===!1)&&(e[r]=s)}return e}const _M=[...pv].reverse(),TM=pv.length;function SM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wM(t,n,r)))}function bM(t){let e=SM(t),n=W_(),r=!0;const s=c=>(h,m)=>{const g=Za(t,m,c==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:w,transitionEnd:E,...b}=g;h={...h,...b,...E}}return h};function o(c){e=c(t)}function l(c){const{props:h}=t,m=hx(t.parent)||{},g=[],w=new Set;let E={},b=1/0;for(let P=0;P<TM;P++){const C=_M[P],R=n[C],N=h[C]!==void 0?h[C]:m[C],z=Xc(N),q=C===c?R.isActive:null;q===!1&&(b=P);let re=N===m[C]&&N!==h[C]&&z;if(re&&r&&t.manuallyAnimateOnMount&&(re=!1),R.protectedKeys={...E},!R.isActive&&q===null||!N&&!R.prevProp||vf(N)||typeof N=="boolean")continue;const F=xM(R.prevProp,N);let x=F||C===c&&R.isActive&&!re&&z||P>b&&z,L=!1;const O=Array.isArray(N)?N:[N];let V=O.reduce(s(C),{});q===!1&&(V={});const{prevResolvedValues:B={}}=R,M={...B,...V},K=X=>{x=!0,w.has(X)&&(L=!0,w.delete(X)),R.needsAnimating[X]=!0;const j=t.getValue(X);j&&(j.liveStyle=!1)};for(const X in M){const j=V[X],Z=B[X];if(E.hasOwnProperty(X))continue;let oe=!1;Kg(j)&&Kg(Z)?oe=!dx(j,Z):oe=j!==Z,oe?j!=null?K(X):w.add(X):j!==void 0&&w.has(X)?K(X):R.protectedKeys[X]=!0}R.prevProp=N,R.prevResolvedValues=V,R.isActive&&(E={...E,...V}),r&&t.blockInitialAnimation&&(x=!1);const G=re&&F;x&&(!G||L)&&g.push(...O.map(X=>{const j={type:C};if(typeof X=="string"&&r&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,oe=Za(Z,X);if(Z.enteringChildren&&oe){const{delayChildren:H}=oe.transition||{};j.delay=ux(Z.enteringChildren,t,H)}}return{animation:X,options:j}}))}if(w.size){const P={};if(typeof h.initial!="boolean"){const C=Za(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(P.transition=C.transition)}w.forEach(C=>{const R=t.getBaseTarget(C),N=t.getValue(C);N&&(N.liveStyle=!0),P[C]=R??null}),g.push({animation:P})}let A=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(g):Promise.resolve()}function u(c,h){if(n[c].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(c,h)),n[c].isActive=h;const m=l(c);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=W_(),r=!0}}}function xM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dx(e,t):!1}function So(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W_(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class Bi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class IM extends Bi{constructor(e){super(e),e.animationState||(e.animationState=bM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let CM=0;class AM extends Bi{constructor(){super(...arguments),this.id=CM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PM={animation:{Feature:IM},exit:{Feature:AM}};function Zc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Tu(t){return{point:{x:t.pageX,y:t.pageY}}}const RM=t=>e=>fv(e)&&t(e,Tu(e));function Vc(t,e,n,r){return Zc(t,e,RM(n),r)}const fx=1e-4,kM=1-fx,NM=1+fx,px=.01,DM=0-px,MM=0+px;function mn(t){return t.max-t.min}function LM(t,e,n){return Math.abs(t-e)<=n}function q_(t,e,n,r=.5){t.origin=r,t.originPoint=ft(e.min,e.max,t.origin),t.scale=mn(n)/mn(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kM&&t.scale<=NM||isNaN(t.scale))&&(t.scale=1),(t.translate>=DM&&t.translate<=MM||isNaN(t.translate))&&(t.translate=0)}function Fc(t,e,n,r){q_(t.x,e.x,n.x,r?r.originX:void 0),q_(t.y,e.y,n.y,r?r.originY:void 0)}function G_(t,e,n){t.min=n.min+e.min,t.max=t.min+mn(e)}function OM(t,e,n){G_(t.x,e.x,n.x),G_(t.y,e.y,n.y)}function K_(t,e,n){t.min=e.min-n.min,t.max=t.min+mn(e)}function Uc(t,e,n){K_(t.x,e.x,n.x),K_(t.y,e.y,n.y)}function Jn(t){return[t("x"),t("y")]}const mx=({current:t})=>t?t.ownerDocument.defaultView:null,Y_=(t,e)=>Math.abs(t-e);function VM(t,e){const n=Y_(t.x,e.x),r=Y_(t.y,e.y);return Math.sqrt(n**2+r**2)}class gx{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Um(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,b=VM(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!b)return;const{point:A}=w,{timestamp:P}=Kt;this.history.push({...A,timestamp:P});const{onStart:C,onMove:R}=this.handlers;E||(C&&C(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Fm(E,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:b,onSessionEnd:A,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Um(w.type==="pointercancel"?this.lastMoveEventInfo:Fm(E,this.transformPagePoint),this.history);this.startEvent&&b&&b(w,C),A&&A(w,C)},!fv(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const u=Tu(e),c=Fm(u,this.transformPagePoint),{point:h}=c,{timestamp:m}=Kt;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Um(c,this.history)),this.removeListeners=wu(Vc(this.contextWindow,"pointermove",this.handlePointerMove),Vc(this.contextWindow,"pointerup",this.handlePointerUp),Vc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ni(this.updatePoint)}}function Fm(t,e){return e?{point:e(t.point)}:t}function Q_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Um({point:t},e){return{point:t,delta:Q_(t,yx(e)),offset:Q_(t,FM(e)),velocity:UM(e,.1)}}function FM(t){return t[0]}function yx(t){return t[t.length-1]}function UM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=yx(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Yr(e)));)n--;if(!r)return{x:0,y:0};const o=Qr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function BM(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ft(n,t,r.max):Math.min(t,n)),t}function X_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jM(t,{top:e,left:n,bottom:r,right:s}){return{x:X_(t.x,n,s),y:X_(t.y,e,r)}}function J_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zM(t,e){return{x:J_(t.x,e.x),y:J_(t.y,e.y)}}function $M(t,e){let n=.5;const r=mn(t),s=mn(e);return s>r?n=Kc(e.min,e.max-r,t.min):r>s&&(n=Kc(t.min,t.max-s,e.min)),Ls(0,1,n)}function HM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xg=.35;function WM(t=Xg){return t===!1?t=0:t===!0&&(t=Xg),{x:Z_(t,"left","right"),y:Z_(t,"top","bottom")}}function Z_(t,e,n){return{min:eT(t,e),max:eT(t,n)}}function eT(t,e){return typeof t=="number"?t:t[e]||0}const qM=new WeakMap;class GM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tu(g).point)},l=(g,w)=>{const{drag:E,dragPropagation:b,onDragStart:A}=this.getProps();if(E&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sD(E),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(C=>{let R=this.getAxisMotionValue(C).get()||0;if(Xr.test(R)){const{projection:N}=this.visualElement;if(N&&N.layout){const z=N.layout.layoutBox[C];z&&(R=mn(z)*(parseFloat(R)/100))}}this.originPoint[C]=R}),A&&ct.postRender(()=>A(g,w)),Yg(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},u=(g,w)=>{this.latestPointerEvent=g,this.latestPanInfo=w;const{dragPropagation:E,dragDirectionLock:b,onDirectionLock:A,onDrag:P}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:C}=w;if(b&&this.currentDirection===null){this.currentDirection=KM(C),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",w.point,C),this.updateAxis("y",w.point,C),this.visualElement.render(),P&&P(g,w)},c=(g,w)=>{this.latestPointerEvent=g,this.latestPanInfo=w,this.stop(g,w),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Jn(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new gx(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:mx(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&ct.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!rh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=BM(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Ka(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=jM(r.layoutBox,e):this.constraints=!1,this.elastic=WM(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Jn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=HM(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ka(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=YD(r,s.root,this.visualElement.getTransformPagePoint());let l=zM(s.layout.layoutBox,o);if(n){const u=n(qD(l));this.hasMutatedConstraints=!!u,u&&(l=ex(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},h=Jn(m=>{if(!rh(m,n,this.currentDirection))return;let g=c&&c[m]||{};l&&(g={min:0,max:0});const w=s?200:1e6,E=s?40:1e7,b={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,b)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Yg(this.visualElement,e),r.start(Tv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jn(n=>{const{drag:r}=this.getProps();if(!rh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(e[n]-ft(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ka(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Jn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const c=u.get();s[l]=$M({min:c,max:c},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jn(l=>{if(!rh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:c,max:h}=this.constraints[l];u.set(ft(c,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;qM.set(this.visualElement,this);const e=this.visualElement.current,n=Vc(e,"pointerdown",c=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ka(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ct.read(r);const l=Zc(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Jn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=c[m].translate,g.set(g.get()+c[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Xg,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function rh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YM extends Bi{constructor(e){super(e),this.removeGroupControls=er,this.removeListeners=er,this.controls=new GM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}}const tT=t=>(e,n)=>{t&&ct.postRender(()=>t(e,n))};class QM extends Bi{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(e){this.session=new gx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:tT(e),onStart:tT(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&ct.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=Vc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=nT(t,e.target.x),r=nT(t,e.target.y);return`${n}% ${r}%`}},XM={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Di.parse(t);if(s.length>5)return r;const o=Di.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=c;const h=ft(u,c,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}};let Bm=!1;class JM extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;ED(ZM),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),Bm&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),wh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,Bm=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||ct.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Bm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function vx(t){const[e,n]=fD(),r=k.useContext(Q1);return kg.jsx(JM,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(Jb),isPresent:e,safeToRemove:n})}const ZM={borderRadius:{...Sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sc,borderTopRightRadius:Sc,borderBottomLeftRadius:Sc,borderBottomRightRadius:Sc,boxShadow:XM};function eL(t,e,n){const r=ln(t)?t:al(t);return r.start(Tv("",r,e,n)),r.animation}const tL=(t,e)=>t.depth-e.depth;class nL{constructor(){this.children=[],this.isDirty=!1}add(e){Gy(this.children,e),this.isDirty=!0}remove(e){Ky(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tL),this.isDirty=!1,this.children.forEach(e)}}function rL(t,e){const n=In.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Ni(r),t(o-e))};return ct.setup(r,!0),()=>Ni(r)}const wx=["TopLeft","TopRight","BottomLeft","BottomRight"],sL=wx.length,rT=t=>typeof t=="string"?parseFloat(t):t,sT=t=>typeof t=="number"||Pe.test(t);function iL(t,e,n,r,s,o){s?(t.opacity=ft(0,n.opacity??1,oL(r)),t.opacityExit=ft(e.opacity??1,0,aL(r))):o&&(t.opacity=ft(e.opacity??1,n.opacity??1,r));for(let l=0;l<sL;l++){const u=`border${wx[l]}Radius`;let c=iT(e,u),h=iT(n,u);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||sT(c)===sT(h)?(t[u]=Math.max(ft(rT(c),rT(h),r),0),(Xr.test(h)||Xr.test(c))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,r))}function iT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oL=Ex(0,.5,ab),aL=Ex(.5,.95,er);function Ex(t,e,n){return r=>r<t?0:r>e?1:n(Kc(t,e,r))}function oT(t,e){t.min=e.min,t.max=e.max}function Xn(t,e){oT(t.x,e.x),oT(t.y,e.y)}function aT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function lT(t,e,n,r,s){return t-=e,t=Vh(t,1/n,r),s!==void 0&&(t=Vh(t,1/s,r)),t}function lL(t,e=0,n=1,r=.5,s,o=t,l=t){if(Xr.test(e)&&(e=parseFloat(e),e=ft(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ft(o.min,o.max,r);t===o&&(u-=e),t.min=lT(t.min,e,n,u,s),t.max=lT(t.max,e,n,u,s)}function cT(t,e,[n,r,s],o,l){lL(t,e[n],e[r],e[s],e.scale,o,l)}const cL=["x","scaleX","originX"],uL=["y","scaleY","originY"];function uT(t,e,n,r){cT(t.x,e,cL,n?n.x:void 0,r?r.x:void 0),cT(t.y,e,uL,n?n.y:void 0,r?r.y:void 0)}function dT(t){return t.translate===0&&t.scale===1}function _x(t){return dT(t.x)&&dT(t.y)}function hT(t,e){return t.min===e.min&&t.max===e.max}function dL(t,e){return hT(t.x,e.x)&&hT(t.y,e.y)}function fT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Tx(t,e){return fT(t.x,e.x)&&fT(t.y,e.y)}function pT(t){return mn(t.x)/mn(t.y)}function mT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hL{constructor(){this.members=[]}add(e){Gy(this.members,e),e.scheduleRender()}remove(e){if(Ky(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fL(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:w,skewX:E,skewY:b}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),w&&(r+=`rotateY(${w}deg) `),E&&(r+=`skewX(${E}deg) `),b&&(r+=`skewY(${b}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const jm=["","X","Y","Z"],pL=1e3;let mL=0;function zm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Sx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ct,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Sx(r)}function bx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=mL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vL),this.nodes.forEach(TL),this.nodes.forEach(SL),this.nodes.forEach(wL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new nL)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Xy),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const c=this.eventHandlers.get(l);c&&c.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Ub(l)&&!uD(l),this.instance=l;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),t){let m,g=0;const w=()=>this.root.updateBlockedByResize=!1;ct.read(()=>{g=window.innerWidth}),t(l,()=>{const E=window.innerWidth;E!==g&&(g=E,this.root.updateBlockedByResize=!0,m&&m(),m=rL(w,250),wh.hasAnimatedSinceResize&&(wh.hasAnimatedSinceResize=!1,this.nodes.forEach(vT)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:w,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||AL,{onLayoutAnimationStart:A,onLayoutAnimationComplete:P}=h.getProps(),C=!this.targetLayout||!Tx(this.targetLayout,E),R=!g&&w;if(this.options.layoutRoot||this.resumeFrom||R||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...uv(b,"layout"),onPlay:A,onComplete:P};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(m,R)}else g||vT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bL),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_L),this.nodes.forEach(gL),this.nodes.forEach(yL)):this.nodes.forEach(yT),this.clearAllSnapshots();const u=In.now();Kt.delta=Ls(0,1e3/60,u-Kt.timestamp),Kt.timestamp=u,Kt.isProcessing=!0,Rm.update.process(Kt),Rm.preRender.process(Kt),Rm.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(EL),this.sharedNodes.forEach(xL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!_x(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||bo(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return l&&(c=this.removeTransform(c)),PL(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ct();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(RL))){const{scroll:h}=this.root;h&&(Ya(u.x,h.offset.x),Ya(u.y,h.offset.y))}return u}removeElementScroll(l){const u=Ct();if(Xn(u,l),this.scroll?.wasRoot)return u;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Xn(u,l),Ya(u.x,m.offset.x),Ya(u.y,m.offset.y))}return u}applyTransform(l,u=!1){const c=Ct();Xn(c,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Qa(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),bo(m.latestValues)&&Qa(c,m.latestValues)}return bo(this.latestValues)&&Qa(c,this.latestValues),c}removeTransform(l){const u=Ct();Xn(u,l);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!bo(h.latestValues))continue;Wg(h.latestValues)&&h.updateSnapshot();const m=Ct(),g=h.measurePageBox();Xn(m,g),uT(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return bo(this.latestValues)&&uT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Uc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),nx(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Uc(this.relativeTargetOrigin,this.target,w.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wg(this.parent.latestValues)||tx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Xn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,w=this.treeScale.y;KD(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ct());const{target:E}=l;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aT(this.prevProjectionDelta.x,this.projectionDelta.x),aT(this.prevProjectionDelta.y,this.projectionDelta.y)),Fc(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==w||!mT(this.projectionDelta.x,this.prevProjectionDelta.x)||!mT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xa(),this.projectionDelta=Xa(),this.projectionDeltaWithTransform=Xa()}setAnimationOrigin(l,u=!1){const c=this.snapshot,h=c?c.latestValues:{},m={...this.latestValues},g=Xa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=Ct(),E=c?c.source:void 0,b=this.layout?this.layout.source:void 0,A=E!==b,P=this.getStack(),C=!P||P.members.length<=1,R=!!(A&&!C&&this.options.crossfade===!0&&!this.path.some(CL));this.animationProgress=0;let N;this.mixTargetDelta=z=>{const q=z/1e3;wT(g.x,l.x,q),wT(g.y,l.y,q),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IL(this.relativeTarget,this.relativeTargetOrigin,w,q),N&&dL(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Ct()),Xn(N,this.relativeTarget)),A&&(this.animationValues=m,iL(m,h,this.latestValues,q,R,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{wh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=al(0)),this.currentAnimation=eL(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:c,layout:h,latestValues:m}=l;if(!(!u||!c||!h)){if(this!==l&&this.layout&&h&&xx(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||Ct();const g=mn(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+g;const w=mn(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+w}Xn(u,c),Qa(u,m),Fc(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new hL),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const h={};c.z&&zm("z",l,h,this.animationValues);for(let m=0;m<jm.length;m++)zm(`rotate${jm[m]}`,l,h,this.animationValues),zm(`skew${jm[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=vh(u?.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=vh(u?.pointerEvents)||""),this.hasProjected&&!bo(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=fL(this.projectionDeltaWithTransform,this.treeScale,m);c&&(g=c(m,g)),l.transform=g;const{x:w,y:E}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Jc){if(m[b]===void 0)continue;const{correct:A,applyTo:P,isCSSVariable:C}=Jc[b],R=g==="none"?m[b]:A(m[b],h);if(P){const N=P.length;for(let z=0;z<N;z++)l[P[z]]=R}else C?this.options.visualElement.renderState.vars[b]=R:l[b]=R}this.options.layoutId&&(l.pointerEvents=h===this?vh(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(gT),this.root.sharedNodes.clear()}}}function gL(t){t.updateLayout()}function yL(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Jn(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],w=mn(g);g.min=n[m].min,g.max=g.min+w}):xx(s,e.layoutBox,n)&&Jn(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],w=mn(n[m]);g.max=g.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+w)});const l=Xa();Fc(l,n,e.layoutBox);const u=Xa();o?Fc(u,t.applyTransform(r,!0),e.measuredBox):Fc(u,n,e.layoutBox);const c=!_x(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:w}=m;if(g&&w){const E=Ct();Uc(E,e.layoutBox,g.layoutBox);const b=Ct();Uc(b,n,w.layoutBox),Tx(E,b)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=E,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function vL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function EL(t){t.clearSnapshot()}function gT(t){t.clearMeasurements()}function yT(t){t.isLayoutDirty=!1}function _L(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function vT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function TL(t){t.resolveTargetDelta()}function SL(t){t.calcProjection()}function bL(t){t.resetSkewAndRotation()}function xL(t){t.removeLeadSnapshot()}function wT(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ET(t,e,n,r){t.min=ft(e.min,n.min,r),t.max=ft(e.max,n.max,r)}function IL(t,e,n,r){ET(t.x,e.x,n.x,r),ET(t.y,e.y,n.y,r)}function CL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AL={duration:.45,ease:[.4,0,.1,1]},_T=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),TT=_T("applewebkit/")&&!_T("chrome/")?Math.round:er;function ST(t){t.min=TT(t.min),t.max=TT(t.max)}function PL(t){ST(t.x),ST(t.y)}function xx(t,e,n){return t==="position"||t==="preserve-aspect"&&!LM(pT(e),pT(n),.2)}function RL(t){return t!==t.root&&t.scroll?.wasRoot}const kL=bx({attachResizeListener:(t,e)=>Zc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$m={current:void 0},Ix=bx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$m.current){const t=new kL({});t.mount(window),t.setOptions({layoutScroll:!0}),$m.current=t}return $m.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NL={pan:{Feature:QM},drag:{Feature:YM,ProjectionNode:Ix,MeasureLayout:vx}};function bT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&ct.postRender(()=>o(e,Tu(e)))}class DL extends Bi{mount(){const{current:e}=this.node;e&&(this.unmount=iD(e,(n,r)=>(bT(this.node,r,"Start"),s=>bT(this.node,s,"End"))))}unmount(){}}class ML extends Bi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wu(Zc(this.node.current,"focus",()=>this.onFocus()),Zc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&ct.postRender(()=>o(e,Tu(e)))}class LL extends Bi{mount(){const{current:e}=this.node;e&&(this.unmount=cD(e,(n,r)=>(xT(this.node,r,"Start"),(s,{success:o})=>xT(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jg=new WeakMap,Hm=new WeakMap,OL=t=>{const e=Jg.get(t.target);e&&e(t)},VL=t=>{t.forEach(OL)};function FL({root:t,...e}){const n=t||document;Hm.has(n)||Hm.set(n,{});const r=Hm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(VL,{root:t,...e})),r[s]}function UL(t,e,n){const r=FL(e);return Jg.set(t,n),r.observe(t),()=>{Jg.delete(t),r.unobserve(t)}}const BL={some:0,all:1};class jL extends Bi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:BL[s]},u=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),w=h?m:g;w&&w(c)};return UL(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zL(e,n))&&this.startObserver()}unmount(){}}function zL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $L={inView:{Feature:jL},tap:{Feature:LL},focus:{Feature:ML},hover:{Feature:DL}},HL={layout:{ProjectionNode:Ix,MeasureLayout:vx}},WL={...PM,...$L,...NL,...HL},Ii=WD(WL,sM),qL=()=>y.createElement("main",{className:"bg-white"},y.createElement("section",{className:"max-w-7xl mx-auto px-4 pt-20 pb-16 text-center"},y.createElement(Ii.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl sm:text-5xl font-bold text-gray-900 leading-tight"},"Buy & Sell Locally in Amravati"),y.createElement(Ii.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-4 text-gray-600 max-w-2xl mx-auto text-base sm:text-lg"},"Books, handmade items, home food, second-hand goods & more. Chat securely with local sellers  no phone numbers shared."),y.createElement("p",{className:"mt-2 text-xs text-gray-500"},"Serving Amravati city & nearby areas only."),y.createElement(Ii.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-4"},y.createElement(Ve,{to:"/browse",className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-semibold shadow-sm transition"},"Browse Products"),y.createElement(Ve,{to:"/add-product",className:"text-blue-600 hover:underline text-sm font-medium"},"Start selling "))),y.createElement("section",{className:"border-t border-b bg-gray-50"},y.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6 grid grid-cols-1 sm:grid-cols-3 gap-4 text-center text-sm text-gray-700"},y.createElement("div",null," Secure in-app chat"),y.createElement("div",null," Only Amravati sellers"),y.createElement("div",null," No phone number sharing"))),y.createElement("section",{className:"max-w-7xl mx-auto px-4 py-16"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-12"},"How MyAmravati Market Works"),y.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},[{title:"List or Browse Products",desc:"Post what you want to sell or explore local listings.",icon:""},{title:"Chat Securely",desc:"Talk to buyers or sellers inside the platform.",icon:""},{title:"Meet & Close the Deal",desc:"Meet locally and complete the exchange with trust.",icon:""}].map((t,e)=>y.createElement(Ii.div,{key:e,initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},className:"bg-white rounded-xl shadow-sm p-6 text-center"},y.createElement("div",{className:"text-4xl mb-3"},t.icon),y.createElement("h3",{className:"font-semibold text-lg mb-2"},t.title),y.createElement("p",{className:"text-gray-600 text-sm"},t.desc))))),y.createElement("section",{className:"bg-gray-50 py-16"},y.createElement("div",{className:"max-w-6xl mx-auto px-4 text-center"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-10"},"Built for Local People"),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 text-sm"},y.createElement("div",{className:"bg-white rounded-xl p-6 shadow-sm"}," ",y.createElement("strong",null,"Students"),y.createElement("p",{className:"mt-2 text-gray-600"},"Buy & sell books, notes, gadgets and essentials.")),y.createElement("div",{className:"bg-white rounded-xl p-6 shadow-sm"}," ",y.createElement("strong",null,"Shop Owners"),y.createElement("p",{className:"mt-2 text-gray-600"},"Take your local shop online without extra cost.")),y.createElement("div",{className:"bg-white rounded-xl p-6 shadow-sm"}," ",y.createElement("strong",null,"Home Entrepreneurs"),y.createElement("p",{className:"mt-2 text-gray-600"},"Sell homemade food, crafts and handmade items."))))),y.createElement("section",{className:"max-w-6xl mx-auto px-4 py-16 text-center"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-4"},"Start Your Local Journey Today"),y.createElement("p",{className:"text-gray-600 mb-6"},"Join Amravatis own digital marketplace."),y.createElement(Ve,{to:"/browse",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-semibold shadow-sm transition"},"Explore Products"))),GL=()=>{};var IT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},KL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],u=t[n++],c=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Ax={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,u=l?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,m=o>>2,g=(o&3)<<4|u>>4;let w=(u&15)<<2|h>>6,E=h&63;c||(E=64,l||(w=64)),r.push(n[m],n[g],n[w],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||h==null||g==null)throw new YL;const w=o<<2|u>>4;if(r.push(w),h!==64){const E=u<<4&240|h>>2;if(r.push(E),g!==64){const b=h<<6&192|g;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QL=function(t){const e=Cx(t);return Ax.encodeByteArray(e,!0)},Fh=function(t){return QL(t).replace(/\./g,"")},Px=function(t){try{return Ax.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=()=>XL().__FIREBASE_DEFAULTS__,ZL=()=>{if(typeof process>"u"||typeof IT>"u")return;const t=IT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Px(t[1]);return e&&JSON.parse(e)},Ef=()=>{try{return GL()||JL()||ZL()||eO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Rx=t=>Ef()?.emulatorHosts?.[t],kx=t=>{const e=Rx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Nx=()=>Ef()?.config,Dx=t=>Ef()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fh(JSON.stringify(n)),Fh(JSON.stringify(l)),""].join(".")}const Bc={};function nO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bc))Bc[e]?t.emulator.push(e):t.prod.push(e);return t}function rO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let CT=!1;function bv(t,e){if(typeof window>"u"||typeof document>"u"||!ji(window.location.host)||Bc[t]===e||Bc[t]||CT)return;Bc[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=nO().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function c(w,E){w.setAttribute("width","24"),w.setAttribute("id",E),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function h(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{CT=!0,l()},w}function m(w,E){w.setAttribute("id",E),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){const w=rO(r),E=n("text"),b=document.getElementById(E)||document.createElement("span"),A=n("learnmore"),P=document.getElementById(A)||document.createElement("a"),C=n("preprendIcon"),R=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const N=w.element;u(N),m(P,A);const z=h();c(R,C),N.append(R,b,P,z),document.body.appendChild(N)}o?(b.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function iO(){const t=Ef()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cO(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uO(){return!iO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lx(){try{return typeof indexedDB=="object"}catch{return!1}}function Ox(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function dO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hO,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Go.prototype.create)}}class Go{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?fO(o,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Ir(s,u,r)}}function fO(t,e){return t.replace(pO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const pO=/\{\$([^}]+)}/g;function mO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(AT(o)&&AT(l)){if(!Oo(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function AT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ac(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gO(t,e){const n=new yO(t,e);return n.subscribe.bind(n)}class yO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Wm),s.error===void 0&&(s.error=Wm),s.complete===void 0&&(s.complete=Wm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_O(e))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xo){return this.instances.has(e)}getOptions(e=xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xo){return this.component?this.component.multipleInstances?e:xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EO(t){return t===xo?void 0:t}function _O(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const SO={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},bO=Ue.INFO,xO={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},IO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=xO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xv{constructor(e){this.name=e,this._logLevel=bO,this._logHandler=IO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const CO=(t,e)=>e.some(n=>t instanceof n);let PT,RT;function AO(){return PT||(PT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PO(){return RT||(RT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vx=new WeakMap,Zg=new WeakMap,Fx=new WeakMap,qm=new WeakMap,Iv=new WeakMap;function RO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ks(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Vx.set(n,t)}).catch(()=>{}),Iv.set(e,t),e}function kO(t){if(Zg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Zg.set(t,e)}let ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NO(t){ey=t(ey)}function DO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gm(this),e,...n);return Fx.set(r,e.sort?e.sort():[e]),ks(r)}:PO().includes(t)?function(...e){return t.apply(Gm(this),e),ks(Vx.get(this))}:function(...e){return ks(t.apply(Gm(this),e))}}function MO(t){return typeof t=="function"?DO(t):(t instanceof IDBTransaction&&kO(t),CO(t,AO())?new Proxy(t,ey):t)}function ks(t){if(t instanceof IDBRequest)return RO(t);if(qm.has(t))return qm.get(t);const e=MO(t);return e!==t&&(qm.set(t,e),Iv.set(e,t)),e}const Gm=t=>Iv.get(t);function _f(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),u=ks(l);return r&&l.addEventListener("upgradeneeded",c=>{r(ks(l.result),c.oldVersion,c.newVersion,ks(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}function Km(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),ks(n).then(()=>{})}const LO=["get","getKey","getAll","getAllKeys","count"],OO=["put","add","delete","clear"],Ym=new Map;function kT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ym.get(e))return Ym.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=OO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||LO.includes(n)))return;const o=async function(l,...u){const c=this.transaction(l,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),s&&c.done]))[0]};return Ym.set(e,o),o}NO(t=>({...t,get:(e,n,r)=>kT(e,n)||t.get(e,n,r),has:(e,n)=>!!kT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FO(t){return t.getComponent()?.type==="VERSION"}const ty="@firebase/app",NT="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new xv("@firebase/app"),UO="@firebase/app-compat",BO="@firebase/analytics-compat",jO="@firebase/analytics",zO="@firebase/app-check-compat",$O="@firebase/app-check",HO="@firebase/auth",WO="@firebase/auth-compat",qO="@firebase/database",GO="@firebase/data-connect",KO="@firebase/database-compat",YO="@firebase/functions",QO="@firebase/functions-compat",XO="@firebase/installations",JO="@firebase/installations-compat",ZO="@firebase/messaging",eV="@firebase/messaging-compat",tV="@firebase/performance",nV="@firebase/performance-compat",rV="@firebase/remote-config",sV="@firebase/remote-config-compat",iV="@firebase/storage",oV="@firebase/storage-compat",aV="@firebase/firestore",lV="@firebase/ai",cV="@firebase/firestore-compat",uV="firebase",dV="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="[DEFAULT]",hV={[ty]:"fire-core",[UO]:"fire-core-compat",[jO]:"fire-analytics",[BO]:"fire-analytics-compat",[$O]:"fire-app-check",[zO]:"fire-app-check-compat",[HO]:"fire-auth",[WO]:"fire-auth-compat",[qO]:"fire-rtdb",[GO]:"fire-data-connect",[KO]:"fire-rtdb-compat",[YO]:"fire-fn",[QO]:"fire-fn-compat",[XO]:"fire-iid",[JO]:"fire-iid-compat",[ZO]:"fire-fcm",[eV]:"fire-fcm-compat",[tV]:"fire-perf",[nV]:"fire-perf-compat",[rV]:"fire-rc",[sV]:"fire-rc-compat",[iV]:"fire-gcs",[oV]:"fire-gcs-compat",[aV]:"fire-fst",[cV]:"fire-fst-compat",[lV]:"fire-vertex","fire-js":"fire-js",[uV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,fV=new Map,ry=new Map;function DT(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Er(t){const e=t.name;if(ry.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;ry.set(e,t);for(const n of eu.values())DT(n,t);for(const n of fV.values())DT(n,t);return!0}function Ko(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Go("app","Firebase",pV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=dV;function Ux(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ny,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Pi.create("bad-app-name",{appName:String(s)});if(n||(n=Nx()),!n)throw Pi.create("no-options");const o=eu.get(s);if(o){if(Oo(n,o.options)&&Oo(r,o.config))return o;throw Pi.create("duplicate-app",{appName:s})}const l=new TO(s);for(const c of ry.values())l.addComponent(c);const u=new mV(n,r,l);return eu.set(s,u),u}function bu(t=ny){const e=eu.get(t);if(!e&&t===ny&&Nx())return Ux();if(!e)throw Pi.create("no-app",{appName:t});return e}function gV(){return Array.from(eu.values())}function Cn(t,e,n){let r=hV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(l.join(" "));return}Er(new rr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="firebase-heartbeat-database",vV=1,tu="firebase-heartbeat-store";let Qm=null;function Bx(){return Qm||(Qm=_f(yV,vV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),Qm}async function wV(t){try{const n=(await Bx()).transaction(tu),r=await n.objectStore(tu).get(jx(t));return await n.done,r}catch(e){if(e instanceof Ir)Vs.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(n.message)}}}async function MT(t,e){try{const r=(await Bx()).transaction(tu,"readwrite");await r.objectStore(tu).put(e,jx(t)),await r.done}catch(n){if(n instanceof Ir)Vs.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n?.message});Vs.warn(r.message)}}}function jx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=1024,_V=30;class TV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=LT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>_V){const s=xV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=LT(),{heartbeatsToSend:n,unsentEntries:r}=SV(this._heartbeatsCache.heartbeats),s=Fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Vs.warn(e),""}}}function LT(){return new Date().toISOString().substring(0,10)}function SV(t,e=EV){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),OT(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),OT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lx()?Ox().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return MT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return MT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function OT(t){return Fh(JSON.stringify({version:2,heartbeats:t})).length}function xV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){Er(new rr("platform-logger",e=>new VO(e),"PRIVATE")),Er(new rr("heartbeat",e=>new TV(e),"PRIVATE")),Cn(ty,NT,t),Cn(ty,NT,"esm2020"),Cn("fire-js","")}IV("");var CV="firebase",AV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn(CV,AV,"app");function zx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PV=zx,$x=new Go("auth","Firebase",zx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new xv("@firebase/auth");function RV(t,...e){Uh.logLevel<=Ue.WARN&&Uh.warn(`Auth (${Yo}): ${t}`,...e)}function Eh(t,...e){Uh.logLevel<=Ue.ERROR&&Uh.error(`Auth (${Yo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,...e){throw Av(t,...e)}function vr(t,...e){return Av(t,...e)}function Cv(t,e,n){const r={...PV(),[e]:n};return new Go("auth","Firebase",r).create(e,{appName:t.name})}function Ns(t){return Cv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&sr(t,"argument-error"),Cv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Av(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $x.create(t,...e)}function Ce(t,e,...n){if(!t)throw Av(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eh(e),new Error(e)}function Fs(t,e){t||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(){return typeof self<"u"&&self.location?.href||""}function NV(){return VT()==="http:"||VT()==="https:"}function VT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NV()||aO()||"connection"in navigator)?navigator.onLine:!0}function MV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=sO()||lO()}get(){return DV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VV=new xu(3e4,6e4);function zi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $i(t,e,n,r,s={}){return Wx(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Su({key:t.config.apiKey,...l}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:c,...o};return oO()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ji(t.emulatorConfig.host)&&(h.credentials="include"),Hx.fetch()(await qx(t,t.config.apiHost,n,u),h)})}async function Wx(t,e,n){t._canInitEmulator=!1;const r={...LV,...e};try{const s=new UV(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw sh(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(t,"credential-already-in-use",l);if(c==="EMAIL_EXISTS")throw sh(t,"email-already-in-use",l);if(c==="USER_DISABLED")throw sh(t,"user-disabled",l);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Cv(t,m,h);sr(t,m)}}catch(s){if(s instanceof Ir)throw s;sr(t,"network-request-failed",{message:String(s)})}}async function Iu(t,e,n,r,s={}){const o=await $i(t,e,n,r,s);return"mfaPendingCredential"in o&&sr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function qx(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?Pv(t.config,s):`${t.config.apiScheme}://${s}`;return OV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function FV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),VV.get())})}}function sh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=vr(t,e,r);return s.customData._tokenResponse=n,s}function FT(t){return t!==void 0&&t.enterprise!==void 0}class BV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jV(t,e){return $i(t,"GET","/v2/recaptchaConfig",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e){return $i(t,"POST","/v1/accounts:delete",e)}async function Bh(t,e){return $i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $V(t,e=!1){const n=Ze(t),r=await n.getIdToken(e),s=Rv(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:jc(Xm(s.auth_time)),issuedAtTime:jc(Xm(s.iat)),expirationTime:jc(Xm(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Xm(t){return Number(t)*1e3}function Rv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Px(n);return s?JSON.parse(s):(Eh("Failed to decode base64 JWT payload"),null)}catch(s){return Eh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function UT(t){const e=Rv(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ir&&HV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function HV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t){const e=t.auth,n=await t.getIdToken(),r=await nu(t,Bh(e,{idToken:n}));Ce(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?Gx(s.providerUserInfo):[],l=GV(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!l?.length,h=u?c:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new iy(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function qV(t){const e=Ze(t);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Gx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){const n=await Wx(t,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await qx(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&ji(t.emulatorConfig.host)&&(c.credentials="include"),Hx.fetch()(l,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YV(t,e){return $i(t,"POST","/v2/accounts:revokeToken",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=UT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await KV(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new el;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ce(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new WV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new iy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $V(this,e)}reload(){return qV(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await nu(this,zV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:w,isAnonymous:E,providerData:b,stsTokenManager:A}=n;Ce(g&&A,e,"internal-error");const P=el.fromJSON(this.name,A);Ce(typeof g=="string",e,"internal-error"),Ei(r,e.name),Ei(s,e.name),Ce(typeof w=="boolean",e,"internal-error"),Ce(typeof E=="boolean",e,"internal-error"),Ei(o,e.name),Ei(l,e.name),Ei(u,e.name),Ei(c,e.name),Ei(h,e.name),Ei(m,e.name);const C=new gr({uid:g,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:P,createdAt:h,lastLoginAt:m});return b&&Array.isArray(b)&&(C.providerData=b.map(R=>({...R}))),c&&(C._redirectEventId=c),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new el;s.updateFromServerResponse(n);const o=new gr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await jh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?Gx(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,u=new el;u.updateFromIdToken(r);const c=new gr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new iy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;function Ps(t){Fs(t instanceof Function,"Expected a class definition");let e=BT.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Kx.type="NONE";const jT=Kx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t,e,n){return`firebase:${t}:${e}:${n}`}class tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=_h(this.userKey,s.apiKey,o),this.fullPersistenceKey=_h("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bh(this.auth,{idToken:e}).catch(()=>{});return n?gr._fromGetAccountInfoResponse(this.auth,n,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tl(Ps(jT),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||Ps(jT);const l=_h(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const m=await h._get(l);if(m){let g;if(typeof m=="string"){const w=await Bh(e,{idToken:m}).catch(()=>{});if(!w)break;g=await gr._fromGetAccountInfoResponse(e,w,m)}else g=gr._fromJSON(e,m);h!==o&&(u=g),o=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new tl(o,e,r):(o=c[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new tl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eI(e))return"Blackberry";if(tI(e))return"Webos";if(Qx(e))return"Safari";if((e.includes("chrome/")||Xx(e))&&!e.includes("edge/"))return"Chrome";if(Zx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Yx(t=un()){return/firefox\//i.test(t)}function Qx(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xx(t=un()){return/crios\//i.test(t)}function Jx(t=un()){return/iemobile/i.test(t)}function Zx(t=un()){return/android/i.test(t)}function eI(t=un()){return/blackberry/i.test(t)}function tI(t=un()){return/webos/i.test(t)}function kv(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QV(t=un()){return kv(t)&&!!window.navigator?.standalone}function XV(){return cO()&&document.documentMode===10}function nI(t=un()){return kv(t)||Zx(t)||tI(t)||eI(t)||/windows phone/i.test(t)||Jx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e=[]){let n;switch(t){case"Browser":n=zT(un());break;case"Worker":n=`${zT(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const c=e(o);l(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e={}){return $i(t,"GET","/v2/passwordPolicy",zi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=6;class t4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??e4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $T(this),this.idTokenSubscription=new $T(this),this.beforeStateQueue=new JV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$x,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bh(this,{idToken:e}),r=await gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Ns(this));const n=e?Ze(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZV(this),n=new t4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Go("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{l=!0,c()}}else{const c=e.addObserver(n);return()=>{l=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hi(t){return Ze(t)}class $T{constructor(e){this.auth=e,this.observer=null,this.addObserver=gO(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r4(t){Tf=t}function sI(t){return Tf.loadJS(t)}function s4(){return Tf.recaptchaEnterpriseScript}function i4(){return Tf.gapiScript}function o4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class a4{constructor(){this.enterprise=new l4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class l4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const c4="recaptcha-enterprise",iI="NO_RECAPTCHA";class u4{constructor(e){this.type=c4,this.auth=Hi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{jV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new BV(c);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(c=>{u(c)})})}function s(o,l,u){const c=window.grecaptcha;FT(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(iI)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new a4().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&FT(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let c=s4();c.length!==0&&(c+=u),sI(c).then(()=>{s(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function HT(t,e,n,r=!1,s=!1){const o=new u4(t);let l;if(s)l=iI;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function oy(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await HT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await HT(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t,e){const n=Ko(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Oo(o,e??{}))return s;sr(s,"already-initialized")}return n.initialize({options:e})}function h4(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function f4(t,e,n){const r=Hi(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=oI(e),{host:l,port:u}=p4(e),c=u===null?"":`:${u}`,h={url:`${o}//${l}${c}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Oo(h,r.config.emulator)&&Oo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,ji(l)?(Sv(`${o}//${l}${c}`),bv("Auth",!0)):m4()}function oI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p4(t){const e=oI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:WT(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:WT(l)}}}function WT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function m4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function g4(t,e){return $i(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e){return Iu(t,"POST","/v1/accounts:signInWithPassword",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}async function w4(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Nv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ru(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,n,"signInWithPassword",y4);case"emailLink":return v4(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,r,"signUpPassword",g4);case"emailLink":return w4(e,{idToken:n,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e){return Iu(t,"POST","/v1/accounts:signInWithIdp",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="http://localhost";class Vo extends Nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const l=new Vo(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return nl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nl(e,n)}buildRequest(){const e={requestUri:E4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T4(t){const e=Ac(Pc(t)).link,n=e?Ac(Pc(e)).deep_link_id:null,r=Ac(Pc(t)).deep_link_id;return(r?Ac(Pc(r)).link:null)||r||n||e||t}class Dv{constructor(e){const n=Ac(Pc(e)),r=n.apiKey??null,s=n.oobCode??null,o=_4(n.mode??null);Ce(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=T4(e);try{return new Dv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dv.parseLink(n);return Ce(r,"argument-error"),ru._fromEmailAndCode(e,r.code,r.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Cu{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vo._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Cu{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Cu{constructor(){super("twitter.com")}static credential(e,n){return Vo._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){return Iu(t,"POST","/v1/accounts:signUp",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await gr._fromIdTokenResponse(e,r,s),l=qT(r);return new Fo({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=qT(r);return new Fo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function qT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends Ir{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new zh(e,n,r,s)}}function aI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(t,o,e,r):o})}async function b4(t,e,n=!1){const r=await nu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e,n=!1){const{auth:r}=t;if(bn(r.app))return Promise.reject(Ns(r));const s="reauthenticate";try{const o=await nu(t,aI(r,s,e,t),n);Ce(o.idToken,r,"internal-error");const l=Rv(o.idToken);Ce(l,r,"internal-error");const{sub:u}=l;return Ce(t.uid===u,r,"user-mismatch"),Fo._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&sr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(t,e,n=!1){if(bn(t.app))return Promise.reject(Ns(t));const r="signIn",s=await aI(t,r,e),o=await Fo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function I4(t,e){return lI(Hi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(t){const e=Hi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C4(t,e,n){if(bn(t.app))return Promise.reject(Ns(t));const r=Hi(t),l=await oy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",S4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&cI(t),c}),u=await Fo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function A4(t,e,n){return bn(t.app)?Promise.reject(Ns(t)):I4(Ze(t),Tl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cI(t),r})}function P4(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function R4(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function Sf(t,e,n,r){return Ze(t).onAuthStateChanged(e,n,r)}function k4(t){return Ze(t).signOut()}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=1e3,D4=10;class dI extends uI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,c)=>{this.notifyListeners(l,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);XV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,D4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dI.type="LOCAL";const M4=dI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI extends uI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hI.type="SESSION";const fI=hI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async h=>h(n.origin,o)),c=await L4(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,c)=>{const h=Lv("",20);s.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(g){const w=g;if(w.data.eventId===h)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(m),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function V4(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function F4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U4(){return navigator?.serviceWorker?.controller||null}function B4(){return pI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebaseLocalStorageDb",j4=1,Hh="firebaseLocalStorage",gI="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xf(t,e){return t.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function z4(){const t=indexedDB.deleteDatabase(mI);return new Au(t).toPromise()}function ay(){const t=indexedDB.open(mI,j4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hh,{keyPath:gI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await z4(),e(await ay()))})})}async function GT(t,e,n){const r=xf(t,!0).put({[gI]:e,value:n});return new Au(r).toPromise()}async function $4(t,e){const n=xf(t,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function KT(t,e){const n=xf(t,!0).delete(e);return new Au(n).toPromise()}const H4=800,W4=3;class yI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ay(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>W4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(B4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await F4(),!this.activeServiceWorker)return;this.sender=new O4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ay();return await GT(e,$h,"1"),await KT(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>GT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=xf(s,!1).getAll();return new Au(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yI.type="LOCAL";const q4=yI;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e){return e?Ps(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov extends Nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G4(t){return lI(t.auth,new Ov(t),t.bypassAuthState)}function K4(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),x4(n,new Ov(t),t.bypassAuthState)}async function Y4(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),b4(n,new Ov(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G4;case"linkViaPopup":case"linkViaRedirect":return Y4;case"reauthViaPopup":case"reauthViaRedirect":return K4;default:sr(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=new xu(2e3,1e4);async function ly(t,e,n){if(bn(t.app))return Promise.reject(vr(t,"operation-not-supported-in-this-environment"));const r=Hi(t);kV(t,e,Mv);const s=vI(r,n);return new Ao(r,"signInViaPopup",e,s).executeNotNull()}class Ao extends wI{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=Lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q4.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="pendingRedirect",Th=new Map;class J4 extends wI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const r=await Z4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z4(t,e){const n=n3(e),r=t3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function e3(t,e){Th.set(t._key(),e)}function t3(t){return Ps(t._redirectPersistence)}function n3(t){return _h(X4,t.config.apiKey,t.name)}async function r3(t,e,n=!1){if(bn(t.app))return Promise.reject(Ns(t));const r=Hi(t),s=vI(r,e),l=await new J4(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=600*1e3;class i3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!EI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(vr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s3&&this.cachedEventUids.clear(),this.cachedEventUids.has(YT(e))}saveEventToCache(e){this.cachedEventUids.add(YT(e)),this.lastProcessedEventTime=Date.now()}}function YT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function o3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e={}){return $i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c3=/^https?/;async function u3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a3(t);for(const n of e)try{if(d3(n))return}catch{}sr(t,"unauthorized-domain")}function d3(t){const e=sy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!c3.test(n))return!1;if(l3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new xu(3e4,6e4);function QT(){const t=Jr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f3(t){return new Promise((e,n)=>{function r(){QT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QT(),n(vr(t,"network-request-failed"))},timeout:h3.get()})}if(Jr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jr().gapi?.load)r();else{const s=o4("iframefcb");return Jr()[s]=()=>{gapi.load?r():n(vr(t,"network-request-failed"))},sI(`${i4()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function p3(t){return Sh=Sh||f3(t),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new xu(5e3,15e3),g3="__/auth/iframe",y3="emulator/auth/iframe",v3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E3(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pv(e,y3):`https://${t.config.authDomain}/${g3}`,r={apiKey:e.apiKey,appName:t.name,v:Yo},s=w3.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Su(r).slice(1)}`}async function _3(t){const e=await p3(t),n=Jr().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:E3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v3,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=vr(t,"network-request-failed"),u=Jr().setTimeout(()=>{o(l)},m3.get());function c(){Jr().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S3=500,b3=600,x3="_blank",I3="http://localhost";class XT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C3(t,e,n,r=S3,s=b3){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...T3,width:r.toString(),height:s.toString(),top:o,left:l},h=un().toLowerCase();n&&(u=Xx(h)?x3:n),Yx(h)&&(e=e||I3,c.scrollbars="yes");const m=Object.entries(c).reduce((w,[E,b])=>`${w}${E}=${b},`,"");if(QV(h)&&u!=="_self")return A3(e||"",u),new XT(null);const g=window.open(e||"",u,m);Ce(g,t,"popup-blocked");try{g.focus()}catch{}return new XT(g)}function A3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="__/auth/handler",R3="emulator/auth/handler",k3=encodeURIComponent("fac");async function JT(t,e,n,r,s,o){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yo,eventId:s};if(e instanceof Mv){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",mO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Cu){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const c=await t._getAppCheckToken(),h=c?`#${k3}=${encodeURIComponent(c)}`:"";return`${N3(t)}?${Su(u).slice(1)}${h}`}function N3({config:t}){return t.emulator?Pv(t,R3):`https://${t.authDomain}/${P3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class D3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fI,this._completeRedirectFn=r3,this._overrideRedirectResult=e3}async _openPopup(e,n,r,s){Fs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await JT(e,n,r,sy(),s);return C3(e,o,Lv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await JT(e,n,r,sy(),s);return V4(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Fs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _3(e),r=new i3(e);return n.register("authEvent",s=>(Ce(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jm,{type:Jm},s=>{const o=s?.[0]?.[Jm];o!==void 0&&n(!!o),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nI()||Qx()||kv()}}const M3=D3;var ZT="@firebase/auth",eS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V3(t){Er(new rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rI(t)},h=new n4(r,s,o,c);return h4(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Er(new rr("auth-internal",e=>{const n=Hi(e.getProvider("auth").getImmediate());return(r=>new L3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(ZT,eS,O3(t)),Cn(ZT,eS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=300,U3=Dx("authIdTokenMaxAge")||F3;let tS=null;const B3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>U3)return;const s=n?.token;tS!==s&&(tS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function j3(t=bu()){const e=Ko(t,"auth");if(e.isInitialized())return e.getImmediate();const n=d4(t,{popupRedirectResolver:M3,persistence:[q4,M4,fI]}),r=Dx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=B3(o.toString());R4(n,l,()=>l(n.currentUser)),P4(n,u=>l(u))}}const s=Rx("auth");return s&&f4(n,`http://${s}`),n}function z3(){return document.getElementsByTagName("head")?.[0]??document}r4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=vr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",z3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V3("Browser");var nS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ri,_I;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,x){function L(){}L.prototype=x.prototype,F.F=x.prototype,F.prototype=new L,F.prototype.constructor=F,F.D=function(O,V,B){for(var M=Array(arguments.length-2),K=2;K<arguments.length;K++)M[K-2]=arguments[K];return x.prototype[V].apply(O,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(F,x,L){L||(L=0);const O=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)O[V]=x.charCodeAt(L++)|x.charCodeAt(L++)<<8|x.charCodeAt(L++)<<16|x.charCodeAt(L++)<<24;else for(V=0;V<16;++V)O[V]=x[L++]|x[L++]<<8|x[L++]<<16|x[L++]<<24;x=F.g[0],L=F.g[1],V=F.g[2];let B=F.g[3],M;M=x+(B^L&(V^B))+O[0]+3614090360&4294967295,x=L+(M<<7&4294967295|M>>>25),M=B+(V^x&(L^V))+O[1]+3905402710&4294967295,B=x+(M<<12&4294967295|M>>>20),M=V+(L^B&(x^L))+O[2]+606105819&4294967295,V=B+(M<<17&4294967295|M>>>15),M=L+(x^V&(B^x))+O[3]+3250441966&4294967295,L=V+(M<<22&4294967295|M>>>10),M=x+(B^L&(V^B))+O[4]+4118548399&4294967295,x=L+(M<<7&4294967295|M>>>25),M=B+(V^x&(L^V))+O[5]+1200080426&4294967295,B=x+(M<<12&4294967295|M>>>20),M=V+(L^B&(x^L))+O[6]+2821735955&4294967295,V=B+(M<<17&4294967295|M>>>15),M=L+(x^V&(B^x))+O[7]+4249261313&4294967295,L=V+(M<<22&4294967295|M>>>10),M=x+(B^L&(V^B))+O[8]+1770035416&4294967295,x=L+(M<<7&4294967295|M>>>25),M=B+(V^x&(L^V))+O[9]+2336552879&4294967295,B=x+(M<<12&4294967295|M>>>20),M=V+(L^B&(x^L))+O[10]+4294925233&4294967295,V=B+(M<<17&4294967295|M>>>15),M=L+(x^V&(B^x))+O[11]+2304563134&4294967295,L=V+(M<<22&4294967295|M>>>10),M=x+(B^L&(V^B))+O[12]+1804603682&4294967295,x=L+(M<<7&4294967295|M>>>25),M=B+(V^x&(L^V))+O[13]+4254626195&4294967295,B=x+(M<<12&4294967295|M>>>20),M=V+(L^B&(x^L))+O[14]+2792965006&4294967295,V=B+(M<<17&4294967295|M>>>15),M=L+(x^V&(B^x))+O[15]+1236535329&4294967295,L=V+(M<<22&4294967295|M>>>10),M=x+(V^B&(L^V))+O[1]+4129170786&4294967295,x=L+(M<<5&4294967295|M>>>27),M=B+(L^V&(x^L))+O[6]+3225465664&4294967295,B=x+(M<<9&4294967295|M>>>23),M=V+(x^L&(B^x))+O[11]+643717713&4294967295,V=B+(M<<14&4294967295|M>>>18),M=L+(B^x&(V^B))+O[0]+3921069994&4294967295,L=V+(M<<20&4294967295|M>>>12),M=x+(V^B&(L^V))+O[5]+3593408605&4294967295,x=L+(M<<5&4294967295|M>>>27),M=B+(L^V&(x^L))+O[10]+38016083&4294967295,B=x+(M<<9&4294967295|M>>>23),M=V+(x^L&(B^x))+O[15]+3634488961&4294967295,V=B+(M<<14&4294967295|M>>>18),M=L+(B^x&(V^B))+O[4]+3889429448&4294967295,L=V+(M<<20&4294967295|M>>>12),M=x+(V^B&(L^V))+O[9]+568446438&4294967295,x=L+(M<<5&4294967295|M>>>27),M=B+(L^V&(x^L))+O[14]+3275163606&4294967295,B=x+(M<<9&4294967295|M>>>23),M=V+(x^L&(B^x))+O[3]+4107603335&4294967295,V=B+(M<<14&4294967295|M>>>18),M=L+(B^x&(V^B))+O[8]+1163531501&4294967295,L=V+(M<<20&4294967295|M>>>12),M=x+(V^B&(L^V))+O[13]+2850285829&4294967295,x=L+(M<<5&4294967295|M>>>27),M=B+(L^V&(x^L))+O[2]+4243563512&4294967295,B=x+(M<<9&4294967295|M>>>23),M=V+(x^L&(B^x))+O[7]+1735328473&4294967295,V=B+(M<<14&4294967295|M>>>18),M=L+(B^x&(V^B))+O[12]+2368359562&4294967295,L=V+(M<<20&4294967295|M>>>12),M=x+(L^V^B)+O[5]+4294588738&4294967295,x=L+(M<<4&4294967295|M>>>28),M=B+(x^L^V)+O[8]+2272392833&4294967295,B=x+(M<<11&4294967295|M>>>21),M=V+(B^x^L)+O[11]+1839030562&4294967295,V=B+(M<<16&4294967295|M>>>16),M=L+(V^B^x)+O[14]+4259657740&4294967295,L=V+(M<<23&4294967295|M>>>9),M=x+(L^V^B)+O[1]+2763975236&4294967295,x=L+(M<<4&4294967295|M>>>28),M=B+(x^L^V)+O[4]+1272893353&4294967295,B=x+(M<<11&4294967295|M>>>21),M=V+(B^x^L)+O[7]+4139469664&4294967295,V=B+(M<<16&4294967295|M>>>16),M=L+(V^B^x)+O[10]+3200236656&4294967295,L=V+(M<<23&4294967295|M>>>9),M=x+(L^V^B)+O[13]+681279174&4294967295,x=L+(M<<4&4294967295|M>>>28),M=B+(x^L^V)+O[0]+3936430074&4294967295,B=x+(M<<11&4294967295|M>>>21),M=V+(B^x^L)+O[3]+3572445317&4294967295,V=B+(M<<16&4294967295|M>>>16),M=L+(V^B^x)+O[6]+76029189&4294967295,L=V+(M<<23&4294967295|M>>>9),M=x+(L^V^B)+O[9]+3654602809&4294967295,x=L+(M<<4&4294967295|M>>>28),M=B+(x^L^V)+O[12]+3873151461&4294967295,B=x+(M<<11&4294967295|M>>>21),M=V+(B^x^L)+O[15]+530742520&4294967295,V=B+(M<<16&4294967295|M>>>16),M=L+(V^B^x)+O[2]+3299628645&4294967295,L=V+(M<<23&4294967295|M>>>9),M=x+(V^(L|~B))+O[0]+4096336452&4294967295,x=L+(M<<6&4294967295|M>>>26),M=B+(L^(x|~V))+O[7]+1126891415&4294967295,B=x+(M<<10&4294967295|M>>>22),M=V+(x^(B|~L))+O[14]+2878612391&4294967295,V=B+(M<<15&4294967295|M>>>17),M=L+(B^(V|~x))+O[5]+4237533241&4294967295,L=V+(M<<21&4294967295|M>>>11),M=x+(V^(L|~B))+O[12]+1700485571&4294967295,x=L+(M<<6&4294967295|M>>>26),M=B+(L^(x|~V))+O[3]+2399980690&4294967295,B=x+(M<<10&4294967295|M>>>22),M=V+(x^(B|~L))+O[10]+4293915773&4294967295,V=B+(M<<15&4294967295|M>>>17),M=L+(B^(V|~x))+O[1]+2240044497&4294967295,L=V+(M<<21&4294967295|M>>>11),M=x+(V^(L|~B))+O[8]+1873313359&4294967295,x=L+(M<<6&4294967295|M>>>26),M=B+(L^(x|~V))+O[15]+4264355552&4294967295,B=x+(M<<10&4294967295|M>>>22),M=V+(x^(B|~L))+O[6]+2734768916&4294967295,V=B+(M<<15&4294967295|M>>>17),M=L+(B^(V|~x))+O[13]+1309151649&4294967295,L=V+(M<<21&4294967295|M>>>11),M=x+(V^(L|~B))+O[4]+4149444226&4294967295,x=L+(M<<6&4294967295|M>>>26),M=B+(L^(x|~V))+O[11]+3174756917&4294967295,B=x+(M<<10&4294967295|M>>>22),M=V+(x^(B|~L))+O[2]+718787259&4294967295,V=B+(M<<15&4294967295|M>>>17),M=L+(B^(V|~x))+O[9]+3951481745&4294967295,F.g[0]=F.g[0]+x&4294967295,F.g[1]=F.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,F.g[2]=F.g[2]+V&4294967295,F.g[3]=F.g[3]+B&4294967295}r.prototype.v=function(F,x){x===void 0&&(x=F.length);const L=x-this.blockSize,O=this.C;let V=this.h,B=0;for(;B<x;){if(V==0)for(;B<=L;)s(this,F,B),B+=this.blockSize;if(typeof F=="string"){for(;B<x;)if(O[V++]=F.charCodeAt(B++),V==this.blockSize){s(this,O),V=0;break}}else for(;B<x;)if(O[V++]=F[B++],V==this.blockSize){s(this,O),V=0;break}}this.h=V,this.o+=x},r.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var x=1;x<F.length-8;++x)F[x]=0;x=this.o*8;for(var L=F.length-8;L<F.length;++L)F[L]=x&255,x/=256;for(this.v(F),F=Array(16),x=0,L=0;L<4;++L)for(let O=0;O<32;O+=8)F[x++]=this.g[L]>>>O&255;return F};function o(F,x){var L=u;return Object.prototype.hasOwnProperty.call(L,F)?L[F]:L[F]=x(F)}function l(F,x){this.h=x;const L=[];let O=!0;for(let V=F.length-1;V>=0;V--){const B=F[V]|0;O&&B==x||(L[V]=B,O=!1)}this.g=L}var u={};function c(F){return-128<=F&&F<128?o(F,function(x){return new l([x|0],x<0?-1:0)}):new l([F|0],F<0?-1:0)}function h(F){if(isNaN(F)||!isFinite(F))return g;if(F<0)return P(h(-F));const x=[];let L=1;for(let O=0;F>=L;O++)x[O]=F/L|0,L*=4294967296;return new l(x,0)}function m(F,x){if(F.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(F.charAt(0)=="-")return P(m(F.substring(1),x));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=h(Math.pow(x,8));let O=g;for(let B=0;B<F.length;B+=8){var V=Math.min(8,F.length-B);const M=parseInt(F.substring(B,B+V),x);V<8?(V=h(Math.pow(x,V)),O=O.j(V).add(h(M))):(O=O.j(L),O=O.add(h(M)))}return O}var g=c(0),w=c(1),E=c(16777216);t=l.prototype,t.m=function(){if(A(this))return-P(this).m();let F=0,x=1;for(let L=0;L<this.g.length;L++){const O=this.i(L);F+=(O>=0?O:4294967296+O)*x,x*=4294967296}return F},t.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(b(this))return"0";if(A(this))return"-"+P(this).toString(F);const x=h(Math.pow(F,6));var L=this;let O="";for(;;){const V=z(L,x).g;L=C(L,V.j(x));let B=((L.g.length>0?L.g[0]:L.h)>>>0).toString(F);if(L=V,b(L))return B+O;for(;B.length<6;)B="0"+B;O=B+O}},t.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function b(F){if(F.h!=0)return!1;for(let x=0;x<F.g.length;x++)if(F.g[x]!=0)return!1;return!0}function A(F){return F.h==-1}t.l=function(F){return F=C(this,F),A(F)?-1:b(F)?0:1};function P(F){const x=F.g.length,L=[];for(let O=0;O<x;O++)L[O]=~F.g[O];return new l(L,~F.h).add(w)}t.abs=function(){return A(this)?P(this):this},t.add=function(F){const x=Math.max(this.g.length,F.g.length),L=[];let O=0;for(let V=0;V<=x;V++){let B=O+(this.i(V)&65535)+(F.i(V)&65535),M=(B>>>16)+(this.i(V)>>>16)+(F.i(V)>>>16);O=M>>>16,B&=65535,M&=65535,L[V]=M<<16|B}return new l(L,L[L.length-1]&-2147483648?-1:0)};function C(F,x){return F.add(P(x))}t.j=function(F){if(b(this)||b(F))return g;if(A(this))return A(F)?P(this).j(P(F)):P(P(this).j(F));if(A(F))return P(this.j(P(F)));if(this.l(E)<0&&F.l(E)<0)return h(this.m()*F.m());const x=this.g.length+F.g.length,L=[];for(var O=0;O<2*x;O++)L[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<F.g.length;V++){const B=this.i(O)>>>16,M=this.i(O)&65535,K=F.i(V)>>>16,G=F.i(V)&65535;L[2*O+2*V]+=M*G,R(L,2*O+2*V),L[2*O+2*V+1]+=B*G,R(L,2*O+2*V+1),L[2*O+2*V+1]+=M*K,R(L,2*O+2*V+1),L[2*O+2*V+2]+=B*K,R(L,2*O+2*V+2)}for(F=0;F<x;F++)L[F]=L[2*F+1]<<16|L[2*F];for(F=x;F<2*x;F++)L[F]=0;return new l(L,0)};function R(F,x){for(;(F[x]&65535)!=F[x];)F[x+1]+=F[x]>>>16,F[x]&=65535,x++}function N(F,x){this.g=F,this.h=x}function z(F,x){if(b(x))throw Error("division by zero");if(b(F))return new N(g,g);if(A(F))return x=z(P(F),x),new N(P(x.g),P(x.h));if(A(x))return x=z(F,P(x)),new N(P(x.g),x.h);if(F.g.length>30){if(A(F)||A(x))throw Error("slowDivide_ only works with positive integers.");for(var L=w,O=x;O.l(F)<=0;)L=q(L),O=q(O);var V=re(L,1),B=re(O,1);for(O=re(O,2),L=re(L,2);!b(O);){var M=B.add(O);M.l(F)<=0&&(V=V.add(L),B=M),O=re(O,1),L=re(L,1)}return x=C(F,V.j(x)),new N(V,x)}for(V=g;F.l(x)>=0;){for(L=Math.max(1,Math.floor(F.m()/x.m())),O=Math.ceil(Math.log(L)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),B=h(L),M=B.j(x);A(M)||M.l(F)>0;)L-=O,B=h(L),M=B.j(x);b(B)&&(B=w),V=V.add(B),F=C(F,M)}return new N(V,F)}t.B=function(F){return z(this,F).h},t.and=function(F){const x=Math.max(this.g.length,F.g.length),L=[];for(let O=0;O<x;O++)L[O]=this.i(O)&F.i(O);return new l(L,this.h&F.h)},t.or=function(F){const x=Math.max(this.g.length,F.g.length),L=[];for(let O=0;O<x;O++)L[O]=this.i(O)|F.i(O);return new l(L,this.h|F.h)},t.xor=function(F){const x=Math.max(this.g.length,F.g.length),L=[];for(let O=0;O<x;O++)L[O]=this.i(O)^F.i(O);return new l(L,this.h^F.h)};function q(F){const x=F.g.length+1,L=[];for(let O=0;O<x;O++)L[O]=F.i(O)<<1|F.i(O-1)>>>31;return new l(L,F.h)}function re(F,x){const L=x>>5;x%=32;const O=F.g.length-L,V=[];for(let B=0;B<O;B++)V[B]=x>0?F.i(B+L)>>>x|F.i(B+L+1)<<32-x:F.i(B+L);return new l(V,F.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,_I=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Ri=l}).apply(typeof nS<"u"?nS:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TI,Rc,SI,bh,cy,bI,xI,II;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var T=0;T<f.length;++T){var S=f[T];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(f,T){if(T)e:{var S=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var Q=f[D];if(!(Q in S))break e;S=S[Q]}f=f[f.length-1],D=S[f],T=T(D),T!=D&&T!=null&&e(S,f,{configurable:!0,writable:!0,value:T})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(T){var S=[],D;for(D in T)Object.prototype.hasOwnProperty.call(T,D)&&S.push([D,T[D]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function c(f,T,S){return f.call.apply(f.bind,arguments)}function h(f,T,S){return h=c,h.apply(null,arguments)}function m(f,T){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function g(f,T){function S(){}S.prototype=T.prototype,f.Z=T.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(D,Q,te){for(var he=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)he[Ne-2]=arguments[Ne];return T.prototype[Q].apply(D,he)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const T=f.length;if(T>0){const S=Array(T);for(let D=0;D<T;D++)S[D]=f[D];return S}return[]}function b(f,T){for(let D=1;D<arguments.length;D++){const Q=arguments[D];var S=typeof Q;if(S=S!="object"?S:Q?Array.isArray(Q)?"array":S:"null",S=="array"||S=="object"&&typeof Q.length=="number"){S=f.length||0;const te=Q.length||0;f.length=S+te;for(let he=0;he<te;he++)f[S+he]=Q[he]}else f.push(Q)}}class A{constructor(T,S){this.i=T,this.j=S,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function P(f){l.setTimeout(()=>{throw f},0)}function C(){var f=F;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class R{constructor(){this.h=this.g=null}add(T,S){const D=N.get();D.set(T,S),this.h?this.h.next=D:this.g=D,this.h=D}}var N=new A(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(T,S){this.h=T,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let q,re=!1,F=new R,x=()=>{const f=Promise.resolve(void 0);q=()=>{f.then(L)}};function L(){for(var f;f=C();){try{f.h.call(f.g)}catch(S){P(S)}var T=N;T.j(f),T.h<100&&(T.h++,f.next=T.g,T.g=f)}re=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};l.addEventListener("test",S,T),l.removeEventListener("test",S,T)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function K(f,T){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,T)}g(K,V),K.prototype.init=function(f,T){const S=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget,T||(S=="mouseover"?T=f.fromElement:S=="mouseout"&&(T=f.toElement)),this.relatedTarget=T,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var G="closure_listenable_"+(Math.random()*1e6|0),ne=0;function X(f,T,S,D,Q){this.listener=f,this.proxy=null,this.src=T,this.type=S,this.capture=!!D,this.ha=Q,this.key=++ne,this.da=this.fa=!1}function j(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Z(f,T,S){for(const D in f)T.call(S,f[D],D,f)}function oe(f,T){for(const S in f)T.call(void 0,f[S],S,f)}function H(f){const T={};for(const S in f)T[S]=f[S];return T}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(f,T){let S,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(S in D)f[S]=D[S];for(let te=0;te<se.length;te++)S=se[te],Object.prototype.hasOwnProperty.call(D,S)&&(f[S]=D[S])}}function _e(f){this.src=f,this.g={},this.h=0}_e.prototype.add=function(f,T,S,D,Q){const te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);const he=Le(f,T,D,Q);return he>-1?(T=f[he],S||(T.fa=!1)):(T=new X(T,this.src,te,!!D,Q),T.fa=S,f.push(T)),T};function Me(f,T){const S=T.type;if(S in f.g){var D=f.g[S],Q=Array.prototype.indexOf.call(D,T,void 0),te;(te=Q>=0)&&Array.prototype.splice.call(D,Q,1),te&&(j(T),f.g[S].length==0&&(delete f.g[S],f.h--))}}function Le(f,T,S,D){for(let Q=0;Q<f.length;++Q){const te=f[Q];if(!te.da&&te.listener==T&&te.capture==!!S&&te.ha==D)return Q}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Fe={};function et(f,T,S,D,Q){if(Array.isArray(T)){for(let te=0;te<T.length;te++)et(f,T[te],S,D,Q);return null}return S=Al(S),f&&f[G]?f.J(T,S,u(D)?!!D.capture:!1,Q):dn(f,T,S,!1,D,Q)}function dn(f,T,S,D,Q,te){if(!T)throw Error("Invalid event type");const he=u(Q)?!!Q.capture:!!Q;let Ne=ta(f);if(Ne||(f[ze]=Ne=new _e(f)),S=Ne.add(T,S,D,he,te),S.proxy)return S;if(D=Zo(),S.proxy=D,D.src=f,D.listener=S,f.addEventListener)B||(Q=he),Q===void 0&&(Q=!1),f.addEventListener(T.toString(),D,Q);else if(f.attachEvent)f.attachEvent(ea(T.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Zo(){function f(S){return T.call(f.src,f.listener,S)}const T=Fu;return f}function Cl(f,T,S,D,Q){if(Array.isArray(T))for(var te=0;te<T.length;te++)Cl(f,T[te],S,D,Q);else D=u(D)?!!D.capture:!!D,S=Al(S),f&&f[G]?(f=f.i,te=String(T).toString(),te in f.g&&(T=f.g[te],S=Le(T,S,D,Q),S>-1&&(j(T[S]),Array.prototype.splice.call(T,S,1),T.length==0&&(delete f.g[te],f.h--)))):f&&(f=ta(f))&&(T=f.g[T.toString()],f=-1,T&&(f=Le(T,S,D,Q)),(S=f>-1?T[f]:null)&&Hs(S))}function Hs(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[G])Me(T.i,f);else{var S=f.type,D=f.proxy;T.removeEventListener?T.removeEventListener(S,D,f.capture):T.detachEvent?T.detachEvent(ea(S),D):T.addListener&&T.removeListener&&T.removeListener(D),(S=ta(T))?(Me(S,f),S.h==0&&(S.src=null,T[ze]=null)):j(f)}}}function ea(f){return f in Fe?Fe[f]:Fe[f]="on"+f}function Fu(f,T){if(f.da)f=!0;else{T=new K(T,this);const S=f.listener,D=f.ha||f.src;f.fa&&Hs(f),f=S.call(D,T)}return f}function ta(f){return f=f[ze],f instanceof _e?f:null}var Yi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Al(f){return typeof f=="function"?f:(f[Yi]||(f[Yi]=function(T){return f.handleEvent(T)}),f[Yi])}function Pt(){O.call(this),this.i=new _e(this),this.M=this,this.G=null}g(Pt,O),Pt.prototype[G]=!0,Pt.prototype.removeEventListener=function(f,T,S,D){Cl(this,f,T,S,D)};function St(f,T){var S,D=f.G;if(D)for(S=[];D;D=D.G)S.push(D);if(f=f.M,D=T.type||T,typeof T=="string")T=new V(T,f);else if(T instanceof V)T.target=T.target||f;else{var Q=T;T=new V(D,f),we(T,Q)}Q=!0;let te,he;if(S)for(he=S.length-1;he>=0;he--)te=T.g=S[he],Q=ir(te,D,!0,T)&&Q;if(te=T.g=f,Q=ir(te,D,!0,T)&&Q,Q=ir(te,D,!1,T)&&Q,S)for(he=0;he<S.length;he++)te=T.g=S[he],Q=ir(te,D,!1,T)&&Q}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var f=this.i;for(const T in f.g){const S=f.g[T];for(let D=0;D<S.length;D++)j(S[D]);delete f.g[T],f.h--}}this.G=null},Pt.prototype.J=function(f,T,S,D){return this.i.add(String(f),T,!1,S,D)},Pt.prototype.K=function(f,T,S,D){return this.i.add(String(f),T,!0,S,D)};function ir(f,T,S,D){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();let Q=!0;for(let te=0;te<T.length;++te){const he=T[te];if(he&&!he.da&&he.capture==S){const Ne=he.listener,bt=he.ha||he.src;he.fa&&Me(f.i,he),Q=Ne.call(bt,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function Pl(f,T){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(f,T||0)}function Rl(f){f.g=Pl(()=>{f.g=null,f.i&&(f.i=!1,Rl(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class Uu extends O{constructor(T,S){super(),this.m=T,this.l=S,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Rl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(f){O.call(this),this.h=f,this.g={}}g(Ws,O);var kl=[];function na(f){Z(f.g,function(T,S){this.g.hasOwnProperty(S)&&Hs(T)},f),f.g={}}Ws.prototype.N=function(){Ws.Z.N.call(this),na(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qs=l.JSON.stringify,Bu=l.JSON.parse,Qi=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function Gs(){}function ju(){}var Ks={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ra(){V.call(this,"d")}g(ra,V);function Nl(){V.call(this,"c")}g(Nl,V);var or={},sa=null;function Ys(){return sa=sa||new Pt}or.Ia="serverreachability";function ia(f){V.call(this,or.Ia,f)}g(ia,V);function os(f){const T=Ys();St(T,new ia(T))}or.STAT_EVENT="statevent";function as(f,T){V.call(this,or.STAT_EVENT,f),this.stat=T}g(as,V);function gt(f){const T=Ys();St(T,new as(T,f))}or.Ja="timingevent";function Dl(f,T){V.call(this,or.Ja,f),this.size=T}g(Dl,V);function Qs(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},T)}function Xs(){this.g=!0}Xs.prototype.ua=function(){this.g=!1};function zu(f,T,S,D,Q,te){f.info(function(){if(f.g)if(te){var he="",Ne=te.split("&");for(let Qe=0;Qe<Ne.length;Qe++){var bt=Ne[Qe].split("=");if(bt.length>1){const Rt=bt[0];bt=bt[1];const Mn=Rt.split("_");he=Mn.length>=2&&Mn[1]=="type"?he+(Rt+"="+bt+"&"):he+(Rt+"=redacted&")}}}else he=null;else he=te;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+T+`
`+S+`
`+he})}function $u(f,T,S,D,Q,te,he){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+T+`
`+S+`
`+te+" "+he})}function Cr(f,T,S,D){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+Xi(f,S)+(D?" "+D:"")})}function Hu(f,T){f.info(function(){return"TIMEOUT: "+T})}Xs.prototype.info=function(){};function Xi(f,T){if(!f.g)return T;if(!T)return null;try{const te=JSON.parse(T);if(te){for(f=0;f<te.length;f++)if(Array.isArray(te[f])){var S=te[f];if(!(S.length<2)){var D=S[1];if(Array.isArray(D)&&!(D.length<1)){var Q=D[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let he=1;he<D.length;he++)D[he]=""}}}}return qs(te)}catch{return T}}var Js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wu;function ls(){}g(ls,Gs),ls.prototype.g=function(){return new XMLHttpRequest},Wu=new ls;function Ar(f){return encodeURIComponent(String(f))}function oa(f){var T=1;f=f.split(":");const S=[];for(;T>0&&f.length;)S.push(f.shift()),T--;return f.length&&S.push(f.join(":")),S}function $n(f,T,S,D){this.j=f,this.i=T,this.l=S,this.S=D||1,this.V=new Ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qu}function qu(){this.i=null,this.g="",this.h=!1}var Gu={},Ml={};function ar(f,T,S){f.M=1,f.A=us(Hn(T)),f.u=S,f.R=!0,Ll(f,null)}function Ll(f,T){f.F=Date.now(),Ji(f),f.B=Hn(f.A);var S=f.B,D=f.S;Array.isArray(D)||(D=[String(D)]),Wl(S.i,"t",D),f.C=0,S=f.j.L,f.h=new qu,f.g=rd(f.j,S?T:null,!f.u),f.P>0&&(f.O=new Uu(h(f.Y,f,f.g),f.P)),T=f.V,S=f.g,D=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(kl[0]=Q.toString()),Q=kl);for(let te=0;te<Q.length;te++){const he=et(S,Q[te],D||T.handleEvent,!1,T.h||T);if(!he)break;T.g[he.key]=he}T=f.J?H(f.J):{},f.u?(f.v||(f.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,T)):(f.v="GET",f.g.ea(f.B,f.v,null,T)),os(),zu(f.i,f.v,f.B,f.l,f.S,f.u)}$n.prototype.ba=function(f){f=f.target;const T=this.O;T&&Lr(f)==3?T.j():this.Y(f)},$n.prototype.Y=function(f){try{if(f==this.g)e:{const Ne=Lr(this.g),bt=this.g.ya(),Qe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||td(this.g)))){this.K||Ne!=4||bt==7||(bt==8||Qe<=0?os(3):os(2)),aa(this);var T=this.g.ca();this.X=T;var S=Ku(this);if(this.o=T==200,$u(this.i,this.v,this.B,this.l,this.S,Ne,T),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Q=this.g;if((D=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(D)){var te=D;break t}}te=null}if(f=te)Cr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,st(this,f);else{this.o=!1,this.m=3,gt(12),cs(this),Zi(this);break e}}if(this.R){f=!0;let Rt;for(;!this.K&&this.C<S.length;)if(Rt=Qu(this,S),Rt==Ml){Ne==4&&(this.m=4,gt(14),f=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==Gu){this.m=4,gt(15),Cr(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else Cr(this.i,this.l,Rt,null),st(this,Rt);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||S.length!=0||this.h.h||(this.m=1,gt(16),f=!1),this.o=this.o&&f,!f)Cr(this.i,this.l,S,"[Invalid Chunked Response]"),cs(this),Zi(this);else if(S.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),lo(he),he.P=!0,gt(11))}}else Cr(this.i,this.l,S,null),st(this,S);Ne==4&&cs(this),this.o&&!this.K&&(Ne==4?ya(this.j,this):(this.o=!1,Ji(this)))}else Gl(this.g),T==400&&S.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),cs(this),Zi(this)}}}catch{}finally{}};function Ku(f){if(!Yu(f))return f.g.la();const T=td(f.g);if(T==="")return"";let S="";const D=T.length,Q=Lr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return cs(f),Zi(f),"";f.h.i=new l.TextDecoder}for(let te=0;te<D;te++)f.h.h=!0,S+=f.h.i.decode(T[te],{stream:!(Q&&te==D-1)});return T.length=0,f.h.g+=S,f.C=0,f.h.g}function Yu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Qu(f,T){var S=f.C,D=T.indexOf(`
`,S);return D==-1?Ml:(S=Number(T.substring(S,D)),isNaN(S)?Gu:(D+=1,D+S>T.length?Ml:(T=T.slice(D,D+S),f.C=D+S,T)))}$n.prototype.cancel=function(){this.K=!0,cs(this)};function Ji(f){f.T=Date.now()+f.H,Ol(f,f.H)}function Ol(f,T){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Qs(h(f.aa,f),T)}function aa(f){f.D&&(l.clearTimeout(f.D),f.D=null)}$n.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Hu(this.i,this.B),this.M!=2&&(os(),gt(17)),cs(this),this.m=2,Zi(this)):Ol(this,this.T-f)};function Zi(f){f.j.I==0||f.K||ya(f.j,f)}function cs(f){aa(f);var T=f.O;T&&typeof T.dispose=="function"&&T.dispose(),f.O=null,na(f.V),f.g&&(T=f.g,f.g=null,T.abort(),T.dispose())}function st(f,T){try{var S=f.j;if(S.I!=0&&(S.g==f||Fl(S.h,f))){if(!f.L&&Fl(S.h,f)&&S.I==3){try{var D=S.Ba.g.parse(T)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)ga(S),Nn(S);else break e;Fr(S),gt(18)}}else S.xa=Q[1],0<S.xa-S.K&&Q[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Qs(h(S.Va,S),6e3));eo(S.h)<=1&&S.ta&&(S.ta=void 0)}else Dn(S,11)}else if((f.L||S.g==f)&&ga(S),!M(T))for(Q=S.Ba.g.parse(T),T=0;T<Q.length;T++){let Qe=Q[T];const Rt=Qe[0];if(!(Rt<=S.K))if(S.K=Rt,Qe=Qe[1],S.I==2)if(Qe[0]=="c"){S.M=Qe[1],S.ba=Qe[2];const Mn=Qe[3];Mn!=null&&(S.ka=Mn,S.j.info("VER="+S.ka));const ms=Qe[4];ms!=null&&(S.za=ms,S.j.info("SVER="+S.za));const Ur=Qe[5];Ur!=null&&typeof Ur=="number"&&Ur>0&&(D=1.5*Ur,S.O=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const Br=f.g;if(Br){const Ea=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var te=D.h;te.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(ca(te,te.h),te.h=null))}if(D.G){const Ql=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(D.wa=Ql,Ke(D.J,D.G,Ql))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),D=S;var he=f;if(D.na=Yl(D,D.L?D.ba:null,D.W),he.L){to(D.h,he);var Ne=he,bt=D.O;bt&&(Ne.H=bt),Ne.D&&(aa(Ne),Ji(Ne)),D.g=he}else Zt(D);S.i.length>0&&ps(S)}else Qe[0]!="stop"&&Qe[0]!="close"||Dn(S,7);else S.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Dn(S,7):pa(S):Qe[0]!="noop"&&S.l&&S.l.qa(Qe),S.A=0)}}os(4)}catch{}}var ep=class{constructor(f,T){this.g=f,this.map=T}};function la(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function eo(f){return f.h?1:f.g?f.g.size:0}function Fl(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function ca(f,T){f.g?f.g.add(T):f.h=T}function to(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}la.prototype.cancel=function(){if(this.i=Pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Pn(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const S of f.g.values())T=T.concat(S.G);return T}return E(f.i)}var Xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rn(f,T){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const D=f[S].indexOf("=");let Q,te=null;D>=0?(Q=f[S].substring(0,D),te=f[S].substring(D+1)):Q=f[S],T(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Pr(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;f instanceof Pr?(this.l=f.l,no(this,f.j),this.o=f.o,this.g=f.g,Rr(this,f.u),this.h=f.h,ei(this,ql(f.i)),this.m=f.m):f&&(T=String(f).match(Xu))?(this.l=!1,no(this,T[1]||"",!0),this.o=ro(T[2]||""),this.g=ro(T[3]||"",!0),Rr(this,T[4]),this.h=ro(T[5]||"",!0),ei(this,T[6]||"",!0),this.m=ro(T[7]||"")):(this.l=!1,this.i=new $e(null,this.l))}Pr.prototype.toString=function(){const f=[];var T=this.j;T&&f.push(so(T,Bl,!0),":");var S=this.g;return(S||T=="file")&&(f.push("//"),(T=this.o)&&f.push(so(T,Bl,!0),"@"),f.push(Ar(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(so(S,S.charAt(0)=="/"?io:jl,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",so(S,zl)),f.join("")},Pr.prototype.resolve=function(f){const T=Hn(this);let S=!!f.j;S?no(T,f.j):S=!!f.o,S?T.o=f.o:S=!!f.g,S?T.g=f.g:S=f.u!=null;var D=f.h;if(S)Rr(T,f.u);else if(S=!!f.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Q=T.h.lastIndexOf("/");Q!=-1&&(D=T.h.slice(0,Q+1)+D)}if(Q=D,Q==".."||Q==".")D="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){D=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let he=0;he<Q.length;){const Ne=Q[he++];Ne=="."?D&&he==Q.length&&te.push(""):Ne==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),D&&he==Q.length&&te.push("")):(te.push(Ne),D=!0)}D=te.join("/")}else D=Q}return S?T.h=D:S=f.i.toString()!=="",S?ei(T,ql(f.i)):S=!!f.m,S&&(T.m=f.m),T};function Hn(f){return new Pr(f)}function no(f,T,S){f.j=S?ro(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function Rr(f,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);f.u=T}else f.u=null}function ei(f,T,S){T instanceof $e?(f.i=T,da(f.i,f.l)):(S||(T=so(T,tp)),f.i=new $e(T,f.l))}function Ke(f,T,S){f.i.set(T,S)}function us(f){return Ke(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ro(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function so(f,T,S){return typeof f=="string"?(f=encodeURI(f).replace(T,Ul),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ul(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Bl=/[#\/\?@]/g,jl=/[#\?:]/g,io=/[#\?]/g,tp=/[#\?@]/g,zl=/#/g;function $e(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function kr(f){f.g||(f.g=new Map,f.h=0,f.i&&Rn(f.i,function(T,S){f.add(decodeURIComponent(T.replace(/\+/g," ")),S)}))}t=$e.prototype,t.add=function(f,T){kr(this),this.i=null,f=Nr(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(T),this.h+=1,this};function $l(f,T){kr(f),T=Nr(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function ua(f,T){return kr(f),T=Nr(f,T),f.g.has(T)}t.forEach=function(f,T){kr(this),this.g.forEach(function(S,D){S.forEach(function(Q){f.call(T,Q,D,this)},this)},this)};function Hl(f,T){kr(f);let S=[];if(typeof T=="string")ua(f,T)&&(S=S.concat(f.g.get(Nr(f,T))));else for(f=Array.from(f.g.values()),T=0;T<f.length;T++)S=S.concat(f[T]);return S}t.set=function(f,T){return kr(this),this.i=null,f=Nr(this,f),ua(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},t.get=function(f,T){return f?(f=Hl(this,f),f.length>0?String(f[0]):T):T};function Wl(f,T,S){$l(f,T),S.length>0&&(f.i=null,f.g.set(Nr(f,T),E(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(let D=0;D<T.length;D++){var S=T[D];const Q=Ar(S);S=Hl(this,S);for(let te=0;te<S.length;te++){let he=Q;S[te]!==""&&(he+="="+Ar(S[te])),f.push(he)}}return this.i=f.join("&")};function ql(f){const T=new $e;return T.i=f.i,f.g&&(T.g=new Map(f.g),T.h=f.h),T}function Nr(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function da(f,T){T&&!f.j&&(kr(f),f.i=null,f.g.forEach(function(S,D){const Q=D.toLowerCase();D!=Q&&($l(this,D),Wl(this,Q,S))},f)),f.j=T}function Dr(f,T){const S=new Xs;if(l.Image){const D=new Image;D.onload=m(Ht,S,"TestLoadImage: loaded",!0,T,D),D.onerror=m(Ht,S,"TestLoadImage: error",!1,T,D),D.onabort=m(Ht,S,"TestLoadImage: abort",!1,T,D),D.ontimeout=m(Ht,S,"TestLoadImage: timeout",!1,T,D),l.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else T(!1)}function Mr(f,T){const S=new Xs,D=new AbortController,Q=setTimeout(()=>{D.abort(),Ht(S,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:D.signal}).then(te=>{clearTimeout(Q),te.ok?Ht(S,"TestPingServer: ok",!0,T):Ht(S,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Q),Ht(S,"TestPingServer: error",!1,T)})}function Ht(f,T,S,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(S)}catch{}}function oo(){this.g=new Qi}function ds(f){this.i=f.Sb||null,this.h=f.ab||!1}g(ds,Gs),ds.prototype.g=function(){return new kn(this.i,this.h)};function kn(f,T){Pt.call(this),this.H=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(kn,Pt),t=kn.prototype,t.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=T,this.readyState=1,lr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(T.body=f),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ju(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ju(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?ti(this):lr(this),this.readyState==3&&Ju(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ti(this))},t.Na=function(f){this.g&&(this.response=f,ti(this))},t.ga=function(){this.g&&ti(this)};function ti(f){f.readyState=4,f.l=null,f.j=null,f.B=null,lr(f)}t.setRequestHeader=function(f,T){this.A.append(f,T)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var S=T.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=T.next();return f.join(`\r
`)};function lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Zu(f){let T="";return Z(f,function(S,D){T+=D,T+=":",T+=S,T+=`\r
`}),T}function ha(f,T,S){e:{for(D in S){var D=!1;break e}D=!0}D||(S=Zu(S),typeof f=="string"?S!=null&&Ar(S):Ke(f,T,S))}function tt(f){Pt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(tt,Pt);var ed=/^https?$/i,np=["POST","PUT"];t=tt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,T,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wu.g(),this.g.onreadystatechange=w(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(te){ni(this,te);return}if(f=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)S.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())S.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(te=>te.toLowerCase()=="content-type"),Q=l.FormData&&f instanceof l.FormData,!(Array.prototype.indexOf.call(np,T,void 0)>=0)||D||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,he]of S)this.g.setRequestHeader(te,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(te){ni(this,te)}};function ni(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.o=5,ri(f),fs(f)}function ri(f){f.A||(f.A=!0,St(f,"complete"),St(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,St(this,"complete"),St(this,"abort"),fs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?hs(this):this.Xa())},t.Xa=function(){hs(this)};function hs(f){if(f.h&&typeof o<"u"){if(f.v&&Lr(f)==4)setTimeout(f.Ca.bind(f),0);else if(St(f,"readystatechange"),Lr(f)==4){f.h=!1;try{const te=f.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var S;if(!(S=T)){var D;if(D=te===0){let he=String(f.D).match(Xu)[1]||null;!he&&l.self&&l.self.location&&(he=l.self.location.protocol.slice(0,-1)),D=!ed.test(he?he.toLowerCase():"")}S=D}if(S)St(f,"complete"),St(f,"success");else{f.o=6;try{var Q=Lr(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",ri(f)}}finally{fs(f)}}}}function fs(f,T){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,T||St(f,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Lr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Lr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),Bu(T)}};function td(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Gl(f){const T={};f=(f.g&&Lr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(M(f[D]))continue;var S=oa(f[D]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const te=T[Q]||[];T[Q]=te,te.push(S)}oe(T,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(f,T,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||T}function fa(f){this.za=0,this.i=[],this.j=new Xs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Or("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Or("baseRetryDelayMs",5e3,f),this.Za=Or("retryDelaySeedMs",1e4,f),this.Ta=Or("forwardChannelMaxRetries",2,f),this.va=Or("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new la(f&&f.concurrentRequestLimit),this.Ba=new oo,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=fa.prototype,t.ka=8,t.I=1,t.connect=function(f,T,S,D){gt(0),this.W=f,this.H=T||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.J=Yl(this,null,this.W),ps(this)};function pa(f){if(ma(f),f.I==3){var T=f.V++,S=Hn(f.J);if(Ke(S,"SID",f.M),Ke(S,"RID",T),Ke(S,"TYPE","terminate"),Vr(f,S),T=new $n(f,f.j,T),T.M=2,T.A=us(Hn(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=T.A,S=!0),S||(T.g=rd(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Ji(T)}co(f)}function Nn(f){f.g&&(lo(f),f.g.cancel(),f.g=null)}function ma(f){Nn(f),f.v&&(l.clearTimeout(f.v),f.v=null),ga(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&l.clearTimeout(f.m),f.m=null)}function ps(f){if(!Vl(f.h)&&!f.m){f.m=!0;var T=f.Ea;q||x(),re||(q(),re=!0),F.add(T,f),f.D=0}}function nd(f,T){return eo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=T.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Qs(h(f.Ea,f,T),va(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new $n(this,this.j,f);let te=this.o;if(this.U&&(te?(te=H(te),we(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var T=0,S=0;S<this.i.length;S++){t:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(T+=D,T>4096){T=S;break e}if(T===4096||S===this.i.length-1){T=S+1;break e}}T=1e3}else T=1e3;T=Kl(this,Q,T),S=Hn(this.J),Ke(S,"RID",f),Ke(S,"CVER",22),this.G&&Ke(S,"X-HTTP-Session-Id",this.G),Vr(this,S),te&&(this.R?T="headers="+Ar(Zu(te))+"&"+T:this.u&&ha(S,this.u,te)),ca(this.h,Q),this.Ra&&Ke(S,"TYPE","init"),this.S?(Ke(S,"$req",T),Ke(S,"SID","null"),Q.U=!0,ar(Q,S,null)):ar(Q,S,T),this.I=2}}else this.I==3&&(f?ao(this,f):this.i.length==0||Vl(this.h)||ao(this))};function ao(f,T){var S;T?S=T.l:S=f.V++;const D=Hn(f.J);Ke(D,"SID",f.M),Ke(D,"RID",S),Ke(D,"AID",f.K),Vr(f,D),f.u&&f.o&&ha(D,f.u,f.o),S=new $n(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),T&&(f.i=T.G.concat(f.i)),T=Kl(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ca(f.h,S),ar(S,D,T)}function Vr(f,T){f.H&&Z(f.H,function(S,D){Ke(T,D,S)}),f.l&&Z({},function(S,D){Ke(T,D,S)})}function Kl(f,T,S){S=Math.min(f.i.length,S);const D=f.l?h(f.l.Ka,f.l,f):null;e:{var Q=f.i;let Ne=-1;for(;;){const bt=["count="+S];Ne==-1?S>0?(Ne=Q[0].g,bt.push("ofs="+Ne)):Ne=0:bt.push("ofs="+Ne);let Qe=!0;for(let Rt=0;Rt<S;Rt++){var te=Q[Rt].g;const Mn=Q[Rt].map;if(te-=Ne,te<0)Ne=Math.max(0,Q[Rt].g-100),Qe=!1;else try{te="req"+te+"_"||"";try{var he=Mn instanceof Map?Mn:Object.entries(Mn);for(const[ms,Ur]of he){let Br=Ur;u(Ur)&&(Br=qs(Ur)),bt.push(te+ms+"="+encodeURIComponent(Br))}}catch(ms){throw bt.push(te+"type="+encodeURIComponent("_badmap")),ms}}catch{D&&D(Mn)}}if(Qe){he=bt.join("&");break e}}he=void 0}return f=f.i.splice(0,S),T.G=f,he}function Zt(f){if(!f.g&&!f.v){f.Y=1;var T=f.Da;q||x(),re||(q(),re=!0),F.add(T,f),f.A=0}}function Fr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Qs(h(f.Da,f),va(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,si(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Qs(h(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),Nn(this),si(this))};function lo(f){f.B!=null&&(l.clearTimeout(f.B),f.B=null)}function si(f){f.g=new $n(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var T=Hn(f.na);Ke(T,"RID","rpc"),Ke(T,"SID",f.M),Ke(T,"AID",f.K),Ke(T,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ke(T,"TO",f.ia),Ke(T,"TYPE","xmlhttp"),Vr(f,T),f.u&&f.o&&ha(T,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=us(Hn(T)),S.u=null,S.R=!0,Ll(S,f)}t.Va=function(){this.C!=null&&(this.C=null,Nn(this),Fr(this),gt(19))};function ga(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function ya(f,T){var S=null;if(f.g==T){ga(f),lo(f),f.g=null;var D=2}else if(Fl(f.h,T))S=T.G,to(f.h,T),D=1;else return;if(f.I!=0){if(T.o)if(D==1){S=T.u?T.u.length:0,T=Date.now()-T.F;var Q=f.D;D=Ys(),St(D,new Dl(D,S)),ps(f)}else Zt(f);else if(Q=T.m,Q==3||Q==0&&T.X>0||!(D==1&&nd(f,T)||D==2&&Fr(f)))switch(S&&S.length>0&&(T=f.h,T.i=T.i.concat(S)),Q){case 1:Dn(f,5);break;case 4:Dn(f,10);break;case 3:Dn(f,6);break;default:Dn(f,2)}}}function va(f,T){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*T}function Dn(f,T){if(f.j.info("Error code "+T),T==2){var S=h(f.bb,f),D=f.Ua;const Q=!D;D=new Pr(D||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||no(D,"https"),us(D),Q?Dr(D.toString(),S):Mr(D.toString(),S)}else gt(2);f.I=0,f.l&&f.l.pa(T),co(f),ma(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function co(f){if(f.I=0,f.ja=[],f.l){const T=Pn(f.h);(T.length!=0||f.i.length!=0)&&(b(f.ja,T),b(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function Yl(f,T,S){var D=S instanceof Pr?Hn(S):new Pr(S);if(D.g!="")T&&(D.g=T+"."+D.g),Rr(D,D.u);else{var Q=l.location;D=Q.protocol,T=T?T+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new Pr(null);D&&no(te,D),T&&(te.g=T),Q&&Rr(te,Q),S&&(te.h=S),D=te}return S=f.G,T=f.wa,S&&T&&Ke(D,S,T),Ke(D,"VER",f.ka),Vr(f,D),D}function rd(f,T,S){if(T&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Aa&&!f.ma?new tt(new ds({ab:S})):new tt(f.ma),T.Fa(f.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sd(){}t=sd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wa(){}wa.prototype.g=function(f,T){return new Wt(f,T)};function Wt(f,T){Pt.call(this),this.g=new fa(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(f?f["X-WebChannel-Client-Profile"]=T.sa:f={"X-WebChannel-Client-Profile":T.sa}),this.g.U=f,(f=T&&T.Qb)&&!M(f)&&(this.g.u=f),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!M(T)&&(this.g.G=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new ii(this)}g(Wt,Pt),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){pa(this.g)},Wt.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=qs(f),f=S);T.i.push(new ep(T.Ya++,f)),T.I==3&&ps(T)},Wt.prototype.N=function(){this.g.l=null,delete this.j,pa(this.g),delete this.g,Wt.Z.N.call(this)};function id(f){ra.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){e:{for(const S in T){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}g(id,ra);function od(){Nl.call(this),this.status=1}g(od,Nl);function ii(f){this.g=f}g(ii,sd),ii.prototype.ra=function(){St(this.g,"a")},ii.prototype.qa=function(f){St(this.g,new id(f))},ii.prototype.pa=function(f){St(this.g,new od)},ii.prototype.oa=function(){St(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,II=function(){return new wa},xI=function(){return Ys()},bI=or,cy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,bh=Js,Zs.COMPLETE="complete",SI=Zs,ju.EventType=Ks,Ks.OPEN="a",Ks.CLOSE="b",Ks.ERROR="c",Ks.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,Rc=ju,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,TI=tt}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="12.8.0";function $3(t){Sl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new xv("@firebase/firestore");function $a(){return Uo.logLevel}function me(t,...e){if(Uo.logLevel<=Ue.DEBUG){const n=e.map(Vv);Uo.debug(`Firestore (${Sl}): ${t}`,...n)}}function Us(t,...e){if(Uo.logLevel<=Ue.ERROR){const n=e.map(Vv);Uo.error(`Firestore (${Sl}): ${t}`,...n)}}function cl(t,...e){if(Uo.logLevel<=Ue.WARN){const n=e.map(Vv);Uo.warn(`Firestore (${Sl}): ${t}`,...n)}}function Vv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CI(t,r,n)}function CI(t,e,n){let r=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Us(r),new Error(r)}function Ye(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||CI(e,s,r)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class W3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q3{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ds,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},u=c=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ds)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new AI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class G3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class K3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new G3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Q3(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function uy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Zm(s)===Zm(o)?Be(s,o):Zm(s)?1:-1}return Be(t.length,e.length)}const X3=55296,J3=57343;function Zm(t){const e=t.charCodeAt(0);return e>=X3&&e<=J3}function ul(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="__name__";class Wr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Wr.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Be(e.length,n.length)}static compareSegments(e,n){const r=Wr.isNumericId(e),s=Wr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):uy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ri.fromString(e.substring(4,e.length-2))}}class nt extends Wr{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const Z3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Wr{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return Z3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sS}static keyField(){return new Qt([sS])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(o(),s++)}if(o(),l)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(nt.fromString(e))}static fromName(e){return new Te(nt.fromString(e).popFirst(5))}static empty(){return new Te(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eF(t,e,n,r){if(e===!0&&r===!0)throw new fe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iS(t){if(!Te.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oS(t){if(Te.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function RI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function If(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function An(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=If(t);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pu(t,e){if(!RI(t))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=-62135596800,lS=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*lS);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aS)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lS}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:Lt("string",Xe._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Xe(0,0))}static max(){return new ke(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function tF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Mi(s,Te.empty(),e)}function nF(t){return new Mi(t.readTime,t.key,su)}class Mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mi(ke.min(),Te.empty(),su)}static max(){return new Mi(ke.max(),Te.empty(),su)}}function rF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==sF)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,r)=>{n(e)}))}static reject(e){return new ae(((n,r)=>{r(e)}))}static waitFor(e){return new ae(((n,r)=>{let s=0,o=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++o,l&&o===s&&n()}),(c=>r(c)))})),l=!0,o===s&&n()}))}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next((s=>s?ae.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new ae(((r,s)=>{const o=e.length,l=new Array(o);let u=0;for(let c=0;c<o;c++){const h=c;n(e[h]).next((m=>{l[h]=m,++u,u===o&&r(l)}),(m=>s(m)))}}))}static doWhile(e,n){return new ae(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function oF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=-1;function Af(t){return t==null}function Wh(t){return t===0&&1/t==-1/0}function aF(t){return typeof t=="number"&&Number.isInteger(t)&&!Wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="";function lF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cS(e)),e=cF(t.get(n),e);return cS(e)}function cF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case kI:n+="";break;default:n+=o}}return n}function cS(t){return t+kI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=s??Yt.EMPTY,this.right=o??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Yt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dS(this.data.getIterator())}getIteratorFrom(e){return new dS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class dS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ft(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DI("Invalid base64 string: "+o):o}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const uF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=uF.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="server_timestamp",LI="__type__",OI="__previous_value__",VI="__local_write_time__";function Pf(t){return(t?.mapValue?.fields||{})[LI]?.stringValue===MI}function Rf(t){const e=t.mapValue.fields[OI];return Pf(e)?Rf(e):e}function iu(t){const e=Li(t.mapValue.fields[VI].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n,r,s,o,l,u,c,h,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=m,this.apiKey=g}}const qh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}function hF(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="__type__",fF="__max__",ah={mapValue:{}},UI="__vector__",Gh="value";function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pf(t)?4:mF(t)?9007199254740991:pF(t)?10:11:Ae(28295,{value:t})}function rs(t,e){if(t===e)return!0;const n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iu(t).isEqual(iu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Li(s.timestampValue),u=Li(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Oi(s.bytesValue).isEqual(Oi(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return At(s.geoPointValue.latitude)===At(o.geoPointValue.latitude)&&At(s.geoPointValue.longitude)===At(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return At(s.integerValue)===At(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=At(s.doubleValue),u=At(o.doubleValue);return l===u?Wh(l)===Wh(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return ul(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(uS(l)!==uS(u))return!1;for(const c in l)if(l.hasOwnProperty(c)&&(u[c]===void 0||!rs(l[c],u[c])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function au(t,e){return(t.values||[]).find((n=>rs(n,e)))!==void 0}function dl(t,e){if(t===e)return 0;const n=Vi(t),r=Vi(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=At(o.integerValue||o.doubleValue),c=At(l.integerValue||l.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return hS(t.timestampValue,e.timestampValue);case 4:return hS(iu(t),iu(e));case 5:return uy(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=Oi(o),c=Oi(l);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),c=l.split("/");for(let h=0;h<u.length&&h<c.length;h++){const m=Be(u[h],c[h]);if(m!==0)return m}return Be(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=Be(At(o.latitude),At(l.latitude));return u!==0?u:Be(At(o.longitude),At(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return fS(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const u=o.fields||{},c=l.fields||{},h=u[Gh]?.arrayValue,m=c[Gh]?.arrayValue,g=Be(h?.values?.length||0,m?.values?.length||0);return g!==0?g:fS(h,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===ah.mapValue&&l===ah.mapValue)return 0;if(o===ah.mapValue)return 1;if(l===ah.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),h=l.fields||{},m=Object.keys(h);c.sort(),m.sort();for(let g=0;g<c.length&&g<m.length;++g){const w=uy(c[g],m[g]);if(w!==0)return w;const E=dl(u[c[g]],h[m[g]]);if(E!==0)return E}return Be(c.length,m.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function hS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Li(t),r=Li(e),s=Be(n.seconds,r.seconds);return s!==0?s:Be(n.nanos,r.nanos)}function fS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=dl(n[s],r[s]);if(o)return o}return Be(n.length,r.length)}function hl(t){return dy(t)}function dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Li(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Oi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=dy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${dy(n.fields[l])}`;return s+"}"})(t.mapValue):Ae(61005,{value:t})}function xh(t){switch(Vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rf(t);return e?16+xh(e):16;case 5:return 2*t.stringValue.length;case 6:return Oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+xh(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Wi(r.fields,((o,l)=>{s+=o.length+xh(l)})),s})(t.mapValue);default:throw Ae(13486,{value:t})}}function Kh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hy(t){return!!t&&"integerValue"in t}function Bv(t){return!!t&&"arrayValue"in t}function pS(t){return!!t&&"nullValue"in t}function mS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ih(t){return!!t&&"mapValue"in t}function pF(t){return(t?.mapValue?.fields||{})[FI]?.stringValue===UI}function zc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wi(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zc(t.arrayValue.values[n]);return e}return{...t}}function mF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(n)}setAll(e){let n=Qt.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=zc(l):s.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ih(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Wi(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new xn(zc(this.value))}}function BI(t){const e=[];return Wi(t.fields,((n,r)=>{const s=new Qt([n]);if(Ih(r)){const o=BI(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,s,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new an(e,0,ke.min(),ke.min(),ke.min(),xn.empty(),0)}static newFoundDocument(e,n,r,s){return new an(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new an(e,2,n,ke.min(),ke.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,ke.min(),ke.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.position=e,this.inclusive=n}}function gS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=Te.comparator(Te.fromName(l.referenceValue),n.key):r=dl(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function gF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{}class Mt extends jI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vF(e,n,r):n==="array-contains"?new _F(e,r):n==="in"?new TF(e,r):n==="not-in"?new SF(e,r):n==="array-contains-any"?new bF(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wF(e,r):new EF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dl(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends jI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return zI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zI(t){return t.op==="and"}function $I(t){return yF(t)&&zI(t)}function yF(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function fy(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+hl(t.value);if($I(t))return t.filters.map((e=>fy(e))).join(",");{const e=t.filters.map((n=>fy(n))).join(",");return`${t.op}(${e})`}}function HI(t,e){return t instanceof Mt?(function(r,s){return s instanceof Mt&&r.op===s.op&&r.field.isEqual(s.field)&&rs(r.value,s.value)})(t,e):t instanceof _r?(function(r,s){return s instanceof _r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,l,u)=>o&&HI(l,s.filters[u])),!0):!1})(t,e):void Ae(19439)}function WI(t){return t instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`})(t):t instanceof _r?(function(n){return n.op.toString()+" {"+n.getFilters().map(WI).join(" ,")+"}"})(t):"Filter"}class vF extends Mt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class wF extends Mt{constructor(e,n){super(e,"in",n),this.keys=qI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class EF extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=qI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qI(t,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class _F extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bv(n)&&au(n.arrayValue,this.value)}}class TF extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class SF extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class bF extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>au(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n=null,r=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function vS(t,e=null,n=[],r=[],s=null,o=null,l=null){return new xF(t,e,n,r,s,o,l)}function jv(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>fy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>hl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>hl(r))).join(",")),e.Te=n}return e.Te}function zv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yS(t.startAt,e.startAt)&&yS(t.endAt,e.endAt)}function py(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n=null,r=[],s=[],o=null,l="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function IF(t,e,n,r,s,o,l,u){return new Qo(t,e,n,r,s,o,l,u)}function kf(t){return new Qo(t)}function wS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CF(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function $v(t){return t.collectionGroup!==null}function rl(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ft(Qt.comparator);return l.filters.forEach((c=>{c.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new lu(o,r))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new lu(Qt.keyField(),r))}return e.Ie}function Zr(t){const e=De(t);return e.Ee||(e.Ee=AF(e,rl(t))),e.Ee}function AF(t,e){if(t.limitType==="F")return vS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new lu(s.field,o)}));const n=t.endAt?new fl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fl(t.startAt.position,t.startAt.inclusive):null;return vS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function my(t,e){const n=t.filters.concat([e]);return new Qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function PF(t,e){const n=t.explicitOrderBy.concat([e]);return new Qo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Yh(t,e,n){return new Qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function RF(t,e){return new Qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function Nf(t,e){return zv(Zr(t),Zr(e))&&t.limitType===e.limitType}function GI(t){return`${jv(Zr(t))}|lt:${t.limitType}`}function Ha(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>WI(s))).join(", ")}]`),Af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>hl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>hl(s))).join(",")),`Target(${r})`})(Zr(t))}; limitType=${t.limitType})`}function Df(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of rl(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,c){const h=gS(l,u,c);return l.inclusive?h<=0:h<0})(r.startAt,rl(r),s)||r.endAt&&!(function(l,u,c){const h=gS(l,u,c);return l.inclusive?h>=0:h>0})(r.endAt,rl(r),s))})(t,e)}function kF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KI(t){return(e,n)=>{let r=!1;for(const s of rl(t)){const o=NF(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function NF(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(o,l,u){const c=l.data.field(o),h=u.data.field(o);return c!==null&&h!==null?dl(c,h):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return NI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=new mt(Te.comparator);function Bs(){return DF}const YI=new mt(Te.comparator);function kc(...t){let e=YI;for(const n of t)e=e.insert(n.key,n);return e}function QI(t){let e=YI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Po(){return $c()}function XI(){return $c()}function $c(){return new Xo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const MF=new mt(Te.comparator),LF=new Ft(Te.comparator);function je(...t){let e=LF;for(const n of t)e=e.add(n);return e}const OF=new Ft(Be);function VF(){return OF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function JI(t){return{integerValue:""+t}}function ZI(t,e){return aF(e)?JI(e):Hv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this._=void 0}}function FF(t,e,n){return t instanceof cu?(function(s,o){const l={fields:{[LI]:{stringValue:MI},[VI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Pf(o)&&(o=Rf(o)),o&&(l.fields[OI]=o),{mapValue:l}})(n,e):t instanceof uu?tC(t,e):t instanceof du?nC(t,e):(function(s,o){const l=eC(s,o),u=ES(l)+ES(s.Ae);return hy(l)&&hy(s.Ae)?JI(u):Hv(s.serializer,u)})(t,e)}function UF(t,e,n){return t instanceof uu?tC(t,e):t instanceof du?nC(t,e):n}function eC(t,e){return t instanceof hu?(function(r){return hy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class cu extends Mf{}class uu extends Mf{constructor(e){super(),this.elements=e}}function tC(t,e){const n=rC(e);for(const r of t.elements)n.some((s=>rs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class du extends Mf{constructor(e){super(),this.elements=e}}function nC(t,e){let n=rC(e);for(const r of t.elements)n=n.filter((s=>!rs(s,r)));return{arrayValue:{values:n}}}class hu extends Mf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ES(t){return At(t.integerValue||t.doubleValue)}function rC(t){return Bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.field=e,this.transform=n}}function BF(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof uu&&s instanceof uu||r instanceof du&&s instanceof du?ul(r.elements,s.elements,rs):r instanceof hu&&s instanceof hu?rs(r.Ae,s.Ae):r instanceof cu&&s instanceof cu})(t.transform,e.transform)}class jF{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lf{}function iC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wv(t.key,tr.none()):new Ru(t.key,t.data,tr.none());{const n=t.data,r=xn.empty();let s=new Ft(Qt.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new qi(t.key,r,new Un(s.toArray()),tr.none())}}function zF(t,e,n){t instanceof Ru?(function(s,o,l){const u=s.value.clone(),c=TS(s.fieldTransforms,o,l.transformResults);u.setAll(c),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof qi?(function(s,o,l){if(!Ch(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=TS(s.fieldTransforms,o,l.transformResults),c=o.data;c.setAll(oC(s)),c.setAll(u),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Hc(t,e,n,r){return t instanceof Ru?(function(o,l,u,c){if(!Ch(o.precondition,l))return u;const h=o.value.clone(),m=SS(o.fieldTransforms,c,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof qi?(function(o,l,u,c){if(!Ch(o.precondition,l))return u;const h=SS(o.fieldTransforms,c,l),m=l.data;return m.setAll(oC(o)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(o,l,u){return Ch(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function $F(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=eC(r.transform,s||null);o!=null&&(n===null&&(n=xn.empty()),n.set(r.field,o))}return n||null}function _S(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ul(r,s,((o,l)=>BF(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ru extends Lf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qi extends Lf{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function oC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function TS(t,e,n){const r=new Map;Ye(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,u=e.data.field(o.field);r.set(o.field,UF(l,u,n[s]))}return r}function SS(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,FF(o,l,e))}return r}class Wv extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HF extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&zF(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XI();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(s.key)?null:u;const c=iC(l,u);c!==null&&r.set(s.key,c),l.isValidDocument()||l.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,((n,r)=>_S(n,r)))&&ul(this.baseMutations,e.baseMutations,((n,r)=>_S(n,r)))}}class qv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return MF})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new qv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,He;function KF(t){switch(t){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function aC(t){if(t===void 0)return Us("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Nt.OK:return ie.OK;case Nt.CANCELLED:return ie.CANCELLED;case Nt.UNKNOWN:return ie.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ie.INTERNAL;case Nt.UNAVAILABLE:return ie.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ie.NOT_FOUND;case Nt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Nt.ABORTED:return ie.ABORTED;case Nt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Nt.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:t})}}(He=Nt||(Nt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new Ri([4294967295,4294967295],0);function bS(t){const e=YF().encode(t),n=new _I;return n.update(e),new Uint8Array(n.digest())}function xS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ri([n,r],0),new Ri([s,o],0)]}class Gv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(r<0)throw new Nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ri.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ri.fromNumber(r)));return s.compare(QF)===1&&(s=new Ri([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bS(e),[r,s]=xS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Gv(o,s,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=bS(e),[r,s]=xS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Of(ke.min(),s,new mt(Be),Bs(),je())}}class ku{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ku(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class lC{constructor(e,n){this.targetId=e,this.Ce=n}}class cC{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class IS{constructor(){this.ve=0,this.Fe=CS(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),r=je();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ae(38017,{changeType:o})}})),new ku(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=CS()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class XF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.He=lh(),this.Je=lh(),this.Ze=new mt(Be)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(py(o))if(r===0){const l=new Te(o.path);this.et(n,l,an.newNoDocument(l,ke.min()))}else Ye(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),c=u?this.ct(u,e,l):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,u;try{l=Oi(r).toUint8Array()}catch(c){if(c instanceof DI)return cl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Gv(l,s,o)}catch(c){return cl(c instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&py(u.target)){const c=new Te(u.target.path);this.It(c).has(l)||this.Et(l,c)||this.et(l,c,an.newNoDocument(c,e))}o.Be&&(n.set(l,o.ke()),o.Ke())}}));let r=je();this.Je.forEach(((o,l)=>{let u=!0;l.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new Of(e,n,this.Ze,this.je,r);return this.je=Bs(),this.He=lh(),this.Je=lh(),this.Ze=new mt(Be),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new IS,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ft(Be),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ft(Be),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lh(){return new mt(Te.comparator)}function CS(){return new mt(Te.comparator)}const JF={asc:"ASCENDING",desc:"DESCENDING"},ZF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e6={and:"AND",or:"OR"};class t6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gy(t,e){return t.useProto3Json||Af(e)?e:{value:e}}function Qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n6(t,e){return Qh(t,e.toTimestamp())}function es(t){return Ye(!!t,49232),ke.fromTimestamp((function(n){const r=Li(n);return new Xe(r.seconds,r.nanos)})(t))}function Kv(t,e){return yy(t,e).canonicalString()}function yy(t,e){const n=(function(s){return new nt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function dC(t){const e=nt.fromString(t);return Ye(gC(e),10190,{key:e.toString()}),e}function vy(t,e){return Kv(t.databaseId,e.path)}function eg(t,e){const n=dC(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(fC(n))}function hC(t,e){return Kv(t.databaseId,e)}function r6(t){const e=dC(t);return e.length===4?nt.emptyPath():fC(e)}function wy(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fC(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AS(t,e,n){return{name:vy(t,e),fields:n.value.mapValue.fields}}function s6(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ae(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(h,m){return h.useProto3Json?(Ye(m===void 0||typeof m=="string",58123),Jt.fromBase64String(m||"")):(Ye(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Jt.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const m=h.code===void 0?ie.UNKNOWN:aC(h.code);return new fe(m,h.message||"")})(l);n=new cC(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=eg(t,r.document.name),o=es(r.document.updateTime),l=r.document.createTime?es(r.document.createTime):ke.min(),u=new xn({mapValue:{fields:r.document.fields}}),c=an.newFoundDocument(s,o,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Ah(h,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=eg(t,r.document),o=r.readTime?es(r.readTime):ke.min(),l=an.newNoDocument(s,o),u=r.removedTargetIds||[];n=new Ah([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=eg(t,r.document),o=r.removedTargetIds||[];n=new Ah([],o,s,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new GF(s,o),u=r.targetId;n=new lC(u,l)}}return n}function i6(t,e){let n;if(e instanceof Ru)n={update:AS(t,e.key,e.value)};else if(e instanceof Wv)n={delete:vy(t,e.key)};else if(e instanceof qi)n={update:AS(t,e.key,e.data),updateMask:p6(e.fieldMask)};else{if(!(e instanceof HF))return Ae(16599,{dt:e.type});n={verify:vy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof cu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof uu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof du)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof hu)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ae(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:n6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae(27497)})(t,e.precondition)),n}function o6(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(s,o){let l=s.updateTime?es(s.updateTime):es(o);return l.isEqual(ke.min())&&(l=es(o)),new jF(l,s.transformResults||[])})(n,e)))):[]}function a6(t,e){return{documents:[hC(t,e.path)]}}function l6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hC(t,s);const o=(function(h){if(h.length!==0)return mC(_r.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(h){if(h.length!==0)return h.map((m=>(function(w){return{field:Wa(w.field),direction:d6(w.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=gy(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function c6(t){let e=r6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(g){const w=pC(g);return w instanceof _r&&$I(w)?w.getFilters():[w]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((w=>(function(b){return new lu(qa(b.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(w)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let w;return w=typeof g=="object"?g.value:g,Af(w)?null:w})(n.limit));let c=null;n.startAt&&(c=(function(g){const w=!!g.before,E=g.values||[];return new fl(E,w)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const w=!g.before,E=g.values||[];return new fl(E,w)})(n.endAt)),IF(e,s,l,o,u,"F",c,h)}function u6(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qa(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qa(n.unaryFilter.field);return Mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qa(n.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=qa(n.unaryFilter.field);return Mt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Mt.create(qa(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return _r.create(n.compositeFilter.filters.map((r=>pC(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function d6(t){return JF[t]}function h6(t){return ZF[t]}function f6(t){return e6[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function qa(t){return Qt.fromServerFormat(t.fieldPath)}function mC(t){return t instanceof Mt?(function(n){if(n.op==="=="){if(mS(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(pS(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mS(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(pS(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:h6(n.op),value:n.value}}})(t):t instanceof _r?(function(n){const r=n.getFilters().map((s=>mC(s)));return r.length===1?r[0]:{compositeFilter:{op:f6(n.op),filters:r}}})(t):Ae(54877,{filter:t})}function p6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function yC(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r,s,o=ke.min(),l=ke.min(),u=Jt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.yt=e}}function g6(t){const e=c6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.Sn=new v6}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Mi.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class v6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ft(nt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ft(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vC=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(vC,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new pl(0)}static ar(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="LruGarbageCollector",w6=1048576;function kS([t,e],[n,r]){const s=Be(t,n);return s===0?Be(e,r):s}class E6{constructor(e){this.Pr=e,this.buffer=new Ft(kS),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(RS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?me(RS,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Ar(3e5)}))}}class T6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Cf.ce);const r=new E6(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(PS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PS):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,o,l,u,c,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(o=g,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),$a()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-m}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:g}))))}}function S6(t,e){return new T6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.changes=new Xo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Hc(r.mutation,s,Un.empty(),Xe.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=je()){const s=Po();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let l=kc();return o.forEach(((u,c)=>{l=l.insert(u,c.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Po();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,je())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let o=Bs();const l=$c(),u=(function(){return $c()})();return n.forEach(((c,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof qi)?o=o.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Hc(m.mutation,h,m.mutation.getFieldMask(),Xe.now())):l.set(h.key,Un.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((h,m)=>l.set(h,m))),n.forEach(((h,m)=>u.set(h,new x6(m,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=$c();let s=new mt(((l,u)=>l-u)),o=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((c=>{const h=n.get(c);if(h===null)return;let m=r.get(c)||Un.empty();m=u.applyToLocalView(h,m),r.set(c,m);const g=(s.get(u.batchId)||je()).add(c);s=s.insert(u.batchId,g)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,m=c.value,g=XI();m.forEach((w=>{if(!o.has(w)){const E=iC(n.get(w),r.get(w));E!==null&&g.set(w,E),o=o.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ae.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return CF(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$v(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ae.resolve(Po());let u=su,c=o;return l.next((h=>ae.forEach(h,((m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(m)?ae.resolve():this.remoteDocumentCache.getEntry(e,m).next((w=>{c=c.insert(m,w)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,c,h,je()))).next((m=>({batchId:u,changes:QI(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let s=kc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=kc();return this.indexManager.getCollectionParents(e,o).next((u=>ae.forEach(u,(c=>{const h=(function(g,w){return new Qo(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((m=>{m.forEach(((g,w)=>{l=l.insert(g,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((l=>{o.forEach(((c,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,an.newInvalidDocument(m)))}));let u=kc();return l.forEach(((c,h)=>{const m=o.get(c);m!==void 0&&Hc(m.mutation,h,Un.empty(),Xe.now()),Df(n,h)&&(u=u.insert(c,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:es(s.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:g6(s.bundledQuery),readTime:es(s.readTime)}})(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.overlays=new mt(Te.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Po();return ae.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.bt(e,n,o)})),ae.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const s=Po(),o=n.length+1,l=new Te(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new mt(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=Po(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Po(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,m)=>u.set(h,m))),!(u.size()>=s)););return ae.resolve(u)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new qF(n,r));let o=this.Lr.get(n);o===void 0&&(o=je(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.kr=new Ft(zt.Kr),this.qr=new Ft(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Te(new nt([])),r=new zt(n,e),s=new zt(n,e+1),o=[];return this.qr.forEachInRange([r,s],(l=>{this.Wr(l),o.push(l.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new nt([])),r=new zt(n,e),s=new zt(n,e+1);let o=je();return this.qr.forEachInRange([r,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new zt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||Be(e.Hr,n.Hr)}static Ur(e,n){return Be(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(zt.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new WF(o,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Jr=this.Jr.add(new zt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),o=s<0?0:s;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Uv:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),s=new zt(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(l=>{const u=this.Zr(l.Hr);o.push(u)})),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Be);return n.forEach((s=>{const o=new zt(s,0),l=new zt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],(u=>{r=r.add(u.Hr)}))})),ae.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Te.isDocumentKey(o)||(o=o.child(""));const l=new zt(new Te(o),0);let u=new Ft(Be);return this.Jr.forEachWhile((c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(u=u.add(c.Hr)),!0)}),l),ae.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ae.forEach(n.mutations,(s=>{const o=new zt(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new zt(n,0),s=this.Jr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.ti=e,this.docs=(function(){return new mt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():an.newInvalidDocument(s))})),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Bs();const l=n.path,u=new Te(l.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:m}}=c.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||rF(nF(m),r)<=0||(s.has(m.key)||Df(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ae(9500)}ni(e,n){return ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new N6(this)}getSize(e){return ae.resolve(this.size)}}class N6 extends b6{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.persistence=e,this.ri=new Xo((n=>jv(n)),zv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.ii=0,this.si=new Yv,this.targetCount=0,this.oi=pl._r()}forEachTarget(e,n){return this.ri.forEach(((r,s)=>n(s))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new pl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),ae.waitFor(o).next((()=>s))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this._i={},this.overlays={},this.ai=new Cf(0),this.ui=!1,this.ui=!0,this.ci=new P6,this.referenceDelegate=e(this),this.li=new D6(this),this.indexManager=new y6,this.remoteDocumentCache=(function(s){return new k6(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new m6(n),this.Pi=new C6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new A6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new R6(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new M6(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,n){return ae.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class M6 extends iF{constructor(e){super(),this.currentSequenceNumber=e}}class Qv{constructor(e){this.persistence=e,this.Ri=new Yv,this.Ai=null}static Vi(e){return new Qv(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(r=>{const s=Te.fromPath(r);return this.mi(e,s).next((o=>{o||n.removeEntry(s,ke.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Xh{constructor(e,n){this.persistence=e,this.fi=new Xo((r=>lF(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=S6(this,n)}static Vi(e,n){return new Xh(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?ae.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(l=>this.wr(e,l,n).next((u=>{u||(r++,o.removeEntry(l,ke.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xh(e.data.value)),n}wr(e,n,r){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return ae.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=je(),s=je();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Xv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return uO()?8:oF(un())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.gs(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ps(e,n,s,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new L6;return this.ys(e,n,l).next((u=>{if(o.result=u,this.As)return this.ws(e,n,l,u.size)}))})).next((()=>o.result))}ws(e,n,r,s){return r.documentReadCount<this.Vs?($a()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):($a()<=Ue.DEBUG&&me("QueryEngine","Query:",Ha(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?($a()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):ae.resolve())}gs(e,n){if(wS(n))return ae.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Yh(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=je(...o);return this.fs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const h=this.bs(n,u);return this.Ss(n,h,l,c.readTime)?this.gs(e,Yh(n,null,"F")):this.Ds(e,h,n,c)}))))})))))}ps(e,n,r,s){return wS(n)||s.isEqual(ke.min())?ae.resolve(null):this.fs.getDocuments(e,r).next((o=>{const l=this.bs(n,o);return this.Ss(n,l,r,s)?ae.resolve(null):($a()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ha(n)),this.Ds(e,l,n,tF(s,su)).next((u=>u)))}))}bs(e,n){let r=new Ft(KI(e));return n.forEach(((s,o)=>{Df(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,n,r){return $a()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.fs.getDocumentsMatchingQuery(e,n,Mi.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="LocalStore",V6=3e8;class F6{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new mt(Be),this.Fs=new Xo((o=>jv(o)),zv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function U6(t,e,n,r){return new F6(t,e,n,r)}async function EC(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let c=je();for(const h of s){l.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}for(const h of o){u.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next((h=>({Ns:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function B6(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,c,h,m){const g=h.batch,w=g.keys();let E=ae.resolve();return w.forEach((b=>{E=E.next((()=>m.getEntry(c,b))).next((A=>{const P=h.docVersions.get(b);Ye(P!==null,48541),A.version.compareTo(P)<0&&(g.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),m.addEntry(A)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(c,g)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=je();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function _C(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function j6(t,e){const n=De(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const u=[];e.targetChanges.forEach(((m,g)=>{const w=s.get(g);if(!w)return;u.push(n.li.removeMatchingKeys(o,m.removedDocuments,g).next((()=>n.li.addMatchingKeys(o,m.addedDocuments,g))));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Jt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),s=s.insert(g,E),(function(A,P,C){return A.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=V6?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(w,E,m)&&u.push(n.li.updateTargetData(o,E))}));let c=Bs(),h=je();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),u.push(z6(o,l,e.documentUpdates).next((m=>{c=m.Bs,h=m.Ls}))),!r.isEqual(ke.min())){const m=n.li.getLastRemoteSnapshotVersion(o).next((g=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(m)}return ae.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,h))).next((()=>c))})).then((o=>(n.vs=s,o)))}function z6(t,e,n){let r=je(),s=je();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Bs();return n.forEach(((u,c)=>{const h=o.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(u,c.readTime),l=l.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),l=l.insert(u,c)):me(Jv,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)})),{Bs:l,Ls:s}}))}function $6(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Uv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function H6(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,e).next((o=>o?(s=o,ae.resolve(s)):n.li.allocateTargetId(r).next((l=>(s=new Ci(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Ey(t,e,n){const r=De(t),s=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!xl(l))throw l;me(Jv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function NS(t,e,n){const r=De(t);let s=ke.min(),o=je();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(c,h,m){const g=De(c),w=g.Fs.get(m);return w!==void 0?ae.resolve(g.vs.get(w)):g.li.getTargetData(h,m)})(r,l,Zr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,u.targetId).next((c=>{o=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?s:ke.min(),n?o:je()))).next((u=>(W6(r,kF(e),u),{documents:u,ks:o})))))}function W6(t,e,n){let r=t.Ms.get(e)||ke.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class DS{constructor(){this.activeTargetIds=VF()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q6{constructor(){this.vo=new DS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new DS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="ConnectivityMonitor";class LS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(MS,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(MS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function _y(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",K6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Y6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===qh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,o){const l=_y(),u=this.Qo(e,n.toUriEncodedString());me(tg,`Sending RPC '${e}' ${l}:`,u,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,s,o);const{host:h}=new URL(u),m=ji(h);return this.zo(e,u,c,r,m).then((g=>(me(tg,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw cl(tg,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}jo(e,n,r,s,o,l){return this.Wo(e,n,r,s,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,n){const r=K6[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection",bc=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class sl extends Y6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!sl.c_){const e=xI();bc(e,bI.STAT_EVENT,(n=>{n.stat===cy.PROXY?me(sn,"STAT_EVENT: detected buffering proxy"):n.stat===cy.NOPROXY&&me(sn,"STAT_EVENT: detected no buffering proxy")})),sl.c_=!0}}zo(e,n,r,s,o){const l=_y();return new Promise(((u,c)=>{const h=new TI;h.setWithCredentials(!0),h.listenOnce(SI.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case bh.NO_ERROR:const g=h.getResponseJson();me(sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case bh.TIMEOUT:me(sn,`RPC '${e}' ${l} timed out`),c(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const w=h.getStatus();if(me(sn,`RPC '${e}' ${l} failed with status:`,w,"response text:",h.getResponseText()),w>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const b=E?.error;if(b&&b.status&&b.message){const A=(function(C){const R=C.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(R)>=0?R:ie.UNKNOWN})(b.status);c(new fe(A,b.message))}else c(new fe(ie.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{me(sn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(s);me(sn,`RPC '${e}' ${l} sending request:`,s),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=_y(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=o.join("");me(sn,`Creating RPC '${e}' stream ${s}: ${h}`,u);const m=l.createWebChannel(h,u);this.I_(m);let g=!1,w=!1;const E=new Q6({Ho:b=>{w?me(sn,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(g||(me(sn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),me(sn,`RPC '${e}' stream ${s} sending:`,b),m.send(b))},Jo:()=>m.close()});return bc(m,Rc.EventType.OPEN,(()=>{w||(me(sn,`RPC '${e}' stream ${s} transport opened.`),E.i_())})),bc(m,Rc.EventType.CLOSE,(()=>{w||(w=!0,me(sn,`RPC '${e}' stream ${s} transport closed`),E.o_(),this.E_(m))})),bc(m,Rc.EventType.ERROR,(b=>{w||(w=!0,cl(sn,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),E.o_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),bc(m,Rc.EventType.MESSAGE,(b=>{if(!w){const A=b.data[0];Ye(!!A,16349);const P=A,C=P?.error||P[0]?.error;if(C){me(sn,`RPC '${e}' stream ${s} received error:`,C);const R=C.status;let N=(function(re){const F=Nt[re];if(F!==void 0)return aC(F)})(R),z=C.message;N===void 0&&(N=ie.INTERNAL,z="Unknown error status: "+R+" with message "+C.message),w=!0,E.o_(new fe(N,z)),m.close()}else me(sn,`RPC '${e}' stream ${s} received:`,A),E.__(A)}})),sl.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return II()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){return new sl(t)}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){return new t6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sl.c_=!1;class TC{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="PersistentStream";class SC{constructor(e,n,r,s,o,l,u,c){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new fe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(OS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(OS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J6 extends SC{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=s6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ke.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?es(l.readTime):ke.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=wy(this.serializer),n.addTarget=(function(o,l){let u;const c=l.target;if(u=py(c)?{documents:a6(o,c)}:{query:l6(o,c).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=uC(o,l.resumeToken);const h=gy(o,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(ke.min())>0){u.readTime=Qh(o,l.snapshotVersion.toTimestamp());const h=gy(o,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=u6(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=wy(this.serializer),n.removeTarget=e,this.K_(n)}}class Z6 extends SC{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o6(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=wy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>i6(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{}class tU extends eU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,yy(n,r),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ie.UNKNOWN,o.toString())}))}jo(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(e,yy(n,r),s,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ie.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function nU(t,e,n,r){return new tU(t,e,n,r)}class rU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="RemoteStore";class sU{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{Jo(this)&&(me(Bo,"Restarting streams for network reachability change."),await(async function(c){const h=De(c);h.Ea.add(4),await Nu(h),h.Va.set("Unknown"),h.Ea.delete(4),await Ff(h)})(this))}))})),this.Va=new rU(r,s)}}async function Ff(t){if(Jo(t))for(const e of t.Ra)await e(!0)}async function Nu(t){for(const e of t.Ra)await e(!1)}function bC(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),n0(n)?t0(n):Il(n).O_()&&e0(n,e))}function Zv(t,e){const n=De(t),r=Il(n);n.Ia.delete(e),r.O_()&&xC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Jo(n)&&n.Va.set("Unknown"))}function e0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).Z_(e)}function xC(t,e){t.da.$e(e),Il(t).X_(e)}function t0(t){t.da=new XF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.Va.ua()}function n0(t){return Jo(t)&&!Il(t).x_()&&t.Ia.size>0}function Jo(t){return De(t).Ea.size===0}function IC(t){t.da=void 0}async function iU(t){t.Va.set("Online")}async function oU(t){t.Ia.forEach(((e,n)=>{e0(t,e)}))}async function aU(t,e){IC(t),n0(t)?(t.Va.ha(e),t0(t)):t.Va.set("Unknown")}async function lU(t,e,n){if(t.Va.set("Online"),e instanceof cC&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.da.removeTarget(u))})(t,e)}catch(r){me(Bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(t,r)}else if(e instanceof Ah?t.da.Xe(e):e instanceof lC?t.da.st(e):t.da.tt(e),!n.isEqual(ke.min()))try{const r=await _C(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const u=o.da.Tt(l);return u.targetChanges.forEach(((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const m=o.Ia.get(h);m&&o.Ia.set(h,m.withResumeToken(c.resumeToken,l))}})),u.targetMismatches.forEach(((c,h)=>{const m=o.Ia.get(c);if(!m)return;o.Ia.set(c,m.withResumeToken(Jt.EMPTY_BYTE_STRING,m.snapshotVersion)),xC(o,c);const g=new Ci(m.target,c,h,m.sequenceNumber);e0(o,g)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){me(Bo,"Failed to raise snapshot:",r),await Jh(t,r)}}async function Jh(t,e,n){if(!xl(e))throw e;t.Ea.add(1),await Nu(t),t.Va.set("Offline"),n||(n=()=>_C(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Bo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ff(t)}))}function CC(t,e){return e().catch((n=>Jh(t,n,e)))}async function Uf(t){const e=De(t),n=Fi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Uv;for(;cU(e);)try{const s=await $6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,uU(e,s)}catch(s){await Jh(e,s)}AC(e)&&PC(e)}function cU(t){return Jo(t)&&t.Ta.length<10}function uU(t,e){t.Ta.push(e);const n=Fi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function AC(t){return Jo(t)&&!Fi(t).x_()&&t.Ta.length>0}function PC(t){Fi(t).start()}async function dU(t){Fi(t).ra()}async function hU(t){const e=Fi(t);for(const n of t.Ta)e.ea(n.mutations)}async function fU(t,e,n){const r=t.Ta.shift(),s=qv.from(r,e,n);await CC(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Uf(t)}async function pU(t,e){e&&Fi(t).Y_&&await(async function(r,s){if((function(l){return KF(l)&&l!==ie.ABORTED})(s.code)){const o=r.Ta.shift();Fi(r).B_(),await CC(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Uf(r)}})(t,e),AC(t)&&PC(t)}async function VS(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),me(Bo,"RemoteStore received new credentials");const r=Jo(n);n.Ea.add(3),await Nu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ff(n)}async function mU(t,e){const n=De(t);e?(n.Ea.delete(2),await Ff(n)):e||(n.Ea.add(2),await Nu(n),n.Va.set("Unknown"))}function Il(t){return t.ma||(t.ma=(function(n,r,s){const o=De(n);return o.sa(),new J6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:iU.bind(null,t),Yo:oU.bind(null,t),t_:aU.bind(null,t),J_:lU.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),n0(t)?t0(t):t.Va.set("Unknown")):(await t.ma.stop(),IC(t))}))),t.ma}function Fi(t){return t.fa||(t.fa=(function(n,r,s){const o=De(n);return o.sa(),new Z6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:dU.bind(null,t),t_:pU.bind(null,t),ta:hU.bind(null,t),na:fU.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Uf(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Bo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,u=new r0(e,n,l,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s0(t,e){if(Us("AsyncQueue",`${e}: ${t}`),xl(t))return new fe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=kc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.ga=new mt(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ml{constructor(e,n,r,s,o,l,u,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new ml(e,n,il.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class yU{constructor(){this.queries=US(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=De(n),o=s.queries;s.queries=US(),o.forEach(((l,u)=>{for(const c of u.ba)c.onError(r)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function US(){return new Xo((t=>GI(t)),Nf)}async function i0(t,e){const n=De(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new gU,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=s0(l,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&a0(n)}async function o0(t,e){const n=De(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.ba.indexOf(e);l>=0&&(o.ba.splice(l,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vU(t,e){const n=De(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const u of l.ba)u.Fa(s)&&(r=!0);l.wa=s}}r&&a0(n)}function wU(t,e,n){const r=De(t),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(n);r.queries.delete(e)}function a0(t){t.Ca.forEach((e=>{e.next()}))}var Ty,BS;(BS=Ty||(Ty={})).Ma="default",BS.Cache="cache";class l0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.key=e}}class kC{constructor(e){this.key=e}}class EU{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=KI(e),this.tu=new il(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new FS,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,g)=>{const w=s.get(m),E=Df(this.query,g)?g:null,b=!!w&&this.mutatedKeys.has(w.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let P=!1;w&&E?w.data.isEqual(E.data)?b!==A&&(r.track({type:3,doc:E}),P=!0):this.su(w,E)||(r.track({type:2,doc:E}),P=!0,(c&&this.eu(E,c)>0||h&&this.eu(E,h)<0)&&(u=!0)):!w&&E?(r.track({type:0,doc:E}),P=!0):w&&!E&&(r.track({type:1,doc:w}),P=!0,(c||h)&&(u=!0)),P&&(E?(l=l.add(E),o=A?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Ss:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,g)=>(function(E,b){const A=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:P})}};return A(E)-A(b)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Ya.size===0&&this.current&&!s?1:0,h=c!==this.Xa;return this.Xa=c,l.length!==0||h?{snapshot:new ml(this.query,e.tu,o,l,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new kC(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new RC(r))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const c0="SyncEngine";class _U{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TU{constructor(e){this.key=e,this.hu=!1}}class SU{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Xo((u=>GI(u)),Nf),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(Te.comparator),this.Au=new Map,this.Vu=new Yv,this.du={},this.mu=new Map,this.fu=pl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bU(t,e,n=!0){const r=VC(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await NC(r,e,n,!0),s}async function xU(t,e){const n=VC(t);await NC(n,e,!0,!1)}async function NC(t,e,n,r){const s=await H6(t.localStore,Zr(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await IU(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&bC(t.remoteStore,s),u}async function IU(t,e,n,r,s){t.pu=(g,w,E)=>(async function(A,P,C,R){let N=P.view.ru(C);N.Ss&&(N=await NS(A.localStore,P.query,!1).then((({documents:F})=>P.view.ru(F,N))));const z=R&&R.targetChanges.get(P.targetId),q=R&&R.targetMismatches.get(P.targetId)!=null,re=P.view.applyChanges(N,A.isPrimaryClient,z,q);return zS(A,P.targetId,re.au),re.snapshot})(t,g,w,E);const o=await NS(t.localStore,e,!0),l=new EU(e,o.ks),u=l.ru(o.documents),c=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(u,t.isPrimaryClient,c);zS(t,n,h.au);const m=new _U(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function CU(t,e,n){const r=De(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((l=>!Nf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ey(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Zv(r.remoteStore,s.targetId),Sy(r,s.targetId)})).catch(bl)):(Sy(r,s.targetId),await Ey(r.localStore,s.targetId,!0))}async function AU(t,e){const n=De(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zv(n.remoteStore,r.targetId))}async function PU(t,e,n){const r=OU(t);try{const s=await(function(l,u){const c=De(l),h=Xe.now(),m=u.reduce(((E,b)=>E.add(b.key)),je());let g,w;return c.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let b=Bs(),A=je();return c.xs.getEntries(E,m).next((P=>{b=P,b.forEach(((C,R)=>{R.isValidDocument()||(A=A.add(C))}))})).next((()=>c.localDocuments.getOverlayedDocuments(E,b))).next((P=>{g=P;const C=[];for(const R of u){const N=$F(R,g.get(R.key).overlayedDocument);N!=null&&C.push(new qi(R.key,N,BI(N.value.mapValue),tr.exists(!0)))}return c.mutationQueue.addMutationBatch(E,h,C,u)})).next((P=>{w=P;const C=P.applyToLocalDocumentSet(g,A);return c.documentOverlayCache.saveOverlays(E,P.batchId,C)}))})).then((()=>({batchId:w.batchId,changes:QI(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,c){let h=l.du[l.currentUser.toKey()];h||(h=new mt(Be)),h=h.insert(u,c),l.du[l.currentUser.toKey()]=h})(r,s.batchId,n),await Du(r,s.changes),await Uf(r.remoteStore)}catch(s){const o=s0(s,"Failed to persist write");n.reject(o)}}async function DC(t,e){const n=De(t);try{const r=await j6(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=n.Au.get(o);l&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ye(l.hu,14607):s.removedDocuments.size>0&&(Ye(l.hu,42227),l.hu=!1))})),await Du(n,r,e)}catch(r){await bl(r)}}function jS(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const c=De(l);c.onlineState=u;let h=!1;c.queries.forEach(((m,g)=>{for(const w of g.ba)w.va(u)&&(h=!0)})),h&&a0(c)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RU(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let l=new mt(Te.comparator);l=l.insert(o,an.newNoDocument(o,ke.min()));const u=je().add(o),c=new Of(ke.min(),new Map,new mt(Be),l,u);await DC(r,c),r.Ru=r.Ru.remove(o),r.Au.delete(e),u0(r)}else await Ey(r.localStore,e,!1).then((()=>Sy(r,e,n))).catch(bl)}async function kU(t,e){const n=De(t),r=e.batch.batchId;try{const s=await B6(n.localStore,e);LC(n,r,null),MC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Du(n,s)}catch(s){await bl(s)}}async function NU(t,e,n){const r=De(t);try{const s=await(function(l,u){const c=De(l);return c.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return c.mutationQueue.lookupMutationBatch(h,u).next((g=>(Ye(g!==null,37113),m=g.keys(),c.mutationQueue.removeMutationBatch(h,g)))).next((()=>c.mutationQueue.performConsistencyCheck(h))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(h,m,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>c.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);LC(r,e,n),MC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Du(r,s)}catch(s){await bl(s)}}function MC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function LC(t,e,n){const r=De(t);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||OC(t,r)}))}function OC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Zv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),u0(t))}function zS(t,e,n){for(const r of n)r instanceof RC?(t.Vu.addReference(r.key,e),DU(t,r)):r instanceof kC?(me(c0,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||OC(t,r.key)):Ae(19791,{wu:r})}function DU(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(me(c0,"New document in limbo: "+n),t.Eu.add(r),u0(t))}function u0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(nt.fromString(e)),r=t.fu.next();t.Au.set(r,new TU(n)),t.Ru=t.Ru.insert(n,r),bC(t.remoteStore,new Ci(Zr(kf(n.path)),r,"TargetPurposeLimboResolution",Cf.ce))}}async function Du(t,e,n){const r=De(t),s=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{l.push(r.pu(c,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){s.push(h);const m=Xv.Es(c.targetId,h);o.push(m)}})))})),await Promise.all(l),r.Pu.J_(s),await(async function(c,h){const m=De(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ae.forEach(h,(w=>ae.forEach(w.Ts,(E=>m.persistence.referenceDelegate.addReference(g,w.targetId,E))).next((()=>ae.forEach(w.Is,(E=>m.persistence.referenceDelegate.removeReference(g,w.targetId,E)))))))))}catch(g){if(!xl(g))throw g;me(Jv,"Failed to update sequence numbers: "+g)}for(const g of h){const w=g.targetId;if(!g.fromCache){const E=m.vs.get(w),b=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(b);m.vs=m.vs.insert(w,A)}}})(r.localStore,o))}async function MU(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){me(c0,"User change. New user:",e.toKey());const r=await EC(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new fe(ie.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Du(n,r.Ns)}}function LU(t,e){const n=De(t),r=n.Au.get(e);if(r&&r.hu)return je().add(r.key);{let s=je();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function VC(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RU.bind(null,e),e.Pu.J_=vU.bind(null,e.eventManager),e.Pu.yu=wU.bind(null,e.eventManager),e}function OU(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NU.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return U6(this.persistence,new O6,e.initialUser,this.serializer)}Cu(e){return new wC(Qv.Vi,this.serializer)}Du(e){return new q6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class VU extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new wC((r=>Xh.Vi(r,n)),this.serializer)}}class by{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MU.bind(null,this.syncEngine),await mU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yU})()}createDatastore(e){const n=Vf(e.databaseInfo.databaseId),r=X6(e.databaseInfo);return nU(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,l,u){return new sU(r,s,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>jS(this.syncEngine,n,0)),(function(){return LS.v()?new LS:new G6})())}createSyncEngine(e,n){return(function(s,o,l,u,c,h,m){const g=new SU(s,o,l,u,c,h);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);me(Bo,"RemoteStore shutting down."),r.Ea.add(5),await Nu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}by.provider={build:()=>new by};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="FirestoreClient";class FU{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=Fv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{me(Ui,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(me(Ui,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=s0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rg(t,e){t.asyncQueue.verifyOperationInProgress(),me(Ui,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await EC(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $S(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UU(t);me(Ui,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>VS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>VS(e.remoteStore,s))),t._onlineComponents=e}async function UU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Ui,"Using user provided OfflineComponentProvider");try{await rg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;cl("Error using user provided cache. Falling back to memory cache: "+n),await rg(t,new Zh)}}else me(Ui,"Using default OfflineComponentProvider"),await rg(t,new VU(void 0));return t._offlineComponents}async function FC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Ui,"Using user provided OnlineComponentProvider"),await $S(t,t._uninitializedComponentsProvider._online)):(me(Ui,"Using default OnlineComponentProvider"),await $S(t,new by))),t._onlineComponents}function BU(t){return FC(t).then((e=>e.syncEngine))}async function ef(t){const e=await FC(t),n=e.eventManager;return n.onListen=bU.bind(null,e.syncEngine),n.onUnlisten=CU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AU.bind(null,e.syncEngine),n}function jU(t,e,n,r){const s=new d0(r),o=new l0(e,s,n);return t.asyncQueue.enqueueAndForget((async()=>i0(await ef(t),o))),()=>{s.Nu(),t.asyncQueue.enqueueAndForget((async()=>o0(await ef(t),o)))}}function zU(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,c,h){const m=new d0({next:w=>{m.Nu(),l.enqueueAndForget((()=>o0(o,g)));const E=w.docs.has(u);!E&&w.fromCache?h.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&c&&c.source==="server"?h.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(w)},error:w=>h.reject(w)}),g=new l0(kf(u.path),m,{includeMetadataChanges:!0,Ka:!0});return i0(o,g)})(await ef(t),t.asyncQueue,e,n,r))),r.promise}function $U(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,c,h){const m=new d0({next:w=>{m.Nu(),l.enqueueAndForget((()=>o0(o,g))),w.fromCache&&c.source==="server"?h.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),g=new l0(u,m,{includeMetadataChanges:!0,Ka:!0});return i0(o,g)})(await ef(t),t.asyncQueue,e,n,r))),r.promise}function HU(t,e){const n=new Ds;return t.asyncQueue.enqueueAndForget((async()=>PU(await BU(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="ComponentProvider",HS=new Map;function qU(t,e,n,r,s){return new dF(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,UC(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firestore.googleapis.com",WS=!0;class qS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BC,this.ssl=WS}else this.host=e.host,this.ssl=e.ssl??WS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w6)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new H3;switch(r.type){case"firstParty":return new K3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=HS.get(n);r&&(me(WU,"Removing Datastore"),HS.delete(n),r.terminate())})(this),Promise.resolve()}}function GU(t,e,n,r={}){t=An(t,Bf);const s=ji(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(Sv(`https://${u}`),bv("Firestore",!0)),o.host!==BC&&o.host!==u&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:s,emulatorOptions:r};if(!Oo(c,l)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=on.MOCK_USER;else{h=Mx(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new on(g)}t._authCredentials=new W3(new AI(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pu(n,wt._jsonSchema))return new wt(e,r||null,new Te(nt.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Lt("string",wt._jsonSchemaVersion),referencePath:Lt("string")};class ki extends ss{constructor(e,n,r){super(e,n,kf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new Te(e))}withConverter(e){return new ki(this.firestore,e,this._path)}}function pt(t,e,...n){if(t=Ze(t),PI("collection","path",e),t instanceof Bf){const r=nt.fromString(e,...n);return oS(r),new ki(t,null,r)}{if(!(t instanceof wt||t instanceof ki))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return oS(r),new ki(t.firestore,null,r)}}function Je(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=Fv.newId()),PI("doc","path",e),t instanceof Bf){const r=nt.fromString(e,...n);return iS(r),new wt(t,null,new Te(r))}{if(!(t instanceof wt||t instanceof ki))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return iS(r),new wt(t.firestore,t instanceof ki?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="AsyncQueue";class KS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TC(this,"async_queue_retry"),this._c=()=>{const r=ng();r&&me(GS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;me(GS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",YS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=r0.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ae(47125,{Pc:YS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class js extends Bf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new KS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KS(e),this._firestoreClient=void 0,await e}}}function KU(t,e){const n=typeof t=="object"?t:bu(),r=typeof t=="string"?t:qh,s=Ko(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=kx("firestore");o&&GU(s,...o)}return s}function jf(t){if(t._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YU(t),t._firestoreClient}function YU(t){const e=t._freezeSettings(),n=qU(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new FU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(Jt.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Lt("string",Zn._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Lt("string",ts._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new wr(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:Lt("string",wr._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=/^__.*__$/;class XU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class jC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:t})}}class f0{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new f0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return tf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(zC(this.dataSource)&&QU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class JU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vf(e)}createContext(e,n,r,s=!1){return new f0({dataSource:e,methodName:n,targetDoc:r,path:Qt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lu(t){const e=t._freezeSettings(),n=Vf(t._databaseId);return new JU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $C(t,e,n,r,s,o={}){const l=t.createContext(o.merge||o.mergeFields?2:0,e,n,s);g0("Data must be an object, but it was:",l,r);const u=WC(r,l);let c,h;if(o.merge)c=new Un(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const w=jo(e,g,n);if(!l.contains(w))throw new fe(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);KC(m,w)||m.push(w)}c=new Un(m),h=l.fieldTransforms.filter((g=>c.covers(g.field)))}else c=null,h=l.fieldTransforms;return new XU(new xn(u),c,h)}class zf extends Mu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}class p0 extends Mu{_toFieldTransform(e){return new sC(e.path,new cu)}isEqual(e){return e instanceof p0}}class m0 extends Mu{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new hu(e.serializer,ZI(e.serializer,this.Vc));return new sC(e.path,n)}isEqual(e){return e instanceof m0&&this.Vc===e.Vc}}function ZU(t,e,n,r){const s=t.createContext(1,e,n);g0("Data must be an object, but it was:",s,r);const o=[],l=xn.empty();Wi(r,((c,h)=>{const m=GC(e,c,n);h=Ze(h);const g=s.childContextForFieldPath(m);if(h instanceof zf)o.push(m);else{const w=Ou(h,g);w!=null&&(o.push(m),l.set(m,w))}}));const u=new Un(o);return new jC(l,u,s.fieldTransforms)}function e5(t,e,n,r,s,o){const l=t.createContext(1,e,n),u=[jo(e,r,n)],c=[s];if(o.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)u.push(jo(e,o[w])),c.push(o[w+1]);const h=[],m=xn.empty();for(let w=u.length-1;w>=0;--w)if(!KC(h,u[w])){const E=u[w];let b=c[w];b=Ze(b);const A=l.childContextForFieldPath(E);if(b instanceof zf)h.push(E);else{const P=Ou(b,A);P!=null&&(h.push(E),m.set(E,P))}}const g=new Un(h);return new jC(m,g,l.fieldTransforms)}function HC(t,e,n,r=!1){return Ou(n,t.createContext(r?4:3,e))}function Ou(t,e){if(qC(t=Ze(t)))return g0("Unsupported field value:",e,t),WC(t,e);if(t instanceof Mu)return(function(r,s){if(!zC(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let l=0;for(const u of r){let c=Ou(u,s.childContextForArray(l));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Xe.fromDate(r);return{timestampValue:Qh(s.serializer,o)}}if(r instanceof Xe){const o=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(s.serializer,o)}}if(r instanceof ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:uC(s.serializer,r._byteString)};if(r instanceof wt){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Kv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof wr)return(function(l,u){const c=l instanceof wr?l.toArray():l;return{mapValue:{fields:{[FI]:{stringValue:UI},[Gh]:{arrayValue:{values:c.map((m=>{if(typeof m!="number")throw u.createError("VectorValues must only contain numeric values.");return Hv(u.serializer,m)}))}}}}}})(r,s);if(yC(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${If(r)}`)})(t,e)}function WC(t,e){const n={};return NI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(t,((r,s)=>{const o=Ou(s,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function qC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof ts||t instanceof Zn||t instanceof wt||t instanceof Mu||t instanceof wr||yC(t))}function g0(t,e,n){if(!qC(n)||!RI(n)){const r=If(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function jo(t,e,n){if((e=Ze(e))instanceof h0)return e._internalPath;if(typeof e=="string")return GC(t,e);throw tf("Field path arguments must be of type string or ",t,!1,void 0,n)}const t5=new RegExp("[~\\*/\\[\\]]");function GC(t,e,n){if(e.search(t5)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new h0(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tf(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||l)&&(c+=" (found",o&&(c+=` in field ${r}`),l&&(c+=` in document ${s}`),c+=")"),new fe(ie.INVALID_ARGUMENT,u+t+c)}function KC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wi(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Gh].arrayValue?.values?.map((r=>At(r.doubleValue)));return new wr(n)}convertGeoPoint(e){return new ts(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=Li(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Ye(gC(r),9688,{name:e});const s=new ou(r.get(1),r.get(3)),o=new Te(r.popFirst(5));return s.isEqual(n)||Us(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends n5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function Tr(){return new p0("serverTimestamp")}function QS(t){return new m0("increment",t)}const XS="@firebase/firestore",JS="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(jo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r5 extends v0{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w0{}class $f extends w0{}function zs(t,e,...n){let r=[];e instanceof w0&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((c=>c instanceof E0)).length,u=o.filter((c=>c instanceof Hf)).length;if(l>1||l>0&&u>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Hf extends $f{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hf(e,n,r)}_apply(e){const n=this._parse(e);return QC(e._query,n),new ss(e.firestore,e.converter,my(e._query,n))}_parse(e){const n=Lu(e.firestore);return(function(o,l,u,c,h,m,g){let w;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){n1(g,m);const b=[];for(const A of g)b.push(t1(c,o,A));w={arrayValue:{values:b}}}else w=t1(c,o,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||n1(g,m),w=HC(u,l,g,m==="in"||m==="not-in");return Mt.create(h,m,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ns(t,e,n){const r=e,s=jo("where",t);return Hf._create(s,r,n)}class E0 extends w0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new E0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let l=s;const u=o.getFlattenedFilters();for(const c of u)QC(l,c),l=my(l,c)})(e._query,n),new ss(e.firestore,e.converter,my(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _0 extends $f{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _0(e,n)}_apply(e){const n=(function(s,o,l){if(s.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(o,l)})(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,PF(e._query,n))}}function fu(t,e="asc"){const n=e,r=jo("orderBy",t);return _0._create(r,n)}class T0 extends $f{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new T0(e,n,r)}_apply(e){return new ss(e.firestore,e.converter,Yh(e._query,this._limit,this._limitType))}}function e1(t){return T0._create("limit",t,"F")}class S0 extends $f{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new S0(e,n,r)}_apply(e){const n=i5(e,this.type,this._docOrFields,this._inclusive);return new ss(e.firestore,e.converter,RF(e._query,n))}}function s5(...t){return S0._create("startAfter",t,!1)}function i5(t,e,n,r){if(n[0]=Ze(n[0]),n[0]instanceof v0)return(function(o,l,u,c,h){if(!c)throw new fe(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of rl(o))if(g.field.isKeyField())m.push(Kh(l,c.key));else{const w=c.data.field(g.field);if(Pf(w))throw new fe(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const E=g.field.canonicalString();throw new fe(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}m.push(w)}return new fl(m,h)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Lu(t.firestore);return(function(l,u,c,h,m,g){const w=l.explicitOrderBy;if(m.length>w.length)throw new fe(ie.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let b=0;b<m.length;b++){const A=m[b];if(w[b].field.isKeyField()){if(typeof A!="string")throw new fe(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof A}`);if(!$v(l)&&A.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${A}' contains a slash.`);const P=l.path.child(nt.fromString(A));if(!Te.isDocumentKey(P))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const C=new Te(P);E.push(Kh(u,C))}else{const P=HC(c,h,A);E.push(P)}}return new fl(E,g)})(t._query,t.firestore._databaseId,s,e,n,r)}}function t1(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$v(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!Te.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kh(t,new Te(r))}if(n instanceof wt)return Kh(t,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(n)}.`)}function n1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QC(t,e){const n=(function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function XC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Do extends v0{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Do._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Do._jsonSchemaVersion="firestore/documentSnapshot/1.0",Do._jsonSchema={type:Lt("string",Do._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Ph extends Do{data(e={}){return super.data(e)}}class Mo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Dc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ph(this._firestore,this._userDataWriter,r.key,r,new Dc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const c=new Ph(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Dc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new Ph(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Dc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:o5(u.type),doc:c,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function o5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:Lt("string",Mo._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t){t=An(t,wt);const e=An(t.firestore,js),n=jf(e);return zU(n,t._key).then((r=>JC(e,t,r)))}function Xt(t){t=An(t,ss);const e=An(t.firestore,js),n=jf(e),r=new y0(e);return YC(t._query),$U(n,t._query).then((s=>new Mo(e,r,t,s)))}function nf(t,e,n){t=An(t,wt);const r=An(t.firestore,js),s=XC(t.converter,e,n),o=Lu(r);return qf(r,[$C(o,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,tr.none())])}function jn(t,e,n,...r){t=An(t,wt);const s=An(t.firestore,js),o=Lu(s);let l;return l=typeof(e=Ze(e))=="string"||e instanceof h0?e5(o,"updateDoc",t._key,e,n,r):ZU(o,"updateDoc",t._key,e),qf(s,[l.toMutation(t._key,tr.exists(!0))])}function zo(t){return qf(An(t.firestore,js),[new Wv(t._key,tr.none())])}function Wf(t,e){const n=An(t.firestore,js),r=Je(t),s=XC(t.converter,e),o=Lu(t.firestore);return qf(n,[$C(o,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then((()=>r))}function b0(t,...e){t=Ze(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ZS(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ZS(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,l,u;if(t instanceof wt)l=An(t.firestore,js),u=kf(t._key.path),o={next:h=>{e[r]&&e[r](JC(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=An(t,ss);l=An(h.firestore,js),u=h._query;const m=new y0(l);o={next:g=>{e[r]&&e[r](new Mo(l,m,h,g))},error:e[r+1],complete:e[r+2]},YC(t._query)}const c=jf(l);return jU(c,u,s,o)}function qf(t,e){const n=jf(t);return HU(n,e)}function JC(t,e,n){const r=n.docs.get(e._key),s=new y0(t);return new Do(t,s,e._key,r,new Dc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){$3(Yo),Er(new rr("firestore",((r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new js(new q3(r.getProvider("auth-internal")),new Y3(l,r.getProvider("app-check-internal")),hF(l,s),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Cn(XS,JS,e),Cn(XS,JS,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="firebasestorage.googleapis.com",eA="storageBucket",a5=120*1e3,l5=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends Ir{constructor(e,n,r=0){super(sg(e),`Firebase Storage: ${n} (${sg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Et||(Et={}));function sg(t){return"storage/"+t}function x0(){const t="An unknown error occurred, please check the error payload for server response.";return new _t(Et.UNKNOWN,t)}function c5(t){return new _t(Et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function u5(t){return new _t(Et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function d5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(Et.UNAUTHENTICATED,t)}function h5(){return new _t(Et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function f5(t){return new _t(Et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function p5(){return new _t(Et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function m5(){return new _t(Et.CANCELED,"User canceled the upload/download.")}function g5(t){return new _t(Et.INVALID_URL,"Invalid URL '"+t+"'.")}function y5(t){return new _t(Et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function v5(){return new _t(Et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eA+"' property when initializing the app?")}function w5(){return new _t(Et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function E5(){return new _t(Et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _5(t){return new _t(Et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xy(t){return new _t(Et.INVALID_ARGUMENT,t)}function tA(){return new _t(Et.APP_DELETED,"The Firebase app was deleted.")}function T5(t){return new _t(Et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wc(t,e){return new _t(Et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xc(t){throw new _t(Et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(r.path==="")return r;throw y5(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),c={bucket:1,path:3};function h(z){z.path_=decodeURIComponent(z.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${m}/b/${s}/o${w}`,"i"),b={bucket:1,path:3},A=n===ZC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",C=new RegExp(`^https?://${A}/${s}/${P}`,"i"),N=[{regex:u,indices:c,postModify:o},{regex:E,indices:b,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let z=0;z<N.length;z++){const q=N[z],re=q.regex.exec(e);if(re){const F=re[q.indices.bucket];let x=re[q.indices.path];x||(x=""),r=new Bn(F,x),q.postModify(r);break}}if(r==null)throw g5(e);return r}}class S5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t,e,n){let r=1,s=null,o=null,l=!1,u=0;function c(){return u===2}let h=!1;function m(...P){h||(h=!0,e.apply(null,P))}function g(P){s=setTimeout(()=>{s=null,t(E,c())},P)}function w(){o&&clearTimeout(o)}function E(P,...C){if(h){w();return}if(P){w(),m.call(null,P,...C);return}if(c()||l){w(),m.call(null,P,...C);return}r<64&&(r*=2);let N;u===1?(u=2,N=0):N=(r+Math.random())*1e3,g(N)}let b=!1;function A(P){b||(b=!0,w(),!h&&(s!==null?(P||(u=2),clearTimeout(s),g(0)):P||(u=1)))}return g(0),o=setTimeout(()=>{l=!0,A(!0)},n),A}function x5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t){return t!==void 0}function C5(t){return typeof t=="object"&&!Array.isArray(t)}function I0(t){return typeof t=="string"||t instanceof String}function r1(t){return C0()&&t instanceof Blob}function C0(){return typeof Blob<"u"}function s1(t,e,n,r){if(r<e)throw xy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function nA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Lo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Lo||(Lo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n,r,s,o,l,u,c,h,m,g,w=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=g,this.retry=w,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,A)=>{this.resolve_=b,this.reject_=A,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new uh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===Lo.NO_ERROR,c=o.getStatus();if(!u||A5(c,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Lo.ABORT;r(!1,new uh(!1,null,m));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new uh(h,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());I5(c)?o(c):o()}catch(c){l(c)}else if(u!==null){const c=x0();c.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,c)):l(c)}else if(s.canceled){const c=this.appDelete_?tA():m5();l(c)}else{const c=p5();l(c)}};this.canceled_?n(!1,new uh(!1,null,!0)):this.backoffId_=b5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&x5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function R5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function N5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function D5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function M5(t,e,n,r,s,o,l=!0,u=!1){const c=nA(t.urlParams),h=t.url+c,m=Object.assign({},t.headers);return N5(m,e),R5(m,n),k5(m,o),D5(m,r),new P5(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function O5(...t){const e=L5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(C0())return new Blob(t);throw new _t(Et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function V5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){if(typeof atob>"u")throw _5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ig{constructor(e,n){this.data=e,this.contentType=n||null}}function U5(t,e){switch(t){case Gr.RAW:return new ig(rA(e));case Gr.BASE64:case Gr.BASE64URL:return new ig(sA(t,e));case Gr.DATA_URL:return new ig(j5(e),z5(e))}throw x0()}function rA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function B5(t){let e;try{e=decodeURIComponent(t)}catch{throw Wc(Gr.DATA_URL,"Malformed data URL.")}return rA(e)}function sA(t,e){switch(t){case Gr.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Wc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Gr.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Wc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=F5(e)}catch(s){throw s.message.includes("polyfill")?s:Wc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class iA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Wc(Gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=$5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function j5(t){const e=new iA(t);return e.base64?sA(Gr.BASE64,e.rest):B5(e.rest)}function z5(t){return new iA(t).contentType}function $5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n){let r=0,s="";r1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(r1(this.data_)){const r=this.data_,s=V5(r,e,n);return s===null?null:new bi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new bi(r,!0)}}static getBlob(...e){if(C0()){const n=e.map(r=>r instanceof bi?r.data_:r);return new bi(O5.apply(null,n))}else{const n=e.map(l=>I0(l)?U5(Gr.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)s[o++]=l[u]}),new bi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){let e;try{e=JSON.parse(t)}catch{return null}return C5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function W5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function aA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t,e){return e}class pn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||q5}}let dh=null;function G5(t){return!I0(t)||t.length<2?t:aA(t)}function lA(){if(dh)return dh;const t=[];t.push(new pn("bucket")),t.push(new pn("generation")),t.push(new pn("metageneration")),t.push(new pn("name","fullPath",!0));function e(o,l){return G5(l)}const n=new pn("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const s=new pn("size");return s.xform=r,t.push(s),t.push(new pn("timeCreated")),t.push(new pn("updated")),t.push(new pn("md5Hash",null,!0)),t.push(new pn("cacheControl",null,!0)),t.push(new pn("contentDisposition",null,!0)),t.push(new pn("contentEncoding",null,!0)),t.push(new pn("contentLanguage",null,!0)),t.push(new pn("contentType",null,!0)),t.push(new pn("metadata","customMetadata",!0)),dh=t,dh}function K5(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new Bn(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Y5(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return K5(r,t),r}function cA(t,e,n){const r=oA(e);return r===null?null:Y5(t,r,n)}function Q5(t,e,n,r){const s=oA(e);if(s===null||!I0(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(h=>{const m=t.bucket,g=t.fullPath,w="/b/"+l(m)+"/o/"+l(g),E=Gf(w,n,r),b=nA({alt:"media",token:h});return E+b})[0]}function X5(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class A0{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){if(!t)throw x0()}function J5(t,e){function n(r,s){const o=cA(t,s,e);return uA(o!==null),o}return n}function Z5(t,e){function n(r,s){const o=cA(t,s,e);return uA(o!==null),Q5(o,s,t.host,t._protocol)}return n}function dA(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=h5():s=d5():n.getStatus()===402?s=u5(t.bucket):n.getStatus()===403?s=f5(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function hA(t){const e=dA(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=c5(t.path)),o.serverResponse=s.serverResponse,o}return n}function e9(t,e,n){const r=e.fullServerUrl(),s=Gf(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,u=new A0(s,o,Z5(t,n),l);return u.errorHandler=hA(e),u}function t9(t,e){const n=e.fullServerUrl(),r=Gf(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function l(c,h){}const u=new A0(r,s,l,o);return u.successCodes=[200,204],u.errorHandler=hA(e),u}function n9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function r9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=n9(null,e)),r}function s9(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let N="";for(let z=0;z<2;z++)N=N+Math.random().toString().slice(2);return N}const c=u();l["Content-Type"]="multipart/related; boundary="+c;const h=r9(e,r,s),m=X5(h,n),g="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,w=`\r
--`+c+"--",E=bi.getBlob(g,r,w);if(E===null)throw w5();const b={name:h.fullPath},A=Gf(o,t.host,t._protocol),P="POST",C=t.maxUploadRetryTime,R=new A0(A,P,J5(t,n),C);return R.urlParams=b,R.headers=l,R.body=E.uploadData(),R.errorHandler=dA(e),R}class i9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw xc("cannot .send() more than once");if(ji(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class o9 extends i9{initXhr(){this.xhr_.responseType="text"}}function P0(){return new o9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $o(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aA(this._location.path)}get storage(){return this._service}get parent(){const e=H5(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new $o(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw T5(e)}}function a9(t,e,n){t._throwIfRoot("uploadBytes");const r=s9(t.storage,t._location,lA(),new bi(e,!0),n);return t.storage.makeRequestWithTokens(r,P0).then(s=>({metadata:s,ref:t}))}function l9(t){t._throwIfRoot("getDownloadURL");const e=e9(t.storage,t._location,lA());return t.storage.makeRequestWithTokens(e,P0).then(n=>{if(n===null)throw E5();return n})}function c9(t){t._throwIfRoot("deleteObject");const e=t9(t.storage,t._location);return t.storage.makeRequestWithTokens(e,P0)}function u9(t,e){const n=W5(t._location.path,e),r=new Bn(t._location.bucket,n);return new $o(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){return/^[A-Za-z]+:\/\//.test(t)}function h9(t,e){return new $o(t,e)}function fA(t,e){if(t instanceof R0){const n=t;if(n._bucket==null)throw v5();const r=new $o(n,n._bucket);return e!=null?fA(r,e):r}else return e!==void 0?u9(t,e):t}function f9(t,e){if(e&&d9(e)){if(t instanceof R0)return h9(t,e);throw xy("To use ref(service, url), the first argument must be a Storage instance.")}else return fA(t,e)}function i1(t,e){const n=e?.[eA];return n==null?null:Bn.makeFromBucketSpec(n,t)}function p9(t,e,n,r={}){t.host=`${e}:${n}`;const s=ji(e);s&&(Sv(`https://${t.host}/b`),bv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:Mx(o,t.app.options.projectId))}class R0{constructor(e,n,r,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=ZC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=a5,this._maxUploadRetryTime=l5,this._requests=new Set,s!=null?this._bucket=Bn.makeFromBucketSpec(s,this._host):this._bucket=i1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=i1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $o(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new S5(tA());{const l=M5(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const o1="@firebase/storage",a1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="storage";function mA(t,e,n){return t=Ze(t),a9(t,e,n)}function gA(t){return t=Ze(t),l9(t)}function yA(t){return t=Ze(t),c9(t)}function rf(t,e){return t=Ze(t),f9(t,e)}function m9(t=bu(),e){t=Ze(t);const r=Ko(t,pA).getImmediate({identifier:e}),s=kx("storage");return s&&g9(r,...s),r}function g9(t,e,n,r={}){p9(t,e,n,r)}function y9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new R0(n,r,s,e,Yo)}function v9(){Er(new rr(pA,y9,"PUBLIC").setMultipleInstances(!0)),Cn(o1,a1,""),Cn(o1,a1,"esm2020")}v9();const w9={apiKey:"AIzaSyCcMTrPRrddN84zbsoZZtKQ068wqOYJelY",authDomain:"myamravati-market-17248.firebaseapp.com",projectId:"myamravati-market-17248",storageBucket:"myamravati-market-17248.firebasestorage.app",messagingSenderId:"390266313293",appId:"1:390266313293:web:fe9ecb9eae7bcd05361a04"},Kf=gV().length?bu():Ux(w9),Ge=j3(Kf),xe=KU(Kf),sf=m9(Kf);let E9={data:""},_9=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||E9,T9=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,S9=/\/\*[^]*?\*\/|  +/g,l1=/\n+/g,xi=(t,e)=>{let n="",r="",s="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":r+=o[1]=="f"?xi(l,o):o+"{"+xi(l,o[1]=="k"?"":e)+"}":typeof l=="object"?r+=xi(l,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,u):u?u+" "+c:c)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=xi.p?xi.p(o,l):o+":"+l+";")}return n+(e&&s?e+"{"+s+"}":s)+r},bs={},vA=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+vA(t[n]);return e}return t},b9=(t,e,n,r,s)=>{let o=vA(t),l=bs[o]||(bs[o]=(c=>{let h=0,m=11;for(;h<c.length;)m=101*m+c.charCodeAt(h++)>>>0;return"go"+m})(o));if(!bs[l]){let c=o!==t?t:(h=>{let m,g,w=[{}];for(;m=T9.exec(h.replace(S9,""));)m[4]?w.shift():m[3]?(g=m[3].replace(l1," ").trim(),w.unshift(w[0][g]=w[0][g]||{})):w[0][m[1]]=m[2].replace(l1," ").trim();return w[0]})(t);bs[l]=xi(s?{["@keyframes "+l]:c}:c,n?"":"."+l)}let u=n&&bs.g?bs.g:null;return n&&(bs.g=bs[l]),((c,h,m,g)=>{g?h.data=h.data.replace(g,c):h.data.indexOf(c)===-1&&(h.data=m?c+h.data:h.data+c)})(bs[l],e,r,u),l},x9=(t,e,n)=>t.reduce((r,s,o)=>{let l=e[o];if(l&&l.call){let u=l(n),c=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=c?"."+c:u&&typeof u=="object"?u.props?"":xi(u,""):u===!1?"":u}return r+s+(l??"")},"");function Yf(t){let e=this||{},n=t.call?t(e.p):t;return b9(n.unshift?n.raw?x9(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,_9(e.target),e.g,e.o,e.k)}let wA,Iy,Cy;Yf.bind({g:1});let $s=Yf.bind({k:1});function I9(t,e,n,r){xi.p=e,wA=t,Iy=n,Cy=r}function Gi(t,e){let n=this||{};return function(){let r=arguments;function s(o,l){let u=Object.assign({},o),c=u.className||s.className;n.p=Object.assign({theme:Iy&&Iy()},u),n.o=/ *go\d+/.test(c),u.className=Yf.apply(n,r)+(c?" "+c:"");let h=t;return t[0]&&(h=u.as||t,delete u.as),Cy&&h[0]&&Cy(u),wA(h,u)}return s}}var C9=t=>typeof t=="function",of=(t,e)=>C9(t)?t(e):t,A9=(()=>{let t=0;return()=>(++t).toString()})(),EA=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),P9=20,k0="default",_A=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return _A(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},Rh=[],TA={toasts:[],pausedAt:void 0,settings:{toastLimit:P9}},Kr={},SA=(t,e=k0)=>{Kr[e]=_A(Kr[e]||TA,t),Rh.forEach(([n,r])=>{n===e&&r(Kr[e])})},bA=t=>Object.keys(Kr).forEach(e=>SA(t,e)),R9=t=>Object.keys(Kr).find(e=>Kr[e].toasts.some(n=>n.id===t)),Qf=(t=k0)=>e=>{SA(e,t)},k9={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},N9=(t={},e=k0)=>{let[n,r]=k.useState(Kr[e]||TA),s=k.useRef(Kr[e]);k.useEffect(()=>(s.current!==Kr[e]&&r(Kr[e]),Rh.push([e,r]),()=>{let l=Rh.findIndex(([u])=>u===e);l>-1&&Rh.splice(l,1)}),[e]);let o=n.toasts.map(l=>{var u,c,h;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((u=t[l.type])==null?void 0:u.removeDelay)||t?.removeDelay,duration:l.duration||((c=t[l.type])==null?void 0:c.duration)||t?.duration||k9[l.type],style:{...t.style,...(h=t[l.type])==null?void 0:h.style,...l.style}}});return{...n,toasts:o}},D9=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||A9()}),Vu=t=>(e,n)=>{let r=D9(e,t,n);return Qf(r.toasterId||R9(r.id))({type:2,toast:r}),r.id},lt=(t,e)=>Vu("blank")(t,e);lt.error=Vu("error");lt.success=Vu("success");lt.loading=Vu("loading");lt.custom=Vu("custom");lt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Qf(e)(n):bA(n)};lt.dismissAll=t=>lt.dismiss(void 0,t);lt.remove=(t,e)=>{let n={type:4,toastId:t};e?Qf(e)(n):bA(n)};lt.removeAll=t=>lt.remove(void 0,t);lt.promise=(t,e,n)=>{let r=lt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?of(e.success,s):void 0;return o?lt.success(o,{id:r,...n,...n?.success}):lt.dismiss(r),s}).catch(s=>{let o=e.error?of(e.error,s):void 0;o?lt.error(o,{id:r,...n,...n?.error}):lt.dismiss(r)}),t};var M9=1e3,L9=(t,e="default")=>{let{toasts:n,pausedAt:r}=N9(t,e),s=k.useRef(new Map).current,o=k.useCallback((g,w=M9)=>{if(s.has(g))return;let E=setTimeout(()=>{s.delete(g),l({type:4,toastId:g})},w);s.set(g,E)},[]);k.useEffect(()=>{if(r)return;let g=Date.now(),w=n.map(E=>{if(E.duration===1/0)return;let b=(E.duration||0)+E.pauseDuration-(g-E.createdAt);if(b<0){E.visible&&lt.dismiss(E.id);return}return setTimeout(()=>lt.dismiss(E.id,e),b)});return()=>{w.forEach(E=>E&&clearTimeout(E))}},[n,r,e]);let l=k.useCallback(Qf(e),[e]),u=k.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=k.useCallback((g,w)=>{l({type:1,toast:{id:g,height:w}})},[l]),h=k.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),m=k.useCallback((g,w)=>{let{reverseOrder:E=!1,gutter:b=8,defaultPosition:A}=w||{},P=n.filter(N=>(N.position||A)===(g.position||A)&&N.height),C=P.findIndex(N=>N.id===g.id),R=P.filter((N,z)=>z<C&&N.visible).length;return P.filter(N=>N.visible).slice(...E?[R+1]:[0,R]).reduce((N,z)=>N+(z.height||0)+b,0)},[n]);return k.useEffect(()=>{n.forEach(g=>{if(g.dismissed)o(g.id,g.removeDelay);else{let w=s.get(g.id);w&&(clearTimeout(w),s.delete(g.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:c,startPause:u,endPause:h,calculateOffset:m}}},O9=$s`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,V9=$s`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,F9=$s`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,U9=Gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${O9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${V9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${F9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,B9=$s`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,j9=Gi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${B9} 1s linear infinite;
`,z9=$s`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$9=$s`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,H9=Gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,W9=Gi("div")`
  position: absolute;
`,q9=Gi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,G9=$s`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,K9=Gi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${G9} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Y9=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?k.createElement(K9,null,e):e:n==="blank"?null:k.createElement(q9,null,k.createElement(j9,{...r}),n!=="loading"&&k.createElement(W9,null,n==="error"?k.createElement(U9,{...r}):k.createElement(H9,{...r})))},Q9=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,X9=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,J9="0%{opacity:0;} 100%{opacity:1;}",Z9="0%{opacity:1;} 100%{opacity:0;}",eB=Gi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tB=Gi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nB=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=EA()?[J9,Z9]:[Q9(n),X9(n)];return{animation:e?`${$s(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$s(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rB=k.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?nB(t.position||e||"top-center",t.visible):{opacity:0},o=k.createElement(Y9,{toast:t}),l=k.createElement(tB,{...t.ariaProps},of(t.message,t));return k.createElement(eB,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:o,message:l}):k.createElement(k.Fragment,null,o,l))});I9(k.createElement);var sB=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let o=k.useCallback(l=>{if(l){let u=()=>{let c=l.getBoundingClientRect().height;r(t,c)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return k.createElement("div",{ref:o,className:e,style:n},s)},iB=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:EA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},oB=Yf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hh=16,xA=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:o,containerStyle:l,containerClassName:u})=>{let{toasts:c,handlers:h}=L9(n,o);return k.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:hh,left:hh,right:hh,bottom:hh,pointerEvents:"none",...l},className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},c.map(m=>{let g=m.position||e,w=h.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),E=iB(g,w);return k.createElement(sB,{id:m.id,key:m.id,onHeightUpdate:h.updateHeight,className:m.visible?oB:"",style:E},m.type==="custom"?of(m.message,m):s?s(m):k.createElement(rB,{toast:m,position:g}))}))},Ie=lt;function aB(){const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,o]=k.useState(!1),[l,u]=k.useState(""),c=zn(),h=new qr,m=new Cs,g=async b=>{if(b.preventDefault(),!t||!n){Ie.error(" Please fill all fields");return}o(!0);try{await A4(Ge,t,n),Ie.success(" Logged in successfully!"),c("/dashboard")}catch(A){console.error(A),u("Invalid credentials. Please try again."),Ie.error(" Invalid email or password")}o(!1)},w=async()=>{o(!0);try{await ly(Ge,h),Ie.success(" Logged in with Google!"),c("/dashboard")}catch(b){console.error(b),Ie.error(" Google login failed")}o(!1)},E=async()=>{o(!0);try{await ly(Ge,m),Ie.success(" Logged in with Facebook!"),c("/dashboard")}catch(b){console.error(b),Ie.error(" Facebook login failed")}o(!1)};return y.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4"},y.createElement("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 sm:p-8"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6"},"Welcome Back "),l&&y.createElement("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-2"},l),y.createElement("form",{onSubmit:g,className:"space-y-4"},y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email Address"),y.createElement("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:t,onChange:b=>e(b.target.value),placeholder:"you@example.com",required:!0})),y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),y.createElement("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:n,onChange:b=>r(b.target.value),placeholder:"",required:!0})),y.createElement("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 rounded-lg transition duration-200 disabled:opacity-60"},s?"Logging in...":"Login")),y.createElement("div",{className:"flex items-center my-6"},y.createElement("div",{className:"flex-grow border-t border-gray-300"}),y.createElement("span",{className:"mx-3 text-sm text-gray-500"},"or"),y.createElement("div",{className:"flex-grow border-t border-gray-300"})),y.createElement("div",{className:"flex flex-col space-y-3"},y.createElement("button",{onClick:w,className:"flex items-center justify-center w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition"},y.createElement("img",{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"),y.createElement("button",{onClick:E,className:"flex items-center justify-center w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition"},y.createElement("img",{src:"https://www.svgrepo.com/show/303145/facebook-icon-logo.svg",alt:"Facebook",className:"w-5 h-5 mr-2"}),"Continue with Facebook")),y.createElement("p",{className:"mt-6 text-sm text-gray-600 text-center"},"Dont have an account?"," ",y.createElement(Ve,{to:"/signup",className:"text-blue-600 hover:underline font-medium"},"Sign up"))))}function lB(){const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,o]=k.useState(""),[l,u]=k.useState(!1),c=zn(),h=new qr,m=async w=>{w.preventDefault(),o(""),u(!0);try{const b=(await C4(Ge,t,n)).user;await nf(Je(xe,"users",b.uid),{email:b.email,role:"customer",createdAt:Tr()}),Ie.success(" Signup successful!"),c("/dashboard")}catch(E){console.error(" Signup error:",E),o(E.message),Ie.error(" Signup failed! "+E.message)}finally{u(!1)}},g=async()=>{o(""),u(!0);try{const E=(await ly(Ge,h)).user,b=Je(xe,"users",E.uid);(await is(b)).exists()||await nf(b,{email:E.email,name:E.displayName,photoURL:E.photoURL,role:"customer",createdAt:Tr()}),Ie.success(" Signed in with Google!"),c("/dashboard")}catch(w){console.error(" Google signup error:",w),o(w.message),Ie.error("Google sign-in failed: "+w.message)}finally{u(!1)}};return y.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4"},y.createElement("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 sm:p-8"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6"},"Create an Account "),s&&y.createElement("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-2"},s),y.createElement("form",{onSubmit:m,className:"space-y-4"},y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email Address"),y.createElement("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:t,onChange:w=>e(w.target.value),placeholder:"you@example.com",required:!0})),y.createElement("div",null,y.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),y.createElement("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm",value:n,onChange:w=>r(w.target.value),placeholder:"",required:!0})),y.createElement("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 rounded-lg transition duration-200 disabled:opacity-60"},l?"Signing up...":"Sign Up")),y.createElement("div",{className:"flex items-center my-4"},y.createElement("div",{className:"flex-grow h-px bg-gray-200"}),y.createElement("span",{className:"text-gray-500 text-sm mx-3"},"OR"),y.createElement("div",{className:"flex-grow h-px bg-gray-200"})),y.createElement("button",{onClick:g,disabled:l,className:"w-full border border-gray-300 flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-50 transition disabled:opacity-60"},y.createElement("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),y.createElement("span",{className:"text-gray-700 font-medium text-sm"},"Continue with Google")),y.createElement("p",{className:"mt-4 text-sm text-gray-600 text-center"},"Already have an account?"," ",y.createElement(Ve,{to:"/login",className:"text-blue-600 hover:underline font-medium"},"Login"))))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function cB(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(g){l(g)}}function c(m){try{h(r.throw(m))}catch(g){l(g)}}function h(m){m.done?o(m.value):s(m.value).then(u,c)}h((r=r.apply(t,[])).next())})}function uB(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(m){return c([h,m])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,s=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(m){h=[6,m],s=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ja=function(){return Ja=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ja.apply(this,arguments)},IA=function(t){return{loading:t==null,value:t}},dB=function(){return function(t,e){switch(e.type){case"error":return Ja(Ja({},t),{error:e.error,loading:!1,value:void 0});case"reset":return IA(e.defaultValue);case"value":return Ja(Ja({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},hB=(function(t){var e=t?t():void 0,n=k.useReducer(dB(),IA(e)),r=n[0],s=n[1],o=k.useCallback(function(){var c=t?t():void 0;s({type:"reset",defaultValue:c})},[t]),l=k.useCallback(function(c){s({type:"error",error:c})},[]),u=k.useCallback(function(c){s({type:"value",value:c})},[]);return k.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:l,setValue:u,value:r.value}},[r.error,r.loading,o,l,u,r.value])}),N0=(function(t,e){var n=hB(function(){return t.currentUser}),r=n.error,s=n.loading,o=n.setError,l=n.setValue,u=n.value;return k.useEffect(function(){var c=Sf(t,function(h){return cB(void 0,void 0,void 0,function(){var m;return uB(this,function(g){switch(g.label){case 0:return[3,4];case 1:return g.trys.push([1,3,,4]),[4,e.onUserChanged(h)];case 2:return g.sent(),[3,4];case 3:return m=g.sent(),o(m),[3,4];case 4:return l(h),[2]}})})},o);return function(){c()}},[t]),[u,s,r]});const fB=[{price:49,days:7,label:"49  7 days"},{price:99,days:15,label:"99  15 days"},{price:199,days:30,label:"199  30 days"}];function pB(){const[t]=N0(Ge),[e,n]=k.useState([]),[r,s]=k.useState(null),[o,l]=k.useState(!1),[u,c]=k.useState(!0),h=async()=>{if(t){c(!0);try{const E=zs(pt(xe,"products"),ns("userId","==",t.uid)),A=(await Xt(E)).docs.map(P=>({id:P.id,...P.data()}));n(A)}catch(E){console.error(E),Ie.error("Failed to load your products.")}finally{c(!1)}}};k.useEffect(()=>{h()},[t]);const m=async E=>{if(window.confirm("Delete this product permanently?"))try{E.imageUrls?.[0]&&await yA(rf(sf,E.imageUrls[0])),await zo(Je(xe,"products",E.id)),n(b=>b.filter(A=>A.id!==E.id)),Ie.success("Product deleted")}catch{Ie.error("Failed to delete product")}},g=async E=>{try{await jn(Je(xe,"products",E),{featuredRequest:!0,featured:!1}),Ie.success("Featured request sent"),h()}catch{Ie.error("Failed to request featured")}},w=async E=>{try{await jn(Je(xe,"products",r),{isPromoted:!0,promotionPlan:E.label,promotionPrice:E.price,promotionExpiresAt:Xe.fromDate(new Date(Date.now()+E.days*864e5))}),Ie.success(`Promoted for ${E.days} days`),h()}catch{Ie.error("Promotion failed")}finally{l(!1),s(null)}};return y.createElement("main",{className:"max-w-7xl mx-auto px-4 py-6"},y.createElement("div",{className:"text-center mb-8"},y.createElement("h1",{className:"text-2xl sm:text-3xl font-bold"}," My Dashboard"),y.createElement("p",{className:"text-gray-600 mt-1"},t?.email),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Total products: ",e.length)),u&&y.createElement("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6"},Array.from({length:3}).map((E,b)=>y.createElement("div",{key:b,className:"h-72 bg-gray-200 rounded-xl animate-pulse"}))),!u&&e.length===0&&y.createElement("div",{className:"text-center bg-white rounded-xl p-10 shadow-sm"},y.createElement("div",{className:"text-5xl mb-4"},""),y.createElement("h2",{className:"text-lg font-semibold"},"No products yet"),y.createElement("p",{className:"text-gray-500 mt-1"},"Start selling by adding your first product."),y.createElement(Ve,{to:"/add-product",className:"inline-block mt-5 bg-blue-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-blue-700"}," Add Product")),!u&&e.length>0&&y.createElement("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6"},e.map(E=>(E.isPromoted&&E.promotionExpiresAt?.toDate()>new Date,y.createElement("div",{key:E.id,className:"bg-white rounded-xl shadow-sm hover:shadow-md transition flex flex-col"},y.createElement("img",{src:E.imageUrls?.[0]||"/placeholder.png",alt:E.title,className:"h-48 w-full object-cover rounded-t-xl"}),y.createElement("div",{className:"p-4 flex flex-col flex-1"},y.createElement("h3",{className:"font-semibold line-clamp-1"},E.title),y.createElement("p",{className:"text-green-600 font-bold mt-1"},"",E.price),y.createElement("p",{className:"text-xs text-gray-500 mt-1"}," ",E.location),y.createElement("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2"},E.description),y.createElement("div",{className:"mt-3"},!E.approved&&y.createElement("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-3 py-1 rounded"}," Pending approval"),E.approved&&!E.promoted&&y.createElement("span",{className:"text-xs bg-green-100 text-green-700 px-3 py-1 rounded"}," Live"),E.approved&&E.promoted&&y.createElement("span",{className:"text-xs bg-blue-100 text-blue-700 px-3 py-1 rounded"}," Promoted")),y.createElement("div",{className:"grid grid-cols-2 gap-2 mt-4"},y.createElement(Ve,{to:`/edit/${E.id}`,className:"text-center bg-yellow-400 hover:bg-yellow-500 text-white py-2 rounded-lg text-sm"},"Edit"),y.createElement("button",{onClick:()=>m(E),className:"bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm"},"Delete"),E.featured?y.createElement("span",{className:"col-span-2 text-center bg-green-500 text-white py-2 rounded-lg text-sm"}," Featured"):E.featuredRequest?y.createElement("span",{className:"col-span-2 text-center bg-yellow-200 text-gray-800 py-2 rounded-lg text-sm"}," Featured pending"):y.createElement("button",{onClick:()=>g(E.id),className:"col-span-2 border border-yellow-400 text-yellow-600 hover:bg-yellow-50 py-2 rounded-lg text-sm"}," Request Featured"),y.createElement("button",{onClick:()=>{s(E.id),l(!0)},className:"col-span-2 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg text-sm"}," Promote Product"))))))),o&&y.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},y.createElement("div",{className:"bg-white rounded-xl p-6 w-80"},y.createElement("h3",{className:"font-semibold text-lg mb-4"},"Choose Promotion Plan"),y.createElement("div",{className:"space-y-3"},fB.map(E=>y.createElement("button",{key:E.label,onClick:()=>w(E),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg"},E.label))),y.createElement("button",{onClick:()=>l(!1),className:"mt-4 w-full bg-gray-200 hover:bg-gray-300 py-2 rounded-lg"},"Cancel"))))}const mB=async(t,e)=>{const n=[];for(const r of t){const s=`${Date.now()}_${r.name}`,o=rf(sf,`productImages/${e}/${s}`),l=await mA(o,r),u=await gA(l.ref);n.push(u)}return n},gB=()=>{const[t,e]=k.useState({title:"",description:"",price:"",category:"Books & Notes",location:"",sellerPhone:""}),[n,r]=k.useState([]),[s,o]=k.useState([]),[l,u]=k.useState(!1),c=zn(),h=3;k.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(async b=>{try{const{latitude:A,longitude:P}=b.coords,R=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${A}&lon=${P}`)).json(),N=R.address?.village||R.address?.city||R.address?.town||"";N&&e(z=>({...z,location:N}))}catch{}})},[]);const m=b=>{e(A=>({...A,[b.target.name]:b.target.value}))},g=b=>{const A=Array.from(b.target.files);if(s.forEach(URL.revokeObjectURL),A.length>6){Ie.error("You can upload maximum 6 images");return}r(A),o(A.map(P=>URL.createObjectURL(P)))},w=b=>{URL.revokeObjectURL(s[b]),r(n.filter((A,P)=>P!==b)),o(s.filter((A,P)=>P!==b))},E=async b=>{if(b.preventDefault(),!Ge.currentUser){Ie.error("Please login first");return}if(!t.title||!t.description||!t.price){Ie.error("Please fill all required fields");return}if(n.length===0){Ie.error("Please upload at least one image");return}u(!0);try{const A=zs(pt(xe,"products"),ns("userId","==",Ge.currentUser.uid)),P=await Xt(A),C=new Date;if(C.setHours(0,0,0,0),P.docs.filter(z=>{const q=z.data().createdAt?.toDate?.();return q&&q>=C}).length>=h){Ie.error("Daily limit reached (3 products per day)"),u(!1);return}const N=await mB(n,Ge.currentUser.uid);await Wf(pt(xe,"products"),{title:t.title.trim(),description:t.description.trim(),price:parseFloat(t.price),category:t.category,location:t.location,sellerPhone:t.sellerPhone||null,imageUrls:N,userId:Ge.currentUser.uid,userEmail:Ge.currentUser.email,approved:!1,promoted:!1,promotionExpiresAt:null,createdAt:Tr(),createdAtClient:Xe.now()}),Ie.success("Product added successfully "),s.forEach(URL.revokeObjectURL),c("/dashboard")}catch(A){console.error(A),Ie.error("Failed to add product. Try again.")}finally{u(!1)}};return y.createElement("div",{className:"min-h-screen bg-gray-100 flex justify-center px-4 py-10"},y.createElement("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-lg p-6 sm:p-8"},y.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-center"}," Add New Product"),y.createElement("p",{className:"text-center text-sm text-gray-500 mt-1"},"Post your product for Amravati buyers"),y.createElement("form",{onSubmit:E,className:"space-y-5 mt-6"},y.createElement("input",{name:"title",value:t.title,onChange:m,placeholder:"Product title",className:"w-full px-4 py-3 border rounded-lg",required:!0}),y.createElement("textarea",{name:"description",value:t.description,onChange:m,placeholder:"Product description",rows:4,className:"w-full px-4 py-3 border rounded-lg",required:!0}),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},y.createElement("input",{name:"price",type:"number",value:t.price,onChange:m,placeholder:"Price ",className:"px-4 py-3 border rounded-lg",required:!0}),y.createElement("input",{name:"location",value:t.location,onChange:m,placeholder:"Location",className:"px-4 py-3 border rounded-lg",required:!0})),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},y.createElement("select",{name:"category",value:t.category,onChange:m,className:"px-4 py-3 border rounded-lg"},y.createElement("option",null,"Books & Notes"),y.createElement("option",null,"Handmade Items"),y.createElement("option",null,"Homemade Food"),y.createElement("option",null,"Second-hand Items"),y.createElement("option",null,"New Items"),y.createElement("option",null,"From Shop")),y.createElement("input",{name:"sellerPhone",value:t.sellerPhone,onChange:m,placeholder:"WhatsApp number (optional)",className:"px-4 py-3 border rounded-lg"})),y.createElement("div",null,y.createElement("p",{className:"text-sm font-medium mb-2"},"Product images (max 6)"),y.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:g,className:"w-full border rounded-lg px-3 py-2"}),s.length>0&&y.createElement("div",{className:"grid grid-cols-3 gap-3 mt-4"},s.map((b,A)=>y.createElement("div",{key:A,className:"relative"},y.createElement("img",{src:b,className:"h-28 w-full object-cover rounded-lg",alt:""}),y.createElement("button",{type:"button",onClick:()=>w(A),className:"absolute top-1 right-1 bg-red-600 text-white text-xs px-2 rounded-full"},""))))),y.createElement("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded-lg"}," Buyers will contact you via secure in-app chat. Your phone number is not shown publicly."),y.createElement("button",{disabled:l,className:`w-full py-3 rounded-xl text-white font-semibold ${l?"bg-gray-400":"bg-green-600 hover:bg-green-700"}`},l?"Posting...":"Post Product"))))};function yB(t){return!t||isNaN(t)?"Price not set":`${Number(t).toLocaleString("en-IN")}`}function vB(t){return t?Array.isArray(t.imageUrls)&&t.imageUrls.length>0?t.imageUrls[0]:t.imageUrl?t.imageUrl:"/placeholder.png":"/placeholder.png"}const wB=({filled:t=!1,size:e=20})=>t?y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"red",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M12 21s-6-4.35-9-8.25S-1 4.5 4.5 3 12 9 12 9s3.75-6 7.5-6 6.75 3 3 9.75S12 21 12 21z"})):y.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"red",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M20.8 4.6c-1.8-1.8-4.7-1.8-6.5 0L12 6.9l-2.3-2.3c-1.8-1.8-4.7-1.8-6.5 0s-1.8 4.7 0 6.5L12 21l8.8-8.8c1.7-1.8 1.7-4.7 0-6.5z"})),EB=({size:t=18})=>y.createElement("svg",{width:t,height:t,fill:"gold",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.77 5.82 22 7 14.14l-5-4.87 6-.91L12 2z"})),CA=({product:t,onToggleFavorite:e})=>{if(!t)return null;const{id:n,title:r,price:s,location:o,promoted:l,isFavorite:u=!1}=t,c=vB(t),h=r||"Untitled product",m=s!=null?yB(s):"Price not set";return y.createElement(Ii.article,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.01},className:"bg-white rounded-xl shadow-sm hover:shadow-md transition overflow-hidden"},y.createElement("div",{className:"relative"},l&&y.createElement("span",{className:"absolute top-2 left-2 z-10 flex items-center gap-1 text-xs bg-yellow-300 px-2 py-1 rounded-full font-medium shadow-sm"},y.createElement(EB,{size:12}),"Promoted"),y.createElement("button",{type:"button",onClick:g=>{g.preventDefault(),g.stopPropagation(),e(n)},"aria-label":"Toggle wishlist",className:"absolute top-2 right-2 z-10 p-2 bg-white/90 rounded-full shadow hover:bg-white transition"},y.createElement(wB,{filled:u,size:18})),y.createElement(Ve,{to:`/product/${n}`},y.createElement("div",{className:"w-full aspect-[4/3] bg-gray-100"},y.createElement("img",{src:c,alt:h,loading:"lazy",className:"w-full h-full object-cover"})))),y.createElement(Ve,{to:`/product/${n}`,className:"block p-3"},y.createElement("div",{className:"text-base font-bold text-green-600"},m),y.createElement("div",{className:"text-xs text-gray-500 mt-0.5"},o),y.createElement("h3",{className:"mt-1 text-sm font-semibold line-clamp-2"},h)))},c1=({id:t,locations:e=[],categories:n=[],valueLocation:r="",onChangeLocation:s=()=>{},valueCategory:o="",onChangeCategory:l=()=>{},onClear:u=()=>{}})=>y.createElement("div",{id:t,className:"bg-white rounded-lg p-3 shadow-sm"},y.createElement("div",{className:"mb-4 flex items-center justify-between"},y.createElement("h4",{className:"font-semibold"},"Filters"),y.createElement("button",{className:"text-sm text-blue-600",onClick:u},"Clear")),y.createElement("div",{className:"mb-4"},y.createElement("label",{className:"text-sm font-medium block mb-2"},"Location"),y.createElement("select",{value:r,onChange:c=>s(c.target.value),className:"w-full border rounded-md px-3 py-2 text-sm","aria-label":"Filter by location"},y.createElement("option",{value:""},"All locations"),e.map(c=>y.createElement("option",{key:c,value:c},c)))),y.createElement("div",{className:"mb-4"},y.createElement("label",{className:"text-sm font-medium block mb-2"},"Category"),y.createElement("select",{value:o,onChange:c=>l(c.target.value),className:"w-full border rounded-md px-3 py-2 text-sm","aria-label":"Filter by category"},y.createElement("option",{value:""},"All categories"),n.map(c=>y.createElement("option",{key:c,value:c},c)))),y.createElement("div",{className:"mt-3 text-xs text-gray-500"},"Tip: Use filters to narrow results faster."));function _B(t,e=250){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t(...r),e)}}const TB=()=>y.createElement("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0},y.createElement("path",{d:"M3 5h18M7 12h10M10 19h4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})),AA=async t=>{if(!Ge.currentUser)return alert("Please login first"),!1;const e=Je(xe,"users",Ge.currentUser.uid,"favorites",t);return(await is(e)).exists()?(await zo(e),!1):(await nf(e,{productId:t,createdAt:Tr()}),!0)},og=24,SB=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!1),[s,o]=k.useState(null),[l,u]=k.useState(!0),[c,h]=k.useState(""),[m,g]=k.useState(""),[w,E]=k.useState(""),[b,A]=k.useState("newest"),[P,C]=k.useState(!1),[R,N]=oN(),z=k.useRef(null),q=k.useCallback(async(M=null)=>{r(!0);try{const K=pt(xe,"products");let G=zs(K,ns("approved","==",!0),fu("createdAt","desc"),e1(og));M&&(G=zs(K,ns("approved","==",!0),fu("createdAt","desc"),s5(M),e1(og)));const ne=await Xt(G),X=ne.docs.map(j=>({id:j.id,...j.data()}));e(j=>M?[...j,...X]:X),o(ne.docs.at(-1)||null),u(ne.docs.length===og)}catch(K){console.error("Browse fetch error:",K)}finally{r(!1)}},[]);k.useEffect(()=>{h(R.get("q")||""),g(R.get("loc")||""),E(R.get("cat")||""),A(R.get("sort")||"newest"),q(null)},[]),k.useEffect(()=>{const M={};c&&(M.q=c),m&&(M.loc=m),w&&(M.cat=w),b!=="newest"&&(M.sort=b),N(M,{replace:!0});const K=setTimeout(()=>q(null),250);return()=>clearTimeout(K)},[c,m,w,b]);const re=k.useMemo(()=>_B(M=>{h(M)},300),[]),F=k.useMemo(()=>{const M=t.filter(K=>{const G=c.toLowerCase();return(!G||K.title?.toLowerCase().includes(G))&&(!m||K.location===m)&&(!w||K.category===w)});return M.sort((K,G)=>K.promoted&&!G.promoted?-1:!K.promoted&&G.promoted?1:b==="priceLowHigh"?(K.price||0)-(G.price||0):b==="priceHighLow"?(G.price||0)-(K.price||0):(G.createdAt?.seconds||0)-(K.createdAt?.seconds||0)),M},[t,c,m,w,b]);k.useEffect(()=>{if(!z.current)return;const M=new IntersectionObserver(([K])=>{K.isIntersecting&&l&&!n&&q(s)},{rootMargin:"400px"});return M.observe(z.current),()=>M.disconnect()},[l,n,s,q]);const x=async M=>{try{const K=await AA(M);e(G=>G.map(ne=>ne.id===M?{...ne,isFavorite:K}:ne))}catch(K){console.error("Failed to toggle favorite:",K)}},L=k.useMemo(()=>[...new Set(t.map(M=>M.location).filter(Boolean))],[t]),O=k.useMemo(()=>[...new Set(t.map(M=>M.category).filter(Boolean))],[t]),V=!n&&t.length===0,B=!n&&t.length>0&&F.length===0;return y.createElement("main",{className:"min-h-screen bg-gray-50 pb-24"},y.createElement("div",{className:"max-w-7xl mx-auto px-4 pt-6"},y.createElement("div",{className:"flex items-center gap-3 mb-6"},y.createElement("input",{placeholder:"Search products in Amravati...",defaultValue:c,onChange:M=>re(M.target.value),className:"flex-1 border rounded-xl px-4 py-3 text-sm bg-white shadow-sm"}),y.createElement("button",{onClick:()=>C(!0),className:"sm:hidden flex items-center gap-2 border px-4 py-3 rounded-xl bg-white shadow-sm"},y.createElement(TB,null)," Filters")),V&&y.createElement("div",{className:"bg-white rounded-2xl p-10 text-center shadow-sm"},y.createElement("h2",{className:"text-xl font-semibold mb-2"},"No products yet in Amravati"),y.createElement("p",{className:"text-gray-600 text-sm mb-4"},"Be the first one to list a product and help start the local market."),y.createElement(Ve,{to:"/add-product",className:"inline-block bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700"},"Add First Product")),y.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6"},y.createElement("aside",{className:"hidden lg:block"},y.createElement(c1,{locations:L,categories:O,valueLocation:m,valueCategory:w,onChangeLocation:g,onChangeCategory:E,onClear:()=>{g(""),E(""),h(""),A("newest")}})),y.createElement("section",{className:"lg:col-span-3"},B&&y.createElement("div",{className:"bg-white rounded-xl p-6 text-center mb-6"},y.createElement("h3",{className:"font-semibold"},"No matching products"),y.createElement("p",{className:"text-sm text-gray-500"},"Try changing search keywords or clearing filters.")),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},F.map(M=>y.createElement(CA,{key:M.id,product:M,onToggleFavorite:()=>x(M.id)})),n&&Array.from({length:6}).map((M,K)=>y.createElement("div",{key:K,className:"h-64 bg-gray-200 rounded-xl animate-pulse"}))),y.createElement("div",{ref:z,className:"h-1 w-full"})))),P&&y.createElement("div",{className:"fixed inset-0 z-40"},y.createElement("div",{className:"absolute inset-0 bg-black/40",onClick:()=>C(!1)}),y.createElement("div",{className:"absolute right-0 top-0 bottom-0 w-full max-w-sm bg-white p-4 overflow-auto"},y.createElement(c1,{locations:L,categories:O,valueLocation:m,valueCategory:w,onChangeLocation:g,onChangeCategory:E,onClear:()=>C(!1)}))))};function bB(){const{id:t}=By(),e=zn(),[n,r]=k.useState(!0),[s,o]=k.useState({title:"",description:"",price:"",location:"",category:"",imageUrl:""}),[l,u]=k.useState(null);k.useEffect(()=>{(async()=>{try{const w=Je(xe,"products",t),E=await is(w);if(E.exists()){const b=E.data();o({title:b.title||"",description:b.description||"",price:b.price||"",location:b.location||"",category:b.category||"",imageUrl:b.imageUrl||""})}else alert("Product not found!"),e("/dashboard")}catch(w){console.error("Error fetching product:",w),alert("Failed to load product"),e("/dashboard")}finally{r(!1)}})()},[t,e]);const c=g=>{const{name:w,value:E}=g.target;o(b=>({...b,[w]:E}))},h=g=>{g.target.files[0]&&u(g.target.files[0])},m=async g=>{g.preventDefault();try{const w=Je(xe,"products",t);let E=s.imageUrl;if(l){if(s.imageUrl){const A=rf(sf,s.imageUrl);await yA(A).catch(()=>console.warn("Old image not found"))}const b=rf(sf,`productImages/${Date.now()}-${l.name}`);await mA(b,l),E=await gA(b)}await jn(w,{title:s.title,description:s.description,price:Number(s.price),location:s.location,category:s.category,imageUrl:E,updatedAt:Tr()}),alert(" Product updated successfully"),e("/dashboard")}catch(w){console.error("Update error:",w),alert(" Failed to update product")}};return y.createElement("div",{className:"container my-4"},y.createElement("h2",{className:"text-xl font-semibold mb-4"}," Edit Product"),n?y.createElement("p",null,"Loading product..."):y.createElement("form",{onSubmit:m,className:"space-y-3"},y.createElement("input",{type:"text",name:"title",value:s.title,onChange:c,placeholder:"Product Title",className:"form-control",required:!0}),y.createElement("textarea",{name:"description",value:s.description,onChange:c,placeholder:"Description",className:"form-control",required:!0}),y.createElement("input",{type:"number",name:"price",value:s.price,onChange:c,placeholder:"Price ",className:"form-control",required:!0}),y.createElement("input",{type:"text",name:"location",value:s.location,onChange:c,placeholder:"Location",className:"form-control",required:!0}),y.createElement("select",{name:"category",value:s.category,onChange:c,className:"form-control",required:!0},y.createElement("option",{value:""},"Select Category"),y.createElement("option",null,"Books & Notes"),y.createElement("option",null,"Handmade Items"),y.createElement("option",null,"Homemade Food"),y.createElement("option",null,"Second-hand Items"),y.createElement("option",null,"New Items"),y.createElement("option",null,"From shop")),y.createElement("label",null,"Change Image (optional):"),y.createElement("input",{type:"file",onChange:h,className:"form-control"}),y.createElement("button",{type:"submit",className:"btn btn-warning"},"Update Product")))}const xB=()=>{const[t]=N0(Ge),[e,n]=k.useState([]),[r,s]=k.useState(!0),o=zn();k.useEffect(()=>{if(!t){o("/login");return}(async()=>{try{const c=await Xt(pt(xe,"users",t.uid,"favorites"));if(c.empty){n([]);return}const h=c.docs.map(async g=>{const w=g.id,b=(await Xt(pt(xe,"products"))).docs.map(A=>({id:A.id,...A.data()})).find(A=>A.id===w);return b?{...b,isFavorite:!0}:null}),m=(await Promise.all(h)).filter(Boolean);n(m)}catch(c){console.error("Wishlist error:",c)}finally{s(!1)}})()},[t,o]);const l=async u=>{await AA(u),n(c=>c.filter(h=>h.id!==u))};return r?y.createElement("div",{className:"min-h-screen flex items-center justify-center text-gray-500"},"Loading wishlist"):y.createElement("main",{className:"min-h-screen bg-gray-50 pb-24"},y.createElement("div",{className:"max-w-7xl mx-auto px-4 pt-6"},y.createElement("div",{className:"mb-6"},y.createElement("h1",{className:"text-2xl sm:text-3xl font-bold"}," My Wishlist"),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Products you saved for later")),e.length===0?y.createElement("div",{className:"flex flex-col items-center justify-center mt-24 text-center"},y.createElement("div",{className:"bg-white p-6 rounded-full shadow-sm mb-4"},y.createElement("span",{className:"text-4xl"},"")),y.createElement("h3",{className:"text-lg font-semibold"},"Your wishlist is empty"),y.createElement("p",{className:"text-gray-500 text-sm mt-1 max-w-xs"},"Save products you like and find them here anytime."),y.createElement(Ve,{to:"/browse",className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-xl text-sm font-semibold transition"},"Browse Products")):y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},e.map(u=>y.createElement(CA,{key:u.id,product:u,onToggleFavorite:l})))))};var PA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u1=y.createContext&&y.createContext(PA),IB=["attr","size","title"];function CB(t,e){if(t==null)return{};var n=AB(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}function d1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d1(Object(n),!0).forEach(function(r){PB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PB(t,e,n){return e=RB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RB(t){var e=kB(t,"string");return typeof e=="symbol"?e:e+""}function kB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RA(t){return t&&t.map((e,n)=>y.createElement(e.tag,lf({key:n},e.attr),RA(e.child)))}function D0(t){return e=>y.createElement(NB,af({attr:lf({},t.attr)},e),RA(t.child))}function NB(t){var e=n=>{var{attr:r,size:s,title:o}=t,l=CB(t,IB),u=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),y.createElement("svg",af({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:c,style:lf(lf({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&y.createElement("title",null,o),t.children)};return u1!==void 0?y.createElement(u1.Consumer,null,n=>e(n)):e(PA)}function DB(t){return D0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function MB(t){return D0({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function LB(t){return D0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(t)}const OB=async(t,e)=>{if(!t)return;const n=pt(xe,"users",t,"notifications");await Wf(n,{title:e.title||"Notification",message:e.message||"",type:e.type||"system",link:e.link||null,isRead:!1,createdAt:Tr()})},VB=(t,e)=>{if(!t)return()=>{};const n=pt(xe,"users",t,"notifications"),r=zs(n,ns("isRead","==",!1),fu("createdAt","desc"));return b0(r,s=>{const o=s.docs.map(l=>({id:l.id,...l.data()}));e(o)})},FB=async(t,e)=>{if(!t||!e)return;const n=Je(xe,"users",t,"notifications",e);await jn(n,{isRead:!0})},UB=async({productId:t,productTitle:e,productImage:n,buyer:r,seller:s})=>{const o=pt(xe,"conversations"),l=zs(o,ns("productId","==",t),ns("buyerId","==",r.uid),ns("sellerId","==",s.uid)),u=await Xt(l);return u.empty?(await Wf(o,{productId:t,productTitle:e,productImage:n,buyerId:r.uid,buyerName:r.name||"Buyer",sellerId:s.uid,sellerName:s.name||"Seller",participants:[r.uid,s.uid],lastMessage:"",lastMessageAt:Tr(),buyerUnread:0,sellerUnread:0,createdAt:Tr(),isBlocked:!1})).id:u.docs[0].id},BB=async(t,e,n)=>{if(!n||!n.trim())return;const r=Je(xe,"conversations",t),s=pt(xe,"conversations",t,"messages"),o=await is(r);if(!o.exists())return;const l=o.data();if(l.isBlocked)throw new Error("Conversation is blocked");await Wf(s,{senderId:e,text:n,createdAt:Tr(),type:"text",isDeleted:!1});const u=e===l.buyerId;await jn(r,{lastMessage:n,lastMessageAt:Tr(),buyerUnread:u?0:QS(1),sellerUnread:u?QS(1):0});const c=u?l.sellerId:l.buyerId;await OB(c,{title:"New message",message:n.length>60?n.slice(0,60)+"":n,type:"chat",link:`/messages/${t}`})},jB=(t,e)=>{const n=pt(xe,"conversations",t,"messages"),r=zs(n,fu("createdAt","asc"));return b0(r,s=>{const o=s.docs.map(l=>({id:l.id,...l.data()}));e(o)})},kA=(t,e)=>{const n=pt(xe,"conversations"),r=zs(n,ns("participants","array-contains",t),fu("lastMessageAt","desc"));return b0(r,s=>{const o=s.docs.map(l=>({id:l.id,...l.data()}));e(o)})};function h1(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function M0(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:h1(e[r])&&h1(t[r])&&Object.keys(e[r]).length>0&&M0(t[r],e[r])})}const NA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ki(){const t=typeof document<"u"?document:{};return M0(t,NA),t}const zB={document:NA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function gn(){const t=typeof window<"u"?window:{};return M0(t,zB),t}function $B(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function HB(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function DA(t,e=0){return setTimeout(t,e)}function cf(){return Date.now()}function WB(t){const e=gn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function qB(t,e="x"){const n=gn();let r,s,o;const l=WB(t);return n.WebKitCSSMatrix?(s=l.transform||l.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(u=>u.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(s==="none"?"":s)):(o=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=o.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=o.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Mc(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function GB(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Fn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!GB(s)){const o=Object.keys(Object(s)).filter(l=>n.indexOf(l)<0);for(let l=0,u=o.length;l<u;l+=1){const c=o[l],h=Object.getOwnPropertyDescriptor(s,c);h!==void 0&&h.enumerable&&(Mc(e[c])&&Mc(s[c])?s[c].__swiper__?e[c]=s[c]:Fn(e[c],s[c]):!Mc(e[c])&&Mc(s[c])?(e[c]={},s[c].__swiper__?e[c]=s[c]:Fn(e[c],s[c])):e[c]=s[c])}}}return e}function fh(t,e,n){t.style.setProperty(e,n)}function MA({swiper:t,targetPosition:e,side:n}){const r=gn(),s=-t.translate;let o=null,l;const u=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=e>s?"next":"prev",h=(g,w)=>c==="next"&&g>=w||c==="prev"&&g<=w,m=()=>{l=new Date().getTime(),o===null&&(o=l);const g=Math.max(Math.min((l-o)/u,1),0),w=.5-Math.cos(g*Math.PI)/2;let E=s+w*(e-s);if(h(E,e)&&(E=e),t.wrapperEl.scrollTo({[n]:E}),h(E,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:E})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(m)};m()}function yr(t,e=""){const n=gn(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(s=>s.matches(e)):r}function KB(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function YB(t,e){const n=gn();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=KB(t,e))),r}function uf(t){try{console.warn(t);return}catch{}}function df(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:$B(e)),n}function QB(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function XB(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Ai(t,e){return gn().getComputedStyle(t,null).getPropertyValue(e)}function hf(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function LA(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Ay(t,e,n){const r=gn();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function $t(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function pu(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let ag;function JB(){const t=gn(),e=Ki();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function OA(){return ag||(ag=JB()),ag}let lg;function ZB({userAgent:t}={}){const e=OA(),n=gn(),r=n.navigator.platform,s=t||n.navigator.userAgent,o={ios:!1,android:!1},l=n.screen.width,u=n.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let h=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const m=s.match(/(iPod)(.*OS\s([\d_]+))?/),g=!h&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),w=r==="Win32";let E=r==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&E&&e.touch&&b.indexOf(`${l}x${u}`)>=0&&(h=s.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),E=!1),c&&!w&&(o.os="android",o.android=!0),(h||g||m)&&(o.os="ios",o.ios=!0),o}function VA(t={}){return lg||(lg=ZB(t)),lg}let cg;function ej(){const t=gn(),e=VA();let n=!1;function r(){const u=t.navigator.userAgent.toLowerCase();return u.indexOf("safari")>=0&&u.indexOf("chrome")<0&&u.indexOf("android")<0}if(r()){const u=String(t.navigator.userAgent);if(u.includes("Version/")){const[c,h]=u.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));n=c<16||c===16&&h<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),o=r(),l=o||s&&e.ios;return{isSafari:n||o,needPerspectiveFix:n,need3dFix:l,isWebView:s}}function FA(){return cg||(cg=ej()),cg}function tj({swiper:t,on:e,emit:n}){const r=gn();let s=null,o=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},u=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(m=>{o=r.requestAnimationFrame(()=>{const{width:g,height:w}=t;let E=g,b=w;m.forEach(({contentBoxSize:A,contentRect:P,target:C})=>{C&&C!==t.el||(E=P?P.width:(A[0]||A).inlineSize,b=P?P.height:(A[0]||A).blockSize)}),(E!==g||b!==w)&&l()})}),s.observe(t.el))},c=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},h=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){u();return}r.addEventListener("resize",l),r.addEventListener("orientationchange",h)}),e("destroy",()=>{c(),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",h)})}function nj({swiper:t,extendParams:e,on:n,emit:r}){const s=[],o=gn(),l=(h,m={})=>{const g=o.MutationObserver||o.WebkitMutationObserver,w=new g(E=>{if(t.__preventObserver__)return;if(E.length===1){r("observerUpdate",E[0]);return}const b=function(){r("observerUpdate",E[0])};o.requestAnimationFrame?o.requestAnimationFrame(b):o.setTimeout(b,0)});w.observe(h,{attributes:typeof m.attributes>"u"?!0:m.attributes,childList:t.isElement||(typeof m.childList>"u"?!0:m).childList,characterData:typeof m.characterData>"u"?!0:m.characterData}),s.push(w)},u=()=>{if(t.params.observer){if(t.params.observeParents){const h=LA(t.hostEl);for(let m=0;m<h.length;m+=1)l(h[m])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(h=>{h.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",u),n("destroy",c)}var rj={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...o){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,o)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(o,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(u=>{u.apply(s,[l,...r])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(u=>{u.apply(s,r)})}),e}};function sj(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ai(r,"padding-left")||0,10)-parseInt(Ai(r,"padding-right")||0,10),n=n-parseInt(Ai(r,"padding-top")||0,10)-parseInt(Ai(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function ij(){const t=this;function e(O,V){return parseFloat(O.getPropertyValue(t.getDirectionLabel(V))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,rtlTranslate:o,wrongRTL:l}=t,u=t.virtual&&n.virtual.enabled,c=u?t.virtual.slides.length:t.slides.length,h=yr(s,`.${t.params.slideClass}, swiper-slide`),m=u?t.virtual.slides.length:h.length;let g=[];const w=[],E=[];let b=n.slidesOffsetBefore;typeof b=="function"&&(b=n.slidesOffsetBefore.call(t));let A=n.slidesOffsetAfter;typeof A=="function"&&(A=n.slidesOffsetAfter.call(t));const P=t.snapGrid.length,C=t.slidesGrid.length,R=t.size-b-A;let N=n.spaceBetween,z=-b,q=0,re=0;if(typeof R>"u")return;typeof N=="string"&&N.indexOf("%")>=0?N=parseFloat(N.replace("%",""))/100*R:typeof N=="string"&&(N=parseFloat(N)),t.virtualSize=-N-b-A,h.forEach(O=>{o?O.style.marginLeft="":O.style.marginRight="",O.style.marginBottom="",O.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(fh(r,"--swiper-centered-offset-before",""),fh(r,"--swiper-centered-offset-after",""));const F=n.grid&&n.grid.rows>1&&t.grid;F?t.grid.initSlides(h):t.grid&&t.grid.unsetSlides();let x;const L=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(O=>typeof n.breakpoints[O].slidesPerView<"u").length>0;for(let O=0;O<m;O+=1){x=0;const V=h[O];if(!(V&&(F&&t.grid.updateSlide(O,V,h),Ai(V,"display")==="none"))){if(u&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(x=n.virtual.slidesPerViewAutoSlideSize),x&&V&&(n.roundLengths&&(x=Math.floor(x)),V.style[t.getDirectionLabel("width")]=`${x}px`);else if(n.slidesPerView==="auto"){L&&(V.style[t.getDirectionLabel("width")]="");const B=getComputedStyle(V),M=V.style.transform,K=V.style.webkitTransform;if(M&&(V.style.transform="none"),K&&(V.style.webkitTransform="none"),n.roundLengths)x=t.isHorizontal()?Ay(V,"width"):Ay(V,"height");else{const G=e(B,"width"),ne=e(B,"padding-left"),X=e(B,"padding-right"),j=e(B,"margin-left"),Z=e(B,"margin-right"),oe=B.getPropertyValue("box-sizing");if(oe&&oe==="border-box")x=G+j+Z;else{const{clientWidth:H,offsetWidth:se}=V;x=G+ne+X+j+Z+(se-H)}}M&&(V.style.transform=M),K&&(V.style.webkitTransform=K),n.roundLengths&&(x=Math.floor(x))}else x=(R-(n.slidesPerView-1)*N)/n.slidesPerView,n.roundLengths&&(x=Math.floor(x)),V&&(V.style[t.getDirectionLabel("width")]=`${x}px`);V&&(V.swiperSlideSize=x),E.push(x),n.centeredSlides?(z=z+x/2+q/2+N,q===0&&O!==0&&(z=z-R/2-N),O===0&&(z=z-R/2-N),Math.abs(z)<1/1e3&&(z=0),n.roundLengths&&(z=Math.floor(z)),re%n.slidesPerGroup===0&&g.push(z),w.push(z)):(n.roundLengths&&(z=Math.floor(z)),(re-Math.min(t.params.slidesPerGroupSkip,re))%t.params.slidesPerGroup===0&&g.push(z),w.push(z),z=z+x+N),t.virtualSize+=x+N,q=x,re+=1}}if(t.virtualSize=Math.max(t.virtualSize,R)+A,o&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+N}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+N}px`),F&&t.grid.updateWrapperSize(x,g),!n.centeredSlides){const O=[];for(let V=0;V<g.length;V+=1){let B=g[V];n.roundLengths&&(B=Math.floor(B)),g[V]<=t.virtualSize-R&&O.push(B)}g=O,Math.floor(t.virtualSize-R)-Math.floor(g[g.length-1])>1&&g.push(t.virtualSize-R)}if(u&&n.loop){const O=E[0]+N;if(n.slidesPerGroup>1){const V=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),B=O*n.slidesPerGroup;for(let M=0;M<V;M+=1)g.push(g[g.length-1]+B)}for(let V=0;V<t.virtual.slidesBefore+t.virtual.slidesAfter;V+=1)n.slidesPerGroup===1&&g.push(g[g.length-1]+O),w.push(w[w.length-1]+O),t.virtualSize+=O}if(g.length===0&&(g=[0]),N!==0){const O=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");h.filter((V,B)=>!n.cssMode||n.loop?!0:B!==h.length-1).forEach(V=>{V.style[O]=`${N}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let O=0;E.forEach(B=>{O+=B+(N||0)}),O-=N;const V=O>R?O-R:0;g=g.map(B=>B<=0?-b:B>V?V+A:B)}if(n.centerInsufficientSlides){let O=0;E.forEach(B=>{O+=B+(N||0)}),O-=N;const V=(b||0)+(A||0);if(O+V<R){const B=(R-O-V)/2;g.forEach((M,K)=>{g[K]=M-B}),w.forEach((M,K)=>{w[K]=M+B})}}if(Object.assign(t,{slides:h,snapGrid:g,slidesGrid:w,slidesSizesGrid:E}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){fh(r,"--swiper-centered-offset-before",`${-g[0]}px`),fh(r,"--swiper-centered-offset-after",`${t.size/2-E[E.length-1]/2}px`);const O=-t.snapGrid[0],V=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(B=>B+O),t.slidesGrid=t.slidesGrid.map(B=>B+V)}if(m!==c&&t.emit("slidesLengthChange"),g.length!==P&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),w.length!==C&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const O=`${n.containerModifierClass}backface-hidden`,V=t.el.classList.contains(O);m<=n.maxBackfaceHiddenSlides?V||t.el.classList.add(O):V&&t.el.classList.remove(O)}}function oj(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=u=>r?e.slides[e.getSlideIndexByData(u)]:e.slides[u];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(u=>{n.push(u)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const u=e.activeIndex+o;if(u>e.slides.length&&!r)break;n.push(l(u))}else n.push(l(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const u=n[o].offsetHeight;s=u>s?u:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function aj(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const f1=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function lj(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;s&&(l=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let u=n.spaceBetween;typeof u=="string"&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*e.size:typeof u=="string"&&(u=parseFloat(u));for(let c=0;c<r.length;c+=1){const h=r[c];let m=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(m-=r[0].swiperSlideOffset);const g=(l+(n.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+u),w=(l-o[0]+(n.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+u),E=-(l-m),b=E+e.slidesSizesGrid[c],A=E>=0&&E<=e.size-e.slidesSizesGrid[c],P=E>=0&&E<e.size-1||b>1&&b<=e.size||E<=0&&b>=e.size;P&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(c)),f1(h,P,n.slideVisibleClass),f1(h,A,n.slideFullyVisibleClass),h.progress=s?-g:g,h.originalProgress=s?-w:w}}function cj(t){const e=this;if(typeof t>"u"){const m=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*m||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:l,progressLoop:u}=e;const c=o,h=l;if(r===0)s=0,o=!0,l=!0;else{s=(t-e.minTranslate())/r;const m=Math.abs(t-e.minTranslate())<1,g=Math.abs(t-e.maxTranslate())<1;o=m||s<=0,l=g||s>=1,m&&(s=0),g&&(s=1)}if(n.loop){const m=e.getSlideIndexByData(0),g=e.getSlideIndexByData(e.slides.length-1),w=e.slidesGrid[m],E=e.slidesGrid[g],b=e.slidesGrid[e.slidesGrid.length-1],A=Math.abs(t);A>=w?u=(A-w)/b:u=(A+b-E)/b,u>1&&(u-=1)}Object.assign(e,{progress:s,progressLoop:u,isBeginning:o,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!c&&e.emit("reachBeginning toEdge"),l&&!h&&e.emit("reachEnd toEdge"),(c&&!o||h&&!l)&&e.emit("fromEdge"),e.emit("progress",s)}const ug=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function uj(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,o=t.virtual&&n.virtual.enabled,l=t.grid&&n.grid&&n.grid.rows>1,u=g=>yr(r,`.${n.slideClass}${g}, swiper-slide${g}`)[0];let c,h,m;if(o)if(n.loop){let g=s-t.virtual.slidesBefore;g<0&&(g=t.virtual.slides.length+g),g>=t.virtual.slides.length&&(g-=t.virtual.slides.length),c=u(`[data-swiper-slide-index="${g}"]`)}else c=u(`[data-swiper-slide-index="${s}"]`);else l?(c=e.find(g=>g.column===s),m=e.find(g=>g.column===s+1),h=e.find(g=>g.column===s-1)):c=e[s];c&&(l||(m=XB(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!m&&(m=e[0]),h=QB(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(g=>{ug(g,g===c,n.slideActiveClass),ug(g,g===m,n.slideNextClass),ug(g,g===h,n.slidePrevClass)}),t.emitSlidesClasses()}const kh=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},dg=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Py=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const l=s,u=[l-e];u.push(...Array.from({length:e}).map((c,h)=>l+r+h)),t.slides.forEach((c,h)=>{u.includes(c.column)&&dg(t,h)});return}const o=s+r-1;if(t.params.rewind||t.params.loop)for(let l=s-e;l<=o+e;l+=1){const u=(l%n+n)%n;(u<s||u>o)&&dg(t,u)}else for(let l=Math.max(s-e,0);l<=Math.min(o+e,n-1);l+=1)l!==s&&(l>o||l<s)&&dg(t,l)};function dj(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?s=o:r>=e[o]&&r<e[o+1]&&(s=o+1):r>=e[o]&&(s=o);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function hj(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:o,realIndex:l,snapIndex:u}=e;let c=t,h;const m=E=>{let b=E-e.virtual.slidesBefore;return b<0&&(b=e.virtual.slides.length+b),b>=e.virtual.slides.length&&(b-=e.virtual.slides.length),b};if(typeof c>"u"&&(c=dj(e)),r.indexOf(n)>=0)h=r.indexOf(n);else{const E=Math.min(s.slidesPerGroupSkip,c);h=E+Math.floor((c-E)/s.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),c===o&&!e.params.loop){h!==u&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(c===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=m(c);return}const g=e.grid&&s.grid&&s.grid.rows>1;let w;if(e.virtual&&s.virtual.enabled&&s.loop)w=m(c);else if(g){const E=e.slides.find(A=>A.column===c);let b=parseInt(E.getAttribute("data-swiper-slide-index"),10);Number.isNaN(b)&&(b=Math.max(e.slides.indexOf(E),0)),w=Math.floor(b/s.grid.rows)}else if(e.slides[c]){const E=e.slides[c].getAttribute("data-swiper-slide-index");E?w=parseInt(E,10):w=c}else w=c;Object.assign(e,{previousSnapIndex:u,snapIndex:h,previousRealIndex:l,realIndex:w,previousIndex:o,activeIndex:c}),e.initialized&&Py(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==w&&e.emit("realIndexChange"),e.emit("slideChange"))}function fj(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(u=>{!s&&u.matches&&u.matches(`.${r.slideClass}, swiper-slide`)&&(s=u)});let o=!1,l;if(s){for(let u=0;u<n.slides.length;u+=1)if(n.slides[u]===s){o=!0,l=u;break}}if(s&&o)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var pj={updateSize:sj,updateSlides:ij,updateAutoHeight:oj,updateSlidesOffset:aj,updateSlidesProgress:lj,updateProgress:cj,updateSlidesClasses:uj,updateActiveIndex:hj,updateClickedSlide:fj};function mj(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:o}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let l=qB(o,t);return l+=e.cssOverflowAdjustment(),r&&(l=-l),l||0}function gj(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:o,progress:l}=n;let u=0,c=0;const h=0;n.isHorizontal()?u=r?-t:t:c=t,s.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c,s.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:s.virtualTranslate||(n.isHorizontal()?u-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${u}px, ${c}px, ${h}px)`);let m;const g=n.maxTranslate()-n.minTranslate();g===0?m=0:m=(t-n.minTranslate())/g,m!==l&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function yj(){return-this.snapGrid[0]}function vj(){return-this.snapGrid[this.snapGrid.length-1]}function wj(t=0,e=this.params.speed,n=!0,r=!0,s){const o=this,{params:l,wrapperEl:u}=o;if(o.animating&&l.preventInteractionOnTransition)return!1;const c=o.minTranslate(),h=o.maxTranslate();let m;if(r&&t>c?m=c:r&&t<h?m=h:m=t,o.updateProgress(m),l.cssMode){const g=o.isHorizontal();if(e===0)u[g?"scrollLeft":"scrollTop"]=-m;else{if(!o.support.smoothScroll)return MA({swiper:o,targetPosition:-m,side:g?"left":"top"}),!0;u.scrollTo({[g?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(m),n&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(m),n&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(w){!o||o.destroyed||w.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var Ej={getTranslate:mj,setTranslate:gj,minTranslate:yj,maxTranslate:vj,translateTo:wj};function _j(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function UA({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:o}=t;let l=n;l||(s>o?l="next":s<o?l="prev":l="reset"),t.emit(`transition${r}`),e&&l==="reset"?t.emit(`slideResetTransition${r}`):e&&s!==o&&(t.emit(`slideChangeTransition${r}`),l==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function Tj(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),UA({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Sj(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),UA({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var bj={setTransition:_j,transitionStart:Tj,transitionEnd:Sj};function xj(t=0,e,n=!0,r,s){typeof t=="string"&&(t=parseInt(t,10));const o=this;let l=t;l<0&&(l=0);const{params:u,snapGrid:c,slidesGrid:h,previousIndex:m,activeIndex:g,rtlTranslate:w,wrapperEl:E,enabled:b}=o;if(!b&&!r&&!s||o.destroyed||o.animating&&u.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const A=Math.min(o.params.slidesPerGroupSkip,l);let P=A+Math.floor((l-A)/o.params.slidesPerGroup);P>=c.length&&(P=c.length-1);const C=-c[P];if(u.normalizeSlideIndex)for(let F=0;F<h.length;F+=1){const x=-Math.floor(C*100),L=Math.floor(h[F]*100),O=Math.floor(h[F+1]*100);typeof h[F+1]<"u"?x>=L&&x<O-(O-L)/2?l=F:x>=L&&x<O&&(l=F+1):x>=L&&(l=F)}if(o.initialized&&l!==g&&(!o.allowSlideNext&&(w?C>o.translate&&C>o.minTranslate():C<o.translate&&C<o.minTranslate())||!o.allowSlidePrev&&C>o.translate&&C>o.maxTranslate()&&(g||0)!==l))return!1;l!==(m||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(C);let R;l>g?R="next":l<g?R="prev":R="reset";const N=o.virtual&&o.params.virtual.enabled;if(!(N&&s)&&(w&&-C===o.translate||!w&&C===o.translate))return o.updateActiveIndex(l),u.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),u.effect!=="slide"&&o.setTranslate(C),R!=="reset"&&(o.transitionStart(n,R),o.transitionEnd(n,R)),!1;if(u.cssMode){const F=o.isHorizontal(),x=w?C:-C;if(e===0)N&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),N&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{E[F?"scrollLeft":"scrollTop"]=x})):E[F?"scrollLeft":"scrollTop"]=x,N&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return MA({swiper:o,targetPosition:x,side:F?"left":"top"}),!0;E.scrollTo({[F?"left":"top"]:x,behavior:"smooth"})}return!0}const re=FA().isSafari;return N&&!s&&re&&o.isElement&&o.virtual.update(!1,!1,l),o.setTransition(e),o.setTranslate(C),o.updateActiveIndex(l),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,R),e===0?o.transitionEnd(n,R):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(x){!o||o.destroyed||x.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,R))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function Ij(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let l=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)l=l+s.virtual.slidesBefore;else{let u;if(o){const A=l*s.params.grid.rows;u=s.slides.find(P=>P.getAttribute("data-swiper-slide-index")*1===A).column}else u=s.getSlideIndexByData(l);const c=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:h,slidesOffsetBefore:m,slidesOffsetAfter:g}=s.params,w=h||!!m||!!g;let E=s.params.slidesPerView;E==="auto"?E=s.slidesPerViewDynamic():(E=Math.ceil(parseFloat(s.params.slidesPerView,10)),w&&E%2===0&&(E=E+1));let b=c-u<E;if(w&&(b=b||u<Math.ceil(E/2)),r&&w&&s.params.slidesPerView!=="auto"&&!o&&(b=!1),b){const A=w?u<s.activeIndex?"prev":"next":u-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:A,slideTo:!0,activeSlideIndex:A==="next"?u+1:u-c+1,slideRealIndex:A==="next"?s.realIndex:void 0})}if(o){const A=l*s.params.grid.rows;l=s.slides.find(P=>P.getAttribute("data-swiper-slide-index")*1===A).column}else l=s.getSlideIndexByData(l)}return requestAnimationFrame(()=>{s.slideTo(l,e,n,r)}),s}function Cj(t,e=!0,n){const r=this,{enabled:s,params:o,animating:l}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let u=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(u=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<o.slidesPerGroupSkip?1:u,h=r.virtual&&o.virtual.enabled;if(o.loop){if(l&&!h&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function Aj(t,e=!0,n){const r=this,{params:s,snapGrid:o,slidesGrid:l,rtlTranslate:u,enabled:c,animating:h}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const m=r.virtual&&s.virtual.enabled;if(s.loop){if(h&&!m&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const g=u?r.translate:-r.translate;function w(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const E=w(g),b=o.map(R=>w(R)),A=s.freeMode&&s.freeMode.enabled;let P=o[b.indexOf(E)-1];if(typeof P>"u"&&(s.cssMode||A)){let R;o.forEach((N,z)=>{E>=N&&(R=z)}),typeof R<"u"&&(P=A?o[R]:o[R>0?R-1:R])}let C=0;if(typeof P<"u"&&(C=l.indexOf(P),C<0&&(C=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(C=C-r.slidesPerViewDynamic("previous",!0)+1,C=Math.max(C,0))),s.rewind&&r.isBeginning){const R=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(R,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(C,t,e,n)}),!0;return r.slideTo(C,t,e,n)}function Pj(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Rj(t,e=!0,n,r=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let o=s.activeIndex;const l=Math.min(s.params.slidesPerGroupSkip,o),u=l+Math.floor((o-l)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[u]){const h=s.snapGrid[u],m=s.snapGrid[u+1];c-h>(m-h)*r&&(o+=s.params.slidesPerGroup)}else{const h=s.snapGrid[u-1],m=s.snapGrid[u];c-h<=(m-h)*r&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,t,e,n)}function kj(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),o;const l=t.isElement?"swiper-slide":`.${e.slideClass}`,u=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(o):s>(u?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),s=t.getSlideIndex(yr(n,`${l}[data-swiper-slide-index="${o}"]`)[0]),DA(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var Nj={slideTo:xj,slideToLoop:Ij,slideNext:Cj,slidePrev:Aj,slideReset:Pj,slideToClosest:Rj,slideToClickedSlide:kj};function Dj(t,e){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const o=()=>{yr(s,`.${r.slideClass}, swiper-slide`).forEach((b,A)=>{b.setAttribute("data-swiper-slide-index",A)})},l=()=>{const E=yr(s,`.${r.slideBlankClass}`);E.forEach(b=>{b.remove()}),E.length>0&&(n.recalcSlides(),n.updateSlides())},u=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||u)&&l();const c=r.slidesPerGroup*(u?r.grid.rows:1),h=n.slides.length%c!==0,m=u&&n.slides.length%r.grid.rows!==0,g=E=>{for(let b=0;b<E;b+=1){const A=n.isElement?df("swiper-slide",[r.slideBlankClass]):df("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(A)}};if(h){if(r.loopAddBlankSlides){const E=c-n.slides.length%c;g(E),n.recalcSlides(),n.updateSlides()}else uf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(m){if(r.loopAddBlankSlides){const E=r.grid.rows-n.slides.length%r.grid.rows;g(E),n.recalcSlides(),n.updateSlides()}else uf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();const w=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:w?void 0:"next",initial:e})}function Mj({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:s,initial:o,byController:l,byMousewheel:u}={}){const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:h,allowSlidePrev:m,allowSlideNext:g,slidesEl:w,params:E}=c,{centeredSlides:b,slidesOffsetBefore:A,slidesOffsetAfter:P,initialSlide:C}=E,R=b||!!A||!!P;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&E.virtual.enabled){e&&(!R&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):R&&c.snapIndex<E.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=m,c.allowSlideNext=g,c.emit("loopFix");return}let N=E.slidesPerView;N==="auto"?N=c.slidesPerViewDynamic():(N=Math.ceil(parseFloat(E.slidesPerView,10)),R&&N%2===0&&(N=N+1));const z=E.slidesPerGroupAuto?N:E.slidesPerGroup;let q=R?Math.max(z,Math.ceil(N/2)):z;q%z!==0&&(q+=z-q%z),q+=E.loopAdditionalSlides,c.loopedSlides=q;const re=c.grid&&E.grid&&E.grid.rows>1;h.length<N+q||c.params.effect==="cards"&&h.length<N+q*2?uf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):re&&E.grid.fill==="row"&&uf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const F=[],x=[],L=re?Math.ceil(h.length/E.grid.rows):h.length,O=o&&L-C<N&&!R;let V=O?C:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(h.find(j=>j.classList.contains(E.slideActiveClass))):V=s;const B=n==="next"||!n,M=n==="prev"||!n;let K=0,G=0;const X=(re?h[s].column:s)+(R&&typeof r>"u"?-N/2+.5:0);if(X<q){K=Math.max(q-X,z);for(let j=0;j<q-X;j+=1){const Z=j-Math.floor(j/L)*L;if(re){const oe=L-Z-1;for(let H=h.length-1;H>=0;H-=1)h[H].column===oe&&F.push(H)}else F.push(L-Z-1)}}else if(X+N>L-q){G=Math.max(X-(L-q*2),z),O&&(G=Math.max(G,N-L+C+1));for(let j=0;j<G;j+=1){const Z=j-Math.floor(j/L)*L;re?h.forEach((oe,H)=>{oe.column===Z&&x.push(H)}):x.push(Z)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&h.length<N+q*2&&(x.includes(s)&&x.splice(x.indexOf(s),1),F.includes(s)&&F.splice(F.indexOf(s),1)),M&&F.forEach(j=>{h[j].swiperLoopMoveDOM=!0,w.prepend(h[j]),h[j].swiperLoopMoveDOM=!1}),B&&x.forEach(j=>{h[j].swiperLoopMoveDOM=!0,w.append(h[j]),h[j].swiperLoopMoveDOM=!1}),c.recalcSlides(),E.slidesPerView==="auto"?c.updateSlides():re&&(F.length>0&&M||x.length>0&&B)&&c.slides.forEach((j,Z)=>{c.grid.updateSlide(Z,j,c.slides)}),E.watchSlidesProgress&&c.updateSlidesOffset(),e){if(F.length>0&&M){if(typeof t>"u"){const j=c.slidesGrid[V],oe=c.slidesGrid[V+K]-j;u?c.setTranslate(c.translate-oe):(c.slideTo(V+Math.ceil(K),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-oe,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-oe))}else if(r){const j=re?F.length/E.grid.rows:F.length;c.slideTo(c.activeIndex+j,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(x.length>0&&B)if(typeof t>"u"){const j=c.slidesGrid[V],oe=c.slidesGrid[V-G]-j;u?c.setTranslate(c.translate-oe):(c.slideTo(V-G,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-oe,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-oe))}else{const j=re?x.length/E.grid.rows:x.length;c.slideTo(c.activeIndex-j,0,!1,!0)}}if(c.allowSlidePrev=m,c.allowSlideNext=g,c.controller&&c.controller.control&&!l){const j={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(Z=>{!Z.destroyed&&Z.params.loop&&Z.loopFix({...j,slideTo:Z.params.slidesPerView===E.slidesPerView?e:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...j,slideTo:c.controller.control.params.slidesPerView===E.slidesPerView?e:!1})}c.emit("loopFix")}function Lj(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[o]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Oj={loopCreate:Dj,loopFix:Mj,loopDestroy:Lj};function Vj(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Fj(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Uj={setGrabCursor:Vj,unsetGrabCursor:Fj};function Bj(t,e=this){function n(r){if(!r||r===Ki()||r===gn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function p1(t,e,n){const r=gn(),{params:s}=t,o=s.edgeSwipeDetection,l=s.edgeSwipeThreshold;return o&&(n<=l||n>=r.innerWidth-l)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function jj(t){const e=this,n=Ki();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){p1(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:l,enabled:u}=e;if(!u||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let c=r.target;if(o.touchEventsTarget==="wrapper"&&!YB(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const h=!!o.noSwipingClass&&o.noSwipingClass!=="",m=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&m&&(c=m[0]);const g=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,w=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(w?Bj(g,c):c.closest(g))){e.allowClick=!0;return}if(o.swipeHandler&&!c.closest(o.swipeHandler))return;l.currentX=r.pageX,l.currentY=r.pageY;const E=l.currentX,b=l.currentY;if(!p1(e,r,E))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=E,l.startY=b,s.touchStartTime=cf(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let A=!0;c.matches(s.focusableElements)&&(A=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(s.focusableElements))&&n.activeElement.blur();const P=A&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||P)&&!c.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function zj(t){const e=Ki(),n=this,r=n.touchEventsData,{params:s,touches:o,rtlTranslate:l,enabled:u}=n;if(!u||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let h;if(c.type==="touchmove"){if(h=[...c.changedTouches].find(q=>q.identifier===r.touchId),!h||h.identifier!==r.touchId)return}else h=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const m=h.pageX,g=h.pageY;if(c.preventedByNestedSwiper){o.startX=m,o.startY=g;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:m,startY:g,currentX:m,currentY:g}),r.touchStartTime=cf());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(g<o.startY&&n.translate<=n.maxTranslate()||g>o.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(l&&(m>o.startX&&-n.translate<=n.maxTranslate()||m<o.startX&&-n.translate>=n.minTranslate()))return;if(!l&&(m<o.startX&&n.translate<=n.maxTranslate()||m>o.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=m,o.currentY=g;const w=o.currentX-o.startX,E=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(w**2+E**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let q;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:w*w+E*E>=25&&(q=Math.atan2(Math.abs(E),Math.abs(w))*180/Math.PI,r.isScrolling=n.isHorizontal()?q>s.touchAngle:90-q>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let b=n.isHorizontal()?w:E,A=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(b=Math.abs(b)*(l?1:-1),A=Math.abs(A)*(l?1:-1)),o.diff=b,b*=s.touchRatio,l&&(b=-b,A=-A);const P=n.touchesDirection;n.swipeDirection=b>0?"prev":"next",n.touchesDirection=A>0?"prev":"next";const C=n.params.loop&&!s.cssMode,R=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(C&&R&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const q=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(q)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&P!==n.touchesDirection&&C&&R&&Math.abs(b)>=1){Object.assign(o,{startX:m,startY:g,currentX:m,currentY:g,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=b+r.startTranslate;let N=!0,z=s.resistanceRatio;if(s.touchReleaseOnEdges&&(z=0),b>0?(C&&R&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(N=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+b)**z))):b<0&&(C&&R&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(N=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-b)**z))),N&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(b)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function $j(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(q=>q.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:u,rtlTranslate:c,slidesGrid:h,enabled:m}=e;if(!m||!l.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const g=cf(),w=g-n.touchStartTime;if(e.allowClick){const q=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(q&&q[0]||r.target,q),e.emit("tap click",r),w<300&&g-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=cf(),DA(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||u.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let E;if(l.followFinger?E=c?e.translate:-e.translate:E=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:E});return}const b=E>=-e.maxTranslate()&&!e.params.loop;let A=0,P=e.slidesSizesGrid[0];for(let q=0;q<h.length;q+=q<l.slidesPerGroupSkip?1:l.slidesPerGroup){const re=q<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof h[q+re]<"u"?(b||E>=h[q]&&E<h[q+re])&&(A=q,P=h[q+re]-h[q]):(b||E>=h[q])&&(A=q,P=h[h.length-1]-h[h.length-2])}let C=null,R=null;l.rewind&&(e.isBeginning?R=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(C=0));const N=(E-h[A])/P,z=A<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(w>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(N>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?C:A+z):e.slideTo(A)),e.swipeDirection==="prev"&&(N>1-l.longSwipesRatio?e.slideTo(A+z):R!==null&&N<0&&Math.abs(N)>l.longSwipesRatio?e.slideTo(R):e.slideTo(A))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(A+z):e.slideTo(A):(e.swipeDirection==="next"&&e.slideTo(C!==null?C:A+z),e.swipeDirection==="prev"&&e.slideTo(R!==null?R:A))}}function m1(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:o}=t,l=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const u=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!u?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!l?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function Hj(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Wj(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const o=t.maxTranslate()-t.minTranslate();o===0?s=0:s=(t.translate-t.minTranslate())/o,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function qj(t){const e=this;kh(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Gj(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const BA=(t,e)=>{const n=Ki(),{params:r,el:s,wrapperEl:o,device:l}=t,u=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",h=e;!s||typeof s=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:u}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:u}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:u}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&o[c]("scroll",t.onScroll),r.updateOnWindowResize?t[h](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",m1,!0):t[h]("observerUpdate",m1,!0),s[c]("load",t.onLoad,{capture:!0}))};function Kj(){const t=this,{params:e}=t;t.onTouchStart=jj.bind(t),t.onTouchMove=zj.bind(t),t.onTouchEnd=$j.bind(t),t.onDocumentTouchStart=Gj.bind(t),e.cssMode&&(t.onScroll=Wj.bind(t)),t.onClick=Hj.bind(t),t.onLoad=qj.bind(t),BA(t,"on")}function Yj(){BA(this,"off")}var Qj={attachEvents:Kj,detachEvents:Yj};const g1=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Xj(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const l=Ki(),u=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:l.querySelector(r.breakpointsBase),h=t.getBreakpoint(o,u,c);if(!h||t.currentBreakpoint===h)return;const g=(h in o?o[h]:void 0)||t.originalParams,w=g1(t,r),E=g1(t,g),b=t.params.grabCursor,A=g.grabCursor,P=r.enabled;w&&!E?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!w&&E&&(s.classList.add(`${r.containerModifierClass}grid`),(g.grid.fill&&g.grid.fill==="column"||!g.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),b&&!A?t.unsetGrabCursor():!b&&A&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(re=>{if(typeof g[re]>"u")return;const F=r[re]&&r[re].enabled,x=g[re]&&g[re].enabled;F&&!x&&t[re].disable(),!F&&x&&t[re].enable()});const C=g.direction&&g.direction!==r.direction,R=r.loop&&(g.slidesPerView!==r.slidesPerView||C),N=r.loop;C&&n&&t.changeDirection(),Fn(t.params,g);const z=t.params.enabled,q=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),P&&!z?t.disable():!P&&z&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",g),n&&(R?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!N&&q?(t.loopCreate(e),t.updateSlides()):N&&!q&&t.loopDestroy()),t.emit("breakpoint",g)}function Jj(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=gn(),o=e==="window"?s.innerHeight:n.clientHeight,l=Object.keys(t).map(u=>{if(typeof u=="string"&&u.indexOf("@")===0){const c=parseFloat(u.substr(1));return{value:o*c,point:u}}return{value:u,point:u}});l.sort((u,c)=>parseInt(u.value,10)-parseInt(c.value,10));for(let u=0;u<l.length;u+=1){const{point:c,value:h}=l[u];e==="window"?s.matchMedia(`(min-width: ${h}px)`).matches&&(r=c):h<=n.clientWidth&&(r=c)}return r||"max"}var Zj={setBreakpoint:Xj,getBreakpoint:Jj};function ez(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function tz(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:o}=t,l=ez(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...l),s.classList.add(...e),t.emitContainerClasses()}function nz(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var rz={addClasses:tz,removeClasses:nz};function sz(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,o=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var iz={checkOverflow:sz},Ry={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function oz(t,e){return function(r={}){const s=Object.keys(r)[0],o=r[s];if(typeof o!="object"||o===null){Fn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in o)){Fn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Fn(e,r)}}const hg={eventsEmitter:rj,update:pj,translate:Ej,transition:bj,slide:Nj,loop:Oj,grabCursor:Uj,events:Qj,breakpoints:Zj,checkOverflow:iz,classes:rz},fg={};let L0=class xs{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Fn({},r),n&&!r.el&&(r.el=n);const s=Ki();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const c=[];return s.querySelectorAll(r.el).forEach(h=>{const m=Fn({},r,{el:h});c.push(new xs(m))}),c}const o=this;o.__swiper__=!0,o.support=OA(),o.device=VA({userAgent:r.userAgent}),o.browser=FA(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],r.modules&&Array.isArray(r.modules)&&o.modules.push(...r.modules);const l={};o.modules.forEach(c=>{c({params:r,swiper:o,extendParams:oz(r,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const u=Fn({},Ry,l);return o.params=Fn({},u,fg,r),o.originalParams=Fn({},o.params),o.passedParams=Fn({},r),o.params&&o.params.on&&Object.keys(o.params.on).forEach(c=>{o.on(c,o.params.on[c])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=yr(n,`.${r.slideClass}, swiper-slide`),o=hf(s[0]);return hf(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=yr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),l=(r.maxTranslate()-s)*e+s;r.translateTo(l,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:o,slidesGrid:l,slidesSizesGrid:u,size:c,activeIndex:h}=r;let m=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let g=o[h]?Math.ceil(o[h].swiperSlideSize):0,w;for(let E=h+1;E<o.length;E+=1)o[E]&&!w&&(g+=Math.ceil(o[E].swiperSlideSize),m+=1,g>c&&(w=!0));for(let E=h-1;E>=0;E-=1)o[E]&&!w&&(g+=o[E].swiperSlideSize,m+=1,g>c&&(w=!0))}else if(e==="current")for(let g=h+1;g<o.length;g+=1)(n?l[g]+u[g]-l[h]<c:l[g]-l[h]<c)&&(m+=1);else for(let g=h-1;g>=0;g-=1)l[h]-l[g]<c&&(m+=1);return m}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&kh(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const l=e.rtlTranslate?e.translate*-1:e.translate,u=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(u),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const l=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(l.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):yr(r,s())[0];return!l&&n.params.createElements&&(l=df("div",n.params.wrapperClass),r.append(l),yr(r,`.${n.params.slideClass}`).forEach(u=>{l.append(u)})),Object.assign(n,{el:r,wrapperEl:l,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:l,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ai(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ai(r,"direction")==="rtl"),wrongRTL:Ai(l,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?kh(n,o):o.addEventListener("load",l=>{kh(n,l.target)})}),Py(n),n.initialized=!0,Py(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:s,el:o,wrapperEl:l,slides:u}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),l&&l.removeAttribute("style"),u&&u.length&&u.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),HB(r)),r.destroyed=!0),null}static extendDefaults(e){Fn(fg,e)}static get extendedDefaults(){return fg}static get defaults(){return Ry}static installModule(e){xs.prototype.__modules__||(xs.prototype.__modules__=[]);const n=xs.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>xs.installModule(n)),xs):(xs.installModule(e),xs)}};Object.keys(hg).forEach(t=>{Object.keys(hg[t]).forEach(e=>{L0.prototype[e]=hg[t][e]})});L0.use([tj,nj]);const jA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ho(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function ol(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ho(e[r])&&Ho(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:ol(t[r],e[r]):t[r]=e[r]})}function zA(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function $A(t={}){return t.pagination&&typeof t.pagination.el>"u"}function HA(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function WA(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function az(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function lz({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:l,paginationEl:u}){const c=r.filter(x=>x!=="children"&&x!=="direction"&&x!=="wrapperClass"),{params:h,pagination:m,navigation:g,scrollbar:w,virtual:E,thumbs:b}=t;let A,P,C,R,N,z,q,re;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&h.thumbs&&(!h.thumbs.swiper||h.thumbs.swiper.destroyed)&&(A=!0),r.includes("controller")&&n.controller&&n.controller.control&&h.controller&&!h.controller.control&&(P=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||u)&&(h.pagination||h.pagination===!1)&&m&&!m.el&&(C=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(h.scrollbar||h.scrollbar===!1)&&w&&!w.el&&(R=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||s)&&(h.navigation||h.navigation===!1)&&g&&!g.prevEl&&!g.nextEl&&(N=!0);const F=x=>{t[x]&&(t[x].destroy(),x==="navigation"?(t.isElement&&(t[x].prevEl.remove(),t[x].nextEl.remove()),h[x].prevEl=void 0,h[x].nextEl=void 0,t[x].prevEl=void 0,t[x].nextEl=void 0):(t.isElement&&t[x].el.remove(),h[x].el=void 0,t[x].el=void 0))};r.includes("loop")&&t.isElement&&(h.loop&&!n.loop?z=!0:!h.loop&&n.loop?q=!0:re=!0),c.forEach(x=>{if(Ho(h[x])&&Ho(n[x]))Object.assign(h[x],n[x]),(x==="navigation"||x==="pagination"||x==="scrollbar")&&"enabled"in n[x]&&!n[x].enabled&&F(x);else{const L=n[x];(L===!0||L===!1)&&(x==="navigation"||x==="pagination"||x==="scrollbar")?L===!1&&F(x):h[x]=n[x]}}),c.includes("controller")&&!P&&t.controller&&t.controller.control&&h.controller&&h.controller.control&&(t.controller.control=h.controller.control),r.includes("children")&&e&&E&&h.virtual.enabled?(E.slides=e,E.update(!0)):r.includes("virtual")&&E&&h.virtual.enabled&&(e&&(E.slides=e),E.update(!0)),r.includes("children")&&e&&h.loop&&(re=!0),A&&b.init()&&b.update(!0),P&&(t.controller.control=h.controller.control),C&&(t.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),t.el.appendChild(u)),u&&(h.pagination.el=u),m.init(),m.render(),m.update()),R&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(h.scrollbar.el=l),w.init(),w.updateSize(),w.setTranslate()),N&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),pu(s,t.navigation.arrowSvg),s.part.add("button-next"),t.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),pu(o,t.navigation.arrowSvg),o.part.add("button-prev"),t.el.appendChild(o))),s&&(h.navigation.nextEl=s),o&&(h.navigation.prevEl=o),g.init(),g.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(z||re)&&t.loopDestroy(),(q||re)&&t.loopCreate(),t.update()}function cz(t={},e=!0){const n={on:{}},r={},s={};ol(n,Ry),n._emitClasses=!0,n.init=!1;const o={},l=jA.map(c=>c.replace(/_/,"")),u=Object.assign({},t);return Object.keys(u).forEach(c=>{typeof t[c]>"u"||(l.indexOf(c)>=0?Ho(t[c])?(n[c]={},s[c]={},ol(n[c],t[c]),ol(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:o[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:o,events:r}}function uz({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:o},l){zA(l)&&e&&n&&(o.params.navigation.nextEl=e,o.originalParams.navigation.nextEl=e,o.params.navigation.prevEl=n,o.originalParams.navigation.prevEl=n),$A(l)&&r&&(o.params.pagination.el=r,o.originalParams.pagination.el=r),HA(l)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(t)}function dz(t,e,n,r,s){const o=[];if(!e)return o;const l=c=>{o.indexOf(c)<0&&o.push(c)};if(n&&r){const c=r.map(s),h=n.map(s);c.join("")!==h.join("")&&l("children"),r.length!==n.length&&l("children")}return jA.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Ho(t[c])&&Ho(e[c])){const h=Object.keys(t[c]),m=Object.keys(e[c]);h.length!==m.length?l(c):(h.forEach(g=>{t[c][g]!==e[c][g]&&l(c)}),m.forEach(g=>{t[c][g]!==e[c][g]&&l(c)}))}else t[c]!==e[c]&&l(c)}),o}const hz=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(this,arguments)}function qA(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function GA(t){const e=[];return y.Children.toArray(t).forEach(n=>{qA(n)?e.push(n):n.props&&n.props.children&&GA(n.props.children).forEach(r=>e.push(r))}),e}function fz(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return y.Children.toArray(t).forEach(r=>{if(qA(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=GA(r.props.children);s.length>0?s.forEach(o=>e.push(o)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function pz(t,e,n){if(!n)return null;const r=m=>{let g=m;return m<0?g=e.length+m:g>=e.length&&(g=g-e.length),g},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:l}=n,u=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,h=[];for(let m=u;m<c;m+=1)m>=o&&m<=l&&h.push(e[r(m)]);return h.map((m,g)=>y.cloneElement(m,{swiper:t,style:s,key:m.props.virtualIndex||m.key||`slide-${g}`}))}function qc(t,e){return typeof window>"u"?k.useEffect(t,e):k.useLayoutEffect(t,e)}const y1=k.createContext(null),mz=k.createContext(null),ky=k.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:s,...o}={},l)=>{let u=!1;const[c,h]=k.useState("swiper"),[m,g]=k.useState(null),[w,E]=k.useState(!1),b=k.useRef(!1),A=k.useRef(null),P=k.useRef(null),C=k.useRef(null),R=k.useRef(null),N=k.useRef(null),z=k.useRef(null),q=k.useRef(null),re=k.useRef(null),{params:F,passedParams:x,rest:L,events:O}=cz(o),{slides:V,slots:B}=fz(r),M=()=>{E(!w)};Object.assign(F.on,{_containerClasses(j,Z){h(Z)}});const K=()=>{Object.assign(F.on,O),u=!0;const j={...F};if(delete j.wrapperClass,P.current=new L0(j),P.current.virtual&&P.current.params.virtual.enabled){P.current.virtual.slides=V;const Z={cache:!1,slides:V,renderExternal:g,renderExternalUpdate:!1};ol(P.current.params.virtual,Z),ol(P.current.originalParams.virtual,Z)}};A.current||K(),P.current&&P.current.on("_beforeBreakpoint",M);const G=()=>{u||!O||!P.current||Object.keys(O).forEach(j=>{P.current.on(j,O[j])})},ne=()=>{!O||!P.current||Object.keys(O).forEach(j=>{P.current.off(j,O[j])})};k.useEffect(()=>()=>{P.current&&P.current.off("_beforeBreakpoint",M)}),k.useEffect(()=>{!b.current&&P.current&&(P.current.emitSlidesClasses(),b.current=!0)}),qc(()=>{if(l&&(l.current=A.current),!!A.current)return P.current.destroyed&&K(),uz({el:A.current,nextEl:N.current,prevEl:z.current,paginationEl:q.current,scrollbarEl:re.current,swiper:P.current},F),s&&!P.current.destroyed&&s(P.current),()=>{P.current&&!P.current.destroyed&&P.current.destroy(!0,!1)}},[]),qc(()=>{G();const j=dz(x,C.current,V,R.current,Z=>Z.key);return C.current=x,R.current=V,j.length&&P.current&&!P.current.destroyed&&lz({swiper:P.current,slides:V,passedParams:x,changedParams:j,nextEl:N.current,prevEl:z.current,scrollbarEl:re.current,paginationEl:q.current}),()=>{ne()}}),qc(()=>{hz(P.current)},[m]);function X(){return F.virtual?pz(P.current,V,m):V.map((j,Z)=>y.cloneElement(j,{swiper:P.current,swiperSlideIndex:Z}))}return y.createElement(e,ff({ref:A,className:WA(`${c}${t?` ${t}`:""}`)},L),y.createElement(mz.Provider,{value:P.current},B["container-start"],y.createElement(n,{className:az(F.wrapperClass)},B["wrapper-start"],X(),B["wrapper-end"]),zA(F)&&y.createElement(y.Fragment,null,y.createElement("div",{ref:z,className:"swiper-button-prev"}),y.createElement("div",{ref:N,className:"swiper-button-next"})),HA(F)&&y.createElement("div",{ref:re,className:"swiper-scrollbar"}),$A(F)&&y.createElement("div",{ref:q,className:"swiper-pagination"}),B["container-end"]))});ky.displayName="Swiper";const Ny=k.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:s,lazy:o,virtualIndex:l,swiperSlideIndex:u,...c}={},h)=>{const m=k.useRef(null),[g,w]=k.useState("swiper-slide"),[E,b]=k.useState(!1);function A(N,z,q){z===m.current&&w(q)}qc(()=>{if(typeof u<"u"&&(m.current.swiperSlideIndex=u),h&&(h.current=m.current),!(!m.current||!r)){if(r.destroyed){g!=="swiper-slide"&&w("swiper-slide");return}return r.on("_slideClass",A),()=>{r&&r.off("_slideClass",A)}}}),qc(()=>{r&&m.current&&!r.destroyed&&w(r.getSlideClasses(m.current))},[r]);const P={isActive:g.indexOf("swiper-slide-active")>=0,isVisible:g.indexOf("swiper-slide-visible")>=0,isPrev:g.indexOf("swiper-slide-prev")>=0,isNext:g.indexOf("swiper-slide-next")>=0},C=()=>typeof e=="function"?e(P):e,R=()=>{b(!0)};return y.createElement(t,ff({ref:m,className:WA(`${g}${n?` ${n}`:""}`),"data-swiper-slide-index":l,onLoad:R},c),s&&y.createElement(y1.Provider,{value:P},y.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},C(),o&&!E&&y.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&y.createElement(y1.Provider,{value:P},C(),o&&!E&&y.createElement("div",{className:"swiper-lazy-preloader"})))});Ny.displayName="SwiperSlide";function KA(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let o=yr(t.el,`.${r[s]}`)[0];o||(o=df("div",r[s]),o.className=r[s],t.el.append(o)),n[s]=o,e[s]=o}}),n}const v1='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function gz({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null,arrowSvg:v1};function s(E){let b;return E&&typeof E=="string"&&t.isElement&&(b=t.el.querySelector(E)||t.hostEl.querySelector(E),b)?b:(E&&(typeof E=="string"&&(b=[...document.querySelectorAll(E)]),t.params.uniqueNavElements&&typeof E=="string"&&b&&b.length>1&&t.el.querySelectorAll(E).length===1?b=t.el.querySelector(E):b&&b.length===1&&(b=b[0])),E&&!b?E:b)}function o(E,b){const A=t.params.navigation;E=$t(E),E.forEach(P=>{P&&(P.classList[b?"add":"remove"](...A.disabledClass.split(" ")),P.tagName==="BUTTON"&&(P.disabled=b),t.params.watchOverflow&&t.enabled&&P.classList[t.isLocked?"add":"remove"](A.lockClass))})}function l(){const{nextEl:E,prevEl:b}=t.navigation;if(t.params.loop){o(b,!1),o(E,!1);return}o(b,t.isBeginning&&!t.params.rewind),o(E,t.isEnd&&!t.params.rewind)}function u(E){E.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(E){E.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function h(){const E=t.params.navigation;if(t.params.navigation=KA(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(E.nextEl||E.prevEl))return;let b=s(E.nextEl),A=s(E.prevEl);Object.assign(t.navigation,{nextEl:b,prevEl:A}),b=$t(b),A=$t(A);const P=(C,R)=>{if(C){if(E.addIcons&&C.matches(".swiper-button-next,.swiper-button-prev")&&!C.querySelector("svg")){const N=document.createElement("div");pu(N,v1),C.appendChild(N.querySelector("svg")),N.remove()}C.addEventListener("click",R==="next"?c:u)}!t.enabled&&C&&C.classList.add(...E.lockClass.split(" "))};b.forEach(C=>P(C,"next")),A.forEach(C=>P(C,"prev"))}function m(){let{nextEl:E,prevEl:b}=t.navigation;E=$t(E),b=$t(b);const A=(P,C)=>{P.removeEventListener("click",C==="next"?c:u),P.classList.remove(...t.params.navigation.disabledClass.split(" "))};E.forEach(P=>A(P,"next")),b.forEach(P=>A(P,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?w():(h(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{m()}),n("enable disable",()=>{let{nextEl:E,prevEl:b}=t.navigation;if(E=$t(E),b=$t(b),t.enabled){l();return}[...E,...b].filter(A=>!!A).forEach(A=>A.classList.add(t.params.navigation.lockClass))}),n("click",(E,b)=>{let{nextEl:A,prevEl:P}=t.navigation;A=$t(A),P=$t(P);const C=b.target;let R=P.includes(C)||A.includes(C);if(t.isElement&&!R){const N=b.path||b.composedPath&&b.composedPath();N&&(R=N.find(z=>A.includes(z)||P.includes(z)))}if(t.params.navigation.hideOnClick&&!R){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===C||t.pagination.el.contains(C)))return;let N;A.length?N=A[0].classList.contains(t.params.navigation.hiddenClass):P.length&&(N=P[0].classList.contains(t.params.navigation.hiddenClass)),r(N===!0?"navigationShow":"navigationHide"),[...A,...P].filter(z=>!!z).forEach(z=>z.classList.toggle(t.params.navigation.hiddenClass))}});const g=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),h(),l()},w=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),m()};Object.assign(t.navigation,{enable:g,disable:w,update:l,init:h,destroy:m})}function Ic(t=""){return`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function yz({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:C=>C,formatFractionTotal:C=>C,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let o,l=0;function u(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function c(C,R){const{bulletActiveClass:N}=t.params.pagination;C&&(C=C[`${R==="prev"?"previous":"next"}ElementSibling`],C&&(C.classList.add(`${N}-${R}`),C=C[`${R==="prev"?"previous":"next"}ElementSibling`],C&&C.classList.add(`${N}-${R}-${R}`)))}function h(C,R,N){if(C=C%N,R=R%N,R===C+1)return"next";if(R===C-1)return"previous"}function m(C){const R=C.target.closest(Ic(t.params.pagination.bulletClass));if(!R)return;C.preventDefault();const N=hf(R)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===N)return;const z=h(t.realIndex,N,t.slides.length);z==="next"?t.slideNext():z==="previous"?t.slidePrev():t.slideToLoop(N)}else t.slideTo(N)}function g(){const C=t.rtl,R=t.params.pagination;if(u())return;let N=t.pagination.el;N=$t(N);let z,q;const re=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,F=t.params.loop?Math.ceil(re/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(q=t.previousRealIndex||0,z=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(z=t.snapIndex,q=t.previousSnapIndex):(q=t.previousIndex||0,z=t.activeIndex||0),R.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const x=t.pagination.bullets;let L,O,V;if(R.dynamicBullets&&(o=Ay(x[0],t.isHorizontal()?"width":"height"),N.forEach(B=>{B.style[t.isHorizontal()?"width":"height"]=`${o*(R.dynamicMainBullets+4)}px`}),R.dynamicMainBullets>1&&q!==void 0&&(l+=z-(q||0),l>R.dynamicMainBullets-1?l=R.dynamicMainBullets-1:l<0&&(l=0)),L=Math.max(z-l,0),O=L+(Math.min(x.length,R.dynamicMainBullets)-1),V=(O+L)/2),x.forEach(B=>{const M=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(K=>`${R.bulletActiveClass}${K}`)].map(K=>typeof K=="string"&&K.includes(" ")?K.split(" "):K).flat();B.classList.remove(...M)}),N.length>1)x.forEach(B=>{const M=hf(B);M===z?B.classList.add(...R.bulletActiveClass.split(" ")):t.isElement&&B.setAttribute("part","bullet"),R.dynamicBullets&&(M>=L&&M<=O&&B.classList.add(...`${R.bulletActiveClass}-main`.split(" ")),M===L&&c(B,"prev"),M===O&&c(B,"next"))});else{const B=x[z];if(B&&B.classList.add(...R.bulletActiveClass.split(" ")),t.isElement&&x.forEach((M,K)=>{M.setAttribute("part",K===z?"bullet-active":"bullet")}),R.dynamicBullets){const M=x[L],K=x[O];for(let G=L;G<=O;G+=1)x[G]&&x[G].classList.add(...`${R.bulletActiveClass}-main`.split(" "));c(M,"prev"),c(K,"next")}}if(R.dynamicBullets){const B=Math.min(x.length,R.dynamicMainBullets+4),M=(o*B-o)/2-V*o,K=C?"right":"left";x.forEach(G=>{G.style[t.isHorizontal()?K:"top"]=`${M}px`})}}N.forEach((x,L)=>{if(R.type==="fraction"&&(x.querySelectorAll(Ic(R.currentClass)).forEach(O=>{O.textContent=R.formatFractionCurrent(z+1)}),x.querySelectorAll(Ic(R.totalClass)).forEach(O=>{O.textContent=R.formatFractionTotal(F)})),R.type==="progressbar"){let O;R.progressbarOpposite?O=t.isHorizontal()?"vertical":"horizontal":O=t.isHorizontal()?"horizontal":"vertical";const V=(z+1)/F;let B=1,M=1;O==="horizontal"?B=V:M=V,x.querySelectorAll(Ic(R.progressbarFillClass)).forEach(K=>{K.style.transform=`translate3d(0,0,0) scaleX(${B}) scaleY(${M})`,K.style.transitionDuration=`${t.params.speed}ms`})}R.type==="custom"&&R.renderCustom?(pu(x,R.renderCustom(t,z+1,F)),L===0&&r("paginationRender",x)):(L===0&&r("paginationRender",x),r("paginationUpdate",x)),t.params.watchOverflow&&t.enabled&&x.classList[t.isLocked?"add":"remove"](R.lockClass)})}function w(){const C=t.params.pagination;if(u())return;const R=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let N=t.pagination.el;N=$t(N);let z="";if(C.type==="bullets"){let q=t.params.loop?Math.ceil(R/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&q>R&&(q=R);for(let re=0;re<q;re+=1)C.renderBullet?z+=C.renderBullet.call(t,re,C.bulletClass):z+=`<${C.bulletElement} ${t.isElement?'part="bullet"':""} class="${C.bulletClass}"></${C.bulletElement}>`}C.type==="fraction"&&(C.renderFraction?z=C.renderFraction.call(t,C.currentClass,C.totalClass):z=`<span class="${C.currentClass}"></span> / <span class="${C.totalClass}"></span>`),C.type==="progressbar"&&(C.renderProgressbar?z=C.renderProgressbar.call(t,C.progressbarFillClass):z=`<span class="${C.progressbarFillClass}"></span>`),t.pagination.bullets=[],N.forEach(q=>{C.type!=="custom"&&pu(q,z||""),C.type==="bullets"&&t.pagination.bullets.push(...q.querySelectorAll(Ic(C.bulletClass)))}),C.type!=="custom"&&r("paginationRender",N[0])}function E(){t.params.pagination=KA(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const C=t.params.pagination;if(!C.el)return;let R;typeof C.el=="string"&&t.isElement&&(R=t.el.querySelector(C.el)),!R&&typeof C.el=="string"&&(R=[...document.querySelectorAll(C.el)]),R||(R=C.el),!(!R||R.length===0)&&(t.params.uniqueNavElements&&typeof C.el=="string"&&Array.isArray(R)&&R.length>1&&(R=[...t.el.querySelectorAll(C.el)],R.length>1&&(R=R.find(N=>LA(N,".swiper")[0]===t.el))),Array.isArray(R)&&R.length===1&&(R=R[0]),Object.assign(t.pagination,{el:R}),R=$t(R),R.forEach(N=>{C.type==="bullets"&&C.clickable&&N.classList.add(...(C.clickableClass||"").split(" ")),N.classList.add(C.modifierClass+C.type),N.classList.add(t.isHorizontal()?C.horizontalClass:C.verticalClass),C.type==="bullets"&&C.dynamicBullets&&(N.classList.add(`${C.modifierClass}${C.type}-dynamic`),l=0,C.dynamicMainBullets<1&&(C.dynamicMainBullets=1)),C.type==="progressbar"&&C.progressbarOpposite&&N.classList.add(C.progressbarOppositeClass),C.clickable&&N.addEventListener("click",m),t.enabled||N.classList.add(C.lockClass)}))}function b(){const C=t.params.pagination;if(u())return;let R=t.pagination.el;R&&(R=$t(R),R.forEach(N=>{N.classList.remove(C.hiddenClass),N.classList.remove(C.modifierClass+C.type),N.classList.remove(t.isHorizontal()?C.horizontalClass:C.verticalClass),C.clickable&&(N.classList.remove(...(C.clickableClass||"").split(" ")),N.removeEventListener("click",m))})),t.pagination.bullets&&t.pagination.bullets.forEach(N=>N.classList.remove(...C.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const C=t.params.pagination;let{el:R}=t.pagination;R=$t(R),R.forEach(N=>{N.classList.remove(C.horizontalClass,C.verticalClass),N.classList.add(t.isHorizontal()?C.horizontalClass:C.verticalClass)})}),n("init",()=>{t.params.pagination.enabled===!1?P():(E(),w(),g())}),n("activeIndexChange",()=>{typeof t.snapIndex>"u"&&g()}),n("snapIndexChange",()=>{g()}),n("snapGridLengthChange",()=>{w(),g()}),n("destroy",()=>{b()}),n("enable disable",()=>{let{el:C}=t.pagination;C&&(C=$t(C),C.forEach(R=>R.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{g()}),n("click",(C,R)=>{const N=R.target,z=$t(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&z&&z.length>0&&!N.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&N===t.navigation.nextEl||t.navigation.prevEl&&N===t.navigation.prevEl))return;const q=z[0].classList.contains(t.params.pagination.hiddenClass);r(q===!0?"paginationShow":"paginationHide"),z.forEach(re=>re.classList.toggle(t.params.pagination.hiddenClass))}});const A=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:C}=t.pagination;C&&(C=$t(C),C.forEach(R=>R.classList.remove(t.params.pagination.paginationDisabledClass))),E(),w(),g()},P=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:C}=t.pagination;C&&(C=$t(C),C.forEach(R=>R.classList.add(t.params.pagination.paginationDisabledClass))),b()};Object.assign(t.pagination,{enable:A,disable:P,render:w,update:g,init:E,destroy:b})}function w1({swiper:t,extendParams:e,on:n}){e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,s=!1;t.thumbs={swiper:null};function o(){const c=t.thumbs.swiper;if(!c||c.destroyed)return;const h=c.clickedIndex,m=c.clickedSlide;if(m&&m.classList.contains(t.params.thumbs.slideThumbActiveClass)||typeof h>"u"||h===null)return;let g;c.params.loop?g=parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):g=h,t.params.loop?t.slideToLoop(g):t.slideTo(g)}function l(){const{thumbs:c}=t.params;if(r)return!1;r=!0;const h=t.constructor;if(c.swiper instanceof h){if(c.swiper.destroyed)return r=!1,!1;t.thumbs.swiper=c.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update()}else if(Mc(c.swiper)){const m=Object.assign({},c.swiper);Object.assign(m,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new h(m),s=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",o),!0}function u(c){const h=t.thumbs.swiper;if(!h||h.destroyed)return;const m=h.params.slidesPerView==="auto"?h.slidesPerViewDynamic():h.params.slidesPerView;let g=1;const w=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(g=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(g=1),g=Math.floor(g),h.slides.forEach(A=>A.classList.remove(w)),h.params.loop||h.params.virtual&&h.params.virtual.enabled)for(let A=0;A<g;A+=1)yr(h.slidesEl,`[data-swiper-slide-index="${t.realIndex+A}"]`).forEach(P=>{P.classList.add(w)});else for(let A=0;A<g;A+=1)h.slides[t.realIndex+A]&&h.slides[t.realIndex+A].classList.add(w);const E=t.params.thumbs.autoScrollOffset,b=E&&!h.params.loop;if(t.realIndex!==h.realIndex||b){const A=h.activeIndex;let P,C;if(h.params.loop){const R=h.slides.find(N=>N.getAttribute("data-swiper-slide-index")===`${t.realIndex}`);P=h.slides.indexOf(R),C=t.activeIndex>t.previousIndex?"next":"prev"}else P=t.realIndex,C=P>t.previousIndex?"next":"prev";b&&(P+=C==="next"?E:-1*E),h.visibleSlidesIndexes&&h.visibleSlidesIndexes.indexOf(P)<0&&(h.params.centeredSlides?P>A?P=P-Math.floor(m/2)+1:P=P+Math.floor(m/2)-1:P>A&&h.params.slidesPerGroup,h.slideTo(P,c?0:void 0))}}n("beforeInit",()=>{const{thumbs:c}=t.params;if(!(!c||!c.swiper))if(typeof c.swiper=="string"||c.swiper instanceof HTMLElement){const h=Ki(),m=()=>{const w=typeof c.swiper=="string"?h.querySelector(c.swiper):c.swiper;if(w&&w.swiper)c.swiper=w.swiper,l(),u(!0);else if(w){const E=`${t.params.eventsPrefix}init`,b=A=>{c.swiper=A.detail[0],w.removeEventListener(E,b),l(),u(!0),c.swiper.update(),t.update()};w.addEventListener(E,b)}return w},g=()=>{if(t.destroyed)return;m()||requestAnimationFrame(g)};requestAnimationFrame(g)}else l(),u(!0)}),n("slideChange update resize observerUpdate",()=>{u()}),n("setTransition",(c,h)=>{const m=t.thumbs.swiper;!m||m.destroyed||m.setTransition(h)}),n("beforeDestroy",()=>{const c=t.thumbs.swiper;!c||c.destroyed||s&&c.destroy()}),Object.assign(t.thumbs,{init:l,update:u})}const vz=()=>{const{id:t}=By(),e=zn(),[n,r]=k.useState(null),[s,o]=k.useState([]),[l,u]=k.useState(!0),[c,h]=k.useState(!0),[m,g]=k.useState(!1),[w,E]=k.useState(null),[b,A]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const z=Je(xe,"products",t),q=await is(z);if(!q.exists()){lt.error("Product not found"),e("/browse");return}r({id:q.id,...q.data()})}catch{lt.error("Something went wrong"),e("/browse")}finally{u(!1)}})()},[t,e]),k.useEffect(()=>{if(!n?.category)return;(async()=>{h(!0);try{const z=zs(pt(xe,"products"),ns("category","==",n.category)),q=await Xt(z);o(q.docs.map(re=>({id:re.id,...re.data()})).filter(re=>re.id!==t).slice(0,6))}catch{}finally{h(!1)}})()},[n,t]);const P=()=>{navigator.clipboard.writeText(`${window.location.origin}/product/${t}`),lt.success("Link copied"),g(!1)},C=async()=>{if(!Ge.currentUser){lt.error("Please login to chat"),e("/login");return}try{const N=await UB({productId:n.id,productTitle:n.title,productImage:n.imageUrls?.[0]||n.imageUrl||"",buyer:{uid:Ge.currentUser.uid,name:Ge.currentUser.displayName||"Buyer"},seller:{uid:n.userId,name:n.sellerName||"Seller"}});e(`/messages/${N}`)}catch(N){console.error(N),lt.error("Unable to start chat")}};if(l||!n)return y.createElement("div",{className:"p-4 text-center"},"Loading...");const R=n.imageUrls?.length?n.imageUrls:[n.imageUrl];return y.createElement(Ii.div,{className:"px-4 py-6 min-h-screen bg-gray-50 max-w-6xl mx-auto"},y.createElement("button",{onClick:()=>e(-1),className:"mb-4 text-blue-600 text-sm"}," Back"),y.createElement("div",{className:"bg-white rounded-2xl shadow p-5 grid grid-cols-1 md:grid-cols-2 gap-6"},y.createElement("div",null,y.createElement(ky,{modules:[gz,yz,w1],navigation:!0,pagination:!0,thumbs:{swiper:w}},R.map((N,z)=>y.createElement(Ny,{key:z},y.createElement("img",{src:N,alt:"",className:"w-full h-[350px] object-contain bg-gray-100"})))),y.createElement(ky,{modules:[w1],onSwiper:E,slidesPerView:4,spaceBetween:10,className:"mt-3"},R.map((N,z)=>y.createElement(Ny,{key:z},y.createElement("img",{src:N,className:"w-full h-20 object-cover rounded-lg border"}))))),y.createElement("div",{className:"relative"},y.createElement("div",{className:"absolute top-4 right-4"},y.createElement("button",{onClick:()=>g(!m),className:"border p-2 rounded-full"},y.createElement(LB,null)),m&&y.createElement("div",{className:"absolute right-0 mt-2 bg-white border rounded shadow"},y.createElement("button",{onClick:P,className:"px-4 py-2 text-sm flex items-center"},y.createElement(DB,{className:"mr-2"})," Copy link"))),y.createElement("h1",{className:"text-2xl font-bold"},n.title),y.createElement("div",{className:`text-gray-700 mt-2 ${b?"":"max-h-24 overflow-hidden"}`},n.description),n.description?.length>120&&y.createElement("button",{onClick:()=>A(!b),className:"text-blue-600 text-sm"},b?"Read less":"Read more"),y.createElement("div",{className:"text-2xl text-green-600 font-bold mt-4"},"",n.price),y.createElement("div",{className:"flex gap-2 mt-3"},y.createElement("span",{className:"px-3 py-1 bg-yellow-100 rounded-full text-sm"},n.category),y.createElement("span",{className:"px-3 py-1 bg-pink-100 rounded-full text-sm flex items-center"},y.createElement(MB,{className:"mr-1"})," ",n.location)),y.createElement("button",{onClick:C,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl font-semibold"}," Chat with Seller (No phone number shared)"),(n.contact||n.sellerPhone)&&y.createElement("button",{onClick:()=>window.open(`https://wa.me/91${n.sellerPhone}`,"_blank"),className:"w-full border border-gray-300 text-gray-600 py-2 rounded-xl text-sm mt-2"},"Contact on WhatsApp"),y.createElement("div",{className:"mt-12"},y.createElement("h3",{className:"text-lg font-semibold mb-4"}," Similar Products"),c?y.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Array.from({length:3}).map((N,z)=>y.createElement("div",{key:z,className:"animate-pulse bg-white p-4 rounded-2xl shadow h-48"}))):s.length>0?y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},s.map(N=>y.createElement(Ii.div,{key:N.id,whileHover:{scale:1.02},className:"bg-white rounded-2xl shadow p-3"},y.createElement(Ve,{to:`/product/${N.id}`},y.createElement("img",{src:N.imageUrls?.[0]||N.imageUrl,className:"w-full h-36 object-cover rounded-xl",alt:N.title}),y.createElement("h4",{className:"text-sm font-semibold mt-2 line-clamp-2"},N.title),y.createElement("p",{className:"text-sm text-green-600 font-bold"},"",N.price),y.createElement("p",{className:"text-xs text-gray-500"}," ",N.location))))):y.createElement("p",{className:"text-sm text-gray-600"},"No similar products found.")))))},wz=()=>y.createElement("div",{className:"max-w-4xl mx-auto p-6 text-gray-800"},y.createElement("h1",{className:"text-3xl font-bold mb-4"},"Terms and Conditions"),y.createElement("p",null,"Last updated: July 31, 2025"),y.createElement("p",{className:"mt-4"},"Welcome to ",y.createElement("strong",null,"MyAmravati Market"),". By accessing or using our platform, you agree to comply with and be bound by the following terms and conditions."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"1. Acceptance of Terms"),y.createElement("p",null,"By registering, listing products, or browsing MyAmravati Market, you agree to these Terms. If you do not agree, please do not use the platform."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"2. User Responsibilities"),y.createElement("ul",{className:"list-disc ml-6"},y.createElement("li",null,"You are responsible for the accuracy of the information you provide."),y.createElement("li",null,"You must not post illegal, fake, or misleading products."),y.createElement("li",null,"You must be located in or around Amravati District, Maharashtra.")),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"3. Posting Limits"),y.createElement("p",null,"Users can post up to 3 products per day. We may adjust these limits at our discretion."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"4. Prohibited Content"),y.createElement("p",null,"Users must not post items that are illegal, banned, harmful, or infringe intellectual property rights."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"5. Termination"),y.createElement("p",null,"We reserve the right to remove any listings or ban users who violate these terms without prior notice."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"6. Changes"),y.createElement("p",null,"These Terms may change from time to time. We'll update this page and notify users when major changes occur."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"7. Contact"),y.createElement("p",null,"For any queries, contact us at: ",y.createElement("strong",null,"sanidhyapethe@gmail.com"))),Ez=()=>y.createElement("div",{className:"max-w-4xl mx-auto p-6 text-gray-800"},y.createElement("h1",{className:"text-3xl font-bold mb-4"},"Privacy Policy"),y.createElement("p",null,"Last updated: July 31, 2025"),y.createElement("p",{className:"mt-4"},"MyAmravati Market is committed to protecting your privacy. This policy outlines what information we collect and how we use it."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"1. Information We Collect"),y.createElement("ul",{className:"list-disc ml-6"},y.createElement("li",null,"Your name, email, and phone number (if provided)"),y.createElement("li",null,"Product listings, images, and location (if shared)"),y.createElement("li",null,"Technical data like IP address, device info")),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"2. How We Use Your Data"),y.createElement("ul",{className:"list-disc ml-6"},y.createElement("li",null,"To show your listings on the platform"),y.createElement("li",null,"To help other users contact you via WhatsApp"),y.createElement("li",null,"To improve the platform experience")),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"3. Data Sharing"),y.createElement("p",null,"We do not sell your personal data. We only show your data to buyers who view your listing (e.g., phone number on WhatsApp button)."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"4. Cookies"),y.createElement("p",null,"We may use cookies for analytics and improving user experience."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"5. Your Rights"),y.createElement("p",null,"You can request deletion of your data by contacting us."),y.createElement("h2",{className:"text-xl font-semibold mt-6"},"6. Contact"),y.createElement("p",null,"For any privacy-related questions, email: ",y.createElement("strong",null,"sanidhyapethe@gmail.com"))),_z=()=>React.createElement("div",{className:"text-center mt-5"},React.createElement("h2",null,"404  Page Not Found"),React.createElement("p",null,"Oops! This page doesn't exist."));/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),E1=t=>{const e=Sz(t);return e.charAt(0).toUpperCase()+e.slice(1)},YA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),bz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...u},c)=>k.createElement("svg",{ref:c,...xz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:YA("lucide",s),...!o&&!bz(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,m])=>k.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=(t,e)=>{const n=k.forwardRef(({className:r,...s},o)=>k.createElement(Iz,{ref:o,iconNode:e,className:YA(`lucide-${Tz(E1(t))}`,`lucide-${t}`,r),...s}));return n.displayName=E1(t),n};/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Az=Tt("bell",Cz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Rz=Tt("chart-column",Pz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],O0=Tt("circle-check-big",kz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Dz=Tt("circle-x",Nz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Lz=Tt("clipboard-list",Mz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xf=Tt("clock",Oz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Fz=Tt("flame",Vz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Bz=Tt("layout-dashboard",Uz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zz=Tt("log-out",jz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Hz=Tt("message-circle",$z);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qz=Tt("package",Wz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Kz=Tt("shield",Gz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Qz=Tt("shopping-bag",Yz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Jz=Tt("shopping-cart",Xz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],e$=Tt("star",Zz);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],n$=Tt("store",t$);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],s$=Tt("trash-2",r$);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],V0=Tt("triangle-alert",i$);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],a$=Tt("user-check",o$);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],c$=Tt("user-x",l$);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],d$=Tt("user",u$);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],f$=Tt("users",h$),QA=({activeTab:t,setActiveTab:e})=>{const n=async()=>{await Ge.signOut(),window.location.href="/"},r=({tab:s,icon:o,label:l})=>y.createElement("button",{onClick:()=>e(s),className:`flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition ${t===s?"bg-indigo-600 text-white":"text-gray-700 hover:bg-gray-100"}`},y.createElement(o,{size:18}),l);return y.createElement("aside",{className:"w-64 bg-white border-r min-h-screen flex flex-col"},y.createElement("div",{className:"p-5 border-b"},y.createElement("h2",{className:"text-xl font-bold text-indigo-600"},"Admin Panel"),y.createElement("p",{className:"text-xs text-gray-500 mt-1"},"MyAmravati Market")),y.createElement("div",{className:"flex-1 p-4 space-y-1"},y.createElement(r,{tab:"dashboard",icon:Bz,label:"Dashboard"}),y.createElement(r,{tab:"products",icon:Qz,label:"Products"}),y.createElement(r,{tab:"users",icon:f$,label:"Users"}),y.createElement(r,{tab:"orders",icon:Lz,label:"Orders"}),y.createElement(r,{tab:"seller-report",icon:V0,label:"Seller Reports"}),y.createElement(r,{tab:"analytics",icon:Rz,label:"Analytics"})),y.createElement("div",{className:"p-4 border-t"},y.createElement("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm transition"},y.createElement(zz,{size:16}),"Logout")))},XA=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),[s,o]=k.useState("");k.useEffect(()=>{(async()=>{try{const w=await Xt(pt(xe,"products"));e(w.docs.map(E=>({id:E.id,...E.data()})))}catch(w){console.error(w),Ie.error("Failed to load products")}finally{r(!1)}})()},[]);const l=async g=>{if(window.confirm(` Delete "${g.title}" permanently?
This action cannot be undone.`))try{await zo(Je(xe,"products",g.id)),e(E=>E.filter(b=>b.id!==g.id)),Ie.success(" Product deleted")}catch{Ie.error("Delete failed")}},u=async g=>{try{await jn(Je(xe,"products",g.id),{approved:!g.approved}),e(w=>w.map(E=>E.id===g.id?{...E,approved:!g.approved}:E)),Ie.success(g.approved?"Product unpublished":"Product approved")}catch{Ie.error("Approval update failed")}},c=async g=>{try{await jn(Je(xe,"products",g.id),{promoted:!g.promoted}),e(w=>w.map(E=>E.id===g.id?{...E,promoted:!g.promoted}:E)),Ie.success(g.promoted?"Promotion removed":"Product promoted")}catch{Ie.error("Promotion update failed")}},h=k.useMemo(()=>{if(!s)return t;const g=s.toLowerCase();return t.filter(w=>w.title?.toLowerCase().includes(g)||w.userEmail?.toLowerCase().includes(g)||w.location?.toLowerCase().includes(g))},[t,s]),m={total:t.length,pending:t.filter(g=>!g.approved).length,promoted:t.filter(g=>g.promoted).length};return n?y.createElement("p",{className:"text-gray-500"},"Loading products"):y.createElement("div",{className:"space-y-5"},y.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},y.createElement("h1",{className:"text-2xl font-bold"}," Products Management"),y.createElement("input",{value:s,onChange:g=>o(g.target.value),placeholder:"Search title / seller / location",className:"px-3 py-2 border rounded-lg text-sm w-full sm:w-64"})),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},y.createElement(pg,{label:"Total Products",value:m.total}),y.createElement(pg,{label:"Pending Approval",value:m.pending}),y.createElement(pg,{label:"Promoted",value:m.promoted})),y.createElement("div",{className:"overflow-x-auto bg-white rounded-2xl shadow"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",{className:"bg-gray-100"},y.createElement("tr",null,y.createElement("th",{className:"p-3 text-left"},"Product"),y.createElement("th",{className:"p-3"},"Seller"),y.createElement("th",{className:"p-3"},"Price"),y.createElement("th",{className:"p-3"},"Status"),y.createElement("th",{className:"p-3"},"Actions"))),y.createElement("tbody",null,h.map(g=>y.createElement("tr",{key:g.id,className:"border-t hover:bg-gray-50"},y.createElement("td",{className:"p-3"},y.createElement("p",{className:"font-semibold"},g.title),y.createElement("p",{className:"text-xs text-gray-500"},g.category,"  ",g.location)),y.createElement("td",{className:"p-3 text-xs"},g.userEmail||"N/A"),y.createElement("td",{className:"p-3 font-semibold text-green-600"},"",g.price),y.createElement("td",{className:"p-3 text-xs space-x-2"},!g.approved&&y.createElement(mg,{color:"yellow",icon:Xf,label:"Pending"}),g.approved&&y.createElement(mg,{color:"green",icon:O0,label:"Approved"}),g.promoted&&y.createElement(mg,{color:"blue",icon:e$,label:"Promoted"})),y.createElement("td",{className:"p-3 flex gap-2 flex-wrap"},y.createElement("button",{onClick:()=>u(g),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded"},g.approved?"Unpublish":"Approve"),y.createElement("button",{onClick:()=>c(g),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded"},g.promoted?"Remove Promo":"Promote"),y.createElement("button",{onClick:()=>l(g),className:"px-2 py-1 text-xs bg-red-600 text-white rounded flex items-center gap-1"},y.createElement(s$,{size:14})," Delete")))),h.length===0&&y.createElement("tr",null,y.createElement("td",{colSpan:"5",className:"p-6 text-center text-gray-500"},"No products found"))))))},pg=({label:t,value:e})=>y.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},y.createElement("p",{className:"text-xs text-gray-500"},t),y.createElement("p",{className:"text-2xl font-bold"},e)),mg=({color:t,icon:e,label:n})=>{const r={green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700",blue:"bg-blue-100 text-blue-700"};return y.createElement("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded ${r[t]}`},y.createElement(e,{size:12})," ",n)},JA=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),[s,o]=k.useState(""),l=Ge.currentUser?.uid;k.useEffect(()=>{(async()=>{try{const g=await Xt(pt(xe,"users"));e(g.docs.map(w=>({id:w.id,...w.data()})))}catch(g){console.error(g),Ie.error("Failed to load users")}finally{r(!1)}})()},[]);const u=async(m,g)=>{if(m===l){Ie.error("You cannot change your own role");return}try{await jn(Je(xe,"users",m),{role:g}),e(w=>w.map(E=>E.id===m?{...E,role:g}:E)),Ie.success(`Role updated to ${g}`)}catch{Ie.error("Failed to update role")}},c=async m=>{if(m.id===l){Ie.error("You cannot block yourself");return}try{await jn(Je(xe,"users",m.id),{isBlocked:!m.isBlocked}),e(g=>g.map(w=>w.id===m.id?{...w,isBlocked:!w.isBlocked}:w)),Ie.success(m.isBlocked?"User unblocked":"User blocked")}catch{Ie.error("Action failed")}},h=k.useMemo(()=>{if(!s)return t;const m=s.toLowerCase();return t.filter(g=>g.email?.toLowerCase().includes(m)||g.name?.toLowerCase().includes(m)||g.role?.toLowerCase().includes(m))},[t,s]);return n?y.createElement("p",{className:"text-gray-500"},"Loading users"):y.createElement("div",{className:"space-y-4"},y.createElement("div",{className:"flex items-center justify-between"},y.createElement("h1",{className:"text-2xl font-bold"}," Users"),y.createElement("input",{value:s,onChange:m=>o(m.target.value),placeholder:"Search name / email / role",className:"px-3 py-2 border rounded-lg text-sm w-64"})),y.createElement("div",{className:"overflow-x-auto bg-white rounded-xl shadow"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",{className:"bg-gray-100"},y.createElement("tr",null,y.createElement("th",{className:"p-3 text-left"},"User"),y.createElement("th",{className:"p-3"},"Role"),y.createElement("th",{className:"p-3"},"Status"),y.createElement("th",{className:"p-3"},"Actions"))),y.createElement("tbody",null,h.map(m=>y.createElement("tr",{key:m.id,className:"border-t"},y.createElement("td",{className:"p-3"},y.createElement("p",{className:"font-semibold"},m.name||""),y.createElement("p",{className:"text-xs text-gray-500"},m.email)),y.createElement("td",{className:"p-3 text-center"},y.createElement("span",{className:`px-2 py-1 text-xs rounded ${m.role==="admin"?"bg-indigo-100 text-indigo-700":m.role==="seller"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`},m.role||"user")),y.createElement("td",{className:"p-3 text-center text-xs"},m.isBlocked?y.createElement("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded"},"Blocked"):y.createElement("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded"},"Active")),y.createElement("td",{className:"p-3 flex gap-2 justify-center flex-wrap"},m.role!=="seller"&&y.createElement("button",{onClick:()=>u(m.id,"seller"),className:"px-2 py-1 text-xs bg-yellow-500 text-white rounded"},y.createElement(n$,{size:14})," Seller"),m.role!=="admin"&&y.createElement("button",{onClick:()=>u(m.id,"admin"),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded"},y.createElement(Kz,{size:14})," Admin"),y.createElement("button",{onClick:()=>c(m),className:`px-2 py-1 text-xs rounded ${m.isBlocked?"bg-green-600 text-white":"bg-red-600 text-white"}`},m.isBlocked?y.createElement(y.Fragment,null,y.createElement(a$,{size:14})," Unblock"):y.createElement(y.Fragment,null,y.createElement(c$,{size:14})," Block"))))),h.length===0&&y.createElement("tr",null,y.createElement("td",{colSpan:"4",className:"p-6 text-center text-gray-500"},"No users found"))))))},ZA=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),[s,o]=k.useState("");k.useEffect(()=>{(async()=>{try{const c=await Xt(pt(xe,"orders"));e(c.docs.map(h=>({id:h.id,...h.data()})))}finally{r(!1)}})()},[]);const l=k.useMemo(()=>{if(!s)return t;const u=s.toLowerCase();return t.filter(c=>c.buyerEmail?.toLowerCase().includes(u)||c.productTitle?.toLowerCase().includes(u))},[t,s]);return n?y.createElement("p",{className:"text-gray-500"},"Loading orders"):y.createElement("div",{className:"space-y-5"},y.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},y.createElement("h1",{className:"text-2xl font-bold"}," Orders"),y.createElement("input",{value:s,onChange:u=>o(u.target.value),placeholder:"Search buyer / product",className:"px-3 py-2 border rounded-lg text-sm w-full sm:w-64"})),l.length===0?y.createElement("div",{className:"bg-white rounded-xl shadow p-6 text-center text-gray-500"},"No orders found."):y.createElement("div",{className:"space-y-3"},l.map(u=>y.createElement("div",{key:u.id,className:"bg-white rounded-xl shadow-sm p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},y.createElement("div",null,y.createElement("p",{className:"font-semibold"},u.productTitle||"Unknown product"),y.createElement("p",{className:"text-sm text-gray-500"},"Buyer: ",u.buyerEmail||"N/A")),y.createElement("div",{className:"flex items-center gap-3"},y.createElement(p$,{status:u.status}),u.createdAt?.toDate&&y.createElement("span",{className:"text-xs text-gray-400"},u.createdAt.toDate().toLocaleDateString()))))))},p$=({status:t})=>t==="completed"?y.createElement(gg,{icon:O0,color:"green",label:"Completed"}):t==="cancelled"?y.createElement(gg,{icon:Dz,color:"red",label:"Cancelled"}):y.createElement(gg,{icon:Xf,color:"yellow",label:"Pending"}),gg=({icon:t,color:e,label:n})=>{const r={green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700",red:"bg-red-100 text-red-700"};return y.createElement("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${r[e]}`},y.createElement(t,{size:14}),n)},m$=async()=>{const t=pt(xe,"conversations"),n=(await Xt(t)).docs.map(g=>({id:g.id,...g.data()})),r=n.length;let s=0,o=[];const l={},u=Date.now(),c=1440*60*1e3;n.forEach(g=>{const{createdAt:w,lastMessageAt:E,buyerUnread:b,sellerUnread:A,productId:P,productTitle:C,buyerId:R,sellerId:N}=g;if(E?.toMillis&&(b>0||A>0)&&u-E.toMillis()>c&&s++,w?.toMillis&&E?.toMillis&&A===0){const z=(E.toMillis()-w.toMillis())/6e4;z>0&&z<10080&&o.push(z)}P&&(l[P]?l[P].chatCount++:l[P]={productId:P,productTitle:C||"Unknown product",chatCount:1})});const h=o.length>0?Math.round(o.reduce((g,w)=>g+w,0)/o.length):0,m=Object.values(l).sort((g,w)=>w.chatCount-g.chatCount).slice(0,10);return{totalConversations:r,deadConversations:s,avgSellerResponseMinutes:h,topProducts:m}},F0=()=>{const[t,e]=k.useState(!0),[n,r]=k.useState(null);return k.useEffect(()=>{(async()=>{try{const o=await m$();r(o)}catch(o){console.error("Analytics error:",o)}finally{e(!1)}})()},[]),t?y.createElement("div",{className:"p-8 text-center text-gray-500"}," Loading admin analytics"):n?y.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-8"},y.createElement("div",null,y.createElement("h1",{className:"text-3xl font-bold text-gray-900"}," Admin Analytics"),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Platform communication & engagement insights")),y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-5"},y.createElement(yg,{icon:Hz,title:"Total Conversations",value:n.totalConversations,description:"Chats initiated on platform",color:"blue"}),y.createElement(yg,{icon:V0,title:"Dead Conversations",value:n.deadConversations,description:"No reply in last 24 hours",color:n.deadConversations>0?"red":"green"}),y.createElement(yg,{icon:Xf,title:"Avg Seller Response",value:n.avgSellerResponseMinutes?`${n.avgSellerResponseMinutes} min`:"N/A",description:"Average first reply time",color:"indigo"})),y.createElement("div",{className:"bg-white rounded-2xl shadow-sm p-6"},y.createElement("div",{className:"flex items-center gap-2 mb-4"},y.createElement(Fz,{className:"text-orange-500"}),y.createElement("h2",{className:"text-lg font-semibold"},"Top Products by Conversations")),n.topProducts.length===0?y.createElement("div",{className:"text-center py-8 text-gray-500"},"No chat activity data available yet."):y.createElement("div",{className:"overflow-x-auto"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",null,y.createElement("tr",{className:"border-b text-left text-gray-600"},y.createElement("th",{className:"py-3"},"Product"),y.createElement("th",{className:"py-3 text-right"},"Chats"))),y.createElement("tbody",null,n.topProducts.map((s,o)=>y.createElement("tr",{key:s.productId,className:"border-b last:border-none hover:bg-gray-50 transition"},y.createElement("td",{className:"py-3 font-medium text-gray-800"},y.createElement("div",{className:"flex items-center gap-2"},y.createElement("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded-full"},"#",o+1),s.productTitle||"Unnamed product")),y.createElement("td",{className:"py-3 text-right font-semibold"},s.chatCount))))))),y.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-sm text-blue-700"}," Tip: High chat but low conversions usually indicate pricing, trust, or seller response issues.")):y.createElement("div",{className:"p-8 text-center text-red-600"}," Failed to load analytics data.")},yg=({icon:t,title:e,value:n,description:r,color:s})=>{const o={blue:"text-blue-600 bg-blue-50",red:"text-red-600 bg-red-50",green:"text-green-600 bg-green-50",indigo:"text-indigo-600 bg-indigo-50"};return y.createElement("div",{className:"bg-white rounded-2xl shadow-sm p-5"},y.createElement("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${o[s]}`},y.createElement(t,{size:20})),y.createElement("p",{className:"text-sm text-gray-500 mt-3"},e),y.createElement("p",{className:"text-3xl font-bold mt-1"},n),y.createElement("p",{className:"text-xs text-gray-400 mt-1"},r))},g$=async()=>{const t=pt(xe,"conversations"),n=(await Xt(t)).docs.map(u=>({id:u.id,...u.data()})),r={},s=Date.now(),o=1440*60*1e3;n.forEach(u=>{const{sellerId:c,sellerName:h,lastMessageAt:m,buyerUnread:g}=u;c&&(r[c]||(r[c]={sellerId:c,sellerName:h||"Unknown seller",totalChats:0,deadChats:0}),r[c].totalChats+=1,g>0&&m?.toMillis&&s-m.toMillis()>o&&(r[c].deadChats+=1))});const l=Object.values(r).map(u=>{const c=u.totalChats>0?Math.round(u.deadChats/u.totalChats*100):0;let h="Good";return c>40?h="Very slow":c>=20&&(h="Needs improvement"),{...u,deadRatio:c,status:h}});return l.sort((u,c)=>c.deadRatio-u.deadRatio),l},y$={Good:{label:"Good",color:"bg-green-100 text-green-700",icon:O0},"Needs improvement":{label:"Needs Improvement",color:"bg-yellow-100 text-yellow-800",icon:Xf},"Very slow":{label:"Very Slow",color:"bg-red-100 text-red-700",icon:V0}},U0=()=>{const[t,e]=k.useState(!0),[n,r]=k.useState([]);if(k.useEffect(()=>{(async()=>{try{const u=[...await g$()].sort((c,h)=>h.deadRatio-c.deadRatio);r(u)}catch(l){console.error("Seller report error:",l)}finally{e(!1)}})()},[]),t)return y.createElement("div",{className:"p-8 text-center text-gray-500"}," Loading seller response report");if(n.length===0)return y.createElement("div",{className:"p-8 text-center text-gray-500"},"No seller response data available yet.");const s=n.filter(o=>o.status==="Very slow").length;return y.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6"},y.createElement("div",null,y.createElement("h1",{className:"text-3xl font-bold text-gray-900"}," Seller Response Report"),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Measure seller responsiveness & trust impact")),s>0&&y.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-sm text-red-700"}," ",s," seller(s) have ",y.createElement("strong",null,"very slow")," response. These sellers reduce buyer trust and platform retention."),y.createElement("div",{className:"overflow-x-auto bg-white rounded-2xl shadow-sm"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",null,y.createElement("tr",{className:"border-b text-left text-gray-600"},y.createElement("th",{className:"py-3 px-4"},"Seller"),y.createElement("th",{className:"py-3 px-4"},"Total Chats"),y.createElement("th",{className:"py-3 px-4"},"Dead Chats"),y.createElement("th",{className:"py-3 px-4"},"Dead %"),y.createElement("th",{className:"py-3 px-4"},"Status"))),y.createElement("tbody",null,n.map((o,l)=>{const u=y$[o.status],c=u.icon;return y.createElement("tr",{key:o.sellerId,className:"border-b last:border-none hover:bg-gray-50 transition"},y.createElement("td",{className:"py-3 px-4 font-medium text-gray-900"},y.createElement("div",{className:"flex items-center gap-2"},y.createElement("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full"},"#",l+1),o.sellerName)),y.createElement("td",{className:"py-3 px-4"},o.totalChats),y.createElement("td",{className:"py-3 px-4"},o.deadChats),y.createElement("td",{className:"py-3 px-4"},y.createElement("div",{className:"flex items-center gap-2"},y.createElement("div",{className:"w-24 bg-gray-100 rounded-full h-2"},y.createElement("div",{className:`h-2 rounded-full ${o.deadRatio>50?"bg-red-500":o.deadRatio>25?"bg-yellow-400":"bg-green-500"}`,style:{width:`${o.deadRatio}%`}})),y.createElement("span",{className:"text-xs font-medium"},o.deadRatio,"%"))),y.createElement("td",{className:"py-3 px-4"},y.createElement("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${u.color}`},y.createElement(c,{size:14}),u.label)))})))),y.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-sm text-blue-700"}," Tip: Sellers with high dead chat ratio should be warned, guided, or temporarily restricted to maintain marketplace quality."))},Dy=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(!0),[s,o]=k.useState("dashboard"),[l,u]=k.useState({totalProducts:0,totalUsers:0,totalOrders:0}),[c,h]=k.useState(!0);if(k.useEffect(()=>{(async()=>{try{const E=Ge.currentUser;if(!E){e("guest");return}const b=await is(Je(xe,"users",E.uid));e(b.exists()?b.data().role:"user")}catch(E){console.error("Role fetch failed:",E),e("user")}finally{r(!1)}})()},[]),k.useEffect(()=>{if(t!=="admin")return;(async()=>{try{h(!0);const[E,b,A]=await Promise.all([Xt(pt(xe,"products")),Xt(pt(xe,"users")),Xt(pt(xe,"orders"))]);u({totalProducts:E.size,totalUsers:b.size,totalOrders:A.size})}catch(E){console.error("Failed to load admin stats",E)}finally{h(!1)}})()},[t]),n)return y.createElement("div",{className:"h-screen flex items-center justify-center text-gray-500"}," Verifying admin access...");if(t!=="admin")return y.createElement("div",{className:"h-screen flex items-center justify-center text-red-600 font-semibold"}," Access Denied  Admins only");const m=()=>{switch(s){case"dashboard":return g();case"products":return y.createElement(XA,null);case"users":return y.createElement(JA,null);case"orders":return y.createElement(ZA,null);case"analytics":return y.createElement(F0,null);case"seller-report":return y.createElement(U0,null);default:return g()}},g=()=>y.createElement(y.Fragment,null,y.createElement("h1",{className:"text-3xl font-bold mb-6 text-indigo-700"}," MyAmravati Market  Admin Dashboard"),c?y.createElement("div",{className:"flex items-center gap-2 text-gray-500"},y.createElement("div",{className:"animate-spin h-5 w-5 border-2 border-indigo-500 border-t-transparent rounded-full"}),"Loading statistics..."):y.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8"},y.createElement(vg,{icon:qz,label:"Total Products",value:l.totalProducts,color:"text-indigo-600"}),y.createElement(vg,{icon:d$,label:"Total Users",value:l.totalUsers,color:"text-green-600"}),y.createElement(vg,{icon:Jz,label:"Total Orders",value:l.totalOrders,color:"text-pink-600"})));return y.createElement("div",{className:"flex h-screen bg-gray-50"},y.createElement(QA,{activeTab:s,setActiveTab:o}),y.createElement("main",{className:"flex-1 p-6 overflow-y-auto"},m()))},vg=({icon:t,label:e,value:n,color:r})=>y.createElement("div",{className:"bg-white p-5 rounded-xl shadow hover:shadow-lg transition"},y.createElement("div",{className:"flex items-center"},y.createElement(t,{className:`${r} mr-3`,size:26}),y.createElement("div",null,y.createElement("p",{className:"text-sm text-gray-500"},e),y.createElement("h2",{className:"text-2xl font-semibold"},n)))),v$=()=>{const[t,e]=k.useState(!0),[n,r]=k.useState(null),[s,o]=k.useState(null),[l,u]=k.useState("dashboard");if(k.useEffect(()=>{const h=Sf(Ge,async m=>{if(!m){r(null),o(null),e(!1);return}r(m);try{const g=await is(Je(xe,"users",m.uid));o(g.exists()?g.data().role:"user")}catch(g){console.error("Admin role fetch failed",g),o("user")}finally{e(!1)}});return()=>h()},[]),t)return y.createElement("div",{className:"min-h-screen flex items-center justify-center text-gray-500"},"Checking admin access");if(!n)return y.createElement(H1,{to:"/login"});if(s!=="admin")return y.createElement("div",{className:"min-h-screen flex items-center justify-center text-red-600"},"Access denied. Admins only.");const c=()=>{switch(l){case"dashboard":return y.createElement(Dy,null);case"products":return y.createElement(XA,null);case"users":return y.createElement(JA,null);case"orders":return y.createElement(ZA,null);case"analytics":return y.createElement(F0,null);case"seller-report":return y.createElement(U0,null);default:return y.createElement(Dy,null)}};return y.createElement(Ii.div,{className:"flex min-h-screen bg-gray-50",initial:{opacity:0},animate:{opacity:1}},y.createElement(QA,{activeTab:l,setActiveTab:u}),y.createElement("main",{className:"flex-1 p-6 overflow-y-auto"},c()))},w$=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const u=await Xt(pt(xe,"featuredRequests"));e(u.docs.map(c=>({id:c.id,...c.data()})))}catch(u){console.error(u),Ie.error("Failed to load featured requests")}finally{r(!1)}})()},[]);const s=async l=>{try{const u=new Date;u.setDate(u.getDate()+(l.planDays||7)),await jn(Je(xe,"products",l.productId),{featured:!0,featuredExpiresAt:Xe.fromDate(u)}),await zo(Je(xe,"featuredRequests",l.id)),e(c=>c.filter(h=>h.id!==l.id)),Ie.success("Product featured successfully")}catch(u){console.error(u),Ie.error("Failed to approve request")}},o=async l=>{try{await zo(Je(xe,"featuredRequests",l)),e(u=>u.filter(c=>c.id!==l)),Ie.success("Request rejected")}catch{Ie.error("Failed to reject request")}};return n?y.createElement("p",{className:"text-gray-500"},"Loading featured requests"):t.length===0?y.createElement("div",{className:"bg-white rounded-xl p-6 text-center shadow"},y.createElement("h3",{className:"font-semibold"},"No featured requests"),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"All requests have been processed.")):y.createElement("div",{className:"space-y-4"},y.createElement("h1",{className:"text-2xl font-bold"}," Featured Requests"),y.createElement("div",{className:"overflow-x-auto bg-white rounded-xl shadow"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",{className:"bg-gray-100"},y.createElement("tr",null,y.createElement("th",{className:"p-3 text-left"},"Product"),y.createElement("th",{className:"p-3"},"Seller"),y.createElement("th",{className:"p-3"},"Plan"),y.createElement("th",{className:"p-3"},"Requested"),y.createElement("th",{className:"p-3"},"Actions"))),y.createElement("tbody",null,t.map(l=>y.createElement("tr",{key:l.id,className:"border-t"},y.createElement("td",{className:"p-3"},y.createElement("p",{className:"font-semibold"},l.productTitle||"Product"),y.createElement("p",{className:"text-xs text-gray-500"},"ID: ",l.productId)),y.createElement("td",{className:"p-3 text-center"},y.createElement("p",{className:"text-sm"},l.sellerEmail||"")),y.createElement("td",{className:"p-3 text-center"},y.createElement("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded"},l.planDays||7," days")),y.createElement("td",{className:"p-3 text-center text-xs text-gray-500"},l.requestedAt?.toDate?l.requestedAt.toDate().toLocaleDateString():""),y.createElement("td",{className:"p-3 flex gap-2 justify-center"},y.createElement("button",{onClick:()=>s(l),className:"px-3 py-1 text-xs bg-green-600 text-white rounded"},"Approve"),y.createElement("button",{onClick:()=>o(l.id),className:"px-3 py-1 text-xs bg-red-600 text-white rounded"},"Reject"))))))))},E$=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const u=await Xt(pt(xe,"promotionRequests"));e(u.docs.map(c=>({id:c.id,...c.data()})))}catch(u){console.error(u),Ie.error("Failed to load promotion requests")}finally{r(!1)}})()},[]);const s=async l=>{try{const u=new Date;u.setDate(u.getDate()+(l.planDays||7)),await jn(Je(xe,"products",l.productId),{isPromoted:!0,promotionPlan:`${l.planDays||7} days`,promotionExpiresAt:Xe.fromDate(u)}),await zo(Je(xe,"promotionRequests",l.id)),e(c=>c.filter(h=>h.id!==l.id)),Ie.success("Product promoted successfully")}catch(u){console.error(u),Ie.error("Failed to approve promotion")}},o=async l=>{try{await zo(Je(xe,"promotionRequests",l)),e(u=>u.filter(c=>c.id!==l)),Ie.success("Promotion request rejected")}catch{Ie.error("Failed to reject request")}};return n?y.createElement("p",{className:"text-gray-500"},"Loading promotion requests"):t.length===0?y.createElement("div",{className:"bg-white rounded-xl p-6 text-center shadow"},y.createElement("h3",{className:"font-semibold"},"No promotion requests"),y.createElement("p",{className:"text-sm text-gray-500 mt-1"},"All promotion requests are handled.")):y.createElement("div",{className:"space-y-4"},y.createElement("h1",{className:"text-2xl font-bold"}," Promotion Requests"),y.createElement("div",{className:"overflow-x-auto bg-white rounded-xl shadow"},y.createElement("table",{className:"w-full text-sm"},y.createElement("thead",{className:"bg-gray-100"},y.createElement("tr",null,y.createElement("th",{className:"p-3 text-left"},"Product"),y.createElement("th",{className:"p-3"},"Seller"),y.createElement("th",{className:"p-3"},"Plan"),y.createElement("th",{className:"p-3"},"Requested"),y.createElement("th",{className:"p-3"},"Actions"))),y.createElement("tbody",null,t.map(l=>y.createElement("tr",{key:l.id,className:"border-t"},y.createElement("td",{className:"p-3 flex items-center gap-3"},y.createElement("img",{src:l.productImage||"/placeholder.png",alt:"product",className:"w-12 h-12 rounded-lg object-cover bg-gray-100"}),y.createElement("div",null,y.createElement("p",{className:"font-semibold line-clamp-1"},l.productTitle||"Product"),y.createElement("p",{className:"text-xs text-gray-500"},"ID: ",l.productId))),y.createElement("td",{className:"p-3 text-center text-sm"},l.sellerEmail||""),y.createElement("td",{className:"p-3 text-center"},y.createElement("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded"},l.planDays||7," days")),y.createElement("td",{className:"p-3 text-center text-xs text-gray-500"},l.requestedAt?.toDate?l.requestedAt.toDate().toLocaleDateString():""),y.createElement("td",{className:"p-3 flex gap-2 justify-center"},y.createElement("button",{onClick:()=>s(l),className:"px-3 py-1 text-xs bg-green-600 text-white rounded"},"Approve"),y.createElement("button",{onClick:()=>o(l.id),className:"px-3 py-1 text-xs bg-red-600 text-white rounded"},"Reject"))))))))},_$=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),s=zn();k.useEffect(()=>{let l=null;const u=Sf(Ge,c=>{if(!c){s("/login");return}l=kA(c.uid,h=>{const m=[...h].sort((g,w)=>(w.lastMessageAt?.seconds||0)-(g.lastMessageAt?.seconds||0));e(m),r(!1)})});return()=>{u(),l&&l()}},[s]);const o=Ge.currentUser?.uid;return n?y.createElement("div",{className:"text-center py-20 text-gray-500"},"Loading conversations..."):y.createElement("main",{className:"max-w-4xl mx-auto px-4 py-8"},y.createElement("h1",{className:"text-2xl font-bold mb-6"}," Messages"),t.length===0?y.createElement("div",{className:"flex flex-col items-center justify-center mt-24 text-center"},y.createElement("div",{className:"bg-blue-50 p-6 rounded-full mb-5"},y.createElement("span",{className:"text-4xl"},"")),y.createElement("h2",{className:"text-lg font-semibold text-gray-800"},"No conversations yet"),y.createElement("p",{className:"text-gray-500 max-w-sm mt-2 text-sm"},"When you contact a seller or someone messages you about your product, conversations will appear here."),y.createElement(Ve,{to:"/browse",className:"mt-6 inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition"},"Browse Products")):y.createElement("div",{className:"space-y-4"},t.map(l=>{const u=o===l.buyerId?l.buyerUnread>0:l.sellerUnread>0;return y.createElement(Ve,{key:l.id,to:`/messages/${l.id}`,className:`block bg-white p-4 sm:p-5 rounded-xl border transition
                  ${u?"border-blue-200 shadow-sm":"border-gray-100"}`},y.createElement("div",{className:"flex items-center gap-4"},y.createElement("img",{src:l.productImage||"/placeholder.png",alt:"product",className:"w-16 h-16 rounded-lg object-cover bg-gray-100"}),y.createElement("div",{className:"flex-1 min-w-0"},y.createElement("p",{className:"font-semibold line-clamp-1"},l.productTitle),y.createElement("p",{className:"text-sm text-gray-500 line-clamp-1"},l.lastMessage||"Say hi ")),u&&y.createElement("span",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full"})))})))},T$=()=>{const{conversationId:t}=By(),e=zn(),[n,r]=k.useState([]),[s,o]=k.useState(""),[l,u]=k.useState(null),[c,h]=k.useState(!0),m=k.useRef(null),g=()=>{m.current?.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{g()},[n]),k.useEffect(()=>{const E=Ge.currentUser;if(!E){e("/login");return}(async()=>{try{const P=Je(xe,"conversations",t),C=await is(P);if(!C.exists()){e("/messages");return}const R=C.data();u(R),R.buyerId===E.uid&&R.buyerUnread>0&&await jn(P,{buyerUnread:0}),R.sellerId===E.uid&&R.sellerUnread>0&&await jn(P,{sellerUnread:0})}catch(P){console.error("Chat init error:",P)}finally{h(!1)}})();const A=jB(t,r);return()=>A&&A()},[t,e]);const w=async E=>{if(E.preventDefault(),!(!s.trim()||l?.isBlocked))try{await BB(t,Ge.currentUser.uid,s.trim()),o("")}catch(b){console.error("Send message failed:",b)}};return c?y.createElement("div",{className:"p-6 text-center text-gray-500"},"Loading chat"):y.createElement("div",{className:"max-w-4xl mx-auto h-[85vh] flex flex-col bg-white border rounded-xl shadow-sm mt-4"},y.createElement("div",{className:"border-b px-4 pb-3 pt-3 mb-1 flex items-center gap-3"},y.createElement("button",{onClick:()=>e(-1),className:"text-gray-500 hover:text-black mr-2"},""),y.createElement("img",{src:l?.productImage||"/placeholder.png",alt:"Product",className:"w-10 h-10 rounded-lg object-cover bg-gray-100"}),y.createElement("div",null,y.createElement("p",{className:"font-semibold text-sm line-clamp-1"},l?.productTitle||"Product Inquiry"),y.createElement("p",{className:"text-xs text-gray-500"}," Secure chat"))),l?.isBlocked&&y.createElement("div",{className:"bg-red-50 text-red-600 text-xs text-center py-2 mx-4 mb-2 rounded"},"This conversation has been blocked."),y.createElement("div",{className:"flex-1 overflow-y-auto px-4 py-2 space-y-3"},n.map(E=>{const b=E.senderId===Ge.currentUser.uid;return y.createElement("div",{key:E.id,className:`flex ${b?"justify-end":"justify-start"}`},y.createElement("div",{className:`px-4 py-2 rounded-2xl max-w-[75%] text-sm leading-relaxed shadow-sm ${b?"bg-blue-600 text-white rounded-br-sm":"bg-gray-100 text-gray-800 rounded-bl-sm"}`},y.createElement("p",null,E.text),y.createElement("span",{className:`block text-[10px] mt-1 text-right ${b?"text-blue-100":"text-gray-400"}`},E.createdAt?.toDate?E.createdAt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"...")))}),y.createElement("div",{ref:m})),y.createElement("form",{onSubmit:w,className:"border-t px-4 py-3 flex gap-2"},y.createElement("input",{type:"text",value:s,onChange:E=>o(E.target.value),disabled:l?.isBlocked,placeholder:"Type a message...",className:"flex-1 border rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"}),y.createElement("button",{type:"submit",disabled:!s.trim()||l?.isBlocked,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white px-6 py-2 rounded-full text-sm font-semibold transition"},"Send")))},S$=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!1),s=zn();k.useEffect(()=>{const l=Ge.currentUser;if(!l)return;const u=VB(l.uid,e);return()=>u&&u()},[]);const o=async l=>{await FB(Ge.currentUser.uid,l.id),r(!1),l.link&&s(l.link)};return y.createElement("div",{className:"relative"},y.createElement("button",{onClick:()=>r(!n),className:"relative p-2 rounded-full hover:bg-gray-100"},y.createElement(Az,{size:22}),t.length>0&&y.createElement("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full"},t.length)),n&&y.createElement("div",{className:"absolute right-0 mt-2 w-80 bg-white border rounded-xl shadow-lg z-50"},y.createElement("div",{className:"p-3 border-b font-semibold"},"Notifications"),t.length===0?y.createElement("p",{className:"p-4 text-sm text-gray-500"},"No new notifications"):t.map(l=>y.createElement("div",{key:l.id,onClick:()=>o(l),className:"p-3 text-sm cursor-pointer hover:bg-gray-50 border-b last:border-none"},y.createElement("p",{className:"font-medium"},l.title),y.createElement("p",{className:"text-gray-500 text-xs mt-0.5"},l.message)))))},eP="@firebase/installations",B0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=1e4,nP=`w:${B0}`,rP="FIS_v2",b$="https://firebaseinstallations.googleapis.com/v1",x$=3600*1e3,I$="installations",C$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wo=new Go(I$,C$,A$);function sP(t){return t instanceof Ir&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP({projectId:t}){return`${b$}/projects/${t}/installations`}function oP(t){return{token:t.token,requestStatus:2,expiresIn:R$(t.expiresIn),creationTime:Date.now()}}async function aP(t,e){const r=(await e.json()).error;return Wo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function lP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function P$(t,{refreshToken:e}){const n=lP(t);return n.append("Authorization",k$(e)),n}async function cP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function R$(t){return Number(t.replace("s","000"))}function k$(t){return`${rP} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=iP(t),s=lP(t),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const l={fid:n,authVersion:rP,appId:t.appId,sdkVersion:nP},u={method:"POST",headers:s,body:JSON.stringify(l)},c=await cP(()=>fetch(r,u));if(c.ok){const h=await c.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:oP(h.authToken)}}else throw await aP("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=/^[cdef][\w-]{21}$/,My="";function L$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=O$(t);return M$.test(n)?n:My}catch{return My}}function O$(t){return D$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new Map;function hP(t,e){const n=Jf(t);fP(n,e),V$(n,e)}function fP(t,e){const n=dP.get(t);if(n)for(const r of n)r(e)}function V$(t,e){const n=F$();n&&n.postMessage({key:t,fid:e}),U$()}let Ro=null;function F$(){return!Ro&&"BroadcastChannel"in self&&(Ro=new BroadcastChannel("[Firebase] FID Change"),Ro.onmessage=t=>{fP(t.data.key,t.data.fid)}),Ro}function U$(){dP.size===0&&Ro&&(Ro.close(),Ro=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="firebase-installations-database",j$=1,qo="firebase-installations-store";let wg=null;function j0(){return wg||(wg=_f(B$,j$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qo)}}})),wg}async function pf(t,e){const n=Jf(t),s=(await j0()).transaction(qo,"readwrite"),o=s.objectStore(qo),l=await o.get(n);return await o.put(e,n),await s.done,(!l||l.fid!==e.fid)&&hP(t,e.fid),e}async function pP(t){const e=Jf(t),r=(await j0()).transaction(qo,"readwrite");await r.objectStore(qo).delete(e),await r.done}async function Zf(t,e){const n=Jf(t),s=(await j0()).transaction(qo,"readwrite"),o=s.objectStore(qo),l=await o.get(n),u=e(l);return u===void 0?await o.delete(n):await o.put(u,n),await s.done,u&&(!l||l.fid!==u.fid)&&hP(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0(t){let e;const n=await Zf(t.appConfig,r=>{const s=z$(r),o=$$(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===My?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function z$(t){const e=t||{fid:L$(),registrationStatus:0};return mP(e)}function $$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Wo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=H$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:W$(t)}:{installationEntry:e}}async function H$(t,e){try{const n=await N$(t,e);return pf(t.appConfig,n)}catch(n){throw sP(n)&&n.customData.serverCode===409?await pP(t.appConfig):await pf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function W$(t){let e=await _1(t.appConfig);for(;e.registrationStatus===1;)await uP(100),e=await _1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await z0(t);return r||n}return e}function _1(t){return Zf(t,e=>{if(!e)throw Wo.create("installation-not-found");return mP(e)})}function mP(t){return q$(t)?{fid:t.fid,registrationStatus:0}:t}function q$(t){return t.registrationStatus===1&&t.registrationTime+tP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G$({appConfig:t,heartbeatServiceProvider:e},n){const r=K$(t,n),s=P$(t,n),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const l={installation:{sdkVersion:nP,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},c=await cP(()=>fetch(r,u));if(c.ok){const h=await c.json();return oP(h)}else throw await aP("Generate Auth Token",c)}function K$(t,{fid:e}){return`${iP(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(t,e=!1){let n;const r=await Zf(t.appConfig,o=>{if(!gP(o))throw Wo.create("not-registered");const l=o.authToken;if(!e&&X$(l))return o;if(l.requestStatus===1)return n=Y$(t,e),o;{if(!navigator.onLine)throw Wo.create("app-offline");const u=Z$(o);return n=Q$(t,u),u}});return n?await n:r.authToken}async function Y$(t,e){let n=await T1(t.appConfig);for(;n.authToken.requestStatus===1;)await uP(100),n=await T1(t.appConfig);const r=n.authToken;return r.requestStatus===0?$0(t,e):r}function T1(t){return Zf(t,e=>{if(!gP(e))throw Wo.create("not-registered");const n=e.authToken;return e8(n)?{...e,authToken:{requestStatus:0}}:e})}async function Q$(t,e){try{const n=await G$(t,e),r={...e,authToken:n};return await pf(t.appConfig,r),n}catch(n){if(sP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await pP(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await pf(t.appConfig,r)}throw n}}function gP(t){return t!==void 0&&t.registrationStatus===2}function X$(t){return t.requestStatus===2&&!J$(t)}function J$(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+x$}function Z$(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function e8(t){return t.requestStatus===1&&t.requestTime+tP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(t){const e=t,{installationEntry:n,registrationPromise:r}=await z0(e);return r?r.catch(console.error):$0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(t,e=!1){const n=t;return await r8(n),(await $0(n,e)).token}async function r8(t){const{registrationPromise:e}=await z0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){if(!t||!t.options)throw Eg("App Configuration");if(!t.name)throw Eg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Eg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Eg(t){return Wo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="installations",i8="installations-internal",o8=t=>{const e=t.getProvider("app").getImmediate(),n=s8(e),r=Ko(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},a8=t=>{const e=t.getProvider("app").getImmediate(),n=Ko(e,yP).getImmediate();return{getId:()=>t8(n),getToken:s=>n8(n,s)}};function l8(){Er(new rr(yP,o8,"PUBLIC")),Er(new rr(i8,a8,"PRIVATE"))}l8();Cn(eP,B0);Cn(eP,B0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8="/firebase-messaging-sw.js",u8="/firebase-cloud-messaging-push-scope",vP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",d8="https://fcmregistrations.googleapis.com/v1",wP="google.c.a.c_id",h8="google.c.a.c_l",f8="google.c.a.ts",p8="google.c.a.e",S1=1e4;var b1;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(b1||(b1={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var mu;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(mu||(mu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m8(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let o=0;o<r.length;++o)s[o]=r.charCodeAt(o);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="fcm_token_details_db",g8=5,x1="fcm_token_object_Store";async function y8(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(_g))return null;let e=null;return(await _f(_g,g8,{upgrade:async(r,s,o,l)=>{if(s<2||!r.objectStoreNames.contains(x1))return;const u=l.objectStore(x1),c=await u.index("fcmSenderId").get(t);if(await u.clear(),!!c){if(s===2){const h=c;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:h.createTime??Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:Is(h.vapidKey)}}}else if(s===3){const h=c;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Is(h.auth),p256dh:Is(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Is(h.vapidKey)}}}else if(s===4){const h=c;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Is(h.auth),p256dh:Is(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Is(h.vapidKey)}}}}}})).close(),await Km(_g),await Km("fcm_vapid_details_db"),await Km("undefined"),v8(e)?e:null}function v8(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="firebase-messaging-database",E8=1,gu="firebase-messaging-store";let Tg=null;function EP(){return Tg||(Tg=_f(w8,E8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gu)}}})),Tg}async function _8(t){const e=_P(t),r=await(await EP()).transaction(gu).objectStore(gu).get(e);if(r)return r;{const s=await y8(t.appConfig.senderId);if(s)return await H0(t,s),s}}async function H0(t,e){const n=_P(t),s=(await EP()).transaction(gu,"readwrite");return await s.objectStore(gu).put(e,n),await s.done,e}function _P({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},cn=new Go("messaging","Messaging",T8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S8(t,e){const n=await q0(t),r=TP(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(W0(t.appConfig),s)).json()}catch(l){throw cn.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(o.error){const l=o.error.message;throw cn.create("token-subscribe-failed",{errorInfo:l})}if(!o.token)throw cn.create("token-subscribe-no-token");return o.token}async function b8(t,e){const n=await q0(t),r=TP(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${W0(t.appConfig)}/${e.token}`,s)).json()}catch(l){throw cn.create("token-update-failed",{errorInfo:l?.toString()})}if(o.error){const l=o.error.message;throw cn.create("token-update-failed",{errorInfo:l})}if(!o.token)throw cn.create("token-update-no-token");return o.token}async function x8(t,e){const r={method:"DELETE",headers:await q0(t)};try{const o=await(await fetch(`${W0(t.appConfig)}/${e}`,r)).json();if(o.error){const l=o.error.message;throw cn.create("token-unsubscribe-failed",{errorInfo:l})}}catch(s){throw cn.create("token-unsubscribe-failed",{errorInfo:s?.toString()})}}function W0({projectId:t}){return`${d8}/projects/${t}/registrations`}async function q0({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function TP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==vP&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=10080*60*1e3;async function C8(t){const e=await P8(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Is(e.getKey("auth")),p256dh:Is(e.getKey("p256dh"))},r=await _8(t.firebaseDependencies);if(r){if(R8(r.subscriptionOptions,n))return Date.now()>=r.createTime+I8?A8(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await x8(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return I1(t.firebaseDependencies,n)}else return I1(t.firebaseDependencies,n)}async function A8(t,e){try{const n=await b8(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await H0(t.firebaseDependencies,r),n}catch(n){throw n}}async function I1(t,e){const r={token:await S8(t,e),createTime:Date.now(),subscriptionOptions:e};return await H0(t,r),r.token}async function P8(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:m8(e)})}function R8(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&s&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return k8(e,t),N8(e,t),D8(e,t),e}function k8(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const o=e.notification.icon;o&&(t.notification.icon=o)}function N8(t,e){e.data&&(t.data=e.data)}function D8(t,e){if(!e.fcmOptions&&!e.notification?.click_action)return;t.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(t.fcmOptions.link=n);const r=e.fcmOptions?.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(t){return typeof t=="object"&&!!t&&wP in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){if(!t||!t.options)throw Sg("App Configuration Object");if(!t.name)throw Sg("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Sg(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Sg(t){return cn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=L8(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(t){try{t.swRegistration=await navigator.serviceWorker.register(c8,{scope:u8}),t.swRegistration.update().catch(()=>{}),await F8(t.swRegistration)}catch(e){throw cn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function F8(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${S1} ms`)),S1),s=t.installing||t.waiting;t.active?(clearTimeout(r),e()):s?s.onstatechange=o=>{o.target?.state==="activated"&&(s.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(t,e){if(!e&&!t.swRegistration&&await V8(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=vP)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(t,e){if(!navigator)throw cn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw cn.create("permission-blocked");return await B8(t,e?.vapidKey),await U8(t,e?.serviceWorkerRegistration),C8(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(t,e,n){const r=z8(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[wP],message_name:n[h8],message_time:n[f8],message_device_time:Math.floor(Date.now()/1e3)})}function z8(t){switch(t){case mu.NOTIFICATION_CLICKED:return"notification_open";case mu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===mu.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(C1(n)):t.onMessageHandler.next(C1(n)));const r=n.data;M8(r)&&r[p8]==="1"&&await j8(t,n.messageType,r)}const A1="@firebase/messaging",P1="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=t=>{const e=new O8(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>$8(e,n)),e},W8=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>SP(e,r)}};function q8(){Er(new rr("messaging",H8,"PUBLIC")),Er(new rr("messaging-internal",W8,"PRIVATE")),Cn(A1,P1),Cn(A1,P1,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(){try{await Ox()}catch{return!1}return typeof window<"u"&&Lx()&&dO()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(t,e){if(!navigator)throw cn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t=bu()){return G8().then(e=>{if(!e)throw cn.create("unsupported-browser")},e=>{throw cn.create("indexed-db-unsupported")}),Ko(Ze(t),"messaging").getImmediate()}async function Q8(t,e){return t=Ze(t),SP(t,e)}function X8(t,e){return t=Ze(t),K8(t,e)}q8();const bP=Y8(Kf),J8=async()=>{try{return await Notification.requestPermission()!=="granted"?null:await Q8(bP,{vapidKey:"BM2wzxG01q8tnlhLliqbUFW_nO5tuqBhau4GoFsjVar-yOSnwhABXB2Rsv9kYr8FGQIIeFcGpZ5-wBn12ijeXJk"})}catch(t){return console.error("FCM error:",t),null}},Z8=t=>{X8(bP,t)},e7=async(t,e)=>{if(!(!t||!e))try{await nf(Je(xe,"fcmTokens",t),{token:e,updatedAt:Tr()},{merge:!0})}catch(n){console.error("Failed to save FCM token",n)}},t7=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(null),[s,o]=k.useState(!1),[l,u]=k.useState(!1),[c,h]=k.useState(0),m=zn();k.useEffect(()=>{const w=Sf(Ge,async E=>{if(e(E),E){const b=await is(Je(xe,"users",E.uid));b.exists()&&r(b.data().role||"user");const A=kA(E.uid,P=>{const C=P.filter(R=>R.buyerUnread>0||R.sellerUnread>0).length;h(C)});return()=>A&&A()}else r(null),h(0)});return()=>w()},[]),k.useEffect(()=>{t?.uid&&J8().then(w=>{w&&e7(t.uid,w)})},[t]);const g=async()=>{await k4(Ge),m("/"),o(!1)};return y.createElement("nav",{className:"bg-white sticky top-0 z-50 border-b"},y.createElement("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between"},y.createElement(Ve,{to:"/",className:"flex items-center gap-2"},y.createElement("img",{src:"/logo192.png",alt:"MyAmravati",className:"h-8 w-8"}),y.createElement("span",{className:"font-bold text-blue-600 text-lg"},"MyAmravati")),y.createElement("div",{className:"hidden sm:flex items-center gap-6 text-sm"},y.createElement(Ve,{to:"/browse",className:"hover:text-blue-600"},"Browse"),y.createElement(Ve,{to:"/add-product",className:"bg-blue-600 text-white px-4 py-1.5 rounded-lg hover:bg-blue-700 transition"},"Sell")),y.createElement("div",{className:"flex items-center gap-4"},t&&y.createElement(y.Fragment,null,y.createElement(Ve,{to:"/messages",className:"relative text-sm hover:text-blue-600 hidden sm:block"},"Messages",c>0&&y.createElement("span",{className:"absolute -top-2 -right-3 bg-blue-600 text-white text-xs px-1.5 rounded-full"},c)),y.createElement("div",{className:"flex items-center"},y.createElement(S$,null))),t?y.createElement("div",{className:"relative hidden sm:block"},y.createElement("button",{onClick:()=>u(!l),className:"w-9 h-9 rounded-full bg-gray-100 flex items-center justify-center text-sm font-semibold"},t.email?.charAt(0).toUpperCase()),l&&y.createElement("div",{className:"absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-md text-sm overflow-hidden"},y.createElement(Ve,{to:"/dashboard",className:"block px-4 py-2 hover:bg-gray-100"},"Dashboard"),y.createElement(Ve,{to:"/favorites",className:"block px-4 py-2 hover:bg-gray-100"},"Wishlist"),n==="admin"&&y.createElement(Ve,{to:"/admin",className:"block px-4 py-2 hover:bg-gray-100"},"Admin"),y.createElement("button",{onClick:g,className:"w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100"},"Logout"))):y.createElement("div",{className:"hidden sm:flex items-center gap-3 text-sm"},y.createElement(Ve,{to:"/login",className:"hover:text-blue-600"},"Login"),y.createElement(Ve,{to:"/signup",className:"border border-blue-600 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-600 hover:text-white transition"},"Signup")),y.createElement("button",{onClick:()=>o(!s),className:"sm:hidden text-xl","aria-label":"Open menu"},""))),s&&y.createElement("div",{className:"sm:hidden bg-white border-t"},y.createElement("div",{className:"flex flex-col text-sm divide-y"},y.createElement(Ve,{to:"/browse",onClick:()=>o(!1),className:"px-4 py-3"},"Browse"),y.createElement(Ve,{to:"/add-product",onClick:()=>o(!1),className:"px-4 py-3"},"Sell"),t&&y.createElement(y.Fragment,null,y.createElement(Ve,{to:"/messages",onClick:()=>o(!1),className:"px-4 py-3"},"Messages ",c>0&&`(${c})`),y.createElement(Ve,{to:"/favorites",onClick:()=>o(!1),className:"px-4 py-3"},"Wishlist"),y.createElement(Ve,{to:"/dashboard",onClick:()=>o(!1),className:"px-4 py-3"},"Dashboard"),n==="admin"&&y.createElement(Ve,{to:"/admin",onClick:()=>o(!1),className:"px-4 py-3"},"Admin"),y.createElement("button",{onClick:g,className:"px-4 py-3 text-left text-red-600"},"Logout")),!t&&y.createElement(y.Fragment,null,y.createElement(Ve,{to:"/login",onClick:()=>o(!1),className:"px-4 py-3"},"Login"),y.createElement(Ve,{to:"/signup",onClick:()=>o(!1),className:"px-4 py-3"},"Signup")))))},n7=()=>y.createElement("footer",{className:"bg-gray-900 text-gray-300 mt-20"},y.createElement("div",{className:"max-w-7xl mx-auto px-6 py-12 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 text-sm"},y.createElement("div",null,y.createElement("h3",{className:"text-white font-bold text-lg mb-3"},"MyAmravati Market"),y.createElement("p",{className:"text-gray-400 leading-relaxed"},"Amravatis own local marketplace to buy and sell products safely. Built for students, shop owners, and home entrepreneurs.")),y.createElement("div",null,y.createElement("h4",{className:"text-white font-semibold mb-3"},"Explore"),y.createElement("ul",{className:"space-y-2"},y.createElement("li",null,y.createElement(Ve,{to:"/browse",className:"hover:text-white"},"Browse Products")),y.createElement("li",null,y.createElement(Ve,{to:"/add-product",className:"hover:text-white"},"Sell a Product")),y.createElement("li",null,y.createElement(Ve,{to:"/favorites",className:"hover:text-white"},"Wishlist")))),y.createElement("div",null,y.createElement("h4",{className:"text-white font-semibold mb-3"},"Legal"),y.createElement("ul",{className:"space-y-2"},y.createElement("li",null,y.createElement(Ve,{to:"/terms",className:"hover:text-white"},"Terms & Conditions")),y.createElement("li",null,y.createElement(Ve,{to:"/privacy",className:"hover:text-white"},"Privacy Policy")))),y.createElement("div",null,y.createElement("h4",{className:"text-white font-semibold mb-3"},"Support"),y.createElement("p",{className:"text-gray-400"},"Email us for help or feedback"),y.createElement("a",{href:"mailto:myamravatimart007@gmail.com",className:"inline-block mt-2 text-blue-400 hover:underline"},"myamravatimart007@gmail.com"))),y.createElement("div",{className:"border-t border-gray-800 py-4 text-center text-xs text-gray-500"}," ",new Date().getFullYear()," MyAmravati Market. Built for Amravati."));function ja({children:t}){const[e,n]=N0(Ge);return n?y.createElement("p",null,"Loading..."):e?t:y.createElement(H1,{to:"/login"})}const za=({children:t})=>{const[e,n]=k.useState(null);return k.useEffect(()=>{(async()=>{const s=Ge.currentUser;if(!s)return n(!1);const o=await is(Je(xe,"users",s.uid));o.exists()&&o.data().role==="admin"?n(!0):n(!1)})()},[]),e===null?y.createElement("div",{className:"flex h-screen justify-center items-center text-gray-600"},"Checking permissions..."):e?t:y.createElement("div",{className:"flex flex-col items-center justify-center h-screen"},y.createElement("p",{className:"text-2xl text-red-600 mb-2"}," Access Denied"),y.createElement("p",{className:"text-gray-700"},"Admin Only"))},r7=()=>{const{pathname:t}=xr();return k.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[t]),null};function xP(t,e,n){return Math.max(t,Math.min(e,n))}class s7{advance(e){if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(r=this.value,s=this.to,o=60*this.lerp,l=e,(function(u,c,h){return(1-h)*u+h*c})(r,s,1-Math.exp(-o*l))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;const u=xP(0,this.currentTime/this.duration,1);n=u>=1;const c=n?1:this.easing(u);this.value=this.from+(this.to-this.from)*c}var r,s,o,l;this.onUpdate?.(this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(e,n,{lerp:r=.1,duration:s=1,easing:o=(c=>c),onStart:l,onUpdate:u}){this.from=this.value=e,this.to=n,this.lerp=r,this.duration=s,this.easing=o,this.currentTime=0,this.isRunning=!0,l?.(),this.onUpdate=u}}class i7{constructor({wrapper:e,content:n,autoResize:r=!0,debounce:s=250}={}){this.wrapper=e,this.content=n,r&&(this.debouncedResize=(function(o,l){let u;return function(){let c=arguments,h=this;clearTimeout(u),u=setTimeout((function(){o.apply(h,c)}),l)}})(this.resize,s),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class IP{constructor(){this.events={}}emit(e,...n){let r=this.events[e]||[];for(let s=0,o=r.length;s<o;s++)r[s](...n)}on(e,n){return this.events[e]?.push(n)||(this.events[e]=[n]),()=>{this.events[e]=this.events[e]?.filter((r=>n!==r))}}off(e,n){this.events[e]=this.events[e]?.filter((r=>n!==r))}destroy(){this.events={}}}const R1=100/6;class o7{constructor(e,{wheelMultiplier:n=1,touchMultiplier:r=1}){this.element=e,this.wheelMultiplier=n,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new IP,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,n){return this.emitter.on(e,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}onTouchStart=e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e,s=-(n-this.touchStart.x)*this.touchMultiplier,o=-(r-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:s,y:o},this.emitter.emit("scroll",{deltaX:s,deltaY:o,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:n,deltaY:r,deltaMode:s}=e;n*=s===1?R1:s===2?this.windowWidth:1,r*=s===1?R1:s===2?this.windowHeight:1,n*=this.wheelMultiplier,r*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:r,event:e})};onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}class a7{constructor({wrapper:e=window,content:n=document.documentElement,wheelEventsTarget:r=e,eventsTarget:s=r,smoothWheel:o=!0,syncTouch:l=!1,syncTouchLerp:u=.075,touchInertiaMultiplier:c=35,duration:h,easing:m=(N=>Math.min(1,1.001-Math.pow(2,-10*N))),lerp:g=!h&&.1,infinite:w=!1,orientation:E="vertical",gestureOrientation:b="vertical",touchMultiplier:A=1,wheelMultiplier:P=1,autoResize:C=!0,__experimental__naiveDimensions:R=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:N,deltaY:z,event:q})=>{if(q.ctrlKey)return;const re=q.type.includes("touch"),F=q.type.includes("wheel");if(this.options.syncTouch&&re&&q.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const x=N===0&&z===0,L=this.options.gestureOrientation==="vertical"&&z===0||this.options.gestureOrientation==="horizontal"&&N===0;if(x||L)return;let O=q.composedPath();if(O=O.slice(0,O.indexOf(this.rootElement)),O.find((K=>{var G,ne,X,j,Z;return((G=K.hasAttribute)===null||G===void 0?void 0:G.call(K,"data-lenis-prevent"))||re&&((ne=K.hasAttribute)===null||ne===void 0?void 0:ne.call(K,"data-lenis-prevent-touch"))||F&&((X=K.hasAttribute)===null||X===void 0?void 0:X.call(K,"data-lenis-prevent-wheel"))||((j=K.classList)===null||j===void 0?void 0:j.contains("lenis"))&&!(!((Z=K.classList)===null||Z===void 0)&&Z.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void q.preventDefault();if(this.isSmooth=this.options.syncTouch&&re||this.options.smoothWheel&&F,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();q.preventDefault();let V=z;this.options.gestureOrientation==="both"?V=Math.abs(z)>Math.abs(N)?z:N:this.options.gestureOrientation==="horizontal"&&(V=N);const B=re&&this.options.syncTouch,M=re&&q.type==="touchend"&&Math.abs(V)>5;M&&(V=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+V,Object.assign({programmatic:!1},B?{lerp:M?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const N=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-N),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:n,wheelEventsTarget:r,eventsTarget:s,smoothWheel:o,syncTouch:l,syncTouchLerp:u,touchInertiaMultiplier:c,duration:h,easing:m,lerp:g,infinite:w,gestureOrientation:b,orientation:E,touchMultiplier:A,wheelMultiplier:P,autoResize:C,__experimental__naiveDimensions:R},this.animate=new s7,this.emitter=new IP,this.dimensions=new i7({wrapper:e,content:n,autoResize:C}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=l||o,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new o7(s,{touchMultiplier:A,wheelMultiplier:P}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,n){return this.emitter.on(e,n)}off(e,n){return this.emitter.off(e,n)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const n=e-(this.time||e);this.time=e,this.animate.advance(.001*n)}scrollTo(e,{offset:n=0,immediate:r=!1,lock:s=!1,duration:o=this.options.duration,easing:l=this.options.easing,lerp:u=!o&&this.options.lerp,onComplete:c,force:h=!1,programmatic:m=!0}={}){if(!this.isStopped&&!this.isLocked||h){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let g;if(typeof e=="string"?g=document.querySelector(e):e?.nodeType&&(g=e),g){if(this.options.wrapper!==window){const E=this.options.wrapper.getBoundingClientRect();n-=this.isHorizontal?E.left:E.top}const w=g.getBoundingClientRect();e=(this.isHorizontal?w.left:w.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=n,e=Math.round(e),this.options.infinite?m&&(this.targetScroll=this.animatedScroll=this.scroll):e=xP(0,e,this.limit),r)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(c==null||c(this));if(!m){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:o,easing:l,lerp:u,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(g,w)=>{this.isScrolling=!0,this.velocity=g-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=g,this.setScroll(this.scroll),m&&(this.targetScroll=g),w||this.emit(),w&&(this.reset(),this.emit(),c?.(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,n=this.limit,(e%n+n)%n):this.animatedScroll;var e,n}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,n){this.rootElement.classList.toggle(e,n),this.emitter.emit("className change",this)}}function l7(){k.useEffect(()=>{const t=new a7({duration:1.2,easing:n=>Math.min(1,1.001-Math.pow(2,-10*n)),smooth:!0});function e(n){t.raf(n),requestAnimationFrame(e)}return requestAnimationFrame(e),()=>{t.destroy()}},[])}var bg={},xg={},Ig={},k1;function c7(){return k1||(k1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];if(typeof window<"u"){var u;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(u=window).gtag.apply(u,o)}},n=e;t.default=n})(Ig)),Ig}var Cg={},N1;function u7(){return N1||(N1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(u){return u.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(c,h,m){return h>0&&h+c.length!==m.length&&c.search(e)>-1&&m.charAt(h-2)!==":"&&(m.charAt(h+c.length)!=="-"||m.charAt(h-1)==="-")&&m.charAt(h-1).search(/[^\s-]/)<0?c.toLowerCase():c.substr(1).search(/[A-Z]|\../)>-1?c:c.charAt(0).toUpperCase()+c.substr(1)})}function r(u){return typeof u=="string"&&u.indexOf("@")!==-1}var s="REDACTED (Potential Email Address)";function o(u){return r(u)?(console.warn("This arg looks like an email address, redacting."),s):u}function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m=u||"";return c&&(m=n(u)),h&&(m=o(m)),m}})(Cg)),Cg}var D1;function d7(){return D1||(D1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=l(c7()),n=l(u7()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],s=["title","location"],o=["page","hitType"];function l(K){return K&&K.__esModule?K:{default:K}}function u(K,G){if(K==null)return{};var ne=c(K,G),X,j;if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(K);for(j=0;j<Z.length;j++)X=Z[j],!(G.indexOf(X)>=0)&&Object.prototype.propertyIsEnumerable.call(K,X)&&(ne[X]=K[X])}return ne}function c(K,G){if(K==null)return{};var ne={},X=Object.keys(K),j,Z;for(Z=0;Z<X.length;Z++)j=X[Z],!(G.indexOf(j)>=0)&&(ne[j]=K[j]);return ne}function h(K){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},h(K)}function m(K){return E(K)||w(K)||R(K)||g()}function g(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(K){if(typeof Symbol<"u"&&K[Symbol.iterator]!=null||K["@@iterator"]!=null)return Array.from(K)}function E(K){if(Array.isArray(K))return N(K)}function b(K,G){var ne=Object.keys(K);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(K);G&&(X=X.filter(function(j){return Object.getOwnPropertyDescriptor(K,j).enumerable})),ne.push.apply(ne,X)}return ne}function A(K){for(var G=1;G<arguments.length;G++){var ne=arguments[G]!=null?arguments[G]:{};G%2?b(Object(ne),!0).forEach(function(X){L(K,X,ne[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(ne)):b(Object(ne)).forEach(function(X){Object.defineProperty(K,X,Object.getOwnPropertyDescriptor(ne,X))})}return K}function P(K,G){return q(K)||z(K,G)||R(K,G)||C()}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(K,G){if(K){if(typeof K=="string")return N(K,G);var ne=Object.prototype.toString.call(K).slice(8,-1);if(ne==="Object"&&K.constructor&&(ne=K.constructor.name),ne==="Map"||ne==="Set")return Array.from(K);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return N(K,G)}}function N(K,G){(G==null||G>K.length)&&(G=K.length);for(var ne=0,X=new Array(G);ne<G;ne++)X[ne]=K[ne];return X}function z(K,G){var ne=K==null?null:typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(ne!=null){var X,j,Z,oe,H=[],se=!0,we=!1;try{if(Z=(ne=ne.call(K)).next,G!==0)for(;!(se=(X=Z.call(ne)).done)&&(H.push(X.value),H.length!==G);se=!0);}catch(_e){we=!0,j=_e}finally{try{if(!se&&ne.return!=null&&(oe=ne.return(),Object(oe)!==oe))return}finally{if(we)throw j}}return H}}function q(K){if(Array.isArray(K))return K}function re(K,G){if(!(K instanceof G))throw new TypeError("Cannot call a class as a function")}function F(K,G){for(var ne=0;ne<G.length;ne++){var X=G[ne];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(K,O(X.key),X)}}function x(K,G,ne){return G&&F(K.prototype,G),Object.defineProperty(K,"prototype",{writable:!1}),K}function L(K,G,ne){return G=O(G),G in K?Object.defineProperty(K,G,{value:ne,enumerable:!0,configurable:!0,writable:!0}):K[G]=ne,K}function O(K){var G=V(K,"string");return h(G)==="symbol"?G:String(G)}function V(K,G){if(h(K)!=="object"||K===null)return K;var ne=K[Symbol.toPrimitive];if(ne!==void 0){var X=ne.call(K,G);if(h(X)!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(K)}var B=(function(){function K(){var G=this;re(this,K),L(this,"reset",function(){G.isInitialized=!1,G._testMode=!1,G._currentMeasurementId,G._hasLoadedGA=!1,G._isQueuing=!1,G._queueGtag=[]}),L(this,"_gtag",function(){for(var ne=arguments.length,X=new Array(ne),j=0;j<ne;j++)X[j]=arguments[j];G._testMode||G._isQueuing?G._queueGtag.push(X):e.default.apply(void 0,X)}),L(this,"_loadGA",function(ne,X){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!G._hasLoadedGA){var Z=document.createElement("script");Z.async=!0,Z.src="".concat(j,"?id=").concat(ne),X&&Z.setAttribute("nonce",X),document.body.appendChild(Z),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},G._hasLoadedGA=!0}}),L(this,"_toGtagOptions",function(ne){if(ne){var X={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},j=Object.entries(ne).reduce(function(Z,oe){var H=P(oe,2),se=H[0],we=H[1];return X[se]?Z[X[se]]=we:Z[se]=we,Z},{});return j}}),L(this,"initialize",function(ne){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ne)throw new Error("Require GA_MEASUREMENT_ID");var j=typeof ne=="string"?[{trackingId:ne}]:ne;G._currentMeasurementId=j[0].trackingId;var Z=X.gaOptions,oe=X.gtagOptions,H=X.nonce,se=X.testMode,we=se===void 0?!1:se,_e=X.gtagUrl;if(G._testMode=we,we||G._loadGA(G._currentMeasurementId,H,_e),G.isInitialized||(G._gtag("js",new Date),j.forEach(function(ze){var Fe=A(A(A({},G._toGtagOptions(A(A({},Z),ze.gaOptions))),oe),ze.gtagOptions);Object.keys(Fe).length?G._gtag("config",ze.trackingId,Fe):G._gtag("config",ze.trackingId)})),G.isInitialized=!0,!we){var Me=m(G._queueGtag);for(G._queueGtag=[],G._isQueuing=!1;Me.length;){var Le=Me.shift();G._gtag.apply(G,m(Le)),Le[0]==="get"&&(G._isQueuing=!0)}}}),L(this,"set",function(ne){if(!ne){console.warn("`fieldsObject` is required in .set()");return}if(h(ne)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(ne).length===0&&console.warn("empty `fieldsObject` given to .set()"),G._gaCommand("set",ne)}),L(this,"_gaCommandSendEvent",function(ne,X,j,Z,oe){G._gtag("event",X,A(A({event_category:ne,event_label:j,value:Z},oe&&{non_interaction:oe.nonInteraction}),G._toGtagOptions(oe)))}),L(this,"_gaCommandSendEventParameters",function(){for(var ne=arguments.length,X=new Array(ne),j=0;j<ne;j++)X[j]=arguments[j];if(typeof X[0]=="string")G._gaCommandSendEvent.apply(G,m(X.slice(1)));else{var Z=X[0],oe=Z.eventCategory,H=Z.eventAction,se=Z.eventLabel,we=Z.eventValue;Z.hitType;var _e=u(Z,r);G._gaCommandSendEvent(oe,H,se,we,_e)}}),L(this,"_gaCommandSendTiming",function(ne,X,j,Z){G._gtag("event","timing_complete",{name:X,value:j,event_category:ne,event_label:Z})}),L(this,"_gaCommandSendPageview",function(ne,X){if(X&&Object.keys(X).length){var j=G._toGtagOptions(X),Z=j.title,oe=j.location,H=u(j,s);G._gtag("event","page_view",A(A(A(A({},ne&&{page_path:ne}),Z&&{page_title:Z}),oe&&{page_location:oe}),H))}else ne?G._gtag("event","page_view",{page_path:ne}):G._gtag("event","page_view")}),L(this,"_gaCommandSendPageviewParameters",function(){for(var ne=arguments.length,X=new Array(ne),j=0;j<ne;j++)X[j]=arguments[j];if(typeof X[0]=="string")G._gaCommandSendPageview.apply(G,m(X.slice(1)));else{var Z=X[0],oe=Z.page;Z.hitType;var H=u(Z,o);G._gaCommandSendPageview(oe,H)}}),L(this,"_gaCommandSend",function(){for(var ne=arguments.length,X=new Array(ne),j=0;j<ne;j++)X[j]=arguments[j];var Z=typeof X[0]=="string"?X[0]:X[0].hitType;switch(Z){case"event":G._gaCommandSendEventParameters.apply(G,X);break;case"pageview":G._gaCommandSendPageviewParameters.apply(G,X);break;case"timing":G._gaCommandSendTiming.apply(G,m(X.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(Z));break;default:console.warn("Send command doesn't exist: ".concat(Z))}}),L(this,"_gaCommandSet",function(){for(var ne=arguments.length,X=new Array(ne),j=0;j<ne;j++)X[j]=arguments[j];typeof X[0]=="string"&&(X[0]=L({},X[0],X[1])),G._gtag("set",G._toGtagOptions(X[0]))}),L(this,"_gaCommand",function(ne){for(var X=arguments.length,j=new Array(X>1?X-1:0),Z=1;Z<X;Z++)j[Z-1]=arguments[Z];switch(ne){case"send":G._gaCommandSend.apply(G,j);break;case"set":G._gaCommandSet.apply(G,j);break;default:console.warn("Command doesn't exist: ".concat(ne))}}),L(this,"ga",function(){for(var ne=arguments.length,X=new Array(ne),j=0;j<ne;j++)X[j]=arguments[j];if(typeof X[0]=="string")G._gaCommand.apply(G,X);else{var Z=X[0];G._gtag("get",G._currentMeasurementId,"client_id",function(oe){G._isQueuing=!1;var H=G._queueGtag;for(Z({get:function(_e){return _e==="clientId"?oe:_e==="trackingId"?G._currentMeasurementId:_e==="apiVersion"?"1":void 0}});H.length;){var se=H.shift();G._gtag.apply(G,m(se))}}),G._isQueuing=!0}return G.ga}),L(this,"event",function(ne,X){if(typeof ne=="string")G._gtag("event",ne,G._toGtagOptions(X));else{var j=ne.action,Z=ne.category,oe=ne.label,H=ne.value,se=ne.nonInteraction,we=ne.transport;if(!Z||!j){console.warn("args.category AND args.action are required in event()");return}var _e={hitType:"event",eventCategory:(0,n.default)(Z),eventAction:(0,n.default)(j)};oe&&(_e.eventLabel=(0,n.default)(oe)),typeof H<"u"&&(typeof H!="number"?console.warn("Expected `args.value` arg to be a Number."):_e.eventValue=H),typeof se<"u"&&(typeof se!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):_e.nonInteraction=se),typeof we<"u"&&(typeof we!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(we)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),_e.transport=we)),G._gaCommand("send",_e)}}),L(this,"send",function(ne){G._gaCommand("send",ne)}),this.reset()}return x(K,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),K})();t.GA4=B;var M=new B;t.default=M})(xg)),xg}var M1;function h7(){return M1||(M1=1,(function(t){function e(u){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var n=s(d7());function r(u){if(typeof WeakMap!="function")return null;var c=new WeakMap,h=new WeakMap;return(r=function(g){return g?h:c})(u)}function s(u,c){if(u&&u.__esModule)return u;if(u===null||e(u)!=="object"&&typeof u!="function")return{default:u};var h=r(c);if(h&&h.has(u))return h.get(u);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in u)if(w!=="default"&&Object.prototype.hasOwnProperty.call(u,w)){var E=g?Object.getOwnPropertyDescriptor(u,w):null;E&&(E.get||E.set)?Object.defineProperty(m,w,E):m[w]=u[w]}return m.default=u,h&&h.set(u,m),m}var o=n.GA4;t.ReactGAImplementation=o;var l=n.default;t.default=l})(bg)),bg}var f7=h7();const CP=Ly(f7);function p7(){const t=xr();k.useEffect(()=>{t&&CP.send({hitType:"pageview",page:t.pathname+t.search})},[t])}CP.initialize("G-4PWTPFE8LR");function m7(){return p7(),null}function g7(){return l7(),k.useEffect(()=>{Z8(t=>{Ie(`${t.notification.title}: ${t.notification.body}`,{icon:"",style:{borderRadius:"10px",background:"#333",color:"#fff"}})})},[]),y.createElement(tN,null,y.createElement(r7,null),y.createElement(m7,null),y.createElement(t7,null),y.createElement(xA,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:3e3,style:{background:"#1f2937",color:"#fff"},success:{iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),y.createElement(kk,null,y.createElement(It,{path:"/",element:y.createElement(qL,null)}),y.createElement(It,{path:"/browse",element:y.createElement(SB,null)}),y.createElement(It,{path:"/product/:id",element:y.createElement(vz,null)}),y.createElement(It,{path:"/terms",element:y.createElement(wz,null)}),y.createElement(It,{path:"/privacy",element:y.createElement(Ez,null)}),y.createElement(It,{path:"/login",element:y.createElement(aB,null)}),y.createElement(It,{path:"/signup",element:y.createElement(lB,null)}),y.createElement(It,{path:"/messages",element:y.createElement(ja,null,y.createElement(_$,null))}),y.createElement(It,{path:"/messages/:conversationId",element:y.createElement(ja,null,y.createElement(T$,null))}),y.createElement(It,{path:"/dashboard",element:y.createElement(ja,null,y.createElement(pB,null))}),y.createElement(It,{path:"/add-product",element:y.createElement(ja,null,y.createElement(gB,null))}),y.createElement(It,{path:"/edit/:id",element:y.createElement(ja,null,y.createElement(bB,null))}),y.createElement(It,{path:"/favorites",element:y.createElement(ja,null,y.createElement(xB,null))}),y.createElement(It,{path:"/admin",element:y.createElement(za,null,y.createElement(Dy,null))}),y.createElement(It,{path:"/admin-page",element:y.createElement(za,null,y.createElement(v$,null))}),y.createElement(It,{path:"/admin/analytics",element:y.createElement(za,null,y.createElement(F0,null))}),y.createElement(It,{path:"/admin/seller-report",element:y.createElement(za,null,y.createElement(U0,null))}),y.createElement(It,{path:"/featured-requests",element:y.createElement(za,null,y.createElement(w$,null))}),y.createElement(It,{path:"/promote-requests",element:y.createElement(za,null,y.createElement(E$,null))}),y.createElement(It,{path:"*",element:y.createElement(_z,null)})),y.createElement(n7,null))}jR.createRoot(document.getElementById("root")).render(y.createElement(y.StrictMode,null,y.createElement(g7,null),y.createElement(xA,{position:"top-right",reverseOrder:!1})));
